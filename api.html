
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>api package &#8212; Library Simplified Circulation Manager  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="api.admin package" href="api.admin.html" />
    <link rel="prev" title="circulation" href="modules.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="api-package">
<h1>api package<a class="headerlink" href="#api-package" title="Permalink to this heading">¶</a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this heading">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="api.admin.html">api.admin package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api.admin.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api.admin.controller.html">api.admin.controller package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.admin_auth_services">api.admin.controller.admin_auth_services module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.analytics_services">api.admin.controller.analytics_services module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.catalog_services">api.admin.controller.catalog_services module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.cdn_services">api.admin.controller.cdn_services module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.collection_library_registrations">api.admin.controller.collection_library_registrations module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.collection_self_tests">api.admin.controller.collection_self_tests module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.collection_settings">api.admin.controller.collection_settings module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.discovery_service_library_registrations">api.admin.controller.discovery_service_library_registrations module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.discovery_services">api.admin.controller.discovery_services module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.individual_admin_settings">api.admin.controller.individual_admin_settings module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.library_settings">api.admin.controller.library_settings module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.metadata_service_self_tests">api.admin.controller.metadata_service_self_tests module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.metadata_services">api.admin.controller.metadata_services module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.patron_auth_service_self_tests">api.admin.controller.patron_auth_service_self_tests module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.patron_auth_services">api.admin.controller.patron_auth_services module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.search_service_self_tests">api.admin.controller.search_service_self_tests module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.self_tests">api.admin.controller.self_tests module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.sitewide_services">api.admin.controller.sitewide_services module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.sitewide_settings">api.admin.controller.sitewide_settings module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.storage_services">api.admin.controller.storage_services module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.work_editor">api.admin.controller.work_editor module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api.admin.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.admin.html#module-api.admin.admin_authentication_provider">api.admin.admin_authentication_provider module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.admin.html#module-api.admin.announcement_list_validator">api.admin.announcement_list_validator module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.admin.html#module-api.admin.exceptions">api.admin.exceptions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.admin.html#module-api.admin.geographic_validator">api.admin.geographic_validator module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.admin.html#module-api.admin.google_oauth_admin_authentication_provider">api.admin.google_oauth_admin_authentication_provider module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.admin.html#module-api.admin.opds">api.admin.opds module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.admin.html#module-api.admin.password_admin_authentication_provider">api.admin.password_admin_authentication_provider module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.admin.html#module-api.admin.problem_details">api.admin.problem_details module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.admin.html#module-api.admin.template_styles">api.admin.template_styles module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.admin.html#module-api.admin.templates">api.admin.templates module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.admin.html#module-api.admin.validator">api.admin.validator module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.admin.html#module-api.admin">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.clever.html">api.clever package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api.clever.html#module-api.clever">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.lcp.html">api.lcp package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api.lcp.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.lcp.html#module-api.lcp.collection">api.lcp.collection module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.lcp.html#module-api.lcp.controller">api.lcp.controller module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.lcp.html#module-api.lcp.encrypt">api.lcp.encrypt module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.lcp.html#module-api.lcp.factory">api.lcp.factory module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.lcp.html#module-api.lcp.hash">api.lcp.hash module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.lcp.html#module-api.lcp.importer">api.lcp.importer module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.lcp.html#module-api.lcp.mirror">api.lcp.mirror module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.lcp.html#module-api.lcp.server">api.lcp.server module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.lcp.html#module-api.lcp.utils">api.lcp.utils module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.lcp.html#module-api.lcp">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.proquest.html">api.proquest package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api.proquest.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.proquest.html#module-api.proquest.client">api.proquest.client module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.proquest.html#module-api.proquest.credential">api.proquest.credential module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.proquest.html#module-api.proquest.identifier">api.proquest.identifier module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.proquest.html#module-api.proquest.importer">api.proquest.importer module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.proquest.html#module-api.proquest.scripts">api.proquest.scripts module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.proquest.html#module-api.proquest">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.saml.html">api.saml package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api.saml.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api.saml.configuration.html">api.saml.configuration package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api.saml.configuration.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.saml.configuration.html#module-api.saml.configuration.model">api.saml.configuration.model module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.saml.configuration.html#module-api.saml.configuration.validator">api.saml.configuration.validator module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.saml.configuration.html#module-api.saml.configuration">Module contents</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="api.saml.metadata.html">api.saml.metadata package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api.saml.metadata.html#subpackages">Subpackages</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.saml.metadata.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.saml.metadata.html#module-api.saml.metadata.filter">api.saml.metadata.filter module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.saml.metadata.html#module-api.saml.metadata.model">api.saml.metadata.model module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.saml.metadata.html#module-api.saml.metadata.monitor">api.saml.metadata.monitor module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.saml.metadata.html#module-api.saml.metadata.parser">api.saml.metadata.parser module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.saml.metadata.html#module-api.saml.metadata">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api.saml.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.saml.html#module-api.saml.auth">api.saml.auth module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.saml.html#module-api.saml.controller">api.saml.controller module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.saml.html#module-api.saml.provider">api.saml.provider module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.saml.html#module-api.saml">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.sip.html">api.sip package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api.sip.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.sip.html#module-api.sip.client">api.sip.client module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.sip.html#module-api.sip.dialect">api.sip.dialect module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.sip.html#module-api.sip">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.util.html">api.util package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api.util.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.util.html#module-api.util.patron">api.util.patron module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.util.html#module-api.util.short_client_token">api.util.short_client_token module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.util.html#module-api.util.url">api.util.url module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.util.html#module-api.util">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading">¶</a></h2>
</section>
<section id="module-api.annotations">
<span id="api-annotations-module"></span><h2>api.annotations module<a class="headerlink" href="#module-api.annotations" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.annotations.AnnotationParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.annotations.</span></span><span class="sig-name descname"><span class="pre">AnnotationParser</span></span><a class="reference internal" href="_modules/api/annotations.html#AnnotationParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.annotations.AnnotationParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.annotations.AnnotationParser.parse">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patron</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/annotations.html#AnnotationParser.parse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.annotations.AnnotationParser.parse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.annotations.AnnotationWriter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.annotations.</span></span><span class="sig-name descname"><span class="pre">AnnotationWriter</span></span><a class="reference internal" href="_modules/api/annotations.html#AnnotationWriter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.annotations.AnnotationWriter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.annotations.AnnotationWriter.CONTENT_TYPE">
<span class="sig-name descname"><span class="pre">CONTENT_TYPE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'application/ld+json;</span> <span class="pre">profile=&quot;http://www.w3.org/ns/anno.jsonld&quot;'</span></em><a class="headerlink" href="#api.annotations.AnnotationWriter.CONTENT_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.annotations.AnnotationWriter.JSONLD_CONTEXT">
<span class="sig-name descname"><span class="pre">JSONLD_CONTEXT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'http://www.w3.org/ns/anno.jsonld'</span></em><a class="headerlink" href="#api.annotations.AnnotationWriter.JSONLD_CONTEXT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.annotations.AnnotationWriter.LDP_CONTEXT">
<span class="sig-name descname"><span class="pre">LDP_CONTEXT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'http://www.w3.org/ns/ldp.jsonld'</span></em><a class="headerlink" href="#api.annotations.AnnotationWriter.LDP_CONTEXT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.annotations.AnnotationWriter.annotation_container_for">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">annotation_container_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/annotations.html#AnnotationWriter.annotation_container_for"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.annotations.AnnotationWriter.annotation_container_for" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.annotations.AnnotationWriter.annotation_page_for">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">annotation_page_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/annotations.html#AnnotationWriter.annotation_page_for"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.annotations.AnnotationWriter.annotation_page_for" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.annotations.AnnotationWriter.annotations_for">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">annotations_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/annotations.html#AnnotationWriter.annotations_for"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.annotations.AnnotationWriter.annotations_for" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.annotations.AnnotationWriter.detail">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">detail</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">annotation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_context</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/annotations.html#AnnotationWriter.detail"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.annotations.AnnotationWriter.detail" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="api.annotations.load_document">
<span class="sig-prename descclassname"><span class="pre">api.annotations.</span></span><span class="sig-name descname"><span class="pre">load_document</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/annotations.html#load_document"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.annotations.load_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves JSON-LD for the given URL from a local
file if available, and falls back to the network.</p>
</dd></dl>

</section>
<section id="module-api.announcements">
<span id="api-announcements-module"></span><h2>api.announcements module<a class="headerlink" href="#module-api.announcements" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.announcements.Announcement">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.announcements.</span></span><span class="sig-name descname"><span class="pre">Announcement</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/announcements.html#Announcement"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.announcements.Announcement" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Data model class for a single library-wide announcement.</p>
<dl class="py property">
<dt class="sig sig-object py" id="api.announcements.Announcement.for_authentication_document">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">for_authentication_document</span></span><a class="headerlink" href="#api.announcements.Announcement.for_authentication_document" title="Permalink to this definition">¶</a></dt>
<dd><p>The publishable representation of this announcement,
for use in an authentication document.</p>
<p>Basically just the ID and the content.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.announcements.Announcement.is_active">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_active</span></span><a class="headerlink" href="#api.announcements.Announcement.is_active" title="Permalink to this definition">¶</a></dt>
<dd><p>Should this announcement be displayed now?</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.announcements.Announcement.json_ready">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">json_ready</span></span><a class="headerlink" href="#api.announcements.Announcement.json_ready" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.announcements.Announcements">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.announcements.</span></span><span class="sig-name descname"><span class="pre">Announcements</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">announcements</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/announcements.html#Announcements"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.announcements.Announcements" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Data model class for a library’s announcements.</p>
<p>This entire list is stored as a single
ConfigurationSetting, which is why this isn’t in core/model.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.announcements.Announcements.SETTING_NAME">
<span class="sig-name descname"><span class="pre">SETTING_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'announcements'</span></em><a class="headerlink" href="#api.announcements.Announcements.SETTING_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.announcements.Announcements.active">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">active</span></span><a class="headerlink" href="#api.announcements.Announcements.active" title="Permalink to this definition">¶</a></dt>
<dd><p>Yield only the active announcements.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.announcements.Announcements.for_library">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">for_library</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/announcements.html#Announcements.for_library"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.announcements.Announcements.for_library" title="Permalink to this definition">¶</a></dt>
<dd><p>Load an Announcements object for the given Library.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>library</strong> – A Library</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-api.app">
<span id="api-app-module"></span><h2>api.app module<a class="headerlink" href="#module-api.app" title="Permalink to this heading">¶</a></h2>
<dl class="py function">
<dt class="sig sig-object py" id="api.app.initialize_database">
<span class="sig-prename descclassname"><span class="pre">api.app.</span></span><span class="sig-name descname"><span class="pre">initialize_database</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">autoinitialize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/app.html#initialize_database"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.app.initialize_database" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="api.app.run">
<span class="sig-prename descclassname"><span class="pre">api.app.</span></span><span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/app.html#run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.app.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-api.authenticator">
<span id="api-authenticator-module"></span><h2>api.authenticator module<a class="headerlink" href="#module-api.authenticator" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.authenticator.AuthenticationProvider">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.authenticator.</span></span><span class="sig-name descname"><span class="pre">AuthenticationProvider</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">integration</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analytics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#AuthenticationProvider"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.AuthenticationProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.util.html#core.util.authentication_for_opds.OPDSAuthenticationFlow" title="core.util.authentication_for_opds.OPDSAuthenticationFlow"><code class="xref py py-class docutils literal notranslate"><span class="pre">OPDSAuthenticationFlow</span></code></a></p>
<p>Handle a specific patron authentication scheme.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.AuthenticationProvider.DESCRIPTION">
<span class="sig-name descname"><span class="pre">DESCRIPTION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#api.authenticator.AuthenticationProvider.DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.AuthenticationProvider.EXTERNAL_TYPE_REGULAR_EXPRESSION">
<span class="sig-name descname"><span class="pre">EXTERNAL_TYPE_REGULAR_EXPRESSION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'external_type_regular_expression'</span></em><a class="headerlink" href="#api.authenticator.AuthenticationProvider.EXTERNAL_TYPE_REGULAR_EXPRESSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.AuthenticationProvider.FLOW_TYPE">
<span class="sig-name descname"><span class="pre">FLOW_TYPE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#api.authenticator.AuthenticationProvider.FLOW_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.AuthenticationProvider.IDENTIFIES_INDIVIDUALS">
<span class="sig-name descname"><span class="pre">IDENTIFIES_INDIVIDUALS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#api.authenticator.AuthenticationProvider.IDENTIFIES_INDIVIDUALS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.AuthenticationProvider.INSTITUTION_ID">
<span class="sig-name descname"><span class="pre">INSTITUTION_ID</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'institution_id'</span></em><a class="headerlink" href="#api.authenticator.AuthenticationProvider.INSTITUTION_ID" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_FIELD">
<span class="sig-name descname"><span class="pre">LIBRARY_IDENTIFIER_FIELD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'library_identifier_field'</span></em><a class="headerlink" href="#api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_RESTRICTION">
<span class="sig-name descname"><span class="pre">LIBRARY_IDENTIFIER_RESTRICTION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'library_identifier_restriction'</span></em><a class="headerlink" href="#api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_RESTRICTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_RESTRICTION_BARCODE">
<span class="sig-name descname"><span class="pre">LIBRARY_IDENTIFIER_RESTRICTION_BARCODE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'barcode'</span></em><a class="headerlink" href="#api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_RESTRICTION_BARCODE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_RESTRICTION_TYPE">
<span class="sig-name descname"><span class="pre">LIBRARY_IDENTIFIER_RESTRICTION_TYPE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'library_identifier_restriction_type'</span></em><a class="headerlink" href="#api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_RESTRICTION_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_RESTRICTION_TYPE_LIST">
<span class="sig-name descname"><span class="pre">LIBRARY_IDENTIFIER_RESTRICTION_TYPE_LIST</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'list'</span></em><a class="headerlink" href="#api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_RESTRICTION_TYPE_LIST" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_RESTRICTION_TYPE_NONE">
<span class="sig-name descname"><span class="pre">LIBRARY_IDENTIFIER_RESTRICTION_TYPE_NONE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'none'</span></em><a class="headerlink" href="#api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_RESTRICTION_TYPE_NONE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_RESTRICTION_TYPE_PREFIX">
<span class="sig-name descname"><span class="pre">LIBRARY_IDENTIFIER_RESTRICTION_TYPE_PREFIX</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'prefix'</span></em><a class="headerlink" href="#api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_RESTRICTION_TYPE_PREFIX" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_RESTRICTION_TYPE_REGEX">
<span class="sig-name descname"><span class="pre">LIBRARY_IDENTIFIER_RESTRICTION_TYPE_REGEX</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'regex'</span></em><a class="headerlink" href="#api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_RESTRICTION_TYPE_REGEX" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_RESTRICTION_TYPE_STRING">
<span class="sig-name descname"><span class="pre">LIBRARY_IDENTIFIER_RESTRICTION_TYPE_STRING</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'string'</span></em><a class="headerlink" href="#api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_RESTRICTION_TYPE_STRING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.AuthenticationProvider.LIBRARY_SETTINGS">
<span class="sig-name descname"><span class="pre">LIBRARY_SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'external_type_regular_expression',</span> <span class="pre">'label':</span> <span class="pre">l'External</span> <span class="pre">Type</span> <span class="pre">Regular</span> <span class="pre">Expression',</span> <span class="pre">'description':</span> <span class="pre">l'Derive</span> <span class="pre">a</span> <span class="pre">patron's</span> <span class="pre">type</span> <span class="pre">from</span> <span class="pre">their</span> <span class="pre">identifier.'},</span> <span class="pre">{'key':</span> <span class="pre">'library_identifier_restriction_type',</span> <span class="pre">'label':</span> <span class="pre">l'Library</span> <span class="pre">Identifier</span> <span class="pre">Restriction</span> <span class="pre">Type',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'description':</span> <span class="pre">l'When</span> <span class="pre">multiple</span> <span class="pre">libraries</span> <span class="pre">share</span> <span class="pre">an</span> <span class="pre">ILS,</span> <span class="pre">a</span> <span class="pre">person</span> <span class="pre">may</span> <span class="pre">be</span> <span class="pre">able</span> <span class="pre">to</span> <span class="pre">authenticate</span> <span class="pre">with</span> <span class="pre">the</span> <span class="pre">ILS</span> <span class="pre">but</span> <span class="pre">not</span> <span class="pre">be</span> <span class="pre">considered</span> <span class="pre">a</span> <span class="pre">patron</span> <span class="pre">of</span> <span class="pre">&lt;em&gt;this&lt;/em&gt;</span> <span class="pre">library.</span> <span class="pre">This</span> <span class="pre">setting</span> <span class="pre">contains</span> <span class="pre">the</span> <span class="pre">rule</span> <span class="pre">for</span> <span class="pre">determining</span> <span class="pre">whether</span> <span class="pre">an</span> <span class="pre">identifier</span> <span class="pre">is</span> <span class="pre">valid</span> <span class="pre">for</span> <span class="pre">this</span> <span class="pre">specific</span> <span class="pre">library.</span> <span class="pre">&lt;p/&gt;</span> <span class="pre">If</span> <span class="pre">this</span> <span class="pre">setting</span> <span class="pre">it</span> <span class="pre">set</span> <span class="pre">to</span> <span class="pre">'No</span> <span class="pre">Restriction'</span> <span class="pre">then</span> <span class="pre">the</span> <span class="pre">values</span> <span class="pre">for</span> <span class="pre">&lt;em&gt;Library</span> <span class="pre">Identifier</span> <span class="pre">Field&lt;/em&gt;</span> <span class="pre">and</span> <span class="pre">&lt;em&gt;Library</span> <span class="pre">Identifier</span> <span class="pre">Restriction&lt;/em&gt;</span> <span class="pre">will</span> <span class="pre">not</span> <span class="pre">be</span> <span class="pre">used.',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'none',</span> <span class="pre">'label':</span> <span class="pre">l'No</span> <span class="pre">restriction'},</span> <span class="pre">{'key':</span> <span class="pre">'prefix',</span> <span class="pre">'label':</span> <span class="pre">l'Prefix</span> <span class="pre">Match'},</span> <span class="pre">{'key':</span> <span class="pre">'string',</span> <span class="pre">'label':</span> <span class="pre">l'Exact</span> <span class="pre">Match'},</span> <span class="pre">{'key':</span> <span class="pre">'regex',</span> <span class="pre">'label':</span> <span class="pre">l'Regex</span> <span class="pre">Match'},</span> <span class="pre">{'key':</span> <span class="pre">'list',</span> <span class="pre">'label':</span> <span class="pre">l'Exact</span> <span class="pre">Match,</span> <span class="pre">comma</span> <span class="pre">separated</span> <span class="pre">list'}],</span> <span class="pre">'default':</span> <span class="pre">'none'},</span> <span class="pre">{'key':</span> <span class="pre">'library_identifier_field',</span> <span class="pre">'label':</span> <span class="pre">l'Library</span> <span class="pre">Identifier</span> <span class="pre">Field',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'barcode',</span> <span class="pre">'label':</span> <span class="pre">l'Barcode'}],</span> <span class="pre">'description':</span> <span class="pre">l'This</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">field</span> <span class="pre">on</span> <span class="pre">the</span> <span class="pre">patron</span> <span class="pre">record</span> <span class="pre">that</span> <span class="pre">the</span> <span class="pre">&lt;em&gt;Library</span> <span class="pre">Identifier</span> <span class="pre">Restriction</span> <span class="pre">Type&lt;/em&gt;</span> <span class="pre">is</span> <span class="pre">applied</span> <span class="pre">to,</span> <span class="pre">different</span> <span class="pre">patron</span> <span class="pre">authentication</span> <span class="pre">methods</span> <span class="pre">provide</span> <span class="pre">different</span> <span class="pre">values</span> <span class="pre">here.</span> <span class="pre">This</span> <span class="pre">value</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">used</span> <span class="pre">if</span> <span class="pre">&lt;em&gt;Library</span> <span class="pre">Identifier</span> <span class="pre">Restriction</span> <span class="pre">Type&lt;/em&gt;</span> <span class="pre">is</span> <span class="pre">set</span> <span class="pre">to</span> <span class="pre">'No</span> <span class="pre">restriction'.',</span> <span class="pre">'default':</span> <span class="pre">'barcode'},</span> <span class="pre">{'key':</span> <span class="pre">'library_identifier_restriction',</span> <span class="pre">'label':</span> <span class="pre">l'Library</span> <span class="pre">Identifier</span> <span class="pre">Restriction',</span> <span class="pre">'description':</span> <span class="pre">l'This</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">restriction</span> <span class="pre">applied</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">&lt;em&gt;Library</span> <span class="pre">Identifier</span> <span class="pre">Field&lt;/em&gt;</span> <span class="pre">using</span> <span class="pre">the</span> <span class="pre">method</span> <span class="pre">chosen</span> <span class="pre">in</span> <span class="pre">&lt;em&gt;Library</span> <span class="pre">Identifier</span> <span class="pre">Restriction</span> <span class="pre">Type&lt;/em&gt;.</span> <span class="pre">This</span> <span class="pre">value</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">used</span> <span class="pre">if</span> <span class="pre">&lt;em&gt;Library</span> <span class="pre">Identifier</span> <span class="pre">Restriction</span> <span class="pre">Type&lt;/em&gt;</span> <span class="pre">is</span> <span class="pre">set</span> <span class="pre">to</span> <span class="pre">'No</span> <span class="pre">restriction'.'},</span> <span class="pre">{'key':</span> <span class="pre">'institution_id',</span> <span class="pre">'label':</span> <span class="pre">l'Institution</span> <span class="pre">ID',</span> <span class="pre">'description':</span> <span class="pre">l'A</span> <span class="pre">specific</span> <span class="pre">identifier</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">library</span> <span class="pre">or</span> <span class="pre">branch,</span> <span class="pre">if</span> <span class="pre">used</span> <span class="pre">in</span> <span class="pre">patron</span> <span class="pre">authentication'}]</span></em><a class="headerlink" href="#api.authenticator.AuthenticationProvider.LIBRARY_SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.AuthenticationProvider.LOGIN_BUTTON_IMAGE">
<span class="sig-name descname"><span class="pre">LOGIN_BUTTON_IMAGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#api.authenticator.AuthenticationProvider.LOGIN_BUTTON_IMAGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.AuthenticationProvider.SETTINGS">
<span class="sig-name descname"><span class="pre">SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[]</span></em><a class="headerlink" href="#api.authenticator.AuthenticationProvider.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.AuthenticationProvider.authenticate">
<span class="sig-name descname"><span class="pre">authenticate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#AuthenticationProvider.authenticate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.AuthenticationProvider.authenticate" title="Permalink to this definition">¶</a></dt>
<dd><p>Authenticate a patron based on a WWW-Authenticate header
(or equivalent).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A Patron if one can be authenticated; a ProblemDetail if an
error occurs; None if the credentials are missing or wrong.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.AuthenticationProvider.authenticated_patron">
<span class="sig-name descname"><span class="pre">authenticated_patron</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#AuthenticationProvider.authenticated_patron"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.AuthenticationProvider.authenticated_patron" title="Permalink to this definition">¶</a></dt>
<dd><p>Go from a WWW-Authenticate header (or equivalent) to a Patron object.</p>
<p>If the Patron needs to have their metadata updated, it happens
transparently at this point.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A Patron if one can be authenticated; a ProblemDetail
if an error occurs; None if the credentials are missing or wrong.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.AuthenticationProvider.enforce_library_identifier_restriction">
<span class="sig-name descname"><span class="pre">enforce_library_identifier_restriction</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patrondata</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#AuthenticationProvider.enforce_library_identifier_restriction"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.AuthenticationProvider.enforce_library_identifier_restriction" title="Permalink to this definition">¶</a></dt>
<dd><p>Does the given patron match the configured library identifier restriction?</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.AuthenticationProvider.external_integration">
<span class="sig-name descname"><span class="pre">external_integration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#AuthenticationProvider.external_integration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.AuthenticationProvider.external_integration" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.AuthenticationProvider.get_credential_from_header">
<span class="sig-name descname"><span class="pre">get_credential_from_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">header</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#AuthenticationProvider.get_credential_from_header"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.AuthenticationProvider.get_credential_from_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract a password credential from a WWW-Authenticate header
(or equivalent).</p>
<p>This is used to pass on a patron’s credential to a content provider,
such as Overdrive, which performs independent validation of
a patron’s credentials.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The patron’s password, or None if not available.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.AuthenticationProvider.library">
<span class="sig-name descname"><span class="pre">library</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#AuthenticationProvider.library"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.AuthenticationProvider.library" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.AuthenticationProvider.remote_patron_lookup">
<span class="sig-name descname"><span class="pre">remote_patron_lookup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron_or_patrondata</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#AuthenticationProvider.remote_patron_lookup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.AuthenticationProvider.remote_patron_lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Ask the remote for detailed information about a patron’s account.</p>
<p>This may be called in the course of authenticating a patron,
or it may be called when the patron isn’t around, for purposes
of learning some personal information (primarily email
address) that can’t be stored in the database.</p>
<p>The default implementation assumes there is no special
lookup functionality, and returns exactly the information
present in the object that was passed in.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>patron_or_patrondata</strong> – Either a Patron object, a PatronData
object, or None (if no further information could be provided).</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An updated PatronData object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.AuthenticationProvider.update_patron_external_type">
<span class="sig-name descname"><span class="pre">update_patron_external_type</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#AuthenticationProvider.update_patron_external_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.AuthenticationProvider.update_patron_external_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure the patron’s external type reflects
what external_type_regular_expression says.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.AuthenticationProvider.update_patron_metadata">
<span class="sig-name descname"><span class="pre">update_patron_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#AuthenticationProvider.update_patron_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.AuthenticationProvider.update_patron_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Refresh our local record of this patron’s account information.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>patron</strong> – A Patron object.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.authenticator.Authenticator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.authenticator.</span></span><span class="sig-name descname"><span class="pre">Authenticator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analytics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#Authenticator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.Authenticator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Route requests to the appropriate LibraryAuthenticator.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.Authenticator.authenticated_patron">
<span class="sig-name descname"><span class="pre">authenticated_patron</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#Authenticator.authenticated_patron"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.Authenticator.authenticated_patron" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.Authenticator.bearer_token_provider_lookup">
<span class="sig-name descname"><span class="pre">bearer_token_provider_lookup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#Authenticator.bearer_token_provider_lookup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.Authenticator.bearer_token_provider_lookup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.Authenticator.create_authentication_document">
<span class="sig-name descname"><span class="pre">create_authentication_document</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#Authenticator.create_authentication_document"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.Authenticator.create_authentication_document" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.Authenticator.create_authentication_headers">
<span class="sig-name descname"><span class="pre">create_authentication_headers</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#Authenticator.create_authentication_headers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.Authenticator.create_authentication_headers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.Authenticator.create_bearer_token">
<span class="sig-name descname"><span class="pre">create_bearer_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#Authenticator.create_bearer_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.Authenticator.create_bearer_token" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.authenticator.Authenticator.current_library_short_name">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">current_library_short_name</span></span><a class="headerlink" href="#api.authenticator.Authenticator.current_library_short_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.Authenticator.decode_bearer_token">
<span class="sig-name descname"><span class="pre">decode_bearer_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#Authenticator.decode_bearer_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.Authenticator.decode_bearer_token" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.Authenticator.get_credential_from_header">
<span class="sig-name descname"><span class="pre">get_credential_from_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">header</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#Authenticator.get_credential_from_header"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.Authenticator.get_credential_from_header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.Authenticator.invoke_authenticator_method">
<span class="sig-name descname"><span class="pre">invoke_authenticator_method</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method_name</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#Authenticator.invoke_authenticator_method"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.Authenticator.invoke_authenticator_method" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.Authenticator.populate_authenticators">
<span class="sig-name descname"><span class="pre">populate_authenticators</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analytics</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#Authenticator.populate_authenticators"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.Authenticator.populate_authenticators" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.authenticator.BaseSAMLAuthenticationProvider">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.authenticator.</span></span><span class="sig-name descname"><span class="pre">BaseSAMLAuthenticationProvider</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">integration</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analytics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#BaseSAMLAuthenticationProvider"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.BaseSAMLAuthenticationProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.authenticator.AuthenticationProvider" title="api.authenticator.AuthenticationProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">AuthenticationProvider</span></code></a>, <a class="reference internal" href="#api.authenticator.BearerTokenSigner" title="api.authenticator.BearerTokenSigner"><code class="xref py py-class docutils literal notranslate"><span class="pre">BearerTokenSigner</span></code></a></p>
<p>Base class for SAML authentication providers</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BaseSAMLAuthenticationProvider.DESCRIPTION">
<span class="sig-name descname"><span class="pre">DESCRIPTION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'SAML</span> <span class="pre">2.0</span> <span class="pre">authentication</span> <span class="pre">provider'</span></em><a class="headerlink" href="#api.authenticator.BaseSAMLAuthenticationProvider.DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BaseSAMLAuthenticationProvider.DISPLAY_NAME">
<span class="sig-name descname"><span class="pre">DISPLAY_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'SAML</span> <span class="pre">2.0'</span></em><a class="headerlink" href="#api.authenticator.BaseSAMLAuthenticationProvider.DISPLAY_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BaseSAMLAuthenticationProvider.FLOW_TYPE">
<span class="sig-name descname"><span class="pre">FLOW_TYPE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'http://librarysimplified.org/authtype/SAML-2.0'</span></em><a class="headerlink" href="#api.authenticator.BaseSAMLAuthenticationProvider.FLOW_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BaseSAMLAuthenticationProvider.LIBRARY_SETTINGS">
<span class="sig-name descname"><span class="pre">LIBRARY_SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[]</span></em><a class="headerlink" href="#api.authenticator.BaseSAMLAuthenticationProvider.LIBRARY_SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BaseSAMLAuthenticationProvider.NAME">
<span class="sig-name descname"><span class="pre">NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'SAML</span> <span class="pre">2.0'</span></em><a class="headerlink" href="#api.authenticator.BaseSAMLAuthenticationProvider.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BaseSAMLAuthenticationProvider.SETTINGS">
<span class="sig-name descname"><span class="pre">SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'sp_xml_metadata',</span> <span class="pre">'label':</span> <span class="pre">l'Service</span> <span class="pre">Provider's</span> <span class="pre">XML</span> <span class="pre">Metadata',</span> <span class="pre">'description':</span> <span class="pre">l'SAML</span> <span class="pre">metadata</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">Circulation</span> <span class="pre">Manager's</span> <span class="pre">Service</span> <span class="pre">Provider</span> <span class="pre">in</span> <span class="pre">an</span> <span class="pre">XML</span> <span class="pre">format.</span> <span class="pre">MUST</span> <span class="pre">contain</span> <span class="pre">exactly</span> <span class="pre">one</span> <span class="pre">SPSSODescriptor</span> <span class="pre">tag</span> <span class="pre">with</span> <span class="pre">at</span> <span class="pre">least</span> <span class="pre">one</span> <span class="pre">AssertionConsumerService</span> <span class="pre">tag</span> <span class="pre">with</span> <span class="pre">Binding</span> <span class="pre">attribute</span> <span class="pre">set</span> <span class="pre">to</span> <span class="pre">urn:oasis:names:tc:SAML:2.0:bindings:HTTP-POST.',</span> <span class="pre">'type':</span> <span class="pre">'textarea',</span> <span class="pre">'required':</span> <span class="pre">True,</span> <span class="pre">'default':</span> <span class="pre">None,</span> <span class="pre">'options':</span> <span class="pre">None,</span> <span class="pre">'category':</span> <span class="pre">None},</span> <span class="pre">{'key':</span> <span class="pre">'sp_private_key',</span> <span class="pre">'label':</span> <span class="pre">l'Service</span> <span class="pre">Provider's</span> <span class="pre">Private</span> <span class="pre">Key',</span> <span class="pre">'description':</span> <span class="pre">l'Private</span> <span class="pre">key</span> <span class="pre">used</span> <span class="pre">for</span> <span class="pre">encrypting</span> <span class="pre">SAML</span> <span class="pre">requests.',</span> <span class="pre">'type':</span> <span class="pre">'textarea',</span> <span class="pre">'required':</span> <span class="pre">False,</span> <span class="pre">'default':</span> <span class="pre">None,</span> <span class="pre">'options':</span> <span class="pre">None,</span> <span class="pre">'category':</span> <span class="pre">None},</span> <span class="pre">{'key':</span> <span class="pre">'saml_federated_idp_entity_ids',</span> <span class="pre">'label':</span> <span class="pre">l'List</span> <span class="pre">of</span> <span class="pre">Federated</span> <span class="pre">IdPs',</span> <span class="pre">'description':</span> <span class="pre">l'List</span> <span class="pre">of</span> <span class="pre">federated</span> <span class="pre">(for</span> <span class="pre">example,</span> <span class="pre">from</span> <span class="pre">InCommon</span> <span class="pre">Federation)</span> <span class="pre">IdPs</span> <span class="pre">supported</span> <span class="pre">by</span> <span class="pre">this</span> <span class="pre">authentication</span> <span class="pre">provider.</span> <span class="pre">Try</span> <span class="pre">to</span> <span class="pre">type</span> <span class="pre">the</span> <span class="pre">name</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">IdP</span> <span class="pre">to</span> <span class="pre">find</span> <span class="pre">it</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">list.',</span> <span class="pre">'type':</span> <span class="pre">'menu',</span> <span class="pre">'required':</span> <span class="pre">False,</span> <span class="pre">'default':</span> <span class="pre">[],</span> <span class="pre">'options':</span> <span class="pre">None,</span> <span class="pre">'category':</span> <span class="pre">None},</span> <span class="pre">{'key':</span> <span class="pre">'saml_patron_id_use_name_id',</span> <span class="pre">'label':</span> <span class="pre">l'Patron</span> <span class="pre">ID:</span> <span class="pre">SAML</span> <span class="pre">NameID',</span> <span class="pre">'description':</span> <span class="pre">l'Configuration</span> <span class="pre">setting</span> <span class="pre">indicating</span> <span class="pre">whether</span> <span class="pre">SAML</span> <span class="pre">NameID</span> <span class="pre">should</span> <span class="pre">be</span> <span class="pre">searched</span> <span class="pre">for</span> <span class="pre">a</span> <span class="pre">unique</span> <span class="pre">patron</span> <span class="pre">ID.</span> <span class="pre">If</span> <span class="pre">NameID</span> <span class="pre">found,</span> <span class="pre">it</span> <span class="pre">will</span> <span class="pre">supersede</span> <span class="pre">any</span> <span class="pre">SAML</span> <span class="pre">attributes</span> <span class="pre">selected</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">next</span> <span class="pre">section.',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'required':</span> <span class="pre">False,</span> <span class="pre">'default':</span> <span class="pre">'true',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'true',</span> <span class="pre">'label':</span> <span class="pre">'Use</span> <span class="pre">SAML</span> <span class="pre">NameID'},</span> <span class="pre">{'key':</span> <span class="pre">'false',</span> <span class="pre">'label':</span> <span class="pre">'Do</span> <span class="pre">NOT</span> <span class="pre">use</span> <span class="pre">SAML</span> <span class="pre">NameID'}],</span> <span class="pre">'category':</span> <span class="pre">None},</span> <span class="pre">{'key':</span> <span class="pre">'saml_patron_id_attributes',</span> <span class="pre">'label':</span> <span class="pre">l'Patron</span> <span class="pre">ID:</span> <span class="pre">SAML</span> <span class="pre">Attributes',</span> <span class="pre">'description':</span> <span class="pre">l'List</span> <span class="pre">of</span> <span class="pre">SAML</span> <span class="pre">attributes</span> <span class="pre">that</span> <span class="pre">MAY</span> <span class="pre">contain</span> <span class="pre">a</span> <span class="pre">unique</span> <span class="pre">patron</span> <span class="pre">ID.</span> <span class="pre">The</span> <span class="pre">attributes</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">scanned</span> <span class="pre">sequentially</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">order</span> <span class="pre">you</span> <span class="pre">chose</span> <span class="pre">them,</span> <span class="pre">and</span> <span class="pre">the</span> <span class="pre">first</span> <span class="pre">existing</span> <span class="pre">attribute</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">used</span> <span class="pre">to</span> <span class="pre">extract</span> <span class="pre">a</span> <span class="pre">unique</span> <span class="pre">patron</span> <span class="pre">ID.&lt;br&gt;NOTE:</span> <span class="pre">If</span> <span class="pre">a</span> <span class="pre">SAML</span> <span class="pre">attribute</span> <span class="pre">contains</span> <span class="pre">several</span> <span class="pre">values,</span> <span class="pre">only</span> <span class="pre">the</span> <span class="pre">first</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">used.',</span> <span class="pre">'type':</span> <span class="pre">'menu',</span> <span class="pre">'required':</span> <span class="pre">False,</span> <span class="pre">'default':</span> <span class="pre">['eduPersonUniqueId',</span> <span class="pre">'eduPersonTargetedID',</span> <span class="pre">'eduPersonPrincipalName',</span> <span class="pre">'uid'],</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'uid',</span> <span class="pre">'label':</span> <span class="pre">'uid'},</span> <span class="pre">{'key':</span> <span class="pre">'givenName',</span> <span class="pre">'label':</span> <span class="pre">'givenName'},</span> <span class="pre">{'key':</span> <span class="pre">'surname',</span> <span class="pre">'label':</span> <span class="pre">'surname'},</span> <span class="pre">{'key':</span> <span class="pre">'mail',</span> <span class="pre">'label':</span> <span class="pre">'mail'},</span> <span class="pre">{'key':</span> <span class="pre">'displayName',</span> <span class="pre">'label':</span> <span class="pre">'displayName'},</span> <span class="pre">{'key':</span> <span class="pre">'eduPerson',</span> <span class="pre">'label':</span> <span class="pre">'eduPerson'},</span> <span class="pre">{'key':</span> <span class="pre">'eduPersonAffiliation',</span> <span class="pre">'label':</span> <span class="pre">'eduPersonAffiliation'},</span> <span class="pre">{'key':</span> <span class="pre">'eduPersonNickname',</span> <span class="pre">'label':</span> <span class="pre">'eduPersonNickname'},</span> <span class="pre">{'key':</span> <span class="pre">'eduPersonOrgDN',</span> <span class="pre">'label':</span> <span class="pre">'eduPersonOrgDN'},</span> <span class="pre">{'key':</span> <span class="pre">'eduPersonOrgUnitDN',</span> <span class="pre">'label':</span> <span class="pre">'eduPersonOrgUnitDN'},</span> <span class="pre">{'key':</span> <span class="pre">'eduPersonPrimaryAffiliation',</span> <span class="pre">'label':</span> <span class="pre">'eduPersonPrimaryAffiliation'},</span> <span class="pre">{'key':</span> <span class="pre">'eduPersonPrincipalName',</span> <span class="pre">'label':</span> <span class="pre">'eduPersonPrincipalName'},</span> <span class="pre">{'key':</span> <span class="pre">'eduPersonEntitlement',</span> <span class="pre">'label':</span> <span class="pre">'eduPersonEntitlement'},</span> <span class="pre">{'key':</span> <span class="pre">'eduPersonPrimaryOrgUnitDN',</span> <span class="pre">'label':</span> <span class="pre">'eduPersonPrimaryOrgUnitDN'},</span> <span class="pre">{'key':</span> <span class="pre">'eduPersonScopedAffiliation',</span> <span class="pre">'label':</span> <span class="pre">'eduPersonScopedAffiliation'},</span> <span class="pre">{'key':</span> <span class="pre">'eduPersonTargetedID',</span> <span class="pre">'label':</span> <span class="pre">'eduPersonTargetedID'},</span> <span class="pre">{'key':</span> <span class="pre">'eduPersonAssurance',</span> <span class="pre">'label':</span> <span class="pre">'eduPersonAssurance'},</span> <span class="pre">{'key':</span> <span class="pre">'eduPersonOrcid',</span> <span class="pre">'label':</span> <span class="pre">'eduPersonOrcid'},</span> <span class="pre">{'key':</span> <span class="pre">'eduPersonUniqueId',</span> <span class="pre">'label':</span> <span class="pre">'eduPersonUniqueId'},</span> <span class="pre">{'key':</span> <span class="pre">'eduPersonPrincipalNamePrior',</span> <span class="pre">'label':</span> <span class="pre">'eduPersonPrincipalNamePrior'},</span> <span class="pre">{'key':</span> <span class="pre">'eduOrg',</span> <span class="pre">'label':</span> <span class="pre">'eduOrg'},</span> <span class="pre">{'key':</span> <span class="pre">'eduOrgHomePageURI',</span> <span class="pre">'label':</span> <span class="pre">'eduOrgHomePageURI'},</span> <span class="pre">{'key':</span> <span class="pre">'eduOrgIdentityAuthNPolicyURI',</span> <span class="pre">'label':</span> <span class="pre">'eduOrgIdentityAuthNPolicyURI'},</span> <span class="pre">{'key':</span> <span class="pre">'eduOrgLegalName',</span> <span class="pre">'label':</span> <span class="pre">'eduOrgLegalName'},</span> <span class="pre">{'key':</span> <span class="pre">'eduOrgSuperiorURI',</span> <span class="pre">'label':</span> <span class="pre">'eduOrgSuperiorURI'},</span> <span class="pre">{'key':</span> <span class="pre">'eduOrgWhitePagesURI',</span> <span class="pre">'label':</span> <span class="pre">'eduOrgWhitePagesURI'}],</span> <span class="pre">'category':</span> <span class="pre">None},</span> <span class="pre">{'key':</span> <span class="pre">'saml_patron_id_regular_expression',</span> <span class="pre">'label':</span> <span class="pre">l'Patron</span> <span class="pre">ID:</span> <span class="pre">Regular</span> <span class="pre">expression',</span> <span class="pre">'description':</span> <span class="pre">&quot;Regular</span> <span class="pre">expression</span> <span class="pre">used</span> <span class="pre">to</span> <span class="pre">extract</span> <span class="pre">a</span> <span class="pre">unique</span> <span class="pre">patron</span> <span class="pre">ID</span> <span class="pre">from</span> <span class="pre">the</span> <span class="pre">attributes</span> <span class="pre">specified</span> <span class="pre">in</span> <span class="pre">&lt;b&gt;Patron</span> <span class="pre">ID:</span> <span class="pre">SAML</span> <span class="pre">Attributes&lt;/b&gt;</span> <span class="pre">and/or</span> <span class="pre">NameID</span> <span class="pre">(if</span> <span class="pre">it's</span> <span class="pre">enabled</span> <span class="pre">in</span> <span class="pre">&lt;b&gt;Patron</span> <span class="pre">ID:</span> <span class="pre">SAML</span> <span class="pre">NameID&lt;/b&gt;).</span> <span class="pre">&lt;br&gt;The</span> <span class="pre">expression</span> <span class="pre">MUST</span> <span class="pre">contain</span> <span class="pre">a</span> <span class="pre">named</span> <span class="pre">group</span> <span class="pre">&lt;b&gt;patron_id&lt;/b&gt;</span> <span class="pre">used</span> <span class="pre">to</span> <span class="pre">match</span> <span class="pre">the</span> <span class="pre">patron</span> <span class="pre">ID.</span> <span class="pre">For</span> <span class="pre">example:&lt;br&gt;&lt;pre&gt;(?P&amp;lt;patron_id&amp;gt;.+)&#64;university\\.org&lt;/pre&gt;The</span> <span class="pre">expression</span> <span class="pre">will</span> <span class="pre">extract</span> <span class="pre">the</span> <span class="pre">&lt;b&gt;patron_id&lt;/b&gt;</span> <span class="pre">from</span> <span class="pre">the</span> <span class="pre">first</span> <span class="pre">SAML</span> <span class="pre">attribute</span> <span class="pre">that</span> <span class="pre">matches</span> <span class="pre">or</span> <span class="pre">NameID</span> <span class="pre">if</span> <span class="pre">it</span> <span class="pre">matches</span> <span class="pre">the</span> <span class="pre">expression.&quot;,</span> <span class="pre">'type':</span> <span class="pre">None,</span> <span class="pre">'required':</span> <span class="pre">False,</span> <span class="pre">'default':</span> <span class="pre">None,</span> <span class="pre">'options':</span> <span class="pre">None,</span> <span class="pre">'category':</span> <span class="pre">None},</span> <span class="pre">{'key':</span> <span class="pre">'idp_xml_metadata',</span> <span class="pre">'label':</span> <span class="pre">l'Identity</span> <span class="pre">Provider's</span> <span class="pre">XML</span> <span class="pre">metadata',</span> <span class="pre">'description':</span> <span class="pre">l'SAML</span> <span class="pre">metadata</span> <span class="pre">of</span> <span class="pre">Identity</span> <span class="pre">Providers</span> <span class="pre">in</span> <span class="pre">an</span> <span class="pre">XML</span> <span class="pre">format.</span> <span class="pre">MAY</span> <span class="pre">contain</span> <span class="pre">multiple</span> <span class="pre">IDPSSODescriptor</span> <span class="pre">tags</span> <span class="pre">but</span> <span class="pre">each</span> <span class="pre">of</span> <span class="pre">them</span> <span class="pre">MUST</span> <span class="pre">contain</span> <span class="pre">at</span> <span class="pre">least</span> <span class="pre">one</span> <span class="pre">SingleSignOnService</span> <span class="pre">tag</span> <span class="pre">with</span> <span class="pre">Binding</span> <span class="pre">attribute</span> <span class="pre">set</span> <span class="pre">to</span> <span class="pre">urn:oasis:names:tc:SAML:2.0:bindings:HTTP-Redirect.',</span> <span class="pre">'type':</span> <span class="pre">'textarea',</span> <span class="pre">'required':</span> <span class="pre">False,</span> <span class="pre">'default':</span> <span class="pre">None,</span> <span class="pre">'options':</span> <span class="pre">None,</span> <span class="pre">'category':</span> <span class="pre">None},</span> <span class="pre">{'key':</span> <span class="pre">'saml_session_lifetime',</span> <span class="pre">'label':</span> <span class="pre">l'Session</span> <span class="pre">Lifetime',</span> <span class="pre">'description':</span> <span class="pre">l'This</span> <span class="pre">configuration</span> <span class="pre">setting</span> <span class="pre">determines</span> <span class="pre">how</span> <span class="pre">long</span> <span class="pre">a</span> <span class="pre">session</span> <span class="pre">created</span> <span class="pre">by</span> <span class="pre">the</span> <span class="pre">SAML</span> <span class="pre">authentication</span> <span class="pre">provider</span> <span class="pre">will</span> <span class="pre">live</span> <span class="pre">in</span> <span class="pre">days.</span> <span class="pre">By</span> <span class="pre">default</span> <span class="pre">it's</span> <span class="pre">empty</span> <span class="pre">meaning</span> <span class="pre">that</span> <span class="pre">the</span> <span class="pre">lifetime</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">Circulation</span> <span class="pre">Manager's</span> <span class="pre">session</span> <span class="pre">is</span> <span class="pre">exactly</span> <span class="pre">the</span> <span class="pre">same</span> <span class="pre">as</span> <span class="pre">the</span> <span class="pre">lifetime</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">IdP's</span> <span class="pre">session.</span> <span class="pre">Setting</span> <span class="pre">this</span> <span class="pre">value</span> <span class="pre">to</span> <span class="pre">a</span> <span class="pre">specific</span> <span class="pre">number</span> <span class="pre">will</span> <span class="pre">override</span> <span class="pre">this</span> <span class="pre">behaviour.&lt;br&gt;NOTE:</span> <span class="pre">This</span> <span class="pre">setting</span> <span class="pre">affects</span> <span class="pre">the</span> <span class="pre">session's</span> <span class="pre">lifetime</span> <span class="pre">only</span> <span class="pre">Circulation</span> <span class="pre">Manager's</span> <span class="pre">side.</span> <span class="pre">Accessing</span> <span class="pre">content</span> <span class="pre">protected</span> <span class="pre">by</span> <span class="pre">SAML</span> <span class="pre">will</span> <span class="pre">still</span> <span class="pre">be</span> <span class="pre">governed</span> <span class="pre">by</span> <span class="pre">the</span> <span class="pre">IdP</span> <span class="pre">and</span> <span class="pre">patrons</span> <span class="pre">will</span> <span class="pre">have</span> <span class="pre">to</span> <span class="pre">reauthenticate</span> <span class="pre">each</span> <span class="pre">time</span> <span class="pre">the</span> <span class="pre">IdP's</span> <span class="pre">session</span> <span class="pre">expires.',</span> <span class="pre">'type':</span> <span class="pre">'number',</span> <span class="pre">'required':</span> <span class="pre">False,</span> <span class="pre">'default':</span> <span class="pre">None,</span> <span class="pre">'options':</span> <span class="pre">None,</span> <span class="pre">'category':</span> <span class="pre">None},</span> <span class="pre">{'key':</span> <span class="pre">'saml_filter_expression',</span> <span class="pre">'label':</span> <span class="pre">l'Filter</span> <span class="pre">Expression',</span> <span class="pre">'description':</span> <span class="pre">l'Python</span> <span class="pre">expression</span> <span class="pre">used</span> <span class="pre">for</span> <span class="pre">filtering</span> <span class="pre">out</span> <span class="pre">patrons</span> <span class="pre">by</span> <span class="pre">their</span> <span class="pre">SAML</span> <span class="pre">attributes.&lt;br&gt;&lt;br&gt;For</span> <span class="pre">example,</span> <span class="pre">if</span> <span class="pre">you</span> <span class="pre">want</span> <span class="pre">to</span> <span class="pre">authenticate</span> <span class="pre">using</span> <span class="pre">SAML</span> <span class="pre">only</span> <span class="pre">patrons</span> <span class="pre">having</span> <span class="pre">&quot;eresources&quot;</span> <span class="pre">as</span> <span class="pre">the</span> <span class="pre">value</span> <span class="pre">of</span> <span class="pre">their</span> <span class="pre">&quot;eduPersonEntitlement&quot;</span> <span class="pre">then</span> <span class="pre">you</span> <span class="pre">need</span> <span class="pre">to</span> <span class="pre">use</span> <span class="pre">the</span> <span class="pre">following</span> <span class="pre">expression:&lt;br&gt;&lt;pre&gt;</span> <span class="pre">&quot;urn:mace:nyu.edu:entl:lib:eresources&quot;</span> <span class="pre">==</span> <span class="pre">subject.attribute_statement.attributes[&quot;eduPersonEntitlement&quot;].values[0]</span> <span class="pre">&lt;/pre&gt;&lt;br&gt;If</span> <span class="pre">&quot;eduPersonEntitlement&quot;</span> <span class="pre">can</span> <span class="pre">have</span> <span class="pre">multiple</span> <span class="pre">values,</span> <span class="pre">you</span> <span class="pre">can</span> <span class="pre">use</span> <span class="pre">the</span> <span class="pre">following</span> <span class="pre">expression:&lt;br&gt;&lt;pre&gt;</span> <span class="pre">&quot;urn:mace:nyu.edu:entl:lib:eresources&quot;</span> <span class="pre">in</span> <span class="pre">subject.attribute_statement.attributes[&quot;eduPersonEntitlement&quot;].values</span> <span class="pre">&lt;/pre&gt;',</span> <span class="pre">'type':</span> <span class="pre">'textarea',</span> <span class="pre">'required':</span> <span class="pre">False,</span> <span class="pre">'default':</span> <span class="pre">None,</span> <span class="pre">'options':</span> <span class="pre">None,</span> <span class="pre">'category':</span> <span class="pre">None},</span> <span class="pre">{'key':</span> <span class="pre">'strict',</span> <span class="pre">'label':</span> <span class="pre">l'Service</span> <span class="pre">Provider's</span> <span class="pre">Strict</span> <span class="pre">Mode',</span> <span class="pre">'description':</span> <span class="pre">l'If</span> <span class="pre">strict</span> <span class="pre">is</span> <span class="pre">1,</span> <span class="pre">then</span> <span class="pre">the</span> <span class="pre">Python</span> <span class="pre">Toolkit</span> <span class="pre">will</span> <span class="pre">reject</span> <span class="pre">unsigned</span> <span class="pre">or</span> <span class="pre">unencrypted</span> <span class="pre">messages</span> <span class="pre">if</span> <span class="pre">it</span> <span class="pre">expects</span> <span class="pre">them</span> <span class="pre">to</span> <span class="pre">be</span> <span class="pre">signed</span> <span class="pre">or</span> <span class="pre">encrypted.</span> <span class="pre">Also,</span> <span class="pre">it</span> <span class="pre">will</span> <span class="pre">reject</span> <span class="pre">the</span> <span class="pre">messages</span> <span class="pre">if</span> <span class="pre">the</span> <span class="pre">SAML</span> <span class="pre">standard</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">strictly</span> <span class="pre">followed.',</span> <span class="pre">'type':</span> <span class="pre">'number',</span> <span class="pre">'required':</span> <span class="pre">False,</span> <span class="pre">'default':</span> <span class="pre">0,</span> <span class="pre">'options':</span> <span class="pre">None,</span> <span class="pre">'category':</span> <span class="pre">None},</span> <span class="pre">{'key':</span> <span class="pre">'debug',</span> <span class="pre">'label':</span> <span class="pre">l'Service</span> <span class="pre">Provider's</span> <span class="pre">Debug</span> <span class="pre">Mode',</span> <span class="pre">'description':</span> <span class="pre">l'Enable</span> <span class="pre">debug</span> <span class="pre">mode</span> <span class="pre">(outputs</span> <span class="pre">errors).',</span> <span class="pre">'type':</span> <span class="pre">'number',</span> <span class="pre">'required':</span> <span class="pre">False,</span> <span class="pre">'default':</span> <span class="pre">0,</span> <span class="pre">'options':</span> <span class="pre">None,</span> <span class="pre">'category':</span> <span class="pre">None}]</span></em><a class="headerlink" href="#api.authenticator.BaseSAMLAuthenticationProvider.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BaseSAMLAuthenticationProvider.TOKEN_DATA_SOURCE_NAME">
<span class="sig-name descname"><span class="pre">TOKEN_DATA_SOURCE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'SAML</span> <span class="pre">2.0'</span></em><a class="headerlink" href="#api.authenticator.BaseSAMLAuthenticationProvider.TOKEN_DATA_SOURCE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BaseSAMLAuthenticationProvider.TOKEN_TYPE">
<span class="sig-name descname"><span class="pre">TOKEN_TYPE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'SAML</span> <span class="pre">2.0</span> <span class="pre">token'</span></em><a class="headerlink" href="#api.authenticator.BaseSAMLAuthenticationProvider.TOKEN_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthTempTokenController">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.authenticator.</span></span><span class="sig-name descname"><span class="pre">BasicAuthTempTokenController</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">authenticator</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#BasicAuthTempTokenController"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.BasicAuthTempTokenController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A controller that handles requests for issuing temporary tokens
to HTTP Basic Auth credentials.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthTempTokenController.DO_NOT_GENERATE_NEW_TOKEN_PERIOD">
<span class="sig-name descname"><span class="pre">DO_NOT_GENERATE_NEW_TOKEN_PERIOD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3540</span></em><a class="headerlink" href="#api.authenticator.BasicAuthTempTokenController.DO_NOT_GENERATE_NEW_TOKEN_PERIOD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthTempTokenController.TOKEN_DURATION">
<span class="sig-name descname"><span class="pre">TOKEN_DURATION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">datetime.timedelta(seconds=3600)</span></em><a class="headerlink" href="#api.authenticator.BasicAuthTempTokenController.TOKEN_DURATION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthTempTokenController.basic_auth_temp_token">
<span class="sig-name descname"><span class="pre">basic_auth_temp_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#BasicAuthTempTokenController.basic_auth_temp_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.BasicAuthTempTokenController.basic_auth_temp_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate and return a temporary token from HTTP Basic Auth credentials.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthTempTokenController.get_or_create_token">
<span class="sig-name descname"><span class="pre">get_or_create_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patron</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#BasicAuthTempTokenController.get_or_create_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.BasicAuthTempTokenController.get_or_create_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a patron’s Credential or create a new one.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.authenticator.</span></span><span class="sig-name descname"><span class="pre">BasicAuthenticationProvider</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">integration</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analytics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#BasicAuthenticationProvider"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.authenticator.AuthenticationProvider" title="api.authenticator.AuthenticationProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">AuthenticationProvider</span></code></a>, <a class="reference internal" href="core.html#core.selftest.HasSelfTests" title="core.selftest.HasSelfTests"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasSelfTests</span></code></a></p>
<p>Verify a username/password, obtained through HTTP Basic Auth, with
a remote source of truth.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.AUTHENTICATION_REALM">
<span class="sig-name descname"><span class="pre">AUTHENTICATION_REALM</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'Library</span> <span class="pre">card'</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.AUTHENTICATION_REALM" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.BARCODE_FORMAT_CODABAR">
<span class="sig-name descname"><span class="pre">BARCODE_FORMAT_CODABAR</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Codabar'</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.BARCODE_FORMAT_CODABAR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.BARCODE_FORMAT_NONE">
<span class="sig-name descname"><span class="pre">BARCODE_FORMAT_NONE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">''</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.BARCODE_FORMAT_NONE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.BEARER_TOKEN_PROVIDER_NAME">
<span class="sig-name descname"><span class="pre">BEARER_TOKEN_PROVIDER_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'HTTPBasicBearerToken'</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.BEARER_TOKEN_PROVIDER_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.COMMON_IDENTIFIER_LABELS">
<span class="sig-name descname"><span class="pre">COMMON_IDENTIFIER_LABELS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'Barcode':</span> <span class="pre">l'Barcode',</span> <span class="pre">'Card</span> <span class="pre">Number':</span> <span class="pre">l'Card</span> <span class="pre">Number',</span> <span class="pre">'Email</span> <span class="pre">Address':</span> <span class="pre">l'Email</span> <span class="pre">Address',</span> <span class="pre">'Library</span> <span class="pre">Card':</span> <span class="pre">l'Library</span> <span class="pre">Card',</span> <span class="pre">'Username':</span> <span class="pre">l'Username'}</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.COMMON_IDENTIFIER_LABELS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.COMMON_PASSWORD_LABELS">
<span class="sig-name descname"><span class="pre">COMMON_PASSWORD_LABELS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'PIN':</span> <span class="pre">l'PIN',</span> <span class="pre">'Password':</span> <span class="pre">l'Password'}</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.COMMON_PASSWORD_LABELS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.DEFAULT_IDENTIFIER_LABEL">
<span class="sig-name descname"><span class="pre">DEFAULT_IDENTIFIER_LABEL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Barcode'</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.DEFAULT_IDENTIFIER_LABEL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.DEFAULT_IDENTIFIER_REGULAR_EXPRESSION">
<span class="sig-name descname"><span class="pre">DEFAULT_IDENTIFIER_REGULAR_EXPRESSION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">re.compile('^[A-Za-z0-9&#64;.-]+$')</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.DEFAULT_IDENTIFIER_REGULAR_EXPRESSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.DEFAULT_KEYBOARD">
<span class="sig-name descname"><span class="pre">DEFAULT_KEYBOARD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Default'</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.DEFAULT_KEYBOARD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.DEFAULT_PASSWORD_LABEL">
<span class="sig-name descname"><span class="pre">DEFAULT_PASSWORD_LABEL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'PIN'</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.DEFAULT_PASSWORD_LABEL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.DEFAULT_PASSWORD_REGULAR_EXPRESSION">
<span class="sig-name descname"><span class="pre">DEFAULT_PASSWORD_REGULAR_EXPRESSION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.DEFAULT_PASSWORD_REGULAR_EXPRESSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.DISPLAY_NAME">
<span class="sig-name descname"><span class="pre">DISPLAY_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'Library</span> <span class="pre">Barcode'</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.DISPLAY_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.EMAIL_ADDRESS_KEYBOARD">
<span class="sig-name descname"><span class="pre">EMAIL_ADDRESS_KEYBOARD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Email</span> <span class="pre">address'</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.EMAIL_ADDRESS_KEYBOARD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.FLOW_TYPE_BASIC">
<span class="sig-name descname"><span class="pre">FLOW_TYPE_BASIC</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'http://opds-spec.org/auth/basic'</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.FLOW_TYPE_BASIC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.FLOW_TYPE_OAUTH">
<span class="sig-name descname"><span class="pre">FLOW_TYPE_OAUTH</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'http://librarysimplified.org/authtype/OAuth-Client-Credentials'</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.FLOW_TYPE_OAUTH" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.HTTP_BASIC_OAUTH_ENABLED">
<span class="sig-name descname"><span class="pre">HTTP_BASIC_OAUTH_ENABLED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'http_basic_oauth_enabled'</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.HTTP_BASIC_OAUTH_ENABLED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.HTTP_BASIC_OAUTH_ENABLED_DEFAULT">
<span class="sig-name descname"><span class="pre">HTTP_BASIC_OAUTH_ENABLED_DEFAULT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.HTTP_BASIC_OAUTH_ENABLED_DEFAULT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.IDENTIFIER_BARCODE_FORMAT">
<span class="sig-name descname"><span class="pre">IDENTIFIER_BARCODE_FORMAT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'identifier_barcode_format'</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.IDENTIFIER_BARCODE_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.IDENTIFIER_KEYBOARD">
<span class="sig-name descname"><span class="pre">IDENTIFIER_KEYBOARD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'identifier_keyboard'</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.IDENTIFIER_KEYBOARD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.IDENTIFIER_LABEL">
<span class="sig-name descname"><span class="pre">IDENTIFIER_LABEL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'identifier_label'</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.IDENTIFIER_LABEL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.IDENTIFIER_MAXIMUM_LENGTH">
<span class="sig-name descname"><span class="pre">IDENTIFIER_MAXIMUM_LENGTH</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'identifier_maximum_length'</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.IDENTIFIER_MAXIMUM_LENGTH" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.IDENTIFIER_REGULAR_EXPRESSION">
<span class="sig-name descname"><span class="pre">IDENTIFIER_REGULAR_EXPRESSION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'identifier_regular_expression'</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.IDENTIFIER_REGULAR_EXPRESSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.LIBRARY_SETTINGS">
<span class="sig-name descname"><span class="pre">LIBRARY_SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'http_basic_oauth_enabled',</span> <span class="pre">'label':</span> <span class="pre">l'Enable</span> <span class="pre">OAuth</span> <span class="pre">for</span> <span class="pre">HTTP</span> <span class="pre">Basic</span> <span class="pre">Auth',</span> <span class="pre">'description':</span> <span class="pre">l'Enable</span> <span class="pre">authentication</span> <span class="pre">with</span> <span class="pre">bearer</span> <span class="pre">tokens</span> <span class="pre">generated</span> <span class="pre">via</span> <span class="pre">basic</span> <span class="pre">auth</span> <span class="pre">credentials',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'false',</span> <span class="pre">'label':</span> <span class="pre">l'Disabled'},</span> <span class="pre">{'key':</span> <span class="pre">'true',</span> <span class="pre">'label':</span> <span class="pre">l'Enabled'}],</span> <span class="pre">'default':</span> <span class="pre">'false'},</span> <span class="pre">{'key':</span> <span class="pre">'external_type_regular_expression',</span> <span class="pre">'label':</span> <span class="pre">l'External</span> <span class="pre">Type</span> <span class="pre">Regular</span> <span class="pre">Expression',</span> <span class="pre">'description':</span> <span class="pre">l'Derive</span> <span class="pre">a</span> <span class="pre">patron's</span> <span class="pre">type</span> <span class="pre">from</span> <span class="pre">their</span> <span class="pre">identifier.'},</span> <span class="pre">{'key':</span> <span class="pre">'library_identifier_restriction_type',</span> <span class="pre">'label':</span> <span class="pre">l'Library</span> <span class="pre">Identifier</span> <span class="pre">Restriction</span> <span class="pre">Type',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'description':</span> <span class="pre">l'When</span> <span class="pre">multiple</span> <span class="pre">libraries</span> <span class="pre">share</span> <span class="pre">an</span> <span class="pre">ILS,</span> <span class="pre">a</span> <span class="pre">person</span> <span class="pre">may</span> <span class="pre">be</span> <span class="pre">able</span> <span class="pre">to</span> <span class="pre">authenticate</span> <span class="pre">with</span> <span class="pre">the</span> <span class="pre">ILS</span> <span class="pre">but</span> <span class="pre">not</span> <span class="pre">be</span> <span class="pre">considered</span> <span class="pre">a</span> <span class="pre">patron</span> <span class="pre">of</span> <span class="pre">&lt;em&gt;this&lt;/em&gt;</span> <span class="pre">library.</span> <span class="pre">This</span> <span class="pre">setting</span> <span class="pre">contains</span> <span class="pre">the</span> <span class="pre">rule</span> <span class="pre">for</span> <span class="pre">determining</span> <span class="pre">whether</span> <span class="pre">an</span> <span class="pre">identifier</span> <span class="pre">is</span> <span class="pre">valid</span> <span class="pre">for</span> <span class="pre">this</span> <span class="pre">specific</span> <span class="pre">library.</span> <span class="pre">&lt;p/&gt;</span> <span class="pre">If</span> <span class="pre">this</span> <span class="pre">setting</span> <span class="pre">it</span> <span class="pre">set</span> <span class="pre">to</span> <span class="pre">'No</span> <span class="pre">Restriction'</span> <span class="pre">then</span> <span class="pre">the</span> <span class="pre">values</span> <span class="pre">for</span> <span class="pre">&lt;em&gt;Library</span> <span class="pre">Identifier</span> <span class="pre">Field&lt;/em&gt;</span> <span class="pre">and</span> <span class="pre">&lt;em&gt;Library</span> <span class="pre">Identifier</span> <span class="pre">Restriction&lt;/em&gt;</span> <span class="pre">will</span> <span class="pre">not</span> <span class="pre">be</span> <span class="pre">used.',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'none',</span> <span class="pre">'label':</span> <span class="pre">l'No</span> <span class="pre">restriction'},</span> <span class="pre">{'key':</span> <span class="pre">'prefix',</span> <span class="pre">'label':</span> <span class="pre">l'Prefix</span> <span class="pre">Match'},</span> <span class="pre">{'key':</span> <span class="pre">'string',</span> <span class="pre">'label':</span> <span class="pre">l'Exact</span> <span class="pre">Match'},</span> <span class="pre">{'key':</span> <span class="pre">'regex',</span> <span class="pre">'label':</span> <span class="pre">l'Regex</span> <span class="pre">Match'},</span> <span class="pre">{'key':</span> <span class="pre">'list',</span> <span class="pre">'label':</span> <span class="pre">l'Exact</span> <span class="pre">Match,</span> <span class="pre">comma</span> <span class="pre">separated</span> <span class="pre">list'}],</span> <span class="pre">'default':</span> <span class="pre">'none'},</span> <span class="pre">{'key':</span> <span class="pre">'library_identifier_field',</span> <span class="pre">'label':</span> <span class="pre">l'Library</span> <span class="pre">Identifier</span> <span class="pre">Field',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'barcode',</span> <span class="pre">'label':</span> <span class="pre">l'Barcode'}],</span> <span class="pre">'description':</span> <span class="pre">l'This</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">field</span> <span class="pre">on</span> <span class="pre">the</span> <span class="pre">patron</span> <span class="pre">record</span> <span class="pre">that</span> <span class="pre">the</span> <span class="pre">&lt;em&gt;Library</span> <span class="pre">Identifier</span> <span class="pre">Restriction</span> <span class="pre">Type&lt;/em&gt;</span> <span class="pre">is</span> <span class="pre">applied</span> <span class="pre">to,</span> <span class="pre">different</span> <span class="pre">patron</span> <span class="pre">authentication</span> <span class="pre">methods</span> <span class="pre">provide</span> <span class="pre">different</span> <span class="pre">values</span> <span class="pre">here.</span> <span class="pre">This</span> <span class="pre">value</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">used</span> <span class="pre">if</span> <span class="pre">&lt;em&gt;Library</span> <span class="pre">Identifier</span> <span class="pre">Restriction</span> <span class="pre">Type&lt;/em&gt;</span> <span class="pre">is</span> <span class="pre">set</span> <span class="pre">to</span> <span class="pre">'No</span> <span class="pre">restriction'.',</span> <span class="pre">'default':</span> <span class="pre">'barcode'},</span> <span class="pre">{'key':</span> <span class="pre">'library_identifier_restriction',</span> <span class="pre">'label':</span> <span class="pre">l'Library</span> <span class="pre">Identifier</span> <span class="pre">Restriction',</span> <span class="pre">'description':</span> <span class="pre">l'This</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">restriction</span> <span class="pre">applied</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">&lt;em&gt;Library</span> <span class="pre">Identifier</span> <span class="pre">Field&lt;/em&gt;</span> <span class="pre">using</span> <span class="pre">the</span> <span class="pre">method</span> <span class="pre">chosen</span> <span class="pre">in</span> <span class="pre">&lt;em&gt;Library</span> <span class="pre">Identifier</span> <span class="pre">Restriction</span> <span class="pre">Type&lt;/em&gt;.</span> <span class="pre">This</span> <span class="pre">value</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">used</span> <span class="pre">if</span> <span class="pre">&lt;em&gt;Library</span> <span class="pre">Identifier</span> <span class="pre">Restriction</span> <span class="pre">Type&lt;/em&gt;</span> <span class="pre">is</span> <span class="pre">set</span> <span class="pre">to</span> <span class="pre">'No</span> <span class="pre">restriction'.'},</span> <span class="pre">{'key':</span> <span class="pre">'institution_id',</span> <span class="pre">'label':</span> <span class="pre">l'Institution</span> <span class="pre">ID',</span> <span class="pre">'description':</span> <span class="pre">l'A</span> <span class="pre">specific</span> <span class="pre">identifier</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">library</span> <span class="pre">or</span> <span class="pre">branch,</span> <span class="pre">if</span> <span class="pre">used</span> <span class="pre">in</span> <span class="pre">patron</span> <span class="pre">authentication'}]</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.LIBRARY_SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.NAME">
<span class="sig-name descname"><span class="pre">NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Generic</span> <span class="pre">Basic</span> <span class="pre">Authentication</span> <span class="pre">provider'</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.NULL_KEYBOARD">
<span class="sig-name descname"><span class="pre">NULL_KEYBOARD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'No</span> <span class="pre">input'</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.NULL_KEYBOARD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.NUMBER_PAD">
<span class="sig-name descname"><span class="pre">NUMBER_PAD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Number</span> <span class="pre">pad'</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.NUMBER_PAD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.PASSWORD_KEYBOARD">
<span class="sig-name descname"><span class="pre">PASSWORD_KEYBOARD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'password_keyboard'</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.PASSWORD_KEYBOARD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.PASSWORD_LABEL">
<span class="sig-name descname"><span class="pre">PASSWORD_LABEL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'password_label'</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.PASSWORD_LABEL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.PASSWORD_MAXIMUM_LENGTH">
<span class="sig-name descname"><span class="pre">PASSWORD_MAXIMUM_LENGTH</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'password_maximum_length'</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.PASSWORD_MAXIMUM_LENGTH" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.PASSWORD_REGULAR_EXPRESSION">
<span class="sig-name descname"><span class="pre">PASSWORD_REGULAR_EXPRESSION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'password_regular_expression'</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.PASSWORD_REGULAR_EXPRESSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.SETTINGS">
<span class="sig-name descname"><span class="pre">SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'test_identifier',</span> <span class="pre">'label':</span> <span class="pre">l'Test</span> <span class="pre">Identifier',</span> <span class="pre">'description':</span> <span class="pre">l'A</span> <span class="pre">valid</span> <span class="pre">identifier</span> <span class="pre">that</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">used</span> <span class="pre">to</span> <span class="pre">test</span> <span class="pre">that</span> <span class="pre">patron</span> <span class="pre">authentication</span> <span class="pre">is</span> <span class="pre">working.</span> <span class="pre">An</span> <span class="pre">optional</span> <span class="pre">Test</span> <span class="pre">Password</span> <span class="pre">for</span> <span class="pre">this</span> <span class="pre">identifier</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">set</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">next</span> <span class="pre">section.',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'test_password',</span> <span class="pre">'label':</span> <span class="pre">l'Test</span> <span class="pre">Password',</span> <span class="pre">'description':</span> <span class="pre">l'The</span> <span class="pre">password</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">Test</span> <span class="pre">Identifier</span> <span class="pre">(above,</span> <span class="pre">in</span> <span class="pre">previous</span> <span class="pre">section).'},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_barcode_format',</span> <span class="pre">'label':</span> <span class="pre">l'Patron</span> <span class="pre">identifier</span> <span class="pre">barcode</span> <span class="pre">format',</span> <span class="pre">'description':</span> <span class="pre">l'Many</span> <span class="pre">libraries</span> <span class="pre">render</span> <span class="pre">patron</span> <span class="pre">identifiers</span> <span class="pre">as</span> <span class="pre">barcodes</span> <span class="pre">on</span> <span class="pre">physical</span> <span class="pre">library</span> <span class="pre">cards.</span> <span class="pre">If</span> <span class="pre">you</span> <span class="pre">specify</span> <span class="pre">the</span> <span class="pre">barcode</span> <span class="pre">format,</span> <span class="pre">patrons</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">able</span> <span class="pre">to</span> <span class="pre">scan</span> <span class="pre">their</span> <span class="pre">library</span> <span class="pre">cards</span> <span class="pre">with</span> <span class="pre">a</span> <span class="pre">camera</span> <span class="pre">instead</span> <span class="pre">of</span> <span class="pre">manually</span> <span class="pre">typing</span> <span class="pre">in</span> <span class="pre">their</span> <span class="pre">identifiers.',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'Codabar',</span> <span class="pre">'label':</span> <span class="pre">l'Patron</span> <span class="pre">identifiers</span> <span class="pre">are</span> <span class="pre">are</span> <span class="pre">rendered</span> <span class="pre">as</span> <span class="pre">barcodes</span> <span class="pre">in</span> <span class="pre">Codabar</span> <span class="pre">format'},</span> <span class="pre">{'key':</span> <span class="pre">'',</span> <span class="pre">'label':</span> <span class="pre">l'Patron</span> <span class="pre">identifiers</span> <span class="pre">are</span> <span class="pre">not</span> <span class="pre">rendered</span> <span class="pre">as</span> <span class="pre">barcodes'}],</span> <span class="pre">'default':</span> <span class="pre">'',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_regular_expression',</span> <span class="pre">'label':</span> <span class="pre">l'Identifier</span> <span class="pre">Regular</span> <span class="pre">Expression',</span> <span class="pre">'description':</span> <span class="pre">l'A</span> <span class="pre">patron's</span> <span class="pre">identifier</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">immediately</span> <span class="pre">rejected</span> <span class="pre">if</span> <span class="pre">it</span> <span class="pre">doesn't</span> <span class="pre">match</span> <span class="pre">this</span> <span class="pre">regular</span> <span class="pre">expression.'},</span> <span class="pre">{'key':</span> <span class="pre">'password_regular_expression',</span> <span class="pre">'label':</span> <span class="pre">l'Password</span> <span class="pre">Regular</span> <span class="pre">Expression',</span> <span class="pre">'description':</span> <span class="pre">l'A</span> <span class="pre">patron's</span> <span class="pre">password</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">immediately</span> <span class="pre">rejected</span> <span class="pre">if</span> <span class="pre">it</span> <span class="pre">doesn't</span> <span class="pre">match</span> <span class="pre">this</span> <span class="pre">regular</span> <span class="pre">expression.'},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_keyboard',</span> <span class="pre">'label':</span> <span class="pre">l'Keyboard</span> <span class="pre">for</span> <span class="pre">identifier</span> <span class="pre">entry',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'Default',</span> <span class="pre">'label':</span> <span class="pre">l'System</span> <span class="pre">default'},</span> <span class="pre">{'key':</span> <span class="pre">'Email</span> <span class="pre">address',</span> <span class="pre">'label':</span> <span class="pre">l'Email</span> <span class="pre">address</span> <span class="pre">entry'},</span> <span class="pre">{'key':</span> <span class="pre">'Number</span> <span class="pre">pad',</span> <span class="pre">'label':</span> <span class="pre">l'Number</span> <span class="pre">pad'}],</span> <span class="pre">'default':</span> <span class="pre">'Default',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'password_keyboard',</span> <span class="pre">'label':</span> <span class="pre">l'Keyboard</span> <span class="pre">for</span> <span class="pre">password</span> <span class="pre">entry',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'Default',</span> <span class="pre">'label':</span> <span class="pre">l'System</span> <span class="pre">default'},</span> <span class="pre">{'key':</span> <span class="pre">'Number</span> <span class="pre">pad',</span> <span class="pre">'label':</span> <span class="pre">l'Number</span> <span class="pre">pad'},</span> <span class="pre">{'key':</span> <span class="pre">'No</span> <span class="pre">input',</span> <span class="pre">'label':</span> <span class="pre">l'Patrons</span> <span class="pre">have</span> <span class="pre">no</span> <span class="pre">password</span> <span class="pre">and</span> <span class="pre">should</span> <span class="pre">not</span> <span class="pre">be</span> <span class="pre">prompted</span> <span class="pre">for</span> <span class="pre">one.'}],</span> <span class="pre">'default':</span> <span class="pre">'Default'},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_maximum_length',</span> <span class="pre">'label':</span> <span class="pre">l'Maximum</span> <span class="pre">identifier</span> <span class="pre">length',</span> <span class="pre">'type':</span> <span class="pre">'number'},</span> <span class="pre">{'key':</span> <span class="pre">'password_maximum_length',</span> <span class="pre">'label':</span> <span class="pre">l'Maximum</span> <span class="pre">password</span> <span class="pre">length',</span> <span class="pre">'type':</span> <span class="pre">'number'},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_label',</span> <span class="pre">'label':</span> <span class="pre">l'Label</span> <span class="pre">for</span> <span class="pre">identifier</span> <span class="pre">entry'},</span> <span class="pre">{'key':</span> <span class="pre">'password_label',</span> <span class="pre">'label':</span> <span class="pre">l'Label</span> <span class="pre">for</span> <span class="pre">password</span> <span class="pre">entry'}]</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.TEST_IDENTIFIER">
<span class="sig-name descname"><span class="pre">TEST_IDENTIFIER</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'test_identifier'</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.TEST_IDENTIFIER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.TEST_IDENTIFIER_DESCRIPTION_FOR_OPTIONAL_PASSWORD">
<span class="sig-name descname"><span class="pre">TEST_IDENTIFIER_DESCRIPTION_FOR_OPTIONAL_PASSWORD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'A</span> <span class="pre">valid</span> <span class="pre">identifier</span> <span class="pre">that</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">used</span> <span class="pre">to</span> <span class="pre">test</span> <span class="pre">that</span> <span class="pre">patron</span> <span class="pre">authentication</span> <span class="pre">is</span> <span class="pre">working.</span> <span class="pre">An</span> <span class="pre">optional</span> <span class="pre">Test</span> <span class="pre">Password</span> <span class="pre">for</span> <span class="pre">this</span> <span class="pre">identifier</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">set</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">next</span> <span class="pre">section.'</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.TEST_IDENTIFIER_DESCRIPTION_FOR_OPTIONAL_PASSWORD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.TEST_IDENTIFIER_DESCRIPTION_FOR_REQUIRED_PASSWORD">
<span class="sig-name descname"><span class="pre">TEST_IDENTIFIER_DESCRIPTION_FOR_REQUIRED_PASSWORD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'A</span> <span class="pre">valid</span> <span class="pre">identifier</span> <span class="pre">that</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">used</span> <span class="pre">to</span> <span class="pre">test</span> <span class="pre">that</span> <span class="pre">patron</span> <span class="pre">authentication</span> <span class="pre">is</span> <span class="pre">working.'</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.TEST_IDENTIFIER_DESCRIPTION_FOR_REQUIRED_PASSWORD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.TEST_PASSWORD">
<span class="sig-name descname"><span class="pre">TEST_PASSWORD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'test_password'</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.TEST_PASSWORD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.TEST_PASSWORD_DESCRIPTION_OPTIONAL">
<span class="sig-name descname"><span class="pre">TEST_PASSWORD_DESCRIPTION_OPTIONAL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'The</span> <span class="pre">password</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">Test</span> <span class="pre">Identifier</span> <span class="pre">(above,</span> <span class="pre">in</span> <span class="pre">previous</span> <span class="pre">section).'</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.TEST_PASSWORD_DESCRIPTION_OPTIONAL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.TEST_PASSWORD_DESCRIPTION_REQUIRED">
<span class="sig-name descname"><span class="pre">TEST_PASSWORD_DESCRIPTION_REQUIRED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'The</span> <span class="pre">password</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">Test</span> <span class="pre">Identifier.'</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.TEST_PASSWORD_DESCRIPTION_REQUIRED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.TOKEN_TYPE">
<span class="sig-name descname"><span class="pre">TOKEN_TYPE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'HTTP</span> <span class="pre">Basic'</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.TOKEN_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.alphanumerics_plus">
<span class="sig-name descname"><span class="pre">alphanumerics_plus</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">re.compile('^[A-Za-z0-9&#64;.-]+$')</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.alphanumerics_plus" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.apply_patrondata">
<span class="sig-name descname"><span class="pre">apply_patrondata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patrondata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patron</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#BasicAuthenticationProvider.apply_patrondata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.apply_patrondata" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a PatronData object to the given patron and make sure
any fields that need to be updated as a result of new data
are updated.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.authenticate">
<span class="sig-name descname"><span class="pre">authenticate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">credentials</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#BasicAuthenticationProvider.authenticate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.authenticate" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn a set of credentials into a Patron object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>credentials</strong> – A dictionary with keys <cite>username</cite> and <cite>password</cite>
or a bearer token string.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A Patron if one can be authenticated; a ProblemDetail
if an error occurs; None if the credentials are missing or wrong.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.authentication_header">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">authentication_header</span></span><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.authentication_header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.class_default">
<span class="sig-name descname"><span class="pre">class_default</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;object</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.class_default" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.collects_password">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">collects_password</span></span><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.collects_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Does this BasicAuthenticationProvider expect a username
and a password, or just a username?</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.get_credential_from_header">
<span class="sig-name descname"><span class="pre">get_credential_from_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">header</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#BasicAuthenticationProvider.get_credential_from_header"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.get_credential_from_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract a password credential from a WWW-Authenticate header
(or equivalent).</p>
<p>This is used to pass on a patron’s credential to a content provider,
such as Overdrive, which performs independent validation of
a patron’s credentials.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>header</strong> – A dictionary with keys <cite>username</cite> and <cite>password</cite>.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.local_patron_lookup">
<span class="sig-name descname"><span class="pre">local_patron_lookup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">username</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patrondata</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#BasicAuthenticationProvider.local_patron_lookup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.local_patron_lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to find a Patron object in the local database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>username</strong> – An HTTP Basic Auth username. May or may not
correspond to the <cite>Patron.username</cite> field.</p></li>
<li><p><strong>patrondata</strong> – A PatronData object recently obtained from
the source of truth, possibly as a side effect of validating
the username and password. This may make it possible to
identify the patron more precisely. Or it may be None, in
which case it’s no help at all.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.patron_is_new">
<span class="sig-name descname"><span class="pre">patron_is_new</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.patron_is_new" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.remote_authenticate">
<span class="sig-name descname"><span class="pre">remote_authenticate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">username</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#BasicAuthenticationProvider.remote_authenticate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.remote_authenticate" title="Permalink to this definition">¶</a></dt>
<dd><p>Does the source of truth approve of these credentials?</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>If the credentials are valid, but nothing more is
known about the patron, return True.</p>
</dd>
</dl>
<p>If the credentials are valid, _and_ enough information came
back in the request to also create a PatronInfo object, you
may create that object and return it to save a
remote patron lookup later.</p>
<p>If the credentials are invalid, return False or None.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.remote_patron_lookup">
<span class="sig-name descname"><span class="pre">remote_patron_lookup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron_or_patrondata</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#BasicAuthenticationProvider.remote_patron_lookup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.remote_patron_lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Ask the remote for information about this patron, and then make sure
the patron belongs to the library associated with thie BasicAuthenticationProvider.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.scrub_credential">
<span class="sig-name descname"><span class="pre">scrub_credential</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#BasicAuthenticationProvider.scrub_credential"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.scrub_credential" title="Permalink to this definition">¶</a></dt>
<dd><p>Scrub an incoming value that is part of a patron’s set of credentials.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.server_side_validation">
<span class="sig-name descname"><span class="pre">server_side_validation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">username</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#BasicAuthenticationProvider.server_side_validation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.server_side_validation" title="Permalink to this definition">¶</a></dt>
<dd><p>Do these credentials even look right?</p>
<p>Sometimes egregious problems can be caught without needing to
check with the ILS.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.testing_patron">
<span class="sig-name descname"><span class="pre">testing_patron</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#BasicAuthenticationProvider.testing_patron"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.testing_patron" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up a Patron object reserved for testing purposes.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A 2-tuple (Patron, password)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.BasicAuthenticationProvider.testing_patron_or_bust">
<span class="sig-name descname"><span class="pre">testing_patron_or_bust</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#BasicAuthenticationProvider.testing_patron_or_bust"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.testing_patron_or_bust" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up the Patron object reserved for testing purposes.</p>
<dl class="field-list simple">
<dt class="field-odd">Raise:CannotLoadConfiguration<span class="colon">:</span></dt>
<dd class="field-odd"><p>If no test patron is configured.</p>
</dd>
<dt class="field-even">Raise:IntegrationException<span class="colon">:</span></dt>
<dd class="field-even"><p>If the returned patron is not a Patron object.</p>
</dd>
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A 2-tuple (Patron, password)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.authenticator.BearerTokenSigner">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.authenticator.</span></span><span class="sig-name descname"><span class="pre">BearerTokenSigner</span></span><a class="reference internal" href="_modules/api/authenticator.html#BearerTokenSigner"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.BearerTokenSigner" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Mixin class used for storing a secret used for signing Bearer tokens</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.BearerTokenSigner.BEARER_TOKEN_SIGNING_SECRET">
<span class="sig-name descname"><span class="pre">BEARER_TOKEN_SIGNING_SECRET</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'bearer_token_signing_secret'</span></em><a class="headerlink" href="#api.authenticator.BearerTokenSigner.BEARER_TOKEN_SIGNING_SECRET" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.BearerTokenSigner.bearer_token_signing_secret">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">bearer_token_signing_secret</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#BearerTokenSigner.bearer_token_signing_secret"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.BearerTokenSigner.bearer_token_signing_secret" title="Permalink to this definition">¶</a></dt>
<dd><p>Find or generate the site-wide bearer token signing secret.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>db</strong> (<em>sqlalchemy.orm.session.Session</em>) – Database session</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>ConfigurationSetting object containing the signing secret</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="core.model.html#core.model.configuration.ConfigurationSetting" title="core.model.configuration.ConfigurationSetting">ConfigurationSetting</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.authenticator.CannotCreateLocalPatron">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.authenticator.</span></span><span class="sig-name descname"><span class="pre">CannotCreateLocalPatron</span></span><a class="reference internal" href="_modules/api/authenticator.html#CannotCreateLocalPatron"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.CannotCreateLocalPatron" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
<p>A remote system provided information about a patron, but we could
not put it into our database schema.</p>
<p>Probably because it was too vague.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.authenticator.CirculationPatronProfileStorage">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.authenticator.</span></span><span class="sig-name descname"><span class="pre">CirculationPatronProfileStorage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url_for</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#CirculationPatronProfileStorage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.CirculationPatronProfileStorage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.model.html#core.model.patron.PatronProfileStorage" title="core.model.patron.PatronProfileStorage"><code class="xref py py-class docutils literal notranslate"><span class="pre">PatronProfileStorage</span></code></a></p>
<p>A patron profile storage that can also provide short client tokens</p>
<dl class="py property">
<dt class="sig sig-object py" id="api.authenticator.CirculationPatronProfileStorage.profile_document">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">profile_document</span></span><a class="headerlink" href="#api.authenticator.CirculationPatronProfileStorage.profile_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Profile document representing the patron’s current
status.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.authenticator.LibraryAuthenticator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.authenticator.</span></span><span class="sig-name descname"><span class="pre">LibraryAuthenticator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">basic_auth_provider</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">oauth_providers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">saml_providers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bearer_token_signing_secret</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">authentication_document_annotator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#LibraryAuthenticator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.LibraryAuthenticator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Use the registered AuthenticationProviders to turn incoming
credentials into Patron objects.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.LibraryAuthenticator.assert_ready_for_token_signing">
<span class="sig-name descname"><span class="pre">assert_ready_for_token_signing</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#LibraryAuthenticator.assert_ready_for_token_signing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.assert_ready_for_token_signing" title="Permalink to this definition">¶</a></dt>
<dd><p>If this LibraryAuthenticator has OAuth providers, ensure that it
also has a secret it can use to sign bearer tokens.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.LibraryAuthenticator.authenticated_patron">
<span class="sig-name descname"><span class="pre">authenticated_patron</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#LibraryAuthenticator.authenticated_patron"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.authenticated_patron" title="Permalink to this definition">¶</a></dt>
<dd><p>Go from an Authorization header value to a Patron object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>header</strong> – If Basic Auth is in use, this is a dictionary
with ‘user’ and ‘password’ components, derived from the HTTP
header <cite>Authorization</cite>. Otherwise, this is the literal value
of the <cite>Authorization</cite> HTTP header.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A Patron, if one can be authenticated. None, if the
credentials do not authenticate any particular patron. A
ProblemDetail if an error occurs.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.LibraryAuthenticator.authentication_document_url">
<span class="sig-name descname"><span class="pre">authentication_document_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#LibraryAuthenticator.authentication_document_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.authentication_document_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the URL of the authentication document for the
given library.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.LibraryAuthenticator.bearer_token_provider_lookup">
<span class="sig-name descname"><span class="pre">bearer_token_provider_lookup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">provider_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#LibraryAuthenticator.bearer_token_provider_lookup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.bearer_token_provider_lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up the relevant bearer token authentication provider with
the given name. If that doesn’t work, return an appropriate ProblemDetai.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.LibraryAuthenticator.create_authentication_document">
<span class="sig-name descname"><span class="pre">create_authentication_document</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#LibraryAuthenticator.create_authentication_document"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.create_authentication_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the Authentication For OPDS document to be used when
a request comes in with no authentication.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.LibraryAuthenticator.create_authentication_headers">
<span class="sig-name descname"><span class="pre">create_authentication_headers</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#LibraryAuthenticator.create_authentication_headers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.create_authentication_headers" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the HTTP headers to return with the OPDS
authentication document.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.LibraryAuthenticator.create_bearer_token">
<span class="sig-name descname"><span class="pre">create_bearer_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">provider_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">provider_token</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#LibraryAuthenticator.create_bearer_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.create_bearer_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a JSON web token with the given provider name and access
token.</p>
<p>The patron will use this as a bearer token in lieu of the
token we got from their OAuth provider. The big advantage of
this token is that it tells us _which_ OAuth provider the
patron authenticated against.</p>
<p>When the patron uses the bearer token in the Authenticate header,
it will be decoded with <cite>decode_bearer_token_from_header</cite>.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.LibraryAuthenticator.decode_bearer_token">
<span class="sig-name descname"><span class="pre">decode_bearer_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">token</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#LibraryAuthenticator.decode_bearer_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.decode_bearer_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract auth provider name and access token from JSON web token.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.LibraryAuthenticator.decode_bearer_token_from_header">
<span class="sig-name descname"><span class="pre">decode_bearer_token_from_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">header</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#LibraryAuthenticator.decode_bearer_token_from_header"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.decode_bearer_token_from_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract auth provider name and access token from an Authenticate
header value.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.LibraryAuthenticator.from_config">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analytics=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_catalog_source=&lt;class</span> <span class="pre">'api.custom_patron_catalog.CustomPatronCatalog'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#LibraryAuthenticator.from_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize an Authenticator for the given Library based on its
configured ExternalIntegrations.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>custom_catalog_source</strong> – The lookup class for CustomPatronCatalogs.
Intended for mocking during tests.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.LibraryAuthenticator.get_credential_from_header">
<span class="sig-name descname"><span class="pre">get_credential_from_header</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">header</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#LibraryAuthenticator.get_credential_from_header"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.get_credential_from_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract a password credential from a WWW-Authenticate header
(or equivalent).</p>
<p>This is used to pass on a patron’s credential to a content provider,
such as Overdrive, which performs independent validation of
a patron’s credentials.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The patron’s password, or None if not available.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.authenticator.LibraryAuthenticator.identifies_individuals">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">identifies_individuals</span></span><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.identifies_individuals" title="Permalink to this definition">¶</a></dt>
<dd><p>Does this library require that individual patrons be identified?</p>
<p>Most libraries require authentication as an individual. Some
libraries don’t identify patrons at all; others may have a way
of identifying the patron population without identifying
individuals, such as an IP gate.</p>
<p>If some of a library’s authentication mechanisms identify individuals,
and others do not, the library does not identify individuals.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.authenticator.LibraryAuthenticator.key_pair">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">key_pair</span></span><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.key_pair" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up or create a public/private key pair for use by this library.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.authenticator.LibraryAuthenticator.library">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">library</span></span><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.library" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.authenticator.LibraryAuthenticator.providers">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">providers</span></span><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.providers" title="Permalink to this definition">¶</a></dt>
<dd><p>An iterator over all registered AuthenticationProviders.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.LibraryAuthenticator.register_basic_auth_provider">
<span class="sig-name descname"><span class="pre">register_basic_auth_provider</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">provider</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#LibraryAuthenticator.register_basic_auth_provider"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.register_basic_auth_provider" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.LibraryAuthenticator.register_bearer_token_auth_provider">
<span class="sig-name descname"><span class="pre">register_bearer_token_auth_provider</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">provider</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#LibraryAuthenticator.register_bearer_token_auth_provider"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.register_bearer_token_auth_provider" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.LibraryAuthenticator.register_provider">
<span class="sig-name descname"><span class="pre">register_provider</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">integration</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analytics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#LibraryAuthenticator.register_provider"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.register_provider" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn an ExternalIntegration object into an AuthenticationProvider
object, and register it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>integration</strong> – An ExternalIntegration that configures
a way of authenticating patrons.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.authenticator.LibraryAuthenticator.supports_patron_authentication">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">supports_patron_authentication</span></span><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.supports_patron_authentication" title="Permalink to this definition">¶</a></dt>
<dd><p>Does this library have any way of authenticating patrons at all?</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.authenticator.OAuthAuthenticationProvider">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.authenticator.</span></span><span class="sig-name descname"><span class="pre">OAuthAuthenticationProvider</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">integration</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analytics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#OAuthAuthenticationProvider"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.OAuthAuthenticationProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.authenticator.AuthenticationProvider" title="api.authenticator.AuthenticationProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">AuthenticationProvider</span></code></a>, <a class="reference internal" href="#api.authenticator.BearerTokenSigner" title="api.authenticator.BearerTokenSigner"><code class="xref py py-class docutils literal notranslate"><span class="pre">BearerTokenSigner</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.OAuthAuthenticationProvider.DEFAULT_TOKEN_EXPIRATION_DAYS">
<span class="sig-name descname"><span class="pre">DEFAULT_TOKEN_EXPIRATION_DAYS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">42</span></em><a class="headerlink" href="#api.authenticator.OAuthAuthenticationProvider.DEFAULT_TOKEN_EXPIRATION_DAYS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.OAuthAuthenticationProvider.FLOW_TYPE">
<span class="sig-name descname"><span class="pre">FLOW_TYPE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'http://librarysimplified.org/authtype/OAuth-with-intermediary'</span></em><a class="headerlink" href="#api.authenticator.OAuthAuthenticationProvider.FLOW_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.OAuthAuthenticationProvider.OAUTH_TOKEN_EXPIRATION_DAYS">
<span class="sig-name descname"><span class="pre">OAUTH_TOKEN_EXPIRATION_DAYS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'token_expiration_days'</span></em><a class="headerlink" href="#api.authenticator.OAuthAuthenticationProvider.OAUTH_TOKEN_EXPIRATION_DAYS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.OAuthAuthenticationProvider.SETTINGS">
<span class="sig-name descname"><span class="pre">SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'token_expiration_days',</span> <span class="pre">'type':</span> <span class="pre">'number',</span> <span class="pre">'label':</span> <span class="pre">l'Days</span> <span class="pre">until</span> <span class="pre">OAuth</span> <span class="pre">token</span> <span class="pre">expires'}]</span></em><a class="headerlink" href="#api.authenticator.OAuthAuthenticationProvider.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.OAuthAuthenticationProvider.authenticated_patron">
<span class="sig-name descname"><span class="pre">authenticated_patron</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">token</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#OAuthAuthenticationProvider.authenticated_patron"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.OAuthAuthenticationProvider.authenticated_patron" title="Permalink to this definition">¶</a></dt>
<dd><p>Go from an OAuth provider token to an authenticated Patron.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>token</strong> – The provider token extracted from the Authorization
header. This is _not_ the bearer token found in
the Authorization header; it’s the provider-specific token
embedded in that token.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A Patron, if one can be authenticated. None, if the
credentials do not authenticate any particular patron. A
ProblemDetail if an error occurs.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.OAuthAuthenticationProvider.create_token">
<span class="sig-name descname"><span class="pre">create_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">token</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#OAuthAuthenticationProvider.create_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.OAuthAuthenticationProvider.create_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Credential object that ties the given patron to the
given provider token.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.OAuthAuthenticationProvider.external_authenticate_url">
<span class="sig-name descname"><span class="pre">external_authenticate_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#OAuthAuthenticationProvider.external_authenticate_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.OAuthAuthenticationProvider.external_authenticate_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the URL provided by the OAuth provider which will present
the patron with a login form.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>state</strong> – A state variable to be propagated through to the OAuth
callback.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.OAuthAuthenticationProvider.external_authenticate_url_parameters">
<span class="sig-name descname"><span class="pre">external_authenticate_url_parameters</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">state</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#OAuthAuthenticationProvider.external_authenticate_url_parameters"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.OAuthAuthenticationProvider.external_authenticate_url_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Arguments used to fill in the template EXTERNAL_AUTHENTICATE_URL.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.OAuthAuthenticationProvider.oauth_callback">
<span class="sig-name descname"><span class="pre">oauth_callback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">code</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#OAuthAuthenticationProvider.oauth_callback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.OAuthAuthenticationProvider.oauth_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify the incoming parameters with the OAuth provider. Exchange
the authorization code for an access token. Create or look up
appropriate database records.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>code</strong> – The authorization code generated by the
authorization server, as per section 4.1.2 of RFC 6749. This
method will exchange the authorization code for an access token.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A ProblemDetail if there’s a problem. Otherwise, a
3-tuple (Credential, Patron, PatronData). The Credential
contains the access token provided by the OAuth provider. The
Patron object represents the authenticated Patron, and the
PatronData object includes information about the patron
obtained from the OAuth provider which cannot be stored in the
circulation manager’s database, but which should be passed on
to the client.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.OAuthAuthenticationProvider.remote_exchange_authorization_code_for_access_token">
<span class="sig-name descname"><span class="pre">remote_exchange_authorization_code_for_access_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">code</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#OAuthAuthenticationProvider.remote_exchange_authorization_code_for_access_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.OAuthAuthenticationProvider.remote_exchange_authorization_code_for_access_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Ask the OAuth provider to convert a code (passed in to the OAuth
callback) into a bearer token.</p>
<p>We can use the bearer token to act on behalf of a specific
patron. It also gives us confidence that the patron
authenticated correctly with the OAuth provider.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A ProblemDetail if there’s a problem; otherwise, the
bearer token.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.OAuthAuthenticationProvider.remote_patron_lookup">
<span class="sig-name descname"><span class="pre">remote_patron_lookup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">access_token</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#OAuthAuthenticationProvider.remote_patron_lookup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.OAuthAuthenticationProvider.remote_patron_lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Use a bearer token to look up as much information as possible about
a patron.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A ProblemDetail if there’s a problem. Otherwise, a PatronData.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.OAuthAuthenticationProvider.token_data_source">
<span class="sig-name descname"><span class="pre">token_data_source</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#OAuthAuthenticationProvider.token_data_source"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.OAuthAuthenticationProvider.token_data_source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.authenticator.OAuthController">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.authenticator.</span></span><span class="sig-name descname"><span class="pre">OAuthController</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">authenticator</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#OAuthController"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.OAuthController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A controller for handling requests that are part of the OAuth
credential dance.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.OAuthController.oauth_authentication_callback">
<span class="sig-name descname"><span class="pre">oauth_authentication_callback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#OAuthController.oauth_authentication_callback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.OAuthController.oauth_authentication_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Patron object and a bearer token for a patron who has just
authenticated with one of our OAuth providers.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p><p>A redirect to the <cite>redirect_uri</cite> kept in
<cite>params[‘state’]</cite>, with the bearer token encoded into the
fragment identifier as <cite>access_token</cite> and useful information
about the patron encoded into the fragment identifier as
<cite>patron_info</cite>. For example, if params is</p>
<p>dict(state=”<a class="reference external" href="http://oauthprovider.org/success">http://oauthprovider.org/success</a>”)</p>
</p>
</dd>
</dl>
<p>Then the redirect URI might be:</p>
<blockquote>
<div><p><a class="reference external" href="http://oauthprovider.org/success#access_token=1234&amp;patron_info=%7B%22name%22%3A+%22Mary+Shell%22%7D">http://oauthprovider.org/success#access_token=1234&amp;patron_info=%7B%22name%22%3A+%22Mary+Shell%22%7D</a></p>
</div></blockquote>
<p>It’s the client’s responsibility to extract the access_token,
start using it as a bearer token, and make sense of the
patron_info.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.OAuthController.oauth_authentication_callback_url">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">oauth_authentication_callback_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library_short_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#OAuthController.oauth_authentication_callback_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.OAuthController.oauth_authentication_callback_url" title="Permalink to this definition">¶</a></dt>
<dd><p>The URL to the oauth_authentication_callback controller.</p>
<p>This is its own method because sometimes an
OAuthAuthenticationProvider needs to send it to the OAuth
provider to demonstrate that it knows which URL a patron was
redirected to.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.OAuthController.oauth_authentication_redirect">
<span class="sig-name descname"><span class="pre">oauth_authentication_redirect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#OAuthController.oauth_authentication_redirect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.OAuthController.oauth_authentication_redirect" title="Permalink to this definition">¶</a></dt>
<dd><p>Redirect an unauthenticated patron to the authentication URL of the
appropriate OAuth provider.</p>
<p>Over on that other site, the patron will authenticate and be
redirected back to the circulation manager, ending up in
oauth_authentication_callback.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.authenticator.PatronData">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.authenticator.</span></span><span class="sig-name descname"><span class="pre">PatronData</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">permanent_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">authorization_identifier</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">username</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">personal_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">email_address</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">authorization_expires</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">external_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fines</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">block_reason</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">library_identifier</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">neighborhood</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cached_neighborhood</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">complete</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_new</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#PatronData"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.PatronData" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A container for basic information about a patron.</p>
<p>Like Metadata and CirculationData, this offers a layer of
abstraction between various account managment systems and the
circulation manager database. Unlike with those classes, some of
this data cannot be written to the database for data retention
reasons. But it can be passed from the account management system
to the client application.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.PatronData.CARD_REPORTED_LOST">
<span class="sig-name descname"><span class="pre">CARD_REPORTED_LOST</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'card</span> <span class="pre">reported</span> <span class="pre">lost'</span></em><a class="headerlink" href="#api.authenticator.PatronData.CARD_REPORTED_LOST" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.PatronData.EXCESSIVE_FEES">
<span class="sig-name descname"><span class="pre">EXCESSIVE_FEES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'excessive</span> <span class="pre">fees'</span></em><a class="headerlink" href="#api.authenticator.PatronData.EXCESSIVE_FEES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.PatronData.EXCESSIVE_FINES">
<span class="sig-name descname"><span class="pre">EXCESSIVE_FINES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'excessive</span> <span class="pre">fines'</span></em><a class="headerlink" href="#api.authenticator.PatronData.EXCESSIVE_FINES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.PatronData.NO_BORROWING_PRIVILEGES">
<span class="sig-name descname"><span class="pre">NO_BORROWING_PRIVILEGES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'no</span> <span class="pre">borrowing</span> <span class="pre">privileges'</span></em><a class="headerlink" href="#api.authenticator.PatronData.NO_BORROWING_PRIVILEGES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.PatronData.NO_VALUE">
<span class="sig-name descname"><span class="pre">NO_VALUE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;api.authenticator.PatronData.NoValue</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#api.authenticator.PatronData.NO_VALUE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.authenticator.PatronData.NoValue">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">NoValue</span></span><a class="reference internal" href="_modules/api/authenticator.html#PatronData.NoValue"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.PatronData.NoValue" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.PatronData.RECALL_OVERDUE">
<span class="sig-name descname"><span class="pre">RECALL_OVERDUE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'recall</span> <span class="pre">overdue'</span></em><a class="headerlink" href="#api.authenticator.PatronData.RECALL_OVERDUE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.PatronData.TOO_MANY_ITEMS_BILLED">
<span class="sig-name descname"><span class="pre">TOO_MANY_ITEMS_BILLED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'too</span> <span class="pre">many</span> <span class="pre">items</span> <span class="pre">billed'</span></em><a class="headerlink" href="#api.authenticator.PatronData.TOO_MANY_ITEMS_BILLED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.PatronData.TOO_MANY_LOANS">
<span class="sig-name descname"><span class="pre">TOO_MANY_LOANS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'too</span> <span class="pre">many</span> <span class="pre">active</span> <span class="pre">loans'</span></em><a class="headerlink" href="#api.authenticator.PatronData.TOO_MANY_LOANS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.PatronData.TOO_MANY_LOST">
<span class="sig-name descname"><span class="pre">TOO_MANY_LOST</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'too</span> <span class="pre">many</span> <span class="pre">items</span> <span class="pre">lost'</span></em><a class="headerlink" href="#api.authenticator.PatronData.TOO_MANY_LOST" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.PatronData.TOO_MANY_OVERDUE">
<span class="sig-name descname"><span class="pre">TOO_MANY_OVERDUE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'too</span> <span class="pre">many</span> <span class="pre">items</span> <span class="pre">overdue'</span></em><a class="headerlink" href="#api.authenticator.PatronData.TOO_MANY_OVERDUE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.PatronData.TOO_MANY_RENEWALS">
<span class="sig-name descname"><span class="pre">TOO_MANY_RENEWALS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'too</span> <span class="pre">many</span> <span class="pre">renewals'</span></em><a class="headerlink" href="#api.authenticator.PatronData.TOO_MANY_RENEWALS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.PatronData.UNKNOWN_BLOCK">
<span class="sig-name descname"><span class="pre">UNKNOWN_BLOCK</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'unknown'</span></em><a class="headerlink" href="#api.authenticator.PatronData.UNKNOWN_BLOCK" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.PatronData.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#PatronData.apply"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.PatronData.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>Take the portion of this data that can be stored in the database
and write it to the given Patron record.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.authenticator.PatronData.fines">
<span class="sig-name descname"><span class="pre">fines</span></span><a class="headerlink" href="#api.authenticator.PatronData.fines" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.PatronData.get_or_create_patron">
<span class="sig-name descname"><span class="pre">get_or_create_patron</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">library_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analytics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#PatronData.get_or_create_patron"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.PatronData.get_or_create_patron" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Patron with this information.</p>
<p>TODO: I’m concerned in the general case with race
conditions. It’s theoretically possible that two newly created
patrons could have the same username or authorization
identifier, violating a uniqueness constraint. This could
happen if one was identified by permanent ID and the other had
no permanent ID and was identified by username. (This would
only come up if the authentication provider has permanent IDs
for some patrons but not others.)</p>
<p>Something similar can happen if the authentication provider
provides username and authorization identifier, but not
permanent ID, and the patron’s authorization identifier (but
not their username) changes while two different circulation
manager authentication requests are pending.</p>
<p>When these race conditions do happen, I think the worst that
will happen is the second request will fail. But it’s very
important that authorization providers give some unique,
preferably unchanging way of identifying patrons.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>library_id</strong> – Database ID of the Library with which this
patron is associated.</p></li>
<li><p><strong>analytics</strong> – Analytics instance to track the new patron
creation event.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.PatronData.set_authorization_identifier">
<span class="sig-name descname"><span class="pre">set_authorization_identifier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">authorization_identifier</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#PatronData.set_authorization_identifier"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.PatronData.set_authorization_identifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper method to set both .authorization_identifier
and .authorization_identifiers appropriately.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.authenticator.PatronData.set_value">
<span class="sig-name descname"><span class="pre">set_value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#PatronData.set_value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.authenticator.PatronData.set_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.authenticator.PatronData.to_dict">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">to_dict</span></span><a class="headerlink" href="#api.authenticator.PatronData.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the information in this PatronData to a dictionary
which can be converted to JSON and sent out to a client.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.authenticator.PatronData.to_response_parameters">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">to_response_parameters</span></span><a class="headerlink" href="#api.authenticator.PatronData.to_response_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Return information about this patron which the client might
find useful.</p>
<p>This information will be sent to the client immediately after
a patron’s credentials are verified by an OAuth provider.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-api.axis">
<span id="api-axis-module"></span><h2>api.axis module<a class="headerlink" href="#module-api.axis" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.axis.AudiobookMetadataParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.axis.</span></span><span class="sig-name descname"><span class="pre">AudiobookMetadataParser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#AudiobookMetadataParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.AudiobookMetadataParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.axis.JSONResponseParser" title="api.axis.JSONResponseParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">JSONResponseParser</span></code></a></p>
<p>Parse the results of Axis 360’s audiobook metadata API call.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.axis.AvailabilityResponseParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.axis.</span></span><span class="sig-name descname"><span class="pre">AvailabilityResponseParser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">api</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#AvailabilityResponseParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.AvailabilityResponseParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.axis.ResponseParser" title="api.axis.ResponseParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResponseParser</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.axis.AvailabilityResponseParser.process_all">
<span class="sig-name descname"><span class="pre">process_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#AvailabilityResponseParser.process_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.AvailabilityResponseParser.process_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.AvailabilityResponseParser.process_one">
<span class="sig-name descname"><span class="pre">process_one</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">e</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ns</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#AvailabilityResponseParser.process_one"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.AvailabilityResponseParser.process_one" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.axis.Axis360API">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.axis.</span></span><span class="sig-name descname"><span class="pre">Axis360API</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360API" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.authenticator.Authenticator" title="api.authenticator.Authenticator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Authenticator</span></code></a>, <a class="reference internal" href="#api.circulation.BaseCirculationAPI" title="api.circulation.BaseCirculationAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseCirculationAPI</span></code></a>, <a class="reference internal" href="#api.axis.Axis360APIConstants" title="api.axis.Axis360APIConstants"><code class="xref py py-class docutils literal notranslate"><span class="pre">Axis360APIConstants</span></code></a>, <a class="reference internal" href="#api.selftest.HasCollectionSelfTests" title="api.selftest.HasCollectionSelfTests"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasCollectionSelfTests</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360API.ALLOW_ANONYMOUS_ACCESS_SETTING">
<span class="sig-name descname"><span class="pre">ALLOW_ANONYMOUS_ACCESS_SETTING</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'allow_anonymous_access'</span></em><a class="headerlink" href="#api.axis.Axis360API.ALLOW_ANONYMOUS_ACCESS_SETTING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360API.AXISNOW">
<span class="sig-name descname"><span class="pre">AXISNOW</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'AxisNow'</span></em><a class="headerlink" href="#api.axis.Axis360API.AXISNOW" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360API.DATE_FORMAT">
<span class="sig-name descname"><span class="pre">DATE_FORMAT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'%m-%d-%Y</span> <span class="pre">%H:%M:%S'</span></em><a class="headerlink" href="#api.axis.Axis360API.DATE_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360API.LIBRARY_SETTINGS">
<span class="sig-name descname"><span class="pre">LIBRARY_SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'ebook_loan_duration',</span> <span class="pre">'label':</span> <span class="pre">l'Default</span> <span class="pre">Loan</span> <span class="pre">Period</span> <span class="pre">(in</span> <span class="pre">Days)',</span> <span class="pre">'default':</span> <span class="pre">21,</span> <span class="pre">'type':</span> <span class="pre">'number',</span> <span class="pre">'description':</span> <span class="pre">l'Until</span> <span class="pre">it</span> <span class="pre">hears</span> <span class="pre">otherwise</span> <span class="pre">from</span> <span class="pre">the</span> <span class="pre">distributor,</span> <span class="pre">this</span> <span class="pre">server</span> <span class="pre">will</span> <span class="pre">assume</span> <span class="pre">that</span> <span class="pre">any</span> <span class="pre">given</span> <span class="pre">loan</span> <span class="pre">for</span> <span class="pre">this</span> <span class="pre">library</span> <span class="pre">from</span> <span class="pre">this</span> <span class="pre">collection</span> <span class="pre">will</span> <span class="pre">last</span> <span class="pre">this</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">days.</span> <span class="pre">This</span> <span class="pre">number</span> <span class="pre">is</span> <span class="pre">usually</span> <span class="pre">a</span> <span class="pre">negotiated</span> <span class="pre">value</span> <span class="pre">between</span> <span class="pre">the</span> <span class="pre">library</span> <span class="pre">and</span> <span class="pre">the</span> <span class="pre">distributor.</span> <span class="pre">This</span> <span class="pre">only</span> <span class="pre">affects</span> <span class="pre">estimates&amp;mdash;it</span> <span class="pre">cannot</span> <span class="pre">affect</span> <span class="pre">the</span> <span class="pre">actual</span> <span class="pre">length</span> <span class="pre">of</span> <span class="pre">loans.'}]</span></em><a class="headerlink" href="#api.axis.Axis360API.LIBRARY_SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360API.NAME">
<span class="sig-name descname"><span class="pre">NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Axis</span> <span class="pre">360'</span></em><a class="headerlink" href="#api.axis.Axis360API.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360API.PRODUCTION_BASE_URL">
<span class="sig-name descname"><span class="pre">PRODUCTION_BASE_URL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'https://axis360api.baker-taylor.com/Services/VendorAPI/'</span></em><a class="headerlink" href="#api.axis.Axis360API.PRODUCTION_BASE_URL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360API.QA_BASE_URL">
<span class="sig-name descname"><span class="pre">QA_BASE_URL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'http://axis360apiqa.baker-taylor.com/Services/VendorAPI/'</span></em><a class="headerlink" href="#api.axis.Axis360API.QA_BASE_URL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360API.SERVER_NICKNAMES">
<span class="sig-name descname"><span class="pre">SERVER_NICKNAMES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'production':</span> <span class="pre">'https://axis360api.baker-taylor.com/Services/VendorAPI/',</span> <span class="pre">'qa':</span> <span class="pre">'http://axis360apiqa.baker-taylor.com/Services/VendorAPI/'}</span></em><a class="headerlink" href="#api.axis.Axis360API.SERVER_NICKNAMES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360API.SERVICE_NAME">
<span class="sig-name descname"><span class="pre">SERVICE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Axis</span> <span class="pre">360'</span></em><a class="headerlink" href="#api.axis.Axis360API.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360API.SETTINGS">
<span class="sig-name descname"><span class="pre">SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'username',</span> <span class="pre">'label':</span> <span class="pre">l'Username',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'password',</span> <span class="pre">'label':</span> <span class="pre">l'Password',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'external_account_id',</span> <span class="pre">'label':</span> <span class="pre">l'Library</span> <span class="pre">ID',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'url',</span> <span class="pre">'label':</span> <span class="pre">l'Server',</span> <span class="pre">'default':</span> <span class="pre">'https://axis360api.baker-taylor.com/Services/VendorAPI/',</span> <span class="pre">'required':</span> <span class="pre">True,</span> <span class="pre">'format':</span> <span class="pre">'url',</span> <span class="pre">'allowed':</span> <span class="pre">['production',</span> <span class="pre">'qa']},</span> <span class="pre">{'key':</span> <span class="pre">'verify_certificate',</span> <span class="pre">'label':</span> <span class="pre">l'Verify</span> <span class="pre">SSL</span> <span class="pre">Certificate',</span> <span class="pre">'description':</span> <span class="pre">l'This</span> <span class="pre">should</span> <span class="pre">always</span> <span class="pre">be</span> <span class="pre">True</span> <span class="pre">in</span> <span class="pre">production,</span> <span class="pre">it</span> <span class="pre">may</span> <span class="pre">need</span> <span class="pre">to</span> <span class="pre">be</span> <span class="pre">set</span> <span class="pre">to</span> <span class="pre">False</span> <span class="pre">to</span> <span class="pre">use</span> <span class="pre">theAxis</span> <span class="pre">360</span> <span class="pre">QA</span> <span class="pre">Environment.',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'label':</span> <span class="pre">l'True',</span> <span class="pre">'key':</span> <span class="pre">'True'},</span> <span class="pre">{'label':</span> <span class="pre">l'False',</span> <span class="pre">'key':</span> <span class="pre">'False'}],</span> <span class="pre">'default':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'allow_anonymous_access',</span> <span class="pre">'label':</span> <span class="pre">l'Allow</span> <span class="pre">anonymous</span> <span class="pre">access',</span> <span class="pre">'description':</span> <span class="pre">l'If</span> <span class="pre">you're</span> <span class="pre">associating</span> <span class="pre">an</span> <span class="pre">Axis</span> <span class="pre">360</span> <span class="pre">collection</span> <span class="pre">with</span> <span class="pre">a</span> <span class="pre">library</span> <span class="pre">that</span> <span class="pre">doesn't</span> <span class="pre">take</span> <span class="pre">any</span> <span class="pre">steps</span> <span class="pre">to</span> <span class="pre">authenticate</span> <span class="pre">its</span> <span class="pre">patrons,</span> <span class="pre">you'll</span> <span class="pre">need</span> <span class="pre">to</span> <span class="pre">disable</span> <span class="pre">this</span> <span class="pre">safety</span> <span class="pre">setting</span> <span class="pre">to</span> <span class="pre">explicitly</span> <span class="pre">allow</span> <span class="pre">anonymous</span> <span class="pre">access</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">collection.</span> <span class="pre">Most</span> <span class="pre">libraries</span> <span class="pre">authenticate</span> <span class="pre">their</span> <span class="pre">patrons,</span> <span class="pre">so</span> <span class="pre">allowing</span> <span class="pre">only</span> <span class="pre">authenticated</span> <span class="pre">access</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">right</span> <span class="pre">choice</span> <span class="pre">in</span> <span class="pre">almost</span> <span class="pre">all</span> <span class="pre">situations.',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'false',</span> <span class="pre">'label':</span> <span class="pre">l'Allow</span> <span class="pre">only</span> <span class="pre">authenticated</span> <span class="pre">access</span> <span class="pre">to</span> <span class="pre">this</span> <span class="pre">collection's</span> <span class="pre">titles'},</span> <span class="pre">{'key':</span> <span class="pre">'true',</span> <span class="pre">'label':</span> <span class="pre">l'Allow</span> <span class="pre">anonymous</span> <span class="pre">access</span> <span class="pre">to</span> <span class="pre">this</span> <span class="pre">collection's</span> <span class="pre">titles'}],</span> <span class="pre">'default':</span> <span class="pre">'false'}]</span></em><a class="headerlink" href="#api.axis.Axis360API.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360API.SET_DELIVERY_MECHANISM_AT">
<span class="sig-name descname"><span class="pre">SET_DELIVERY_MECHANISM_AT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'borrow'</span></em><a class="headerlink" href="#api.axis.Axis360API.SET_DELIVERY_MECHANISM_AT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360API.access_token_endpoint">
<span class="sig-name descname"><span class="pre">access_token_endpoint</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'accesstoken'</span></em><a class="headerlink" href="#api.axis.Axis360API.access_token_endpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360API.adobe_drm">
<span class="sig-name descname"><span class="pre">adobe_drm</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'application/vnd.adobe.adept+xml'</span></em><a class="headerlink" href="#api.axis.Axis360API.adobe_drm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360API.audiobook_metadata_endpoint">
<span class="sig-name descname"><span class="pre">audiobook_metadata_endpoint</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'getaudiobookmetadata/v2'</span></em><a class="headerlink" href="#api.axis.Axis360API.audiobook_metadata_endpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.axis.Axis360API.authorization_headers">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">authorization_headers</span></span><a class="headerlink" href="#api.axis.Axis360API.authorization_headers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.Axis360API.availability">
<span class="sig-name descname"><span class="pre">availability</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">since</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title_ids</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.availability"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360API.availability" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360API.availability_endpoint">
<span class="sig-name descname"><span class="pre">availability_endpoint</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'availability/v2'</span></em><a class="headerlink" href="#api.axis.Axis360API.availability_endpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360API.axisnow_drm">
<span class="sig-name descname"><span class="pre">axisnow_drm</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'application/vnd.librarysimplified.axisnow+json'</span></em><a class="headerlink" href="#api.axis.Axis360API.axisnow_drm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.Axis360API.can_fulfill_without_loan">
<span class="sig-name descname"><span class="pre">can_fulfill_without_loan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lpdm</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.can_fulfill_without_loan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360API.can_fulfill_without_loan" title="Permalink to this definition">¶</a></dt>
<dd><p>A LicensePool can be fulfilled without a loan
if a) the library allows for it, and b) the delivery mechanism
is either AxisNow or unspecified (in which case AxisNow is an option).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.Axis360API.checkin">
<span class="sig-name descname"><span class="pre">checkin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.checkin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360API.checkin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a book early.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patron</strong> – The Patron who wants to return their book.</p></li>
<li><p><strong>pin</strong> – Not used.</p></li>
<li><p><strong>licensepool</strong> – LicensePool for the book to be returned.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="#api.circulation_exceptions.CirculationException" title="api.circulation_exceptions.CirculationException"><strong>CirculationException</strong></a> – If the API can’t carry out the operation.</p></li>
<li><p><a class="reference internal" href="#api.circulation_exceptions.RemoteInitiatedServerError" title="api.circulation_exceptions.RemoteInitiatedServerError"><strong>RemoteInitiatedServerError</strong></a> – If the API is down.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.Axis360API.checkout">
<span class="sig-name descname"><span class="pre">checkout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal_format</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.checkout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360API.checkout" title="Permalink to this definition">¶</a></dt>
<dd><p>Check out a book on behalf of a patron.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patron</strong> – a Patron object for the patron who wants to check out the book.</p></li>
<li><p><strong>pin</strong> – The patron’s alleged password.</p></li>
<li><p><strong>licensepool</strong> – Contains lending info as well as link to parent Identifier.</p></li>
<li><p><strong>internal_format</strong> – Represents the patron’s desired book format.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a LoanInfo object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.axis.Axis360API.collection">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">collection</span></span><a class="headerlink" href="#api.axis.Axis360API.collection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.Axis360API.create_identifier_strings">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_identifier_strings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifiers</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.create_identifier_strings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360API.create_identifier_strings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360API.delivery_mechanism_to_internal_format">
<span class="sig-name descname"><span class="pre">delivery_mechanism_to_internal_format</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{('application/epub+zip',</span> <span class="pre">None):</span> <span class="pre">'ePub',</span> <span class="pre">('application/epub+zip',</span> <span class="pre">'application/vnd.adobe.adept+xml'):</span> <span class="pre">'ePub',</span> <span class="pre">('application/pdf',</span> <span class="pre">None):</span> <span class="pre">'PDF',</span> <span class="pre">('application/pdf',</span> <span class="pre">'application/vnd.adobe.adept+xml'):</span> <span class="pre">'PDF',</span> <span class="pre">(None,</span> <span class="pre">'application/vnd.librarysimplified.findaway.license+json'):</span> <span class="pre">'Acoustik',</span> <span class="pre">(None,</span> <span class="pre">'application/vnd.librarysimplified.axisnow+json'):</span> <span class="pre">'AxisNow'}</span></em><a class="headerlink" href="#api.axis.Axis360API.delivery_mechanism_to_internal_format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360API.epub">
<span class="sig-name descname"><span class="pre">epub</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'application/epub+zip'</span></em><a class="headerlink" href="#api.axis.Axis360API.epub" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.Axis360API.external_integration">
<span class="sig-name descname"><span class="pre">external_integration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.external_integration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360API.external_integration" title="Permalink to this definition">¶</a></dt>
<dd><p>Locate the ExternalIntegration associated with this object.
The status of the self-tests will be stored as a ConfigurationSetting
on this ExternalIntegration.</p>
<p>By default, there is no way to get from an object to its
ExternalIntegration, and self-test status will not be stored.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360API.findaway_drm">
<span class="sig-name descname"><span class="pre">findaway_drm</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'application/vnd.librarysimplified.findaway.license+json'</span></em><a class="headerlink" href="#api.axis.Axis360API.findaway_drm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.Axis360API.fulfill">
<span class="sig-name descname"><span class="pre">fulfill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal_format</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.fulfill"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360API.fulfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Fulfill a patron’s request for a specific book.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>kwargs</strong> – A container for arguments to fulfill()
which are not relevant to this vendor.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a FulfillmentInfo object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360API.fulfillment_endpoint">
<span class="sig-name descname"><span class="pre">fulfillment_endpoint</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'getfullfillmentInfo/v2'</span></em><a class="headerlink" href="#api.axis.Axis360API.fulfillment_endpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.Axis360API.get_audiobook_metadata">
<span class="sig-name descname"><span class="pre">get_audiobook_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">findaway_content_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.get_audiobook_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360API.get_audiobook_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a call to the getaudiobookmetadata endpoint.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.Axis360API.get_fulfillment_info">
<span class="sig-name descname"><span class="pre">get_fulfillment_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">transaction_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.get_fulfillment_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360API.get_fulfillment_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a call to the getFulfillmentInfoAPI.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360API.log">
<span class="sig-name descname"><span class="pre">log</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;Logger</span> <span class="pre">Axis</span> <span class="pre">360</span> <span class="pre">API</span> <span class="pre">(WARNING)&gt;</span></em><a class="headerlink" href="#api.axis.Axis360API.log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360API.no_drm">
<span class="sig-name descname"><span class="pre">no_drm</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#api.axis.Axis360API.no_drm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.Axis360API.parse_token">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parse_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">token</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.parse_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360API.parse_token" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.Axis360API.patron_activity">
<span class="sig-name descname"><span class="pre">patron_activity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.patron_activity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360API.patron_activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a patron’s current checkouts and holds.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360API.pdf">
<span class="sig-name descname"><span class="pre">pdf</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'application/pdf'</span></em><a class="headerlink" href="#api.axis.Axis360API.pdf" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.Axis360API.place_hold">
<span class="sig-name descname"><span class="pre">place_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hold_notification_email</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.place_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360API.place_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Place a book on hold.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A HoldInfo object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.Axis360API.recent_activity">
<span class="sig-name descname"><span class="pre">recent_activity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">since</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.recent_activity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360API.recent_activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Find books that have had recent activity.</p>
<dl class="field-list simple">
<dt class="field-odd">Yield<span class="colon">:</span></dt>
<dd class="field-odd"><p>A sequence of (Metadata, CirculationData) 2-tuples</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.Axis360API.refresh_bearer_token">
<span class="sig-name descname"><span class="pre">refresh_bearer_token</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.refresh_bearer_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360API.refresh_bearer_token" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.Axis360API.release_hold">
<span class="sig-name descname"><span class="pre">release_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.release_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360API.release_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Release a patron’s hold on a book.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#api.circulation_exceptions.CannotReleaseHold" title="api.circulation_exceptions.CannotReleaseHold"><strong>CannotReleaseHold</strong></a> – If there is an error communicating
with the provider, or the provider refuses to release the hold for
any reason.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.Axis360API.request">
<span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'get'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exception_on_401</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360API.request" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an HTTP request, acquiring/refreshing a bearer token
if necessary.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.axis.Axis360API.source">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">source</span></span><a class="headerlink" href="#api.axis.Axis360API.source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.Axis360API.update_availability">
<span class="sig-name descname"><span class="pre">update_availability</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.update_availability"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360API.update_availability" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the availability information for a single LicensePool.</p>
<p>Part of the CirculationAPI interface.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.Axis360API.update_book">
<span class="sig-name descname"><span class="pre">update_book</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bibliographic</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">availability</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analytics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.update_book"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360API.update_book" title="Permalink to this definition">¶</a></dt>
<dd><p>Create or update a single book based on bibliographic
and availability data from the Axis 360 API.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>bibliographic</strong> – A Metadata object containing
bibliographic data about this title.</p></li>
<li><p><strong>availability</strong> – A CirculationData object containing
availability data about this title.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.Axis360API.update_licensepools_for_identifiers">
<span class="sig-name descname"><span class="pre">update_licensepools_for_identifiers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifiers</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.update_licensepools_for_identifiers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360API.update_licensepools_for_identifiers" title="Permalink to this definition">¶</a></dt>
<dd><p>Update availability and bibliographic information for
a list of books.</p>
<p>If the book has never been seen before, a new LicensePool
will be created for the book.</p>
<p>The book’s LicensePool will be updated with current
circulation information.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.axis.Axis360APIConstants">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.axis.</span></span><span class="sig-name descname"><span class="pre">Axis360APIConstants</span></span><a class="reference internal" href="_modules/api/axis.html#Axis360APIConstants"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360APIConstants" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360APIConstants.VERIFY_SSL">
<span class="sig-name descname"><span class="pre">VERIFY_SSL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'verify_certificate'</span></em><a class="headerlink" href="#api.axis.Axis360APIConstants.VERIFY_SSL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.axis.Axis360AcsFulfillmentInfo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.axis.</span></span><span class="sig-name descname"><span class="pre">Axis360AcsFulfillmentInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">verify</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360AcsFulfillmentInfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360AcsFulfillmentInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation.FulfillmentInfo" title="api.circulation.FulfillmentInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">FulfillmentInfo</span></code></a></p>
<p>This implements a Axis 360 specific FulfillmentInfo for ACS content
served through AxisNow. The AxisNow API gives us a link that we can use
to get the ACSM file that we serve to the mobile apps.
This link resolves to a redirect, which resolves to the actual ACSM file.
The URL we are given in the redirect has a percent encoded query string
in it. The encoding used in this string has lower case characters in it
like “%3a” for :.
In versions of urllib3 &gt; 1.24.3 the library normalizes the query string
before doing the actual request. In doing the normalization it follows the
recommendation of RFC 3986 and uppercases the percent encoded bytes.
This causes the Axis360 API to return an error from Adobe ACS:
<code class="docutils literal notranslate"><span class="pre">`</span>
<span class="pre">&lt;error</span> <span class="pre">xmlns=&quot;http://ns.adobe.com/adept&quot;</span> <span class="pre">data=&quot;E_URLLINK_AUTH</span>
<span class="pre">https://acsqa.digitalcontentcafe.com/fulfillment/URLLink.acsm&quot;/&gt;</span>
<span class="pre">`</span></code>
instead of the correct ACSM file.
Others have noted that this is a problem in the urllib3 github but they
do not seem interested in providing an option to override this behavior
and closed the ticket.
<a class="reference external" href="https://github.com/urllib3/urllib3/issues/1677">https://github.com/urllib3/urllib3/issues/1677</a>
This FulfillmentInfo implementation uses the built in Python urllib
implementation instead of requests (and urllib3) to make this request
to the Axis 360 API, sidestepping the problem, but taking a different
code path than most of our external HTTP requests.</p>
<p>Copyright The Palace Project for code licensed under the Apache 2.0 License.</p>
<dl class="py property">
<dt class="sig sig-object py" id="api.axis.Axis360AcsFulfillmentInfo.as_response">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">as_response</span></span><a class="headerlink" href="#api.axis.Axis360AcsFulfillmentInfo.as_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Bypass the normal process of creating a Flask Response.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A Response object, or None if you’re okay with the
normal process.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360AcsFulfillmentInfo.logger">
<span class="sig-name descname"><span class="pre">logger</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;Logger</span> <span class="pre">api.axis</span> <span class="pre">(WARNING)&gt;</span></em><a class="headerlink" href="#api.axis.Axis360AcsFulfillmentInfo.logger" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.Axis360AcsFulfillmentInfo.problem_detail_document">
<span class="sig-name descname"><span class="pre">problem_detail_document</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">error_details</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360AcsFulfillmentInfo.problem_detail_document"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360AcsFulfillmentInfo.problem_detail_document" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.axis.Axis360BibliographicCoverageProvider">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.axis.</span></span><span class="sig-name descname"><span class="pre">Axis360BibliographicCoverageProvider</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_class=&lt;class</span> <span class="pre">'api.axis.Axis360API'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360BibliographicCoverageProvider"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360BibliographicCoverageProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.coverage.BibliographicCoverageProvider" title="core.coverage.BibliographicCoverageProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">BibliographicCoverageProvider</span></code></a></p>
<p>Fill in bibliographic metadata for Axis 360 records.</p>
<p>Currently this is only used by BibliographicRefreshScript. It’s
not normally necessary because the Axis 360 API combines
bibliographic and availability data. We rely on Monitors to fetch
availability data and fill in the bibliographic data as necessary.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360BibliographicCoverageProvider.DATA_SOURCE_NAME">
<span class="sig-name descname"><span class="pre">DATA_SOURCE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Axis</span> <span class="pre">360'</span></em><a class="headerlink" href="#api.axis.Axis360BibliographicCoverageProvider.DATA_SOURCE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360BibliographicCoverageProvider.DEFAULT_BATCH_SIZE">
<span class="sig-name descname"><span class="pre">DEFAULT_BATCH_SIZE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">25</span></em><a class="headerlink" href="#api.axis.Axis360BibliographicCoverageProvider.DEFAULT_BATCH_SIZE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360BibliographicCoverageProvider.INPUT_IDENTIFIER_TYPES">
<span class="sig-name descname"><span class="pre">INPUT_IDENTIFIER_TYPES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Axis</span> <span class="pre">360</span> <span class="pre">ID'</span></em><a class="headerlink" href="#api.axis.Axis360BibliographicCoverageProvider.INPUT_IDENTIFIER_TYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360BibliographicCoverageProvider.PROTOCOL">
<span class="sig-name descname"><span class="pre">PROTOCOL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Axis</span> <span class="pre">360'</span></em><a class="headerlink" href="#api.axis.Axis360BibliographicCoverageProvider.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360BibliographicCoverageProvider.SERVICE_NAME">
<span class="sig-name descname"><span class="pre">SERVICE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Axis</span> <span class="pre">360</span> <span class="pre">Bibliographic</span> <span class="pre">Coverage</span> <span class="pre">Provider'</span></em><a class="headerlink" href="#api.axis.Axis360BibliographicCoverageProvider.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.Axis360BibliographicCoverageProvider.handle_success">
<span class="sig-name descname"><span class="pre">handle_success</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360BibliographicCoverageProvider.handle_success"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360BibliographicCoverageProvider.handle_success" title="Permalink to this definition">¶</a></dt>
<dd><p>Once a book has bibliographic coverage, it can be given a
work and made presentation ready.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.Axis360BibliographicCoverageProvider.process_batch">
<span class="sig-name descname"><span class="pre">process_batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifiers</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360BibliographicCoverageProvider.process_batch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360BibliographicCoverageProvider.process_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Do what it takes to give coverage records to a batch of
items.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A mixed list of coverage records and CoverageFailures.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.Axis360BibliographicCoverageProvider.process_item">
<span class="sig-name descname"><span class="pre">process_item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360BibliographicCoverageProvider.process_item"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360BibliographicCoverageProvider.process_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Do the work necessary to give coverage to one specific item.</p>
<p>Since this is where the actual work happens, this is not
implemented in IdentifierCoverageProvider or
WorkCoverageProvider, and must be handled in a subclass.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.axis.Axis360CirculationMonitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.axis.</span></span><span class="sig-name descname"><span class="pre">Axis360CirculationMonitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_class=&lt;class</span> <span class="pre">'api.axis.Axis360API'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360CirculationMonitor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360CirculationMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.monitor.CollectionMonitor" title="core.monitor.CollectionMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">CollectionMonitor</span></code></a>, <a class="reference internal" href="core.html#core.monitor.TimelineMonitor" title="core.monitor.TimelineMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimelineMonitor</span></code></a></p>
<p>Maintain LicensePools for Axis 360 titles.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360CirculationMonitor.DEFAULT_BATCH_SIZE">
<span class="sig-name descname"><span class="pre">DEFAULT_BATCH_SIZE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">50</span></em><a class="headerlink" href="#api.axis.Axis360CirculationMonitor.DEFAULT_BATCH_SIZE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360CirculationMonitor.DEFAULT_START_TIME">
<span class="sig-name descname"><span class="pre">DEFAULT_START_TIME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">datetime.datetime(1970,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">tzinfo=&lt;UTC&gt;)</span></em><a class="headerlink" href="#api.axis.Axis360CirculationMonitor.DEFAULT_START_TIME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360CirculationMonitor.INTERVAL_SECONDS">
<span class="sig-name descname"><span class="pre">INTERVAL_SECONDS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">60</span></em><a class="headerlink" href="#api.axis.Axis360CirculationMonitor.INTERVAL_SECONDS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360CirculationMonitor.PROTOCOL">
<span class="sig-name descname"><span class="pre">PROTOCOL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Axis</span> <span class="pre">360'</span></em><a class="headerlink" href="#api.axis.Axis360CirculationMonitor.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360CirculationMonitor.SERVICE_NAME">
<span class="sig-name descname"><span class="pre">SERVICE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Axis</span> <span class="pre">360</span> <span class="pre">Circulation</span> <span class="pre">Monitor'</span></em><a class="headerlink" href="#api.axis.Axis360CirculationMonitor.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.Axis360CirculationMonitor.catch_up_from">
<span class="sig-name descname"><span class="pre">catch_up_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360CirculationMonitor.catch_up_from"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360CirculationMonitor.catch_up_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Find Axis 360 books that changed recently.</p>
<dl class="field-list simple">
<dt class="field-odd">Progress<span class="colon">:</span></dt>
<dd class="field-odd"><p>A TimestampData representing the time previously
covered by this Monitor.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.Axis360CirculationMonitor.process_book">
<span class="sig-name descname"><span class="pre">process_book</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bibliographic</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">circulation</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360CirculationMonitor.process_book"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360CirculationMonitor.process_book" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.axis.Axis360FulfillmentInfo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.axis.</span></span><span class="sig-name descname"><span class="pre">Axis360FulfillmentInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">api</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_source_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360FulfillmentInfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360FulfillmentInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation.APIAwareFulfillmentInfo" title="api.circulation.APIAwareFulfillmentInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">APIAwareFulfillmentInfo</span></code></a></p>
<p>An Axis 360-specific FulfillmentInfo implementation for audiobooks
and books served through AxisNow.</p>
<p>We use these instead of normal FulfillmentInfo objects because
putting all this information into FulfillmentInfo would require
one or two extra HTTP requests, and there’s often no need to make
those requests.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.axis.Axis360FulfillmentInfo.do_fetch">
<span class="sig-name descname"><span class="pre">do_fetch</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360FulfillmentInfo.do_fetch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360FulfillmentInfo.do_fetch" title="Permalink to this definition">¶</a></dt>
<dd><p>Actually make the API request.</p>
<p>When implemented, this method must set values for some or all
of _content_link, _content_type, _content, and
_content_expires.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.axis.Axis360FulfillmentInfoResponseParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.axis.</span></span><span class="sig-name descname"><span class="pre">Axis360FulfillmentInfoResponseParser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">api</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360FulfillmentInfoResponseParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360FulfillmentInfoResponseParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.axis.JSONResponseParser" title="api.axis.JSONResponseParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">JSONResponseParser</span></code></a></p>
<p>Parse JSON documents into Findaway audiobook manifests or AxisNow manifests.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.axis.Axis360FulfillmentInfoResponseParser.parse_axisnow">
<span class="sig-name descname"><span class="pre">parse_axisnow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parsed</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360FulfillmentInfoResponseParser.parse_axisnow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360FulfillmentInfoResponseParser.parse_axisnow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.Axis360FulfillmentInfoResponseParser.parse_date">
<span class="sig-name descname"><span class="pre">parse_date</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">date</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360FulfillmentInfoResponseParser.parse_date"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360FulfillmentInfoResponseParser.parse_date" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.Axis360FulfillmentInfoResponseParser.parse_findaway">
<span class="sig-name descname"><span class="pre">parse_findaway</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parsed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">license_pool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360FulfillmentInfoResponseParser.parse_findaway"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360FulfillmentInfoResponseParser.parse_findaway" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.axis.Axis360Parser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.axis.</span></span><span class="sig-name descname"><span class="pre">Axis360Parser</span></span><a class="reference internal" href="_modules/api/axis.html#Axis360Parser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.Axis360Parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.util.html#core.util.xmlparser.XMLParser" title="core.util.xmlparser.XMLParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">XMLParser</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360Parser.FULL_DATE_FORMAT_EXPLICIT_UTC">
<span class="sig-name descname"><span class="pre">FULL_DATE_FORMAT_EXPLICIT_UTC</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'%m/%d/%Y</span> <span class="pre">%I:%M:%S</span> <span class="pre">%p</span> <span class="pre">+00:00'</span></em><a class="headerlink" href="#api.axis.Axis360Parser.FULL_DATE_FORMAT_EXPLICIT_UTC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360Parser.FULL_DATE_FORMAT_IMPLICIT_UTC">
<span class="sig-name descname"><span class="pre">FULL_DATE_FORMAT_IMPLICIT_UTC</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'%m/%d/%Y</span> <span class="pre">%I:%M:%S</span> <span class="pre">%p'</span></em><a class="headerlink" href="#api.axis.Axis360Parser.FULL_DATE_FORMAT_IMPLICIT_UTC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360Parser.NS">
<span class="sig-name descname"><span class="pre">NS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'axis':</span> <span class="pre">'http://axis360api.baker-taylor.com/vendorAPI'}</span></em><a class="headerlink" href="#api.axis.Axis360Parser.NS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.Axis360Parser.SHORT_DATE_FORMAT">
<span class="sig-name descname"><span class="pre">SHORT_DATE_FORMAT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'%m/%d/%Y'</span></em><a class="headerlink" href="#api.axis.Axis360Parser.SHORT_DATE_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.axis.AxisCollectionReaper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.axis.</span></span><span class="sig-name descname"><span class="pre">AxisCollectionReaper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_class=&lt;class</span> <span class="pre">'api.axis.Axis360API'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#AxisCollectionReaper"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.AxisCollectionReaper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.monitor.IdentifierSweepMonitor" title="core.monitor.IdentifierSweepMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">IdentifierSweepMonitor</span></code></a></p>
<p>Check for books that are in the local collection but have left our
Axis 360 collection.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.AxisCollectionReaper.INTERVAL_SECONDS">
<span class="sig-name descname"><span class="pre">INTERVAL_SECONDS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">43200</span></em><a class="headerlink" href="#api.axis.AxisCollectionReaper.INTERVAL_SECONDS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.AxisCollectionReaper.PROTOCOL">
<span class="sig-name descname"><span class="pre">PROTOCOL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Axis</span> <span class="pre">360'</span></em><a class="headerlink" href="#api.axis.AxisCollectionReaper.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.AxisCollectionReaper.SERVICE_NAME">
<span class="sig-name descname"><span class="pre">SERVICE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Axis</span> <span class="pre">Collection</span> <span class="pre">Reaper'</span></em><a class="headerlink" href="#api.axis.AxisCollectionReaper.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.AxisCollectionReaper.process_items">
<span class="sig-name descname"><span class="pre">process_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifiers</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#AxisCollectionReaper.process_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.AxisCollectionReaper.process_items" title="Permalink to this definition">¶</a></dt>
<dd><p>Process a list of items.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.axis.AxisNowManifest">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.axis.</span></span><span class="sig-name descname"><span class="pre">AxisNowManifest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">book_vault_uuid</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isbn</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#AxisNowManifest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.AxisNowManifest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A simple media type for conveying an entry point into the AxisNow access control
system.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.AxisNowManifest.MEDIA_TYPE">
<span class="sig-name descname"><span class="pre">MEDIA_TYPE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'application/vnd.librarysimplified.axisnow+json'</span></em><a class="headerlink" href="#api.axis.AxisNowManifest.MEDIA_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.axis.BibliographicParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.axis.</span></span><span class="sig-name descname"><span class="pre">BibliographicParser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">include_availability</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_bibliographic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#BibliographicParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.BibliographicParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.axis.Axis360Parser" title="api.axis.Axis360Parser"><code class="xref py py-class docutils literal notranslate"><span class="pre">Axis360Parser</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.BibliographicParser.DELIVERY_DATA_FOR_AXIS_FORMAT">
<span class="sig-name descname"><span class="pre">DELIVERY_DATA_FOR_AXIS_FORMAT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'Acoustik':</span> <span class="pre">(None,</span> <span class="pre">'application/vnd.librarysimplified.findaway.license+json'),</span> <span class="pre">'AxisNow':</span> <span class="pre">None,</span> <span class="pre">'Blio':</span> <span class="pre">None,</span> <span class="pre">'PDF':</span> <span class="pre">('application/pdf',</span> <span class="pre">'application/vnd.adobe.adept+xml'),</span> <span class="pre">'ePub':</span> <span class="pre">('application/epub+zip',</span> <span class="pre">'application/vnd.adobe.adept+xml')}</span></em><a class="headerlink" href="#api.axis.BibliographicParser.DELIVERY_DATA_FOR_AXIS_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.BibliographicParser.extract_availability">
<span class="sig-name descname"><span class="pre">extract_availability</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">circulation_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">element</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ns</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#BibliographicParser.extract_availability"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.BibliographicParser.extract_availability" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.BibliographicParser.extract_bibliographic">
<span class="sig-name descname"><span class="pre">extract_bibliographic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">element</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ns</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#BibliographicParser.extract_bibliographic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.BibliographicParser.extract_bibliographic" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn bibliographic metadata into a Metadata and a CirculationData objects,
and return them as a tuple.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.BibliographicParser.generic_author">
<span class="sig-name descname"><span class="pre">generic_author</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;object</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#api.axis.BibliographicParser.generic_author" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.BibliographicParser.log">
<span class="sig-name descname"><span class="pre">log</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;Logger</span> <span class="pre">Axis</span> <span class="pre">360</span> <span class="pre">Bibliographic</span> <span class="pre">Parser</span> <span class="pre">(WARNING)&gt;</span></em><a class="headerlink" href="#api.axis.BibliographicParser.log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.BibliographicParser.parse_contributor">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parse_contributor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">author</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">primary_author_found</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_role</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#BibliographicParser.parse_contributor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.BibliographicParser.parse_contributor" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse an Axis 360 contributor string.</p>
<p>The contributor string looks like “Butler, Octavia” or “Walt
Disney Pictures (COR)” or “Rex, Adam (ILT)”. The optional
three-letter code describes the contributor’s role in the
book.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>author</strong> – The string to parse.</p></li>
<li><p><strong>primary_author_found</strong> – If this is false, then a
contributor with no three-letter code will be treated as
the primary author. If this is true, then a contributor
with no three-letter code will be treated as just a
regular author.</p></li>
<li><p><strong>force_role</strong> – If this is set, the contributor will be
assigned this role, no matter what. This takes precedence
over the value implied by primary_author_found.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.BibliographicParser.parse_list">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parse_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">l</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#BibliographicParser.parse_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.BibliographicParser.parse_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn strings like this into lists:</p>
<p>FICTION / Thrillers; FICTION / Suspense; FICTION / General
Ursu, Anne ; Fortune, Eric (ILT)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.BibliographicParser.process_all">
<span class="sig-name descname"><span class="pre">process_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#BibliographicParser.process_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.BibliographicParser.process_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.BibliographicParser.process_one">
<span class="sig-name descname"><span class="pre">process_one</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">element</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ns</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#BibliographicParser.process_one"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.BibliographicParser.process_one" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.BibliographicParser.role_abbreviation">
<span class="sig-name descname"><span class="pre">role_abbreviation</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">re.compile('\\(([A-Z][A-Z][A-Z])\\)$')</span></em><a class="headerlink" href="#api.axis.BibliographicParser.role_abbreviation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.BibliographicParser.role_abbreviation_to_role">
<span class="sig-name descname"><span class="pre">role_abbreviation_to_role</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'ADP':</span> <span class="pre">&lt;object</span> <span class="pre">object&gt;,</span> <span class="pre">'COR':</span> <span class="pre">&lt;object</span> <span class="pre">object&gt;,</span> <span class="pre">'EDT':</span> <span class="pre">'Editor',</span> <span class="pre">'FRW':</span> <span class="pre">'Foreword</span> <span class="pre">Author',</span> <span class="pre">'ILT':</span> <span class="pre">'Illustrator',</span> <span class="pre">'INT':</span> <span class="pre">'Introduction</span> <span class="pre">Author',</span> <span class="pre">'PHT':</span> <span class="pre">'Photographer',</span> <span class="pre">'TRN':</span> <span class="pre">'Translator'}</span></em><a class="headerlink" href="#api.axis.BibliographicParser.role_abbreviation_to_role" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.axis.CheckinResponseParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.axis.</span></span><span class="sig-name descname"><span class="pre">CheckinResponseParser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#CheckinResponseParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.CheckinResponseParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.axis.ResponseParser" title="api.axis.ResponseParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResponseParser</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.axis.CheckinResponseParser.process_all">
<span class="sig-name descname"><span class="pre">process_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#CheckinResponseParser.process_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.CheckinResponseParser.process_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.CheckinResponseParser.process_one">
<span class="sig-name descname"><span class="pre">process_one</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">e</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">namespaces</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#CheckinResponseParser.process_one"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.CheckinResponseParser.process_one" title="Permalink to this definition">¶</a></dt>
<dd><p>Either raise an appropriate exception, or do nothing.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.axis.CheckoutResponseParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.axis.</span></span><span class="sig-name descname"><span class="pre">CheckoutResponseParser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#CheckoutResponseParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.CheckoutResponseParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.axis.ResponseParser" title="api.axis.ResponseParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResponseParser</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.axis.CheckoutResponseParser.process_all">
<span class="sig-name descname"><span class="pre">process_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#CheckoutResponseParser.process_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.CheckoutResponseParser.process_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.CheckoutResponseParser.process_one">
<span class="sig-name descname"><span class="pre">process_one</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">e</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">namespaces</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#CheckoutResponseParser.process_one"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.CheckoutResponseParser.process_one" title="Permalink to this definition">¶</a></dt>
<dd><p>Either turn the given document into a LoanInfo
object, or raise an appropriate exception.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.axis.HoldReleaseResponseParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.axis.</span></span><span class="sig-name descname"><span class="pre">HoldReleaseResponseParser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#HoldReleaseResponseParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.HoldReleaseResponseParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.axis.ResponseParser" title="api.axis.ResponseParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResponseParser</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.axis.HoldReleaseResponseParser.post_process">
<span class="sig-name descname"><span class="pre">post_process</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">i</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#HoldReleaseResponseParser.post_process"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.HoldReleaseResponseParser.post_process" title="Permalink to this definition">¶</a></dt>
<dd><p>Unlike other ResponseParser subclasses, we don’t return any type of
*Info object, so there’s no need to do any post-processing.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.HoldReleaseResponseParser.process_all">
<span class="sig-name descname"><span class="pre">process_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#HoldReleaseResponseParser.process_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.HoldReleaseResponseParser.process_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.HoldReleaseResponseParser.process_one">
<span class="sig-name descname"><span class="pre">process_one</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">e</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">namespaces</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#HoldReleaseResponseParser.process_one"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.HoldReleaseResponseParser.process_one" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.axis.HoldResponseParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.axis.</span></span><span class="sig-name descname"><span class="pre">HoldResponseParser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#HoldResponseParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.HoldResponseParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.axis.ResponseParser" title="api.axis.ResponseParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResponseParser</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.axis.HoldResponseParser.process_all">
<span class="sig-name descname"><span class="pre">process_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#HoldResponseParser.process_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.HoldResponseParser.process_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.HoldResponseParser.process_one">
<span class="sig-name descname"><span class="pre">process_one</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">e</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">namespaces</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#HoldResponseParser.process_one"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.HoldResponseParser.process_one" title="Permalink to this definition">¶</a></dt>
<dd><p>Either turn the given document into a HoldInfo
object, or raise an appropriate exception.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.axis.JSONResponseParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.axis.</span></span><span class="sig-name descname"><span class="pre">JSONResponseParser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#JSONResponseParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.JSONResponseParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.axis.ResponseParser" title="api.axis.ResponseParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">ResponseParser</span></code></a></p>
<p>Most ResponseParsers parse XML documents; subclasses of
JSONResponseParser parse JSON documents.</p>
<p>This only subclasses ResponseParser so it can reuse
_raise_exception_on_error.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.axis.JSONResponseParser.parse">
<span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#JSONResponseParser.parse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.JSONResponseParser.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse a JSON document.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.JSONResponseParser.verify_status_code">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">verify_status_code</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">parsed</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#JSONResponseParser.verify_status_code"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.JSONResponseParser.verify_status_code" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert that the incoming JSON document represents a successful
response.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.axis.MockAxis360API">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.axis.</span></span><span class="sig-name descname"><span class="pre">MockAxis360API</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">with_token</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#MockAxis360API"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.MockAxis360API" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.axis.Axis360API" title="api.axis.Axis360API"><code class="xref py py-class docutils literal notranslate"><span class="pre">Axis360API</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.axis.MockAxis360API.mock_collection">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mock_collection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Test</span> <span class="pre">Axis</span> <span class="pre">360</span> <span class="pre">Collection'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#MockAxis360API.mock_collection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.MockAxis360API.mock_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a mock Axis 360 collection for use in tests.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.MockAxis360API.queue_response">
<span class="sig-name descname"><span class="pre">queue_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status_code</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#MockAxis360API.queue_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.MockAxis360API.queue_response" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.axis.ResponseParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.axis.</span></span><span class="sig-name descname"><span class="pre">ResponseParser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#ResponseParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.ResponseParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.axis.Axis360Parser" title="api.axis.Axis360Parser"><code class="xref py py-class docutils literal notranslate"><span class="pre">Axis360Parser</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.ResponseParser.SERVICE_NAME">
<span class="sig-name descname"><span class="pre">SERVICE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Axis</span> <span class="pre">360'</span></em><a class="headerlink" href="#api.axis.ResponseParser.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.ResponseParser.code_to_exception">
<span class="sig-name descname"><span class="pre">code_to_exception</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{315:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.InvalidInputException'&gt;,</span> <span class="pre">316:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.InvalidInputException'&gt;,</span> <span class="pre">1000:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.PatronAuthorizationFailedException'&gt;,</span> <span class="pre">1001:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.PatronAuthorizationFailedException'&gt;,</span> <span class="pre">1002:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.PatronAuthorizationFailedException'&gt;,</span> <span class="pre">1003:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.PatronAuthorizationFailedException'&gt;,</span> <span class="pre">2000:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.LibraryAuthorizationFailedException'&gt;,</span> <span class="pre">2001:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.LibraryAuthorizationFailedException'&gt;,</span> <span class="pre">2002:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.LibraryAuthorizationFailedException'&gt;,</span> <span class="pre">2003:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.LibraryAuthorizationFailedException'&gt;,</span> <span class="pre">2004:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.LibraryAuthorizationFailedException'&gt;,</span> <span class="pre">2005:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.LibraryAuthorizationFailedException'&gt;,</span> <span class="pre">2007:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.LibraryAuthorizationFailedException'&gt;,</span> <span class="pre">2008:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.LibraryAuthorizationFailedException'&gt;,</span> <span class="pre">3100:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.LibraryInvalidInputException'&gt;,</span> <span class="pre">3101:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.LibraryInvalidInputException'&gt;,</span> <span class="pre">3102:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.LibraryInvalidInputException'&gt;,</span> <span class="pre">3103:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.NotFoundOnRemote'&gt;,</span> <span class="pre">3104:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.LibraryInvalidInputException'&gt;,</span> <span class="pre">3105:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.PatronAuthorizationFailedException'&gt;,</span> <span class="pre">3106:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.InvalidInputException'&gt;,</span> <span class="pre">3108:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.InvalidInputException'&gt;,</span> <span class="pre">3109:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.InvalidInputException'&gt;,</span> <span class="pre">3110:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.AlreadyCheckedOut'&gt;,</span> <span class="pre">3111:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.CurrentlyAvailable'&gt;,</span> <span class="pre">3112:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.CannotFulfill'&gt;,</span> <span class="pre">3113:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.CannotLoan'&gt;,</span> <span class="pre">(3113,</span> <span class="pre">'Title</span> <span class="pre">ID</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">available</span> <span class="pre">for</span> <span class="pre">checkout'):</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.NoAvailableCopies'&gt;,</span> <span class="pre">3114:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.PatronLoanLimitReached'&gt;,</span> <span class="pre">3115:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.LibraryInvalidInputException'&gt;,</span> <span class="pre">3116:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.LibraryInvalidInputException'&gt;,</span> <span class="pre">3117:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.LibraryInvalidInputException'&gt;,</span> <span class="pre">3118:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.LibraryInvalidInputException'&gt;,</span> <span class="pre">3119:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.LibraryAuthorizationFailedException'&gt;,</span> <span class="pre">3120:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.LibraryAuthorizationFailedException'&gt;,</span> <span class="pre">3123:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.PatronAuthorizationFailedException'&gt;,</span> <span class="pre">3124:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.PatronAuthorizationFailedException'&gt;,</span> <span class="pre">3126:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.LibraryInvalidInputException'&gt;,</span> <span class="pre">3127:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.InvalidInputException'&gt;,</span> <span class="pre">3128:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.InvalidInputException'&gt;,</span> <span class="pre">3129:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.PatronAuthorizationFailedException'&gt;,</span> <span class="pre">3130:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.LibraryInvalidInputException'&gt;,</span> <span class="pre">3131:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.RemoteInitiatedServerError'&gt;,</span> <span class="pre">3132:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.LibraryInvalidInputException'&gt;,</span> <span class="pre">3134:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.LibraryInvalidInputException'&gt;,</span> <span class="pre">3135:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.NoAcceptableFormat'&gt;,</span> <span class="pre">3136:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.LibraryInvalidInputException'&gt;,</span> <span class="pre">4058:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.NoActiveLoan'&gt;,</span> <span class="pre">5000:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.RemoteInitiatedServerError'&gt;,</span> <span class="pre">5003:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.LibraryInvalidInputException'&gt;,</span> <span class="pre">5004:</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.LibraryInvalidInputException'&gt;}</span></em><a class="headerlink" href="#api.axis.ResponseParser.code_to_exception" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.axis.ResponseParser.id_type">
<span class="sig-name descname"><span class="pre">id_type</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Axis</span> <span class="pre">360</span> <span class="pre">ID'</span></em><a class="headerlink" href="#api.axis.ResponseParser.id_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.axis.ResponseParser.raise_exception_on_error">
<span class="sig-name descname"><span class="pre">raise_exception_on_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">e</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ns</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_error_classes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_error_codes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#ResponseParser.raise_exception_on_error"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.axis.ResponseParser.raise_exception_on_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Raise an error if the given lxml node represents an Axis 360 error
condition.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>e</strong> – An lxml Element</p></li>
<li><p><strong>ns</strong> – A dictionary of namespaces</p></li>
<li><p><strong>custom_error_classes</strong> – A dictionary of errors to map to custom
classes rather than the defaults.</p></li>
<li><p><strong>ignore_error_codes</strong> – A list of error codes to treat as success
rather than as cause to raise an exception.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-api.base_controller">
<span id="api-base-controller-module"></span><h2>api.base_controller module<a class="headerlink" href="#module-api.base_controller" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.base_controller.BaseCirculationManagerController">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.base_controller.</span></span><span class="sig-name descname"><span class="pre">BaseCirculationManagerController</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">manager</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/base_controller.html#BaseCirculationManagerController"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.base_controller.BaseCirculationManagerController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Define minimal standards for a circulation manager controller,
mainly around authentication.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.base_controller.BaseCirculationManagerController.authenticate">
<span class="sig-name descname"><span class="pre">authenticate</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/base_controller.html#BaseCirculationManagerController.authenticate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.base_controller.BaseCirculationManagerController.authenticate" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends a 401 response that demands authentication.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.base_controller.BaseCirculationManagerController.authenticated_patron">
<span class="sig-name descname"><span class="pre">authenticated_patron</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">authorization_header</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/base_controller.html#BaseCirculationManagerController.authenticated_patron"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.base_controller.BaseCirculationManagerController.authenticated_patron" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up the patron authenticated by the given authorization header.</p>
<p>The header could contain a barcode and pin or a token for an
external service.</p>
<p>If there’s a problem, return a Problem Detail Document.</p>
<p>If there’s no problem, return a Patron object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.base_controller.BaseCirculationManagerController.authenticated_patron_from_request">
<span class="sig-name descname"><span class="pre">authenticated_patron_from_request</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/base_controller.html#BaseCirculationManagerController.authenticated_patron_from_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.base_controller.BaseCirculationManagerController.authenticated_patron_from_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to authenticate a patron for the incoming request.</p>
<p>When this method returns, flask.request.patron will
be set, though the value it’s set to may be None.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A Patron, if possible. If no authentication was
provided, a Flask Response. If a problem occured during
authentication, a ProblemDetail.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.base_controller.BaseCirculationManagerController.authorization_header">
<span class="sig-name descname"><span class="pre">authorization_header</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/base_controller.html#BaseCirculationManagerController.authorization_header"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.base_controller.BaseCirculationManagerController.authorization_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the authentication header.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.base_controller.BaseCirculationManagerController.library_for_request">
<span class="sig-name descname"><span class="pre">library_for_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library_short_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/base_controller.html#BaseCirculationManagerController.library_for_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.base_controller.BaseCirculationManagerController.library_for_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up the library the user is trying to access.</p>
<p>Since this is called on pretty much every request, it’s also
an appropriate time to check whether the site configuration
has been changed and needs to be updated.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.base_controller.BaseCirculationManagerController.library_through_external_loan_identifier">
<span class="sig-name descname"><span class="pre">library_through_external_loan_identifier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">loan_external_identifier</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/base_controller.html#BaseCirculationManagerController.library_through_external_loan_identifier"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.base_controller.BaseCirculationManagerController.library_through_external_loan_identifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up the library the user is trying to access using a loan’s external identifier.
We assume that the external identifier is globally unique which is true, for example,
in the case of using Readium LCP.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>loan_external_identifier</strong> (<em>basestring</em>) – External identifier of the patron’s loan</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Library the patron is trying to access</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="core.model.html#core.model.library.Library" title="core.model.library.Library">Library</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.base_controller.BaseCirculationManagerController.request_patron">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">request_patron</span></span><a class="headerlink" href="#api.base_controller.BaseCirculationManagerController.request_patron" title="Permalink to this definition">¶</a></dt>
<dd><p>The currently authenticated patron for this request, if any.</p>
<p>Most of the time you can use flask.request.patron, but
sometimes it’s not clear whether
authenticated_patron_from_request() (which sets
flask.request.patron) has been called, and
authenticated_patron_from_request has a complicated return
value.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A Patron, if one could be authenticated; None otherwise.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-api.bibliotheca">
<span id="api-bibliotheca-module"></span><h2>api.bibliotheca module<a class="headerlink" href="#module-api.bibliotheca" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.bibliotheca.</span></span><span class="sig-name descname"><span class="pre">BibliothecaAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation.BaseCirculationAPI" title="api.circulation.BaseCirculationAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseCirculationAPI</span></code></a>, <a class="reference internal" href="#api.selftest.HasSelfTests" title="api.selftest.HasSelfTests"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasSelfTests</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.ARGUMENT_TIME_FORMAT">
<span class="sig-name descname"><span class="pre">ARGUMENT_TIME_FORMAT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'%Y-%m-%dT%H:%M:%S'</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.ARGUMENT_TIME_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.AUTHORIZATION_FORMAT">
<span class="sig-name descname"><span class="pre">AUTHORIZATION_FORMAT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'3MCLAUTH</span> <span class="pre">%s:%s'</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.AUTHORIZATION_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.AUTHORIZATION_HEADER">
<span class="sig-name descname"><span class="pre">AUTHORIZATION_HEADER</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'3mcl-Authorization'</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.AUTHORIZATION_HEADER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.AUTH_TIME_FORMAT">
<span class="sig-name descname"><span class="pre">AUTH_TIME_FORMAT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'%a,</span> <span class="pre">%d</span> <span class="pre">%b</span> <span class="pre">%Y</span> <span class="pre">%H:%M:%S</span> <span class="pre">GMT'</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.AUTH_TIME_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.CAN_REVOKE_HOLD_WHEN_RESERVED">
<span class="sig-name descname"><span class="pre">CAN_REVOKE_HOLD_WHEN_RESERVED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.CAN_REVOKE_HOLD_WHEN_RESERVED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.DATETIME_HEADER">
<span class="sig-name descname"><span class="pre">DATETIME_HEADER</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'3mcl-Datetime'</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.DATETIME_HEADER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.DEFAULT_BASE_URL">
<span class="sig-name descname"><span class="pre">DEFAULT_BASE_URL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'https://partner.yourcloudlibrary.com/'</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.DEFAULT_BASE_URL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.DEFAULT_VERSION">
<span class="sig-name descname"><span class="pre">DEFAULT_VERSION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'2.0'</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.DEFAULT_VERSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.LIBRARY_SETTINGS">
<span class="sig-name descname"><span class="pre">LIBRARY_SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'ebook_loan_duration',</span> <span class="pre">'label':</span> <span class="pre">l'Default</span> <span class="pre">Loan</span> <span class="pre">Period</span> <span class="pre">(in</span> <span class="pre">Days)',</span> <span class="pre">'default':</span> <span class="pre">21,</span> <span class="pre">'type':</span> <span class="pre">'number',</span> <span class="pre">'description':</span> <span class="pre">l'Until</span> <span class="pre">it</span> <span class="pre">hears</span> <span class="pre">otherwise</span> <span class="pre">from</span> <span class="pre">the</span> <span class="pre">distributor,</span> <span class="pre">this</span> <span class="pre">server</span> <span class="pre">will</span> <span class="pre">assume</span> <span class="pre">that</span> <span class="pre">any</span> <span class="pre">given</span> <span class="pre">loan</span> <span class="pre">for</span> <span class="pre">this</span> <span class="pre">library</span> <span class="pre">from</span> <span class="pre">this</span> <span class="pre">collection</span> <span class="pre">will</span> <span class="pre">last</span> <span class="pre">this</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">days.</span> <span class="pre">This</span> <span class="pre">number</span> <span class="pre">is</span> <span class="pre">usually</span> <span class="pre">a</span> <span class="pre">negotiated</span> <span class="pre">value</span> <span class="pre">between</span> <span class="pre">the</span> <span class="pre">library</span> <span class="pre">and</span> <span class="pre">the</span> <span class="pre">distributor.</span> <span class="pre">This</span> <span class="pre">only</span> <span class="pre">affects</span> <span class="pre">estimates&amp;mdash;it</span> <span class="pre">cannot</span> <span class="pre">affect</span> <span class="pre">the</span> <span class="pre">actual</span> <span class="pre">length</span> <span class="pre">of</span> <span class="pre">loans.'}]</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.LIBRARY_SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.MAX_AGE">
<span class="sig-name descname"><span class="pre">MAX_AGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">0</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.MAX_AGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.NAME">
<span class="sig-name descname"><span class="pre">NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Bibliotheca'</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.SERVICE_NAME">
<span class="sig-name descname"><span class="pre">SERVICE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Bibliotheca'</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.SETTINGS">
<span class="sig-name descname"><span class="pre">SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'username',</span> <span class="pre">'label':</span> <span class="pre">l'Account</span> <span class="pre">ID',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'password',</span> <span class="pre">'label':</span> <span class="pre">l'Account</span> <span class="pre">Key',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'external_account_id',</span> <span class="pre">'label':</span> <span class="pre">l'Library</span> <span class="pre">ID',</span> <span class="pre">'required':</span> <span class="pre">True}]</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.SET_DELIVERY_MECHANISM_AT">
<span class="sig-name descname"><span class="pre">SET_DELIVERY_MECHANISM_AT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.SET_DELIVERY_MECHANISM_AT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.TEMPLATE">
<span class="sig-name descname"><span class="pre">TEMPLATE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'&lt;%(request_type)s&gt;&lt;ItemId&gt;%(item_id)s&lt;/ItemId&gt;&lt;PatronId&gt;%(patron_id)s&lt;/PatronId&gt;&lt;/%(request_type)s&gt;'</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.TEMPLATE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.VERSION_HEADER">
<span class="sig-name descname"><span class="pre">VERSION_HEADER</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'3mcl-Version'</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.VERSION_HEADER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.adobe_drm">
<span class="sig-name descname"><span class="pre">adobe_drm</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'application/vnd.adobe.adept+xml'</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.adobe_drm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.authorization">
<span class="sig-name descname"><span class="pre">authorization</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.authorization"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.authorization" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.bibliographic_lookup">
<span class="sig-name descname"><span class="pre">bibliographic_lookup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifiers</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.bibliographic_lookup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.bibliographic_lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up current bibliographic and circulation information for the
given <cite>identifiers</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>identifiers</strong> – A list containing either Identifier
objects or Bibliotheca identifier strings.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.bibliographic_lookup_request">
<span class="sig-name descname"><span class="pre">bibliographic_lookup_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifiers</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.bibliographic_lookup_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.bibliographic_lookup_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an HTTP request to look up current bibliographic and
circulation information for the given <cite>identifiers</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>identifiers</strong> – Strings containing Bibliotheca identifiers.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A string containing an XML document, or None if there was
an error not handled as an exception.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.checkin">
<span class="sig-name descname"><span class="pre">checkin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.checkin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.checkin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a book early.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patron</strong> – a Patron object for the patron who wants to check out the book.</p></li>
<li><p><strong>pin</strong> – The patron’s alleged password.</p></li>
<li><p><strong>licensepool</strong> – Contains lending info as well as link to parent Identifier.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.checkout">
<span class="sig-name descname"><span class="pre">checkout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron_obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patron_password</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delivery_mechanism</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.checkout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.checkout" title="Permalink to this definition">¶</a></dt>
<dd><p>Check out a book on behalf of a patron.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patron_obj</strong> – a Patron object for the patron who wants
to check out the book.</p></li>
<li><p><strong>patron_password</strong> – The patron’s alleged password.  Not used here
since Bibliotheca trusts Simplified to do the check ahead of time.</p></li>
<li><p><strong>licensepool</strong> – LicensePool for the book to be checked out.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a LoanInfo object</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.collection">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">collection</span></span><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.collection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.delivery_mechanism_to_internal_format">
<span class="sig-name descname"><span class="pre">delivery_mechanism_to_internal_format</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{('application/epub+zip',</span> <span class="pre">'application/vnd.adobe.adept+xml'):</span> <span class="pre">'ePub',</span> <span class="pre">('application/pdf',</span> <span class="pre">'application/vnd.adobe.adept+xml'):</span> <span class="pre">'PDF',</span> <span class="pre">(None,</span> <span class="pre">'application/vnd.librarysimplified.findaway.license+json'):</span> <span class="pre">'MP3'}</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.delivery_mechanism_to_internal_format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.external_integration">
<span class="sig-name descname"><span class="pre">external_integration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.external_integration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.external_integration" title="Permalink to this definition">¶</a></dt>
<dd><p>Locate the ExternalIntegration associated with this object.
The status of the self-tests will be stored as a ConfigurationSetting
on this ExternalIntegration.</p>
<p>By default, there is no way to get from an object to its
ExternalIntegration, and self-test status will not be stored.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.findaway_drm">
<span class="sig-name descname"><span class="pre">findaway_drm</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'application/vnd.librarysimplified.findaway.license+json'</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.findaway_drm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.findaway_license_to_webpub_manifest">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">findaway_license_to_webpub_manifest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">license_pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">findaway_license</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.findaway_license_to_webpub_manifest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.findaway_license_to_webpub_manifest" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a Bibliotheca license document to a FindawayManifest
suitable for serving to a mobile client.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>license_pool</strong> – A LicensePool for the title in question.
This will be used to fill in basic bibliographic information.</p></li>
<li><p><strong>findaway_license</strong> – A string containing a Findaway
license document via Bibliotheca, or a dictionary
representing such a document loaded into JSON form.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.fulfill">
<span class="sig-name descname"><span class="pre">fulfill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal_format</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.fulfill"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.fulfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the actual resource file to the patron.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>kwargs</strong> – A container for standard arguments to fulfill()
which are not relevant to this implementation.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a FulfillmentInfo object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.full_path">
<span class="sig-name descname"><span class="pre">full_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.full_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.full_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.full_url">
<span class="sig-name descname"><span class="pre">full_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.full_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.full_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.get_audio_fulfillment_file">
<span class="sig-name descname"><span class="pre">get_audio_fulfillment_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bibliotheca_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.get_audio_fulfillment_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.get_audio_fulfillment_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.get_bibliographic_info_for">
<span class="sig-name descname"><span class="pre">get_bibliographic_info_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">editions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_age</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.get_bibliographic_info_for"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.get_bibliographic_info_for" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.get_events_between">
<span class="sig-name descname"><span class="pre">get_events_between</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cache_result</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_events_error</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.get_events_between"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.get_events_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Return event objects for events between the given times.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.get_fulfillment_file">
<span class="sig-name descname"><span class="pre">get_fulfillment_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bibliotheca_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.get_fulfillment_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.get_fulfillment_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.internal_format_to_delivery_mechanism">
<span class="sig-name descname"><span class="pre">internal_format_to_delivery_mechanism</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'MP3':</span> <span class="pre">(None,</span> <span class="pre">'application/vnd.librarysimplified.findaway.license+json'),</span> <span class="pre">'PDF':</span> <span class="pre">('application/pdf',</span> <span class="pre">'application/vnd.adobe.adept+xml'),</span> <span class="pre">'ePub':</span> <span class="pre">('application/epub+zip',</span> <span class="pre">'application/vnd.adobe.adept+xml')}</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.internal_format_to_delivery_mechanism" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.log">
<span class="sig-name descname"><span class="pre">log</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;Logger</span> <span class="pre">Bibliotheca</span> <span class="pre">API</span> <span class="pre">(WARNING)&gt;</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.marc_request">
<span class="sig-name descname"><span class="pre">marc_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">limit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">50</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.marc_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.marc_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an HTTP request to look up the MARC records for books purchased
between two given dates.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> – A datetime to start looking for purchases.</p></li>
<li><p><strong>end</strong> – A datetime to stop looking for purchases.</p></li>
<li><p><strong>offset</strong> – An offset used to paginate results.</p></li>
<li><p><strong>limit</strong> – A limit used to paginate results.</p></li>
</ul>
</dd>
<dt class="field-even">Raise<span class="colon">:</span></dt>
<dd class="field-even"><p>An appropriate exception if the request did not return
MARC records.</p>
</dd>
<dt class="field-odd">Yield<span class="colon">:</span></dt>
<dd class="field-odd"><p>A list of MARC records.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.now">
<span class="sig-name descname"><span class="pre">now</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.now"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.now" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the current GMT time in the format 3M expects.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.patron_activity">
<span class="sig-name descname"><span class="pre">patron_activity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.patron_activity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.patron_activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a patron’s current checkouts and holds.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.place_hold">
<span class="sig-name descname"><span class="pre">place_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hold_notification_email</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.place_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.place_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Place a hold.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a HoldInfo object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.release_hold">
<span class="sig-name descname"><span class="pre">release_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.release_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.release_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Release a patron’s hold on a book.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#api.circulation_exceptions.CannotReleaseHold" title="api.circulation_exceptions.CannotReleaseHold"><strong>CannotReleaseHold</strong></a> – If there is an error communicating
with the provider, or the provider refuses to release the hold for
any reason.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.replacement_policy">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">replacement_policy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analytics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.replacement_policy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.replacement_policy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.request">
<span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">body</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'GET'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_age</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.request" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.sign">
<span class="sig-name descname"><span class="pre">sign</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.sign"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.sign" title="Permalink to this definition">¶</a></dt>
<dd><p>Add appropriate headers to a request.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.signature">
<span class="sig-name descname"><span class="pre">signature</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">method</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">path</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.signature"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.signature" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.source">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">source</span></span><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaAPI.update_availability">
<span class="sig-name descname"><span class="pre">update_availability</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.update_availability"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.update_availability" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the availability information for a single LicensePool.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaBibliographicCoverageProvider">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.bibliotheca.</span></span><span class="sig-name descname"><span class="pre">BibliothecaBibliographicCoverageProvider</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_class=&lt;class</span> <span class="pre">'api.bibliotheca.BibliothecaAPI'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaBibliographicCoverageProvider"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaBibliographicCoverageProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.coverage.BibliographicCoverageProvider" title="core.coverage.BibliographicCoverageProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">BibliographicCoverageProvider</span></code></a></p>
<p>Fill in bibliographic metadata for Bibliotheca records.</p>
<p>This will occasionally fill in some availability information for a
single Collection, but we rely on Monitors to keep availability
information up to date for all Collections.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaBibliographicCoverageProvider.DATA_SOURCE_NAME">
<span class="sig-name descname"><span class="pre">DATA_SOURCE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Bibliotheca'</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaBibliographicCoverageProvider.DATA_SOURCE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaBibliographicCoverageProvider.DEFAULT_BATCH_SIZE">
<span class="sig-name descname"><span class="pre">DEFAULT_BATCH_SIZE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">25</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaBibliographicCoverageProvider.DEFAULT_BATCH_SIZE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaBibliographicCoverageProvider.INPUT_IDENTIFIER_TYPES">
<span class="sig-name descname"><span class="pre">INPUT_IDENTIFIER_TYPES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Bibliotheca</span> <span class="pre">ID'</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaBibliographicCoverageProvider.INPUT_IDENTIFIER_TYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaBibliographicCoverageProvider.PROTOCOL">
<span class="sig-name descname"><span class="pre">PROTOCOL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Bibliotheca'</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaBibliographicCoverageProvider.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaBibliographicCoverageProvider.SERVICE_NAME">
<span class="sig-name descname"><span class="pre">SERVICE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Bibliotheca</span> <span class="pre">Bibliographic</span> <span class="pre">Coverage</span> <span class="pre">Provider'</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaBibliographicCoverageProvider.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaBibliographicCoverageProvider.process_item">
<span class="sig-name descname"><span class="pre">process_item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaBibliographicCoverageProvider.process_item"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaBibliographicCoverageProvider.process_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Do the work necessary to give coverage to one specific item.</p>
<p>Since this is where the actual work happens, this is not
implemented in IdentifierCoverageProvider or
WorkCoverageProvider, and must be handled in a subclass.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaCirculationSweep">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.bibliotheca.</span></span><span class="sig-name descname"><span class="pre">BibliothecaCirculationSweep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_class=&lt;class</span> <span class="pre">'api.bibliotheca.BibliothecaAPI'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaCirculationSweep"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaCirculationSweep" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.monitor.IdentifierSweepMonitor" title="core.monitor.IdentifierSweepMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">IdentifierSweepMonitor</span></code></a></p>
<p>Check on the current circulation status of each Bibliotheca book in our
collection.</p>
<p>In some cases this will lead to duplicate events being logged,
because this monitor and the main Bibliotheca circulation monitor will
count the same event.  However it will greatly improve our current
view of our Bibliotheca circulation, which is more important.</p>
<p>If Bibliotheca has updated its metadata for a book, that update will
also take effect during the circulation sweep.</p>
<p>If a Bibliotheca license has expired, and we didn’t hear about it for
whatever reason, we’ll find out about it here, because Bibliotheca
will act like they never heard of it.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaCirculationSweep.DEFAULT_BATCH_SIZE">
<span class="sig-name descname"><span class="pre">DEFAULT_BATCH_SIZE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">25</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaCirculationSweep.DEFAULT_BATCH_SIZE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaCirculationSweep.PROTOCOL">
<span class="sig-name descname"><span class="pre">PROTOCOL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Bibliotheca'</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaCirculationSweep.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaCirculationSweep.SERVICE_NAME">
<span class="sig-name descname"><span class="pre">SERVICE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Bibliotheca</span> <span class="pre">Circulation</span> <span class="pre">Sweep'</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaCirculationSweep.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaCirculationSweep.process_items">
<span class="sig-name descname"><span class="pre">process_items</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifiers</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaCirculationSweep.process_items"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaCirculationSweep.process_items" title="Permalink to this definition">¶</a></dt>
<dd><p>Process a list of items.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaEventMonitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.bibliotheca.</span></span><span class="sig-name descname"><span class="pre">BibliothecaEventMonitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_class=&lt;class</span> <span class="pre">'api.bibliotheca.BibliothecaAPI'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analytics=None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaEventMonitor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaEventMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.bibliotheca.BibliothecaTimelineMonitor" title="api.bibliotheca.BibliothecaTimelineMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">BibliothecaTimelineMonitor</span></code></a></p>
<p>Register CirculationEvents for Bibliotheca titles.</p>
<p>When run, this monitor will look at recent events as a way of keeping
the local collection up to date.</p>
<p>Although useful in everyday situations, the events endpoint will
not always give you all the events:</p>
<ul class="simple">
<li><p>Any given call to the events endpoint will return at most
100-150 events. If there is a particularly busy 5-minute
stretch, events will be lost.</p></li>
<li><p>The Bibliotheca API has, in the past, gone into a state where
this endpoint returns an empty list of events rather than an
error message.</p></li>
</ul>
<p>Fortunately, we have the BibliothecaPurchaseMonitor to keep track
of new license purchases, and the BibliothecaCirculationSweep to
keep up to date on books we already know about. If the
BibliothecaEventMonitor stopped working completely, the rest of
the system would continue to work, but circulation data would
always be a few hours out of date.</p>
<p>Thus, running the BibliothecaEventMonitor alongside the other two
Bibliotheca monitors ensures that circulation data is kept up to date
in near-real-time with good, but not perfect, consistency.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaEventMonitor.SERVICE_NAME">
<span class="sig-name descname"><span class="pre">SERVICE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Bibliotheca</span> <span class="pre">Event</span> <span class="pre">Monitor'</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaEventMonitor.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaEventMonitor.catch_up_from">
<span class="sig-name descname"><span class="pre">catch_up_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaEventMonitor.catch_up_from"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaEventMonitor.catch_up_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure all events between <cite>start</cite> and <cite>cutoff</cite> are covered.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> – Start looking for events that happened at this
time.</p></li>
<li><p><strong>cutoff</strong> – You’re not responsible for events that happened
after this time.</p></li>
<li><p><strong>progress</strong> – A TimestampData representing the progress so
far. Unlike with run_once(), you are encouraged to can
modify this in place, for instance to set .achievements.
However, you cannot change .start and .finish – any
changes will be overwritten by run_once().</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaEventMonitor.handle_event">
<span class="sig-name descname"><span class="pre">handle_event</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bibliotheca_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">isbn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">foreign_patron_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_time</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal_event_type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaEventMonitor.handle_event"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaEventMonitor.handle_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.bibliotheca.</span></span><span class="sig-name descname"><span class="pre">BibliothecaException</span></span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.bibliotheca.</span></span><span class="sig-name descname"><span class="pre">BibliothecaParser</span></span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.util.html#core.util.xmlparser.XMLParser" title="core.util.xmlparser.XMLParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">XMLParser</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaParser.INPUT_TIME_FORMAT">
<span class="sig-name descname"><span class="pre">INPUT_TIME_FORMAT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'%Y-%m-%dT%H:%M:%S'</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaParser.INPUT_TIME_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaParser.date_from_subtag">
<span class="sig-name descname"><span class="pre">date_from_subtag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">required</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaParser.date_from_subtag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaParser.date_from_subtag" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaParser.parse_date">
<span class="sig-name descname"><span class="pre">parse_date</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaParser.parse_date"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaParser.parse_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the string Bibliotheca sends as a date.</p>
<p>Usually this is a string in INPUT_TIME_FORMAT, but it might be None.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaPurchaseMonitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.bibliotheca.</span></span><span class="sig-name descname"><span class="pre">BibliothecaPurchaseMonitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_class=&lt;class</span> <span class="pre">'api.bibliotheca.BibliothecaAPI'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_start=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">override_timestamp=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analytics=None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaPurchaseMonitor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaPurchaseMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.bibliotheca.BibliothecaTimelineMonitor" title="api.bibliotheca.BibliothecaTimelineMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">BibliothecaTimelineMonitor</span></code></a></p>
<p>Track purchases of licenses from Bibliotheca.</p>
<p>Most TimelineMonitors monitor the timeline starting at whatever
time they’re first run. But it’s crucial that this monitor start
at or before the first day on which a book was added to this
collection, even if that date was years in the past. That’s
because this monitor may be the only time we hear about a
particular book.</p>
<p>Because of this, this monitor has a very old DEFAULT_START_TIME
and special capabilities for customizing the start_time to go back
even further.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaPurchaseMonitor.DEFAULT_START_TIME">
<span class="sig-name descname"><span class="pre">DEFAULT_START_TIME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">datetime.datetime(2014,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">tzinfo=&lt;UTC&gt;)</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaPurchaseMonitor.DEFAULT_START_TIME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaPurchaseMonitor.SERVICE_NAME">
<span class="sig-name descname"><span class="pre">SERVICE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Bibliotheca</span> <span class="pre">Purchase</span> <span class="pre">Monitor'</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaPurchaseMonitor.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaPurchaseMonitor.catch_up_from">
<span class="sig-name descname"><span class="pre">catch_up_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaPurchaseMonitor.catch_up_from"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaPurchaseMonitor.catch_up_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Ask the Bibliotheca API about new purchases for every
day between <cite>start</cite> and <cite>cutoff</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>start</strong> (<em>datetime.datetime</em>) – The first day to ask about.</p></li>
<li><p><strong>cutoff</strong> (<em>datetime.datetime</em>) – The last day to ask about.</p></li>
<li><p><strong>progress</strong> (<a class="reference internal" href="core.html#core.metadata_layer.TimestampData" title="core.metadata_layer.TimestampData"><em>core.metadata_layer.TimestampData</em></a>) – Object used to record progress through the timeline.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaPurchaseMonitor.process_record">
<span class="sig-name descname"><span class="pre">process_record</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">purchase_time</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaPurchaseMonitor.process_record"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaPurchaseMonitor.process_record" title="Permalink to this definition">¶</a></dt>
<dd><p>Record the purchase of a new title.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>record</strong> (<em>pymarc.Record</em>) – Bibliographic information about the new title.</p></li>
<li><p><strong>purchase_time</strong> – Put down this time as the time the 
purchase happened.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A LicensePool representing the new title.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>core.model.LicensePool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaPurchaseMonitor.purchases">
<span class="sig-name descname"><span class="pre">purchases</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaPurchaseMonitor.purchases"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaPurchaseMonitor.purchases" title="Permalink to this definition">¶</a></dt>
<dd><p>Ask Bibliotheca for a MARC record for each book purchased
between <cite>start</cite> and <cite>end</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Yield<span class="colon">:</span></dt>
<dd class="field-odd"><p>A sequence of pymarc Record objects</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaPurchaseMonitor.timestamp">
<span class="sig-name descname"><span class="pre">timestamp</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaPurchaseMonitor.timestamp"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaPurchaseMonitor.timestamp" title="Permalink to this definition">¶</a></dt>
<dd><p>Find or create a Timestamp for this Monitor.</p>
<p>If we are overriding the normal start time with one supplied when
the this class was instantiated, we do that here. The instance’s
<cite>default_start_time</cite> will have been set to the specified datetime
and setting`timestamp.finish` to None will cause the default to
be used.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaTimelineMonitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.bibliotheca.</span></span><span class="sig-name descname"><span class="pre">BibliothecaTimelineMonitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_class=&lt;class</span> <span class="pre">'api.bibliotheca.BibliothecaAPI'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analytics=None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaTimelineMonitor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaTimelineMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.monitor.CollectionMonitor" title="core.monitor.CollectionMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">CollectionMonitor</span></code></a>, <a class="reference internal" href="core.html#core.monitor.TimelineMonitor" title="core.monitor.TimelineMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimelineMonitor</span></code></a></p>
<p>Common superclass for our two TimelineMonitors.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaTimelineMonitor.LOG_DATE_FORMAT">
<span class="sig-name descname"><span class="pre">LOG_DATE_FORMAT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'%Y-%m-%dT%H:%M:%S'</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaTimelineMonitor.LOG_DATE_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.BibliothecaTimelineMonitor.PROTOCOL">
<span class="sig-name descname"><span class="pre">PROTOCOL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Bibliotheca'</span></em><a class="headerlink" href="#api.bibliotheca.BibliothecaTimelineMonitor.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.bibliotheca.CheckoutResponseParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.bibliotheca.</span></span><span class="sig-name descname"><span class="pre">CheckoutResponseParser</span></span><a class="reference internal" href="_modules/api/bibliotheca.html#CheckoutResponseParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.CheckoutResponseParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.bibliotheca.DateResponseParser" title="api.bibliotheca.DateResponseParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">DateResponseParser</span></code></a></p>
<p>Extract due date from a checkout response.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.CheckoutResponseParser.DATE_TAG_NAME">
<span class="sig-name descname"><span class="pre">DATE_TAG_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'DueDateInUTC'</span></em><a class="headerlink" href="#api.bibliotheca.CheckoutResponseParser.DATE_TAG_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.CheckoutResponseParser.RESULT_TAG_NAME">
<span class="sig-name descname"><span class="pre">RESULT_TAG_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'CheckoutResult'</span></em><a class="headerlink" href="#api.bibliotheca.CheckoutResponseParser.RESULT_TAG_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.bibliotheca.DateResponseParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.bibliotheca.</span></span><span class="sig-name descname"><span class="pre">DateResponseParser</span></span><a class="reference internal" href="_modules/api/bibliotheca.html#DateResponseParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.DateResponseParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.bibliotheca.BibliothecaParser" title="api.bibliotheca.BibliothecaParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">BibliothecaParser</span></code></a></p>
<p>Extract a date from a response.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.DateResponseParser.DATE_TAG_NAME">
<span class="sig-name descname"><span class="pre">DATE_TAG_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#api.bibliotheca.DateResponseParser.DATE_TAG_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.DateResponseParser.RESULT_TAG_NAME">
<span class="sig-name descname"><span class="pre">RESULT_TAG_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#api.bibliotheca.DateResponseParser.RESULT_TAG_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.DateResponseParser.process_all">
<span class="sig-name descname"><span class="pre">process_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#DateResponseParser.process_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.DateResponseParser.process_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.bibliotheca.DummyBibliothecaAPIResponse">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.bibliotheca.</span></span><span class="sig-name descname"><span class="pre">DummyBibliothecaAPIResponse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response_code</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#DummyBibliothecaAPIResponse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.DummyBibliothecaAPIResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.bibliotheca.ErrorParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.bibliotheca.</span></span><span class="sig-name descname"><span class="pre">ErrorParser</span></span><a class="reference internal" href="_modules/api/bibliotheca.html#ErrorParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.ErrorParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.bibliotheca.BibliothecaParser" title="api.bibliotheca.BibliothecaParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">BibliothecaParser</span></code></a></p>
<p>Turn an error document from the Bibliotheca web service into a CheckoutException</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.ErrorParser.error_mapping">
<span class="sig-name descname"><span class="pre">error_mapping</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'The</span> <span class="pre">patron</span> <span class="pre">does</span> <span class="pre">not</span> <span class="pre">have</span> <span class="pre">the</span> <span class="pre">book</span> <span class="pre">on</span> <span class="pre">hold':</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.NotOnHold'&gt;,</span> <span class="pre">'The</span> <span class="pre">patron</span> <span class="pre">has</span> <span class="pre">no</span> <span class="pre">eBooks</span> <span class="pre">checked</span> <span class="pre">out':</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.NotCheckedOut'&gt;}</span></em><a class="headerlink" href="#api.bibliotheca.ErrorParser.error_mapping" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.ErrorParser.hold_limit_reached">
<span class="sig-name descname"><span class="pre">hold_limit_reached</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">re.compile('Patron</span> <span class="pre">cannot</span> <span class="pre">have</span> <span class="pre">more</span> <span class="pre">than</span> <span class="pre">[0-9]+</span> <span class="pre">hold')</span></em><a class="headerlink" href="#api.bibliotheca.ErrorParser.hold_limit_reached" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.ErrorParser.loan_limit_reached">
<span class="sig-name descname"><span class="pre">loan_limit_reached</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">re.compile('Patron</span> <span class="pre">cannot</span> <span class="pre">loan</span> <span class="pre">more</span> <span class="pre">than</span> <span class="pre">[0-9]+</span> <span class="pre">document')</span></em><a class="headerlink" href="#api.bibliotheca.ErrorParser.loan_limit_reached" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.ErrorParser.process_all">
<span class="sig-name descname"><span class="pre">process_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#ErrorParser.process_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.ErrorParser.process_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.ErrorParser.process_one">
<span class="sig-name descname"><span class="pre">process_one</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">error_tag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">namespaces</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#ErrorParser.process_one"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.ErrorParser.process_one" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.ErrorParser.wrong_status">
<span class="sig-name descname"><span class="pre">wrong_status</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">re.compile('the</span> <span class="pre">patron</span> <span class="pre">document</span> <span class="pre">status</span> <span class="pre">was</span> <span class="pre">([^</span> <span class="pre">]+)</span> <span class="pre">and</span> <span class="pre">not</span> <span class="pre">one</span> <span class="pre">of</span> <span class="pre">([^</span> <span class="pre">]+)')</span></em><a class="headerlink" href="#api.bibliotheca.ErrorParser.wrong_status" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.bibliotheca.EventParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.bibliotheca.</span></span><span class="sig-name descname"><span class="pre">EventParser</span></span><a class="reference internal" href="_modules/api/bibliotheca.html#EventParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.EventParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.bibliotheca.BibliothecaParser" title="api.bibliotheca.BibliothecaParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">BibliothecaParser</span></code></a></p>
<p>Parse Bibliotheca’s event file format into our native event objects.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.EventParser.EVENT_NAMES">
<span class="sig-name descname"><span class="pre">EVENT_NAMES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'CHECKIN':</span> <span class="pre">'distributor_check_in',</span> <span class="pre">'CHECKOUT':</span> <span class="pre">'distributor_check_out',</span> <span class="pre">'HOLD':</span> <span class="pre">'distributor_hold_place',</span> <span class="pre">'PURCHASE':</span> <span class="pre">'distributor_license_add',</span> <span class="pre">'REMOVED':</span> <span class="pre">'distributor_license_remove',</span> <span class="pre">'RESERVED':</span> <span class="pre">'distributor_availability_notify'}</span></em><a class="headerlink" href="#api.bibliotheca.EventParser.EVENT_NAMES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.EventParser.EVENT_SOURCE">
<span class="sig-name descname"><span class="pre">EVENT_SOURCE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Bibliotheca'</span></em><a class="headerlink" href="#api.bibliotheca.EventParser.EVENT_SOURCE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.EventParser.SET_DELIVERY_MECHANISM_AT">
<span class="sig-name descname"><span class="pre">SET_DELIVERY_MECHANISM_AT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'borrow'</span></em><a class="headerlink" href="#api.bibliotheca.EventParser.SET_DELIVERY_MECHANISM_AT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.EventParser.process_all">
<span class="sig-name descname"><span class="pre">process_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">no_events_error</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#EventParser.process_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.EventParser.process_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.EventParser.process_one">
<span class="sig-name descname"><span class="pre">process_one</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">namespaces</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#EventParser.process_one"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.EventParser.process_one" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.bibliotheca.HoldResponseParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.bibliotheca.</span></span><span class="sig-name descname"><span class="pre">HoldResponseParser</span></span><a class="reference internal" href="_modules/api/bibliotheca.html#HoldResponseParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.HoldResponseParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.bibliotheca.DateResponseParser" title="api.bibliotheca.DateResponseParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">DateResponseParser</span></code></a></p>
<p>Extract availability date from a hold response.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.HoldResponseParser.DATE_TAG_NAME">
<span class="sig-name descname"><span class="pre">DATE_TAG_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'AvailabilityDateInUTC'</span></em><a class="headerlink" href="#api.bibliotheca.HoldResponseParser.DATE_TAG_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.HoldResponseParser.RESULT_TAG_NAME">
<span class="sig-name descname"><span class="pre">RESULT_TAG_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'PlaceHoldResult'</span></em><a class="headerlink" href="#api.bibliotheca.HoldResponseParser.RESULT_TAG_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.bibliotheca.ItemListParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.bibliotheca.</span></span><span class="sig-name descname"><span class="pre">ItemListParser</span></span><a class="reference internal" href="_modules/api/bibliotheca.html#ItemListParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.ItemListParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.util.html#core.util.xmlparser.XMLParser" title="core.util.xmlparser.XMLParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">XMLParser</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.ItemListParser.DATE_FORMAT">
<span class="sig-name descname"><span class="pre">DATE_FORMAT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'%Y-%m-%d'</span></em><a class="headerlink" href="#api.bibliotheca.ItemListParser.DATE_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.ItemListParser.NAMESPACES">
<span class="sig-name descname"><span class="pre">NAMESPACES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#api.bibliotheca.ItemListParser.NAMESPACES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.ItemListParser.YEAR_FORMAT">
<span class="sig-name descname"><span class="pre">YEAR_FORMAT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'%Y'</span></em><a class="headerlink" href="#api.bibliotheca.ItemListParser.YEAR_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.ItemListParser.contributors_from_string">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">contributors_from_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">role</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Author'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#ItemListParser.contributors_from_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.ItemListParser.contributors_from_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.ItemListParser.format_data_for_bibliotheca_format">
<span class="sig-name descname"><span class="pre">format_data_for_bibliotheca_format</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'EPUB':</span> <span class="pre">('application/epub+zip',</span> <span class="pre">'application/vnd.adobe.adept+xml'),</span> <span class="pre">'EPUB3':</span> <span class="pre">('application/epub+zip',</span> <span class="pre">'application/vnd.adobe.adept+xml'),</span> <span class="pre">'MP3':</span> <span class="pre">(None,</span> <span class="pre">'application/vnd.librarysimplified.findaway.license+json'),</span> <span class="pre">'PDF':</span> <span class="pre">('application/pdf',</span> <span class="pre">'application/vnd.adobe.adept+xml')}</span></em><a class="headerlink" href="#api.bibliotheca.ItemListParser.format_data_for_bibliotheca_format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.ItemListParser.internal_formats">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">internal_formats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">book_format</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#ItemListParser.internal_formats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.ItemListParser.internal_formats" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the term Bibliotheca uses to refer to a book
format into a (medium [formats]) 2-tuple.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.ItemListParser.parenthetical">
<span class="sig-name descname"><span class="pre">parenthetical</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">re.compile('</span> <span class="pre">\\([^)]+\\)$')</span></em><a class="headerlink" href="#api.bibliotheca.ItemListParser.parenthetical" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.ItemListParser.parse">
<span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">xml</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#ItemListParser.parse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.ItemListParser.parse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.ItemListParser.parse_genre_string">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parse_genre_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">s</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#ItemListParser.parse_genre_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.ItemListParser.parse_genre_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.ItemListParser.process_one">
<span class="sig-name descname"><span class="pre">process_one</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">namespaces</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#ItemListParser.process_one"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.ItemListParser.process_one" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn an &lt;item&gt; tag into a Metadata and an encompassed CirculationData
objects, and return the Metadata.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.bibliotheca.MockBibliothecaAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.bibliotheca.</span></span><span class="sig-name descname"><span class="pre">MockBibliothecaAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#MockBibliothecaAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.MockBibliothecaAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.bibliotheca.BibliothecaAPI" title="api.bibliotheca.BibliothecaAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">BibliothecaAPI</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.MockBibliothecaAPI.mock_collection">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mock_collection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'Test</span> <span class="pre">Bibliotheca</span> <span class="pre">Collection'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#MockBibliothecaAPI.mock_collection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.MockBibliothecaAPI.mock_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a mock Bibliotheca collection for use in tests.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.MockBibliothecaAPI.now">
<span class="sig-name descname"><span class="pre">now</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#MockBibliothecaAPI.now"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.MockBibliothecaAPI.now" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an unvarying time in the format Bibliotheca expects.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.MockBibliothecaAPI.queue_response">
<span class="sig-name descname"><span class="pre">queue_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status_code</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#MockBibliothecaAPI.queue_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.MockBibliothecaAPI.queue_response" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.bibliotheca.PatronCirculationParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.bibliotheca.</span></span><span class="sig-name descname"><span class="pre">PatronCirculationParser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#PatronCirculationParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.PatronCirculationParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.bibliotheca.BibliothecaParser" title="api.bibliotheca.BibliothecaParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">BibliothecaParser</span></code></a></p>
<p>Parse Bibliotheca’s patron circulation status document into a list of
LoanInfo and HoldInfo objects.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.bibliotheca.PatronCirculationParser.id_type">
<span class="sig-name descname"><span class="pre">id_type</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Bibliotheca</span> <span class="pre">ID'</span></em><a class="headerlink" href="#api.bibliotheca.PatronCirculationParser.id_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.PatronCirculationParser.process_all">
<span class="sig-name descname"><span class="pre">process_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#PatronCirculationParser.process_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.PatronCirculationParser.process_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.PatronCirculationParser.process_one">
<span class="sig-name descname"><span class="pre">process_one</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">namespaces</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source_class</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#PatronCirculationParser.process_one"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.PatronCirculationParser.process_one" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.PatronCirculationParser.process_one_hold">
<span class="sig-name descname"><span class="pre">process_one_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">namespaces</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#PatronCirculationParser.process_one_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.PatronCirculationParser.process_one_hold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.PatronCirculationParser.process_one_loan">
<span class="sig-name descname"><span class="pre">process_one_loan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">namespaces</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#PatronCirculationParser.process_one_loan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.PatronCirculationParser.process_one_loan" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.PatronCirculationParser.process_one_reserve">
<span class="sig-name descname"><span class="pre">process_one_reserve</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">tag</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">namespaces</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#PatronCirculationParser.process_one_reserve"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.PatronCirculationParser.process_one_reserve" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.bibliotheca.RunBibliothecaPurchaseMonitorScript">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.bibliotheca.</span></span><span class="sig-name descname"><span class="pre">RunBibliothecaPurchaseMonitorScript</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">monitor_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">_db</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmd_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#RunBibliothecaPurchaseMonitorScript"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.RunBibliothecaPurchaseMonitorScript" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.scripts.RunCollectionMonitorScript" title="core.scripts.RunCollectionMonitorScript"><code class="xref py py-class docutils literal notranslate"><span class="pre">RunCollectionMonitorScript</span></code></a></p>
<p>Adds the ability to specify a particular start date for the
BibliothecaPurchaseMonitor. This is important because for a given
collection, the start date needs to be before books
started being licensed into that collection.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.RunBibliothecaPurchaseMonitorScript.arg_parser">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">arg_parser</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#RunBibliothecaPurchaseMonitorScript.arg_parser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.RunBibliothecaPurchaseMonitorScript.arg_parser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.bibliotheca.RunBibliothecaPurchaseMonitorScript.parse_command_line">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parse_command_line</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cmd_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#RunBibliothecaPurchaseMonitorScript.parse_command_line"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.RunBibliothecaPurchaseMonitorScript.parse_command_line" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.bibliotheca.WorkflowException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.bibliotheca.</span></span><span class="sig-name descname"><span class="pre">WorkflowException</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_status</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">statuses_that_would_work</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#WorkflowException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.bibliotheca.WorkflowException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.bibliotheca.BibliothecaException" title="api.bibliotheca.BibliothecaException"><code class="xref py py-class docutils literal notranslate"><span class="pre">BibliothecaException</span></code></a></p>
</dd></dl>

</section>
<section id="module-api.circulation">
<span id="api-circulation-module"></span><h2>api.circulation module<a class="headerlink" href="#module-api.circulation" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.circulation.APIAwareFulfillmentInfo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation.</span></span><span class="sig-name descname"><span class="pre">APIAwareFulfillmentInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">api</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_source_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#APIAwareFulfillmentInfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.APIAwareFulfillmentInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation.FulfillmentInfo" title="api.circulation.FulfillmentInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">FulfillmentInfo</span></code></a></p>
<p>This that acts like FulfillmentInfo but is prepared to make an API
request on demand to get data, rather than having all the data
ready right now.</p>
<p>This class is useful in situations where generating a full
FulfillmentInfo object would be costly. We only want to incur that
cost when the patron wants to fulfill this title and is not just
looking at their loans.</p>
<dl class="py property">
<dt class="sig sig-object py" id="api.circulation.APIAwareFulfillmentInfo.content">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">content</span></span><a class="headerlink" href="#api.circulation.APIAwareFulfillmentInfo.content" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.circulation.APIAwareFulfillmentInfo.content_expires">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">content_expires</span></span><a class="headerlink" href="#api.circulation.APIAwareFulfillmentInfo.content_expires" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.circulation.APIAwareFulfillmentInfo.content_link">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">content_link</span></span><a class="headerlink" href="#api.circulation.APIAwareFulfillmentInfo.content_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.circulation.APIAwareFulfillmentInfo.content_type">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">content_type</span></span><a class="headerlink" href="#api.circulation.APIAwareFulfillmentInfo.content_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.circulation.APIAwareFulfillmentInfo.do_fetch">
<span class="sig-name descname"><span class="pre">do_fetch</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#APIAwareFulfillmentInfo.do_fetch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.APIAwareFulfillmentInfo.do_fetch" title="Permalink to this definition">¶</a></dt>
<dd><p>Actually make the API request.</p>
<p>When implemented, this method must set values for some or all
of _content_link, _content_type, _content, and
_content_expires.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.circulation.APIAwareFulfillmentInfo.fetch">
<span class="sig-name descname"><span class="pre">fetch</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#APIAwareFulfillmentInfo.fetch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.APIAwareFulfillmentInfo.fetch" title="Permalink to this definition">¶</a></dt>
<dd><p>It’s time to tell the API that we want to fulfill this book.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.circulation.BaseCirculationAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation.</span></span><span class="sig-name descname"><span class="pre">BaseCirculationAPI</span></span><a class="reference internal" href="_modules/api/circulation.html#BaseCirculationAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.BaseCirculationAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Encapsulates logic common to all circulation APIs.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation.BaseCirculationAPI.AUDIOBOOK_LOAN_DURATION_SETTING">
<span class="sig-name descname"><span class="pre">AUDIOBOOK_LOAN_DURATION_SETTING</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'default':</span> <span class="pre">21,</span> <span class="pre">'description':</span> <span class="pre">l'When</span> <span class="pre">a</span> <span class="pre">patron</span> <span class="pre">uses</span> <span class="pre">SimplyE</span> <span class="pre">to</span> <span class="pre">borrow</span> <span class="pre">an</span> <span class="pre">audiobook</span> <span class="pre">from</span> <span class="pre">this</span> <span class="pre">collection,</span> <span class="pre">SimplyE</span> <span class="pre">will</span> <span class="pre">ask</span> <span class="pre">for</span> <span class="pre">a</span> <span class="pre">loan</span> <span class="pre">that</span> <span class="pre">lasts</span> <span class="pre">this</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">days.</span> <span class="pre">This</span> <span class="pre">must</span> <span class="pre">be</span> <span class="pre">equal</span> <span class="pre">to</span> <span class="pre">or</span> <span class="pre">less</span> <span class="pre">than</span> <span class="pre">the</span> <span class="pre">maximum</span> <span class="pre">loan</span> <span class="pre">duration</span> <span class="pre">negotiated</span> <span class="pre">with</span> <span class="pre">the</span> <span class="pre">distributor.',</span> <span class="pre">'key':</span> <span class="pre">'audio_loan_duration',</span> <span class="pre">'label':</span> <span class="pre">l'Audiobook</span> <span class="pre">Loan</span> <span class="pre">Duration</span> <span class="pre">(in</span> <span class="pre">Days)',</span> <span class="pre">'type':</span> <span class="pre">'number'}</span></em><a class="headerlink" href="#api.circulation.BaseCirculationAPI.AUDIOBOOK_LOAN_DURATION_SETTING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation.BaseCirculationAPI.BORROW_STEP">
<span class="sig-name descname"><span class="pre">BORROW_STEP</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'borrow'</span></em><a class="headerlink" href="#api.circulation.BaseCirculationAPI.BORROW_STEP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation.BaseCirculationAPI.CAN_REVOKE_HOLD_WHEN_RESERVED">
<span class="sig-name descname"><span class="pre">CAN_REVOKE_HOLD_WHEN_RESERVED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#api.circulation.BaseCirculationAPI.CAN_REVOKE_HOLD_WHEN_RESERVED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation.BaseCirculationAPI.DEFAULT_LOAN_DURATION_SETTING">
<span class="sig-name descname"><span class="pre">DEFAULT_LOAN_DURATION_SETTING</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'default':</span> <span class="pre">21,</span> <span class="pre">'description':</span> <span class="pre">l'Until</span> <span class="pre">it</span> <span class="pre">hears</span> <span class="pre">otherwise</span> <span class="pre">from</span> <span class="pre">the</span> <span class="pre">distributor,</span> <span class="pre">this</span> <span class="pre">server</span> <span class="pre">will</span> <span class="pre">assume</span> <span class="pre">that</span> <span class="pre">any</span> <span class="pre">given</span> <span class="pre">loan</span> <span class="pre">for</span> <span class="pre">this</span> <span class="pre">library</span> <span class="pre">from</span> <span class="pre">this</span> <span class="pre">collection</span> <span class="pre">will</span> <span class="pre">last</span> <span class="pre">this</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">days.</span> <span class="pre">This</span> <span class="pre">number</span> <span class="pre">is</span> <span class="pre">usually</span> <span class="pre">a</span> <span class="pre">negotiated</span> <span class="pre">value</span> <span class="pre">between</span> <span class="pre">the</span> <span class="pre">library</span> <span class="pre">and</span> <span class="pre">the</span> <span class="pre">distributor.</span> <span class="pre">This</span> <span class="pre">only</span> <span class="pre">affects</span> <span class="pre">estimates&amp;mdash;it</span> <span class="pre">cannot</span> <span class="pre">affect</span> <span class="pre">the</span> <span class="pre">actual</span> <span class="pre">length</span> <span class="pre">of</span> <span class="pre">loans.',</span> <span class="pre">'key':</span> <span class="pre">'ebook_loan_duration',</span> <span class="pre">'label':</span> <span class="pre">l'Default</span> <span class="pre">Loan</span> <span class="pre">Period</span> <span class="pre">(in</span> <span class="pre">Days)',</span> <span class="pre">'type':</span> <span class="pre">'number'}</span></em><a class="headerlink" href="#api.circulation.BaseCirculationAPI.DEFAULT_LOAN_DURATION_SETTING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation.BaseCirculationAPI.EBOOK_LOAN_DURATION_SETTING">
<span class="sig-name descname"><span class="pre">EBOOK_LOAN_DURATION_SETTING</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'default':</span> <span class="pre">21,</span> <span class="pre">'description':</span> <span class="pre">l'When</span> <span class="pre">a</span> <span class="pre">patron</span> <span class="pre">uses</span> <span class="pre">SimplyE</span> <span class="pre">to</span> <span class="pre">borrow</span> <span class="pre">an</span> <span class="pre">ebook</span> <span class="pre">from</span> <span class="pre">this</span> <span class="pre">collection,</span> <span class="pre">SimplyE</span> <span class="pre">will</span> <span class="pre">ask</span> <span class="pre">for</span> <span class="pre">a</span> <span class="pre">loan</span> <span class="pre">that</span> <span class="pre">lasts</span> <span class="pre">this</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">days.</span> <span class="pre">This</span> <span class="pre">must</span> <span class="pre">be</span> <span class="pre">equal</span> <span class="pre">to</span> <span class="pre">or</span> <span class="pre">less</span> <span class="pre">than</span> <span class="pre">the</span> <span class="pre">maximum</span> <span class="pre">loan</span> <span class="pre">duration</span> <span class="pre">negotiated</span> <span class="pre">with</span> <span class="pre">the</span> <span class="pre">distributor.',</span> <span class="pre">'key':</span> <span class="pre">'ebook_loan_duration',</span> <span class="pre">'label':</span> <span class="pre">l'Ebook</span> <span class="pre">Loan</span> <span class="pre">Duration</span> <span class="pre">(in</span> <span class="pre">Days)',</span> <span class="pre">'type':</span> <span class="pre">'number'}</span></em><a class="headerlink" href="#api.circulation.BaseCirculationAPI.EBOOK_LOAN_DURATION_SETTING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation.BaseCirculationAPI.FULFILL_STEP">
<span class="sig-name descname"><span class="pre">FULFILL_STEP</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'fulfill'</span></em><a class="headerlink" href="#api.circulation.BaseCirculationAPI.FULFILL_STEP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation.BaseCirculationAPI.LIBRARY_SETTINGS">
<span class="sig-name descname"><span class="pre">LIBRARY_SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[]</span></em><a class="headerlink" href="#api.circulation.BaseCirculationAPI.LIBRARY_SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation.BaseCirculationAPI.SETTINGS">
<span class="sig-name descname"><span class="pre">SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[]</span></em><a class="headerlink" href="#api.circulation.BaseCirculationAPI.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation.BaseCirculationAPI.SET_DELIVERY_MECHANISM_AT">
<span class="sig-name descname"><span class="pre">SET_DELIVERY_MECHANISM_AT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'fulfill'</span></em><a class="headerlink" href="#api.circulation.BaseCirculationAPI.SET_DELIVERY_MECHANISM_AT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.circulation.BaseCirculationAPI.can_fulfill_without_loan">
<span class="sig-name descname"><span class="pre">can_fulfill_without_loan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lpdm</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#BaseCirculationAPI.can_fulfill_without_loan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.BaseCirculationAPI.can_fulfill_without_loan" title="Permalink to this definition">¶</a></dt>
<dd><p>In general, you can’t fulfill a book without a loan.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.circulation.BaseCirculationAPI.checkin">
<span class="sig-name descname"><span class="pre">checkin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#BaseCirculationAPI.checkin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.BaseCirculationAPI.checkin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a book early.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patron</strong> – a Patron object for the patron who wants to check out the book.</p></li>
<li><p><strong>pin</strong> – The patron’s alleged password.</p></li>
<li><p><strong>licensepool</strong> – Contains lending info as well as link to parent Identifier.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.circulation.BaseCirculationAPI.checkout">
<span class="sig-name descname"><span class="pre">checkout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal_format</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#BaseCirculationAPI.checkout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.BaseCirculationAPI.checkout" title="Permalink to this definition">¶</a></dt>
<dd><p>Check out a book on behalf of a patron.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patron</strong> – a Patron object for the patron who wants to check out the book.</p></li>
<li><p><strong>pin</strong> – The patron’s alleged password.</p></li>
<li><p><strong>licensepool</strong> – Contains lending info as well as link to parent Identifier.</p></li>
<li><p><strong>internal_format</strong> – Represents the patron’s desired book format.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a LoanInfo object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.circulation.BaseCirculationAPI.default_notification_email_address">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">default_notification_email_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library_or_patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#BaseCirculationAPI.default_notification_email_address"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.BaseCirculationAPI.default_notification_email_address" title="Permalink to this definition">¶</a></dt>
<dd><p>What email address should be used to notify this library’s
patrons of changes?</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>library_or_patron</strong> – A Library or a Patron.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation.BaseCirculationAPI.delivery_mechanism_to_internal_format">
<span class="sig-name descname"><span class="pre">delivery_mechanism_to_internal_format</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{}</span></em><a class="headerlink" href="#api.circulation.BaseCirculationAPI.delivery_mechanism_to_internal_format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.circulation.BaseCirculationAPI.fulfill">
<span class="sig-name descname"><span class="pre">fulfill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">part</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fulfill_part_url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#BaseCirculationAPI.fulfill"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.BaseCirculationAPI.fulfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the actual resource file to the patron.</p>
<p>Implementations are encouraged to define <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code> as a container
for vendor-specific arguments, so that they don’t have to change
as new arguments are added.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>internal_format</strong> – A vendor-specific name indicating
the format requested by the patron.</p></li>
<li><p><strong>part</strong> – A vendor-specific identifier indicating that the
patron wants to fulfill one specific part of the book
(e.g. one chapter of an audiobook), not the whole thing.</p></li>
<li><p><strong>fulfill_part_url</strong> – A function that takes one argument (a
vendor-specific part identifier) and returns the URL to use
when fulfilling that part.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a FulfillmentInfo object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.circulation.BaseCirculationAPI.internal_format">
<span class="sig-name descname"><span class="pre">internal_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delivery_mechanism</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#BaseCirculationAPI.internal_format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.BaseCirculationAPI.internal_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up the internal format for this delivery mechanism or
raise an exception.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>delivery_mechanism</strong> – A LicensePoolDeliveryMechanism</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.circulation.BaseCirculationAPI.patron_activity">
<span class="sig-name descname"><span class="pre">patron_activity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#BaseCirculationAPI.patron_activity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.BaseCirculationAPI.patron_activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a patron’s current checkouts and holds.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.circulation.BaseCirculationAPI.patron_email_address">
<span class="sig-name descname"><span class="pre">patron_email_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">library_authenticator</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#BaseCirculationAPI.patron_email_address"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.BaseCirculationAPI.patron_email_address" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up the email address that the given Patron shared
with their library.</p>
<p>We do not store this information, but some API integrations
need it, so we give the ability to look it up as needed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>patron</strong> – A Patron.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The patron’s email address. None if the patron never
shared their email address with their library, or if the
authentication technique will not share that information
with us.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.circulation.BaseCirculationAPI.place_hold">
<span class="sig-name descname"><span class="pre">place_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notification_email_address</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#BaseCirculationAPI.place_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.BaseCirculationAPI.place_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Place a book on hold.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A HoldInfo object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.circulation.BaseCirculationAPI.release_hold">
<span class="sig-name descname"><span class="pre">release_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#BaseCirculationAPI.release_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.BaseCirculationAPI.release_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Release a patron’s hold on a book.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#api.circulation_exceptions.CannotReleaseHold" title="api.circulation_exceptions.CannotReleaseHold"><strong>CannotReleaseHold</strong></a> – If there is an error communicating
with the provider, or the provider refuses to release the hold for
any reason.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.circulation.BaseCirculationAPI.update_availability">
<span class="sig-name descname"><span class="pre">update_availability</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#BaseCirculationAPI.update_availability"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.BaseCirculationAPI.update_availability" title="Permalink to this definition">¶</a></dt>
<dd><p>Update availability information for a book.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.circulation.CirculationAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation.</span></span><span class="sig-name descname"><span class="pre">CirculationAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analytics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.CirculationAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Implement basic circulation logic and abstract away the details
between different circulation APIs behind generic operations like
‘borrow’.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.circulation.CirculationAPI.api_for_license_pool">
<span class="sig-name descname"><span class="pre">api_for_license_pool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationAPI.api_for_license_pool"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.CirculationAPI.api_for_license_pool" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the API to use for the given license pool.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.circulation.CirculationAPI.borrow">
<span class="sig-name descname"><span class="pre">borrow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delivery_mechanism</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hold_notification_email</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationAPI.borrow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.CirculationAPI.borrow" title="Permalink to this definition">¶</a></dt>
<dd><p>Either borrow a book or put it on hold. Don’t worry about fulfilling
the loan yet.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A 3-tuple (<cite>Loan</cite>, <cite>Hold</cite>, <cite>is_new</cite>). Either <cite>Loan</cite>
or <cite>Hold</cite> must be None, but not both.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.circulation.CirculationAPI.can_fulfill_without_loan">
<span class="sig-name descname"><span class="pre">can_fulfill_without_loan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lpdm</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationAPI.can_fulfill_without_loan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.CirculationAPI.can_fulfill_without_loan" title="Permalink to this definition">¶</a></dt>
<dd><p>Can we deliver the given book in the given format to the given
patron, even though the patron has no active loan for that
book?</p>
<p>In general this is not possible, but there are some
exceptions, managed in subclasses of BaseCirculationAPI.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patron</strong> – A Patron. This is probably None, indicating
that someone is trying to fulfill a book without identifying
themselves.</p></li>
<li><p><strong>delivery_mechanism</strong> – The LicensePoolDeliveryMechanism
representing a format for a specific title.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.circulation.CirculationAPI.can_revoke_hold">
<span class="sig-name descname"><span class="pre">can_revoke_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hold</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationAPI.can_revoke_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.CirculationAPI.can_revoke_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Some circulation providers allow you to cancel a hold
when the book is reserved to you. Others only allow you to cancel
a hold while you’re in the hold queue.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.circulation.CirculationAPI.default_api_map">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">default_api_map</span></span><a class="headerlink" href="#api.circulation.CirculationAPI.default_api_map" title="Permalink to this definition">¶</a></dt>
<dd><p>When you see a Collection that implements protocol X, instantiate
API class Y to handle that collection.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.circulation.CirculationAPI.enforce_limits">
<span class="sig-name descname"><span class="pre">enforce_limits</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationAPI.enforce_limits"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.CirculationAPI.enforce_limits" title="Permalink to this definition">¶</a></dt>
<dd><p>Enforce library-specific patron loan and hold limits.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patron</strong> – A Patron.</p></li>
<li><p><strong>pool</strong> – A LicensePool the patron is trying to access. As
a side effect, this method may update <cite>pool</cite> with the latest
availability information from the remote API.</p></li>
</ul>
</dd>
<dt class="field-even">Raises<span class="colon">:</span></dt>
<dd class="field-even"><ul class="simple">
<li><p><a class="reference internal" href="#api.circulation_exceptions.PatronLoanLimitReached" title="api.circulation_exceptions.PatronLoanLimitReached"><strong>PatronLoanLimitReached</strong></a> – If <cite>pool</cite> is currently
available but the patron is at their loan limit.</p></li>
<li><p><a class="reference internal" href="#api.circulation_exceptions.PatronHoldLimitReached" title="api.circulation_exceptions.PatronHoldLimitReached"><strong>PatronHoldLimitReached</strong></a> – If <cite>pool</cite> is currently
unavailable and the patron is at their hold limit.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.circulation.CirculationAPI.fulfill">
<span class="sig-name descname"><span class="pre">fulfill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delivery_mechanism</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">part</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fulfill_part_url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sync_on_failure</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationAPI.fulfill"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.CirculationAPI.fulfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Fulfil a book that a patron has previously checked out.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>delivery_mechanism</strong> – A LicensePoolDeliveryMechanism
explaining how the patron wants the book to be delivered. If
the book has previously been delivered through some other
mechanism, this parameter is ignored and the previously used
mechanism takes precedence.</p></li>
<li><p><strong>part</strong> – A vendor-specific identifier indicating that the
patron wants to fulfill one specific part of the book
(e.g. one chapter of an audiobook), not the whole thing.</p></li>
<li><p><strong>fulfill_part_url</strong> – A function that takes one argument (a
vendor-specific part identifier) and returns the URL to use
when fulfilling that part.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A FulfillmentInfo object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.circulation.CirculationAPI.fulfill_open_access">
<span class="sig-name descname"><span class="pre">fulfill_open_access</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delivery_mechanism</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationAPI.fulfill_open_access"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.CirculationAPI.fulfill_open_access" title="Permalink to this definition">¶</a></dt>
<dd><p>Fulfill an open-access LicensePool through the requested
DeliveryMechanism.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>licensepool</strong> – The title to be fulfilled.</p></li>
<li><p><strong>delivery_mechanism</strong> – A DeliveryMechanism.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.circulation.CirculationAPI.library">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">library</span></span><a class="headerlink" href="#api.circulation.CirculationAPI.library" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.circulation.CirculationAPI.local_holds">
<span class="sig-name descname"><span class="pre">local_holds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationAPI.local_holds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.CirculationAPI.local_holds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.circulation.CirculationAPI.local_loans">
<span class="sig-name descname"><span class="pre">local_loans</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationAPI.local_loans"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.CirculationAPI.local_loans" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.circulation.CirculationAPI.patron_activity">
<span class="sig-name descname"><span class="pre">patron_activity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationAPI.patron_activity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.CirculationAPI.patron_activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a record of the patron’s current activity
vis-a-vis all relevant external loan sources.</p>
<p>We check each source in a separate thread for speed.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A 2-tuple (loans, holds) containing <cite>HoldInfo</cite> and
<cite>LoanInfo</cite> objects.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.circulation.CirculationAPI.patron_at_hold_limit">
<span class="sig-name descname"><span class="pre">patron_at_hold_limit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationAPI.patron_at_hold_limit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.CirculationAPI.patron_at_hold_limit" title="Permalink to this definition">¶</a></dt>
<dd><p>Is the given patron at their hold limit?</p>
<p>This doesn’t belong in Patron because the hold limit is not core functionality.
Of course, Patron itself isn’t really core functionality…</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>patron</strong> – A Patron.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.circulation.CirculationAPI.patron_at_loan_limit">
<span class="sig-name descname"><span class="pre">patron_at_loan_limit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationAPI.patron_at_loan_limit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.CirculationAPI.patron_at_loan_limit" title="Permalink to this definition">¶</a></dt>
<dd><p>Is the given patron at their loan limit?</p>
<p>This doesn’t belong in Patron because the loan limit is not core functionality.
Of course, Patron itself isn’t really core functionality…</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>patron</strong> – A Patron.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.circulation.CirculationAPI.release_hold">
<span class="sig-name descname"><span class="pre">release_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationAPI.release_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.CirculationAPI.release_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a patron’s hold on a book.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.circulation.CirculationAPI.revoke_loan">
<span class="sig-name descname"><span class="pre">revoke_loan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationAPI.revoke_loan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.CirculationAPI.revoke_loan" title="Permalink to this definition">¶</a></dt>
<dd><p>Revoke a patron’s loan for a book.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.circulation.CirculationAPI.sync_bookshelf">
<span class="sig-name descname"><span class="pre">sync_bookshelf</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationAPI.sync_bookshelf"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.CirculationAPI.sync_bookshelf" title="Permalink to this definition">¶</a></dt>
<dd><p>Sync our internal model of a patron’s bookshelf with any external
vendors that provide books to the patron’s library.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patron</strong> – A Patron.</p></li>
<li><p><strong>pin</strong> – The password authenticating the patron; used by some vendors
that perform a cross-check against the library ILS.</p></li>
<li><p><strong>force</strong> – If this is True, the method will call out to external
vendors even if it looks like the system has up-to-date information
about the patron.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.circulation.CirculationInfo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation.</span></span><span class="sig-name descname"><span class="pre">CirculationInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_source_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationInfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.CirculationInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.circulation.CirculationInfo.collection">
<span class="sig-name descname"><span class="pre">collection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationInfo.collection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.CirculationInfo.collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the Collection to which this object belongs.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.circulation.CirculationInfo.fd">
<span class="sig-name descname"><span class="pre">fd</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationInfo.fd"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.CirculationInfo.fd" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.circulation.CirculationInfo.license_pool">
<span class="sig-name descname"><span class="pre">license_pool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationInfo.license_pool"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.CirculationInfo.license_pool" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the LicensePool model object corresponding to this object.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.circulation.DeliveryMechanismInfo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation.</span></span><span class="sig-name descname"><span class="pre">DeliveryMechanismInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">drm_scheme</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rights_uri</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'http://librarysimplified.org/terms/rights-status/in-copyright'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">resource</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#DeliveryMechanismInfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.DeliveryMechanismInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation.CirculationInfo" title="api.circulation.CirculationInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">CirculationInfo</span></code></a></p>
<p>A record of a technique that must be (but is not, currently, being)
used to fulfill a certain loan.</p>
<p>Although this class is similar to <cite>FormatInfo</cite> in
core/metadata.py, usage here is strictly limited to recording
which <cite>LicensePoolDeliveryMechanism</cite> a specific loan is currently
locked to.</p>
<p>If, in the course of investigating a patron’s loans, you discover
general facts about a LicensePool’s availability or formats, that
information needs to be stored in a <cite>CirculationData</cite> and applied to
the LicensePool separately.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.circulation.DeliveryMechanismInfo.apply">
<span class="sig-name descname"><span class="pre">apply</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">loan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">autocommit</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#DeliveryMechanismInfo.apply"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.DeliveryMechanismInfo.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>Set an appropriate LicensePoolDeliveryMechanism on the given
<cite>Loan</cite>, creating a DeliveryMechanism if necessary.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>loan</strong> – A Loan object.</p></li>
<li><p><strong>autocommit</strong> – Set this to false if you are in the middle
of a nested transaction.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A LicensePoolDeliveryMechanism if one could be set on the
given Loan; None otherwise.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.circulation.FulfillmentInfo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation.</span></span><span class="sig-name descname"><span class="pre">FulfillmentInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_source_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content_link</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content_expires</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#FulfillmentInfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.FulfillmentInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation.CirculationInfo" title="api.circulation.CirculationInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">CirculationInfo</span></code></a></p>
<p>A record of a technique that can be used <em>right now</em> to fulfill
a loan.</p>
<dl class="py property">
<dt class="sig sig-object py" id="api.circulation.FulfillmentInfo.as_response">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">as_response</span></span><a class="headerlink" href="#api.circulation.FulfillmentInfo.as_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Bypass the normal process of creating a Flask Response.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A Response object, or None if you’re okay with the
normal process.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation.FulfillmentInfo.can_cache_manifest">
<span class="sig-name descname"><span class="pre">can_cache_manifest</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#api.circulation.FulfillmentInfo.can_cache_manifest" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.circulation.HoldInfo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation.</span></span><span class="sig-name descname"><span class="pre">HoldInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_source_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hold_position</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">external_identifier</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#HoldInfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.HoldInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation.CirculationInfo" title="api.circulation.CirculationInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">CirculationInfo</span></code></a></p>
<p>A record of a hold.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>identifier_type</strong> – Ex. Identifier.RBDIGITAL_ID.</p></li>
<li><p><strong>identifier</strong> – Expected to be the unicode string of the isbn, etc.</p></li>
<li><p><strong>start_date</strong> – When the patron made the reservation.</p></li>
<li><p><strong>end_date</strong> – When reserved book is expected to become available.
Expected to be passed in date, not unicode format.</p></li>
<li><p><strong>hold_position</strong> – Patron’s place in the hold line. When not available,
default to be passed is None, which is equivalent to “first in line”.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.circulation.LoanInfo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation.</span></span><span class="sig-name descname"><span class="pre">LoanInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_source_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start_date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end_date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fulfillment_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">external_identifier</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locked_to</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#LoanInfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation.LoanInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation.CirculationInfo" title="api.circulation.CirculationInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">CirculationInfo</span></code></a></p>
<p>A record of a loan.</p>
</dd></dl>

</section>
<section id="module-api.circulation_exceptions">
<span id="api-circulation-exceptions-module"></span><h2>api.circulation_exceptions module<a class="headerlink" href="#module-api.circulation_exceptions" title="Permalink to this heading">¶</a></h2>
<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.AlreadyCheckedOut">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">AlreadyCheckedOut</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#AlreadyCheckedOut"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.AlreadyCheckedOut" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CannotLoan" title="api.circulation_exceptions.CannotLoan"><code class="xref py py-class docutils literal notranslate"><span class="pre">CannotLoan</span></code></a></p>
<p>The patron can’t put check this book out because they already have
it checked out.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.AlreadyCheckedOut.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">400</span></em><a class="headerlink" href="#api.circulation_exceptions.AlreadyCheckedOut.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.AlreadyOnHold">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">AlreadyOnHold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#AlreadyOnHold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.AlreadyOnHold" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CannotHold" title="api.circulation_exceptions.CannotHold"><code class="xref py py-class docutils literal notranslate"><span class="pre">CannotHold</span></code></a></p>
<p>The patron can’t put this book on hold because they already have
it on hold.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.AlreadyOnHold.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">400</span></em><a class="headerlink" href="#api.circulation_exceptions.AlreadyOnHold.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.AuthorizationBlocked">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">AuthorizationBlocked</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#AuthorizationBlocked"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.AuthorizationBlocked" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CannotLoan" title="api.circulation_exceptions.CannotLoan"><code class="xref py py-class docutils literal notranslate"><span class="pre">CannotLoan</span></code></a></p>
<p>The patron’s authorization is blocked for some reason other than
fines or an expired card.</p>
<p>For instance, the patron has been banned from the library.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.circulation_exceptions.AuthorizationBlocked.as_problem_detail_document">
<span class="sig-name descname"><span class="pre">as_problem_detail_document</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#AuthorizationBlocked.as_problem_detail_document"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.AuthorizationBlocked.as_problem_detail_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a suitable problem detail document.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.AuthorizationBlocked.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">403</span></em><a class="headerlink" href="#api.circulation_exceptions.AuthorizationBlocked.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.AuthorizationExpired">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">AuthorizationExpired</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#AuthorizationExpired"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.AuthorizationExpired" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CannotLoan" title="api.circulation_exceptions.CannotLoan"><code class="xref py py-class docutils literal notranslate"><span class="pre">CannotLoan</span></code></a></p>
<p>The patron’s authorization has expired.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.circulation_exceptions.AuthorizationExpired.as_problem_detail_document">
<span class="sig-name descname"><span class="pre">as_problem_detail_document</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#AuthorizationExpired.as_problem_detail_document"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.AuthorizationExpired.as_problem_detail_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a suitable problem detail document.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.AuthorizationExpired.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">403</span></em><a class="headerlink" href="#api.circulation_exceptions.AuthorizationExpired.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.AuthorizationFailedException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">AuthorizationFailedException</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#AuthorizationFailedException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.AuthorizationFailedException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CirculationException" title="api.circulation_exceptions.CirculationException"><code class="xref py py-class docutils literal notranslate"><span class="pre">CirculationException</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.AuthorizationFailedException.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">401</span></em><a class="headerlink" href="#api.circulation_exceptions.AuthorizationFailedException.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.CannotFulfill">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">CannotFulfill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#CannotFulfill"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.CannotFulfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CirculationException" title="api.circulation_exceptions.CirculationException"><code class="xref py py-class docutils literal notranslate"><span class="pre">CirculationException</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.CannotFulfill.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">500</span></em><a class="headerlink" href="#api.circulation_exceptions.CannotFulfill.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.CannotHold">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">CannotHold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#CannotHold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.CannotHold" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CirculationException" title="api.circulation_exceptions.CirculationException"><code class="xref py py-class docutils literal notranslate"><span class="pre">CirculationException</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.CannotHold.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">500</span></em><a class="headerlink" href="#api.circulation_exceptions.CannotHold.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.CannotLoan">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">CannotLoan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#CannotLoan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.CannotLoan" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CirculationException" title="api.circulation_exceptions.CirculationException"><code class="xref py py-class docutils literal notranslate"><span class="pre">CirculationException</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.CannotLoan.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">500</span></em><a class="headerlink" href="#api.circulation_exceptions.CannotLoan.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.CannotPartiallyFulfill">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">CannotPartiallyFulfill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#CannotPartiallyFulfill"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.CannotPartiallyFulfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CannotFulfill" title="api.circulation_exceptions.CannotFulfill"><code class="xref py py-class docutils literal notranslate"><span class="pre">CannotFulfill</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.CannotPartiallyFulfill.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">400</span></em><a class="headerlink" href="#api.circulation_exceptions.CannotPartiallyFulfill.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.CannotReleaseHold">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">CannotReleaseHold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#CannotReleaseHold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.CannotReleaseHold" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CirculationException" title="api.circulation_exceptions.CirculationException"><code class="xref py py-class docutils literal notranslate"><span class="pre">CirculationException</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.CannotReleaseHold.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">500</span></em><a class="headerlink" href="#api.circulation_exceptions.CannotReleaseHold.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.CannotRenew">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">CannotRenew</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#CannotRenew"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.CannotRenew" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CirculationException" title="api.circulation_exceptions.CirculationException"><code class="xref py py-class docutils literal notranslate"><span class="pre">CirculationException</span></code></a></p>
<p>The patron can’t renew their loan on this book.</p>
<p>Probably because it’s not available for renewal.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.CannotRenew.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">400</span></em><a class="headerlink" href="#api.circulation_exceptions.CannotRenew.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.CannotReturn">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">CannotReturn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#CannotReturn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.CannotReturn" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CirculationException" title="api.circulation_exceptions.CirculationException"><code class="xref py py-class docutils literal notranslate"><span class="pre">CirculationException</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.CannotReturn.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">500</span></em><a class="headerlink" href="#api.circulation_exceptions.CannotReturn.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.CirculationException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">CirculationException</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#CirculationException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.CirculationException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.util.html#core.util.http.IntegrationException" title="core.util.http.IntegrationException"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntegrationException</span></code></a></p>
<p>An exception occured when carrying out a circulation operation.</p>
<p><cite>status_code</cite> is the status code that should be returned to the patron.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.CirculationException.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">400</span></em><a class="headerlink" href="#api.circulation_exceptions.CirculationException.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.CurrentlyAvailable">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">CurrentlyAvailable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#CurrentlyAvailable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.CurrentlyAvailable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CannotHold" title="api.circulation_exceptions.CannotHold"><code class="xref py py-class docutils literal notranslate"><span class="pre">CannotHold</span></code></a></p>
<p>The patron can’t put this book on hold because it’s available now.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.CurrentlyAvailable.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">400</span></em><a class="headerlink" href="#api.circulation_exceptions.CurrentlyAvailable.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.DeliveryMechanismConflict">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">DeliveryMechanismConflict</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#DeliveryMechanismConflict"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.DeliveryMechanismConflict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.DeliveryMechanismError" title="api.circulation_exceptions.DeliveryMechanismError"><code class="xref py py-class docutils literal notranslate"><span class="pre">DeliveryMechanismError</span></code></a></p>
<p>The patron specified a delivery mechanism that conflicted with
one already set in stone.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.DeliveryMechanismError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">DeliveryMechanismError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#DeliveryMechanismError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.DeliveryMechanismError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.InvalidInputException" title="api.circulation_exceptions.InvalidInputException"><code class="xref py py-class docutils literal notranslate"><span class="pre">InvalidInputException</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.DeliveryMechanismError.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">400</span></em><a class="headerlink" href="#api.circulation_exceptions.DeliveryMechanismError.status_code" title="Permalink to this definition">¶</a></dt>
<dd><p>The patron broke the rules about delivery mechanisms.</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.DeliveryMechanismMissing">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">DeliveryMechanismMissing</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#DeliveryMechanismMissing"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.DeliveryMechanismMissing" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.DeliveryMechanismError" title="api.circulation_exceptions.DeliveryMechanismError"><code class="xref py py-class docutils literal notranslate"><span class="pre">DeliveryMechanismError</span></code></a></p>
<p>The patron needed to specify a delivery mechanism and didn’t.</p>
</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.FormatNotAvailable">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">FormatNotAvailable</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#FormatNotAvailable"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.FormatNotAvailable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CannotFulfill" title="api.circulation_exceptions.CannotFulfill"><code class="xref py py-class docutils literal notranslate"><span class="pre">CannotFulfill</span></code></a></p>
<p>Our format information for this book was outdated, and it’s
no longer available in the requested format.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.FormatNotAvailable.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">502</span></em><a class="headerlink" href="#api.circulation_exceptions.FormatNotAvailable.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.FulfilledOnIncompatiblePlatform">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">FulfilledOnIncompatiblePlatform</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#FulfilledOnIncompatiblePlatform"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.FulfilledOnIncompatiblePlatform" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CannotFulfill" title="api.circulation_exceptions.CannotFulfill"><code class="xref py py-class docutils literal notranslate"><span class="pre">CannotFulfill</span></code></a></p>
<p>We can’t fulfill the patron’s loan because the loan was already
fulfilled on an incompatible platform (i.e. Kindle) in a way that’s
exclusive to that platform.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.FulfilledOnIncompatiblePlatform.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">451</span></em><a class="headerlink" href="#api.circulation_exceptions.FulfilledOnIncompatiblePlatform.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.InternalServerError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">InternalServerError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#InternalServerError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.InternalServerError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.util.html#core.util.http.IntegrationException" title="core.util.http.IntegrationException"><code class="xref py py-class docutils literal notranslate"><span class="pre">IntegrationException</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.circulation_exceptions.InternalServerError.as_problem_detail_document">
<span class="sig-name descname"><span class="pre">as_problem_detail_document</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#InternalServerError.as_problem_detail_document"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.InternalServerError.as_problem_detail_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a suitable problem detail document.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.InternalServerError.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">500</span></em><a class="headerlink" href="#api.circulation_exceptions.InternalServerError.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.InvalidInputException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">InvalidInputException</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#InvalidInputException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.InvalidInputException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CirculationException" title="api.circulation_exceptions.CirculationException"><code class="xref py py-class docutils literal notranslate"><span class="pre">CirculationException</span></code></a></p>
<p>The patron gave invalid input to the library.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.InvalidInputException.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">400</span></em><a class="headerlink" href="#api.circulation_exceptions.InvalidInputException.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.LibraryAuthorizationFailedException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">LibraryAuthorizationFailedException</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#LibraryAuthorizationFailedException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.LibraryAuthorizationFailedException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CirculationException" title="api.circulation_exceptions.CirculationException"><code class="xref py py-class docutils literal notranslate"><span class="pre">CirculationException</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.LibraryAuthorizationFailedException.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">500</span></em><a class="headerlink" href="#api.circulation_exceptions.LibraryAuthorizationFailedException.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.LibraryInvalidInputException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">LibraryInvalidInputException</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#LibraryInvalidInputException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.LibraryInvalidInputException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.InvalidInputException" title="api.circulation_exceptions.InvalidInputException"><code class="xref py py-class docutils literal notranslate"><span class="pre">InvalidInputException</span></code></a></p>
<p>The library gave invalid input to the book provider.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.LibraryInvalidInputException.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">500</span></em><a class="headerlink" href="#api.circulation_exceptions.LibraryInvalidInputException.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.LimitReached">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">LimitReached</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">library</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#LimitReached"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.LimitReached" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CirculationException" title="api.circulation_exceptions.CirculationException"><code class="xref py py-class docutils literal notranslate"><span class="pre">CirculationException</span></code></a></p>
<p>The patron cannot carry out an operation because it would push them above
some limit set by library policy.</p>
<dl class="simple">
<dt>This exception cannot be used on its own. It must be subclassed and the following constants defined:</dt><dd><ul class="simple">
<li><dl class="simple">
<dt><cite>BASE_DOC</cite>: A ProblemDetail, used as the basis for conversion of this exception into a</dt><dd><p>problem detail document.</p>
</dd>
</dl>
</li>
<li><p><cite>SETTING_NAME</cite>: Then name of the library-specific ConfigurationSetting whose numeric
value is the limit that cannot be exceeded.</p></li>
<li><p><cite>MESSAGE_WITH_LIMIT</cite> A string containing the interpolation value “%(limit)s”, which
offers a more specific explanation of the limit exceeded.</p></li>
</ul>
</dd>
</dl>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.LimitReached.BASE_DOC">
<span class="sig-name descname"><span class="pre">BASE_DOC</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#api.circulation_exceptions.LimitReached.BASE_DOC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.LimitReached.MESSAGE_WITH_LIMIT">
<span class="sig-name descname"><span class="pre">MESSAGE_WITH_LIMIT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#api.circulation_exceptions.LimitReached.MESSAGE_WITH_LIMIT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.LimitReached.SETTING_NAME">
<span class="sig-name descname"><span class="pre">SETTING_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#api.circulation_exceptions.LimitReached.SETTING_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.circulation_exceptions.LimitReached.as_problem_detail_document">
<span class="sig-name descname"><span class="pre">as_problem_detail_document</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#LimitReached.as_problem_detail_document"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.LimitReached.as_problem_detail_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a suitable problem detail document.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.LimitReached.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">403</span></em><a class="headerlink" href="#api.circulation_exceptions.LimitReached.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.NoAcceptableFormat">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">NoAcceptableFormat</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#NoAcceptableFormat"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.NoAcceptableFormat" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CannotFulfill" title="api.circulation_exceptions.CannotFulfill"><code class="xref py py-class docutils literal notranslate"><span class="pre">CannotFulfill</span></code></a></p>
<p>We can’t fulfill the patron’s loan because the book is not available
in an acceptable format.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.NoAcceptableFormat.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">400</span></em><a class="headerlink" href="#api.circulation_exceptions.NoAcceptableFormat.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.NoActiveLoan">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">NoActiveLoan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#NoActiveLoan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.NoActiveLoan" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CannotFulfill" title="api.circulation_exceptions.CannotFulfill"><code class="xref py py-class docutils literal notranslate"><span class="pre">CannotFulfill</span></code></a></p>
<p>We can’t fulfill the patron’s loan because they don’t have an
active loan.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.NoActiveLoan.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">400</span></em><a class="headerlink" href="#api.circulation_exceptions.NoActiveLoan.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.NoAvailableCopies">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">NoAvailableCopies</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#NoAvailableCopies"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.NoAvailableCopies" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CannotLoan" title="api.circulation_exceptions.CannotLoan"><code class="xref py py-class docutils literal notranslate"><span class="pre">CannotLoan</span></code></a></p>
<p>The patron can’t check this book out because all available
copies are already checked out.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.NoAvailableCopies.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">400</span></em><a class="headerlink" href="#api.circulation_exceptions.NoAvailableCopies.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.NoLicenses">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">NoLicenses</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#NoLicenses"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.NoLicenses" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.NotFoundOnRemote" title="api.circulation_exceptions.NotFoundOnRemote"><code class="xref py py-class docutils literal notranslate"><span class="pre">NotFoundOnRemote</span></code></a></p>
<p>The library no longer has licenses for this book.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.circulation_exceptions.NoLicenses.as_problem_detail_document">
<span class="sig-name descname"><span class="pre">as_problem_detail_document</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#NoLicenses.as_problem_detail_document"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.NoLicenses.as_problem_detail_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a suitable problem detail document.</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.NoOpenAccessDownload">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">NoOpenAccessDownload</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#NoOpenAccessDownload"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.NoOpenAccessDownload" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CirculationException" title="api.circulation_exceptions.CirculationException"><code class="xref py py-class docutils literal notranslate"><span class="pre">CirculationException</span></code></a></p>
<p>We expected a book to have an open-access download, but it didn’t.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.NoOpenAccessDownload.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">500</span></em><a class="headerlink" href="#api.circulation_exceptions.NoOpenAccessDownload.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.NotCheckedOut">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">NotCheckedOut</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#NotCheckedOut"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.NotCheckedOut" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CannotReturn" title="api.circulation_exceptions.CannotReturn"><code class="xref py py-class docutils literal notranslate"><span class="pre">CannotReturn</span></code></a></p>
<p>The patron can’t return this book because they don’t
have it checked out in the first place.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.NotCheckedOut.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">400</span></em><a class="headerlink" href="#api.circulation_exceptions.NotCheckedOut.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.NotFoundOnRemote">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">NotFoundOnRemote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#NotFoundOnRemote"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.NotFoundOnRemote" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CirculationException" title="api.circulation_exceptions.CirculationException"><code class="xref py py-class docutils literal notranslate"><span class="pre">CirculationException</span></code></a></p>
<p>We know about this book but the remote site doesn’t seem to.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.NotFoundOnRemote.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">404</span></em><a class="headerlink" href="#api.circulation_exceptions.NotFoundOnRemote.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.NotOnHold">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">NotOnHold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#NotOnHold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.NotOnHold" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CannotReleaseHold" title="api.circulation_exceptions.CannotReleaseHold"><code class="xref py py-class docutils literal notranslate"><span class="pre">CannotReleaseHold</span></code></a></p>
<p>The patron can’t release a hold for this book because they don’t
have it on hold in the first place.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.NotOnHold.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">400</span></em><a class="headerlink" href="#api.circulation_exceptions.NotOnHold.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.OutstandingFines">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">OutstandingFines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#OutstandingFines"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.OutstandingFines" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CannotLoan" title="api.circulation_exceptions.CannotLoan"><code class="xref py py-class docutils literal notranslate"><span class="pre">CannotLoan</span></code></a></p>
<p>The patron has outstanding fines above the limit in the library’s
policy.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.OutstandingFines.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">403</span></em><a class="headerlink" href="#api.circulation_exceptions.OutstandingFines.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.PatronAuthorizationFailedException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">PatronAuthorizationFailedException</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#PatronAuthorizationFailedException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.PatronAuthorizationFailedException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.AuthorizationFailedException" title="api.circulation_exceptions.AuthorizationFailedException"><code class="xref py py-class docutils literal notranslate"><span class="pre">AuthorizationFailedException</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.PatronAuthorizationFailedException.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">400</span></em><a class="headerlink" href="#api.circulation_exceptions.PatronAuthorizationFailedException.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.PatronHoldLimitReached">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">PatronHoldLimitReached</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">library</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#PatronHoldLimitReached"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.PatronHoldLimitReached" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CannotHold" title="api.circulation_exceptions.CannotHold"><code class="xref py py-class docutils literal notranslate"><span class="pre">CannotHold</span></code></a>, <a class="reference internal" href="#api.circulation_exceptions.LimitReached" title="api.circulation_exceptions.LimitReached"><code class="xref py py-class docutils literal notranslate"><span class="pre">LimitReached</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.PatronHoldLimitReached.BASE_DOC">
<span class="sig-name descname"><span class="pre">BASE_DOC</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;ProblemDetail(uri=http://librarysimplified.org/terms/problem/hold-limit-reached,</span> <span class="pre">title=Limit</span> <span class="pre">reached.,</span> <span class="pre">status_code=403,</span> <span class="pre">detail=You</span> <span class="pre">have</span> <span class="pre">reached</span> <span class="pre">your</span> <span class="pre">hold</span> <span class="pre">limit.</span> <span class="pre">You</span> <span class="pre">cannot</span> <span class="pre">place</span> <span class="pre">another</span> <span class="pre">item</span> <span class="pre">on</span> <span class="pre">hold</span> <span class="pre">until</span> <span class="pre">you</span> <span class="pre">borrow</span> <span class="pre">something</span> <span class="pre">or</span> <span class="pre">remove</span> <span class="pre">a</span> <span class="pre">hold.,</span> <span class="pre">instance=None,</span> <span class="pre">debug_message=None</span></em><a class="headerlink" href="#api.circulation_exceptions.PatronHoldLimitReached.BASE_DOC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.PatronHoldLimitReached.MESSAGE_WITH_LIMIT">
<span class="sig-name descname"><span class="pre">MESSAGE_WITH_LIMIT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'You</span> <span class="pre">have</span> <span class="pre">reached</span> <span class="pre">your</span> <span class="pre">hold</span> <span class="pre">limit</span> <span class="pre">of</span> <span class="pre">%(limit)d.</span> <span class="pre">You</span> <span class="pre">cannot</span> <span class="pre">place</span> <span class="pre">another</span> <span class="pre">item</span> <span class="pre">on</span> <span class="pre">hold</span> <span class="pre">until</span> <span class="pre">you</span> <span class="pre">borrow</span> <span class="pre">something</span> <span class="pre">or</span> <span class="pre">remove</span> <span class="pre">a</span> <span class="pre">hold.'</span></em><a class="headerlink" href="#api.circulation_exceptions.PatronHoldLimitReached.MESSAGE_WITH_LIMIT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.PatronHoldLimitReached.SETTING_NAME">
<span class="sig-name descname"><span class="pre">SETTING_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'hold_limit'</span></em><a class="headerlink" href="#api.circulation_exceptions.PatronHoldLimitReached.SETTING_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.PatronLoanLimitReached">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">PatronLoanLimitReached</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">library</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#PatronLoanLimitReached"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.PatronLoanLimitReached" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CannotLoan" title="api.circulation_exceptions.CannotLoan"><code class="xref py py-class docutils literal notranslate"><span class="pre">CannotLoan</span></code></a>, <a class="reference internal" href="#api.circulation_exceptions.LimitReached" title="api.circulation_exceptions.LimitReached"><code class="xref py py-class docutils literal notranslate"><span class="pre">LimitReached</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.PatronLoanLimitReached.BASE_DOC">
<span class="sig-name descname"><span class="pre">BASE_DOC</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;ProblemDetail(uri=http://librarysimplified.org/terms/problem/loan-limit-reached,</span> <span class="pre">title=Loan</span> <span class="pre">limit</span> <span class="pre">reached.,</span> <span class="pre">status_code=403,</span> <span class="pre">detail=You</span> <span class="pre">have</span> <span class="pre">reached</span> <span class="pre">your</span> <span class="pre">loan</span> <span class="pre">limit.</span> <span class="pre">You</span> <span class="pre">cannot</span> <span class="pre">borrow</span> <span class="pre">anything</span> <span class="pre">further</span> <span class="pre">until</span> <span class="pre">you</span> <span class="pre">return</span> <span class="pre">something.,</span> <span class="pre">instance=None,</span> <span class="pre">debug_message=None</span></em><a class="headerlink" href="#api.circulation_exceptions.PatronLoanLimitReached.BASE_DOC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.PatronLoanLimitReached.MESSAGE_WITH_LIMIT">
<span class="sig-name descname"><span class="pre">MESSAGE_WITH_LIMIT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'You</span> <span class="pre">have</span> <span class="pre">reached</span> <span class="pre">your</span> <span class="pre">loan</span> <span class="pre">limit</span> <span class="pre">of</span> <span class="pre">%(limit)d.</span> <span class="pre">You</span> <span class="pre">cannot</span> <span class="pre">borrow</span> <span class="pre">anything</span> <span class="pre">further</span> <span class="pre">until</span> <span class="pre">you</span> <span class="pre">return</span> <span class="pre">something.'</span></em><a class="headerlink" href="#api.circulation_exceptions.PatronLoanLimitReached.MESSAGE_WITH_LIMIT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.PatronLoanLimitReached.SETTING_NAME">
<span class="sig-name descname"><span class="pre">SETTING_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'loan_limit'</span></em><a class="headerlink" href="#api.circulation_exceptions.PatronLoanLimitReached.SETTING_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.PatronNotFoundOnRemote">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">PatronNotFoundOnRemote</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#PatronNotFoundOnRemote"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.PatronNotFoundOnRemote" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.NotFoundOnRemote" title="api.circulation_exceptions.NotFoundOnRemote"><code class="xref py py-class docutils literal notranslate"><span class="pre">NotFoundOnRemote</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.PatronNotFoundOnRemote.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">404</span></em><a class="headerlink" href="#api.circulation_exceptions.PatronNotFoundOnRemote.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.RemoteInitiatedServerError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">RemoteInitiatedServerError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">service_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#RemoteInitiatedServerError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.RemoteInitiatedServerError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.InternalServerError" title="api.circulation_exceptions.InternalServerError"><code class="xref py py-class docutils literal notranslate"><span class="pre">InternalServerError</span></code></a></p>
<p>One of the servers we communicate with had an internal error.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.circulation_exceptions.RemoteInitiatedServerError.as_problem_detail_document">
<span class="sig-name descname"><span class="pre">as_problem_detail_document</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">debug</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#RemoteInitiatedServerError.as_problem_detail_document"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.RemoteInitiatedServerError.as_problem_detail_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a suitable problem detail document.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.RemoteInitiatedServerError.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">502</span></em><a class="headerlink" href="#api.circulation_exceptions.RemoteInitiatedServerError.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.RemotePatronCreationFailedException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">RemotePatronCreationFailedException</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#RemotePatronCreationFailedException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.RemotePatronCreationFailedException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CirculationException" title="api.circulation_exceptions.CirculationException"><code class="xref py py-class docutils literal notranslate"><span class="pre">CirculationException</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.RemotePatronCreationFailedException.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">500</span></em><a class="headerlink" href="#api.circulation_exceptions.RemotePatronCreationFailedException.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.circulation_exceptions.RemoteRefusedReturn">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.circulation_exceptions.</span></span><span class="sig-name descname"><span class="pre">RemoteRefusedReturn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">message</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">debug_info</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#RemoteRefusedReturn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.circulation_exceptions.RemoteRefusedReturn" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CannotReturn" title="api.circulation_exceptions.CannotReturn"><code class="xref py py-class docutils literal notranslate"><span class="pre">CannotReturn</span></code></a></p>
<p>The remote refused to count this book as returned.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.circulation_exceptions.RemoteRefusedReturn.status_code">
<span class="sig-name descname"><span class="pre">status_code</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">500</span></em><a class="headerlink" href="#api.circulation_exceptions.RemoteRefusedReturn.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-api.config">
<span id="api-config-module"></span><h2>api.config module<a class="headerlink" href="#module-api.config" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.config.Configuration">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.config.</span></span><span class="sig-name descname"><span class="pre">Configuration</span></span><a class="reference internal" href="_modules/api/config.html#Configuration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.config.Configuration" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.config.Configuration" title="core.config.Configuration"><code class="xref py py-class docutils literal notranslate"><span class="pre">Configuration</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.ABOUT">
<span class="sig-name descname"><span class="pre">ABOUT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'about'</span></em><a class="headerlink" href="#api.config.Configuration.ABOUT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.ADMIN_WEB_HOSTNAMES">
<span class="sig-name descname"><span class="pre">ADMIN_WEB_HOSTNAMES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'admin_web_hostnames'</span></em><a class="headerlink" href="#api.config.Configuration.ADMIN_WEB_HOSTNAMES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.AREA_INPUT_INSTRUCTIONS">
<span class="sig-name descname"><span class="pre">AREA_INPUT_INSTRUCTIONS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'&lt;ol&gt;Accepted</span> <span class="pre">formats:</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">&lt;li&gt;US</span> <span class="pre">zipcode</span> <span class="pre">or</span> <span class="pre">Canadian</span> <span class="pre">FSA&lt;/li&gt;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">&lt;li&gt;Two-letter</span> <span class="pre">US</span> <span class="pre">state</span> <span class="pre">abbreviation&lt;/li&gt;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">&lt;li&gt;City,</span> <span class="pre">US</span> <span class="pre">state</span> <span class="pre">abbreviation&lt;i&gt;e.g.</span> <span class="pre">&quot;Boston,</span> <span class="pre">MA&quot;&lt;/i&gt;&lt;/li&gt;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">&lt;li&gt;County,</span> <span class="pre">US</span> <span class="pre">state</span> <span class="pre">abbreviation&lt;i&gt;e.g.</span> <span class="pre">&quot;Litchfield</span> <span class="pre">County,</span> <span class="pre">CT&quot;&lt;/i&gt;&lt;/li&gt;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">&lt;li&gt;Canadian</span> <span class="pre">province</span> <span class="pre">name</span> <span class="pre">or</span> <span class="pre">two-letter</span> <span class="pre">abbreviation&lt;/li&gt;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">&lt;li&gt;City,</span> <span class="pre">Canadian</span> <span class="pre">province</span> <span class="pre">name/abbreviation&lt;i&gt;e.g.</span> <span class="pre">&quot;Stratford,</span> <span class="pre">Ontario&quot;/&quot;Stratford,</span> <span class="pre">ON&quot;&lt;/i&gt;&lt;/li&gt;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">&lt;/ol&gt;'</span></em><a class="headerlink" href="#api.config.Configuration.AREA_INPUT_INSTRUCTIONS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.AUTHENTICATION_DOCUMENT_CACHE_TIME">
<span class="sig-name descname"><span class="pre">AUTHENTICATION_DOCUMENT_CACHE_TIME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'authentication_document_cache_time'</span></em><a class="headerlink" href="#api.config.Configuration.AUTHENTICATION_DOCUMENT_CACHE_TIME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.AUTHENTICATION_FOR_OPDS_LINKS">
<span class="sig-name descname"><span class="pre">AUTHENTICATION_FOR_OPDS_LINKS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['register']</span></em><a class="headerlink" href="#api.config.Configuration.AUTHENTICATION_FOR_OPDS_LINKS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.BEARER_TOKEN_SIGNING_SECRET">
<span class="sig-name descname"><span class="pre">BEARER_TOKEN_SIGNING_SECRET</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'bearer_token_signing_secret'</span></em><a class="headerlink" href="#api.config.Configuration.BEARER_TOKEN_SIGNING_SECRET" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.COLOR_SCHEME">
<span class="sig-name descname"><span class="pre">COLOR_SCHEME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'color_scheme'</span></em><a class="headerlink" href="#api.config.Configuration.COLOR_SCHEME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.CONFIGURATION_CONTACT_EMAIL">
<span class="sig-name descname"><span class="pre">CONFIGURATION_CONTACT_EMAIL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'configuration_contact_email_address'</span></em><a class="headerlink" href="#api.config.Configuration.CONFIGURATION_CONTACT_EMAIL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.COPYRIGHT">
<span class="sig-name descname"><span class="pre">COPYRIGHT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'copyright'</span></em><a class="headerlink" href="#api.config.Configuration.COPYRIGHT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.COPYRIGHT_DESIGNATED_AGENT_EMAIL">
<span class="sig-name descname"><span class="pre">COPYRIGHT_DESIGNATED_AGENT_EMAIL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'copyright_designated_agent_email_address'</span></em><a class="headerlink" href="#api.config.Configuration.COPYRIGHT_DESIGNATED_AGENT_EMAIL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.COPYRIGHT_DESIGNATED_AGENT_REL">
<span class="sig-name descname"><span class="pre">COPYRIGHT_DESIGNATED_AGENT_REL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'http://librarysimplified.org/rel/designated-agent/copyright'</span></em><a class="headerlink" href="#api.config.Configuration.COPYRIGHT_DESIGNATED_AGENT_REL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.CUSTOM_TOS_HREF">
<span class="sig-name descname"><span class="pre">CUSTOM_TOS_HREF</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'tos_href'</span></em><a class="headerlink" href="#api.config.Configuration.CUSTOM_TOS_HREF" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.CUSTOM_TOS_TEXT">
<span class="sig-name descname"><span class="pre">CUSTOM_TOS_TEXT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'tos_text'</span></em><a class="headerlink" href="#api.config.Configuration.CUSTOM_TOS_TEXT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.DEFAULT_COLOR_SCHEME">
<span class="sig-name descname"><span class="pre">DEFAULT_COLOR_SCHEME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'blue'</span></em><a class="headerlink" href="#api.config.Configuration.DEFAULT_COLOR_SCHEME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.DEFAULT_NOTIFICATION_EMAIL_ADDRESS">
<span class="sig-name descname"><span class="pre">DEFAULT_NOTIFICATION_EMAIL_ADDRESS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'default_notification_email_address'</span></em><a class="headerlink" href="#api.config.Configuration.DEFAULT_NOTIFICATION_EMAIL_ADDRESS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.DEFAULT_OPDS_FORMAT">
<span class="sig-name descname"><span class="pre">DEFAULT_OPDS_FORMAT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'simple_opds_entry'</span></em><a class="headerlink" href="#api.config.Configuration.DEFAULT_OPDS_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.DEFAULT_TOS_HREF">
<span class="sig-name descname"><span class="pre">DEFAULT_TOS_HREF</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'https://librarysimplified.org/simplyetermsofservice2/'</span></em><a class="headerlink" href="#api.config.Configuration.DEFAULT_TOS_HREF" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.DEFAULT_TOS_TEXT">
<span class="sig-name descname"><span class="pre">DEFAULT_TOS_TEXT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&quot;Terms</span> <span class="pre">of</span> <span class="pre">Service</span> <span class="pre">for</span> <span class="pre">presenting</span> <span class="pre">e-reading</span> <span class="pre">materials</span> <span class="pre">through</span> <span class="pre">NYPL's</span> <span class="pre">SimplyE</span> <span class="pre">mobile</span> <span class="pre">app&quot;</span></em><a class="headerlink" href="#api.config.Configuration.DEFAULT_TOS_TEXT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.DEFAULT_WEB_PRIMARY_COLOR">
<span class="sig-name descname"><span class="pre">DEFAULT_WEB_PRIMARY_COLOR</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'#377F8B'</span></em><a class="headerlink" href="#api.config.Configuration.DEFAULT_WEB_PRIMARY_COLOR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.DEFAULT_WEB_SECONDARY_COLOR">
<span class="sig-name descname"><span class="pre">DEFAULT_WEB_SECONDARY_COLOR</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'#D53F34'</span></em><a class="headerlink" href="#api.config.Configuration.DEFAULT_WEB_SECONDARY_COLOR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.HELP_EMAIL">
<span class="sig-name descname"><span class="pre">HELP_EMAIL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'help-email'</span></em><a class="headerlink" href="#api.config.Configuration.HELP_EMAIL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.HELP_LINKS">
<span class="sig-name descname"><span class="pre">HELP_LINKS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['help-email',</span> <span class="pre">'help-web',</span> <span class="pre">'help-uri']</span></em><a class="headerlink" href="#api.config.Configuration.HELP_LINKS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.HELP_UNSUBSCRIBE_URI">
<span class="sig-name descname"><span class="pre">HELP_UNSUBSCRIBE_URI</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'http://librarysimplified.org/rel/email/unsubscribe/options'</span></em><a class="headerlink" href="#api.config.Configuration.HELP_UNSUBSCRIBE_URI" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.HELP_URI">
<span class="sig-name descname"><span class="pre">HELP_URI</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'help-uri'</span></em><a class="headerlink" href="#api.config.Configuration.HELP_URI" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.HELP_WEB">
<span class="sig-name descname"><span class="pre">HELP_WEB</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'help-web'</span></em><a class="headerlink" href="#api.config.Configuration.HELP_WEB" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.HIDDEN_CONTENT_TYPES">
<span class="sig-name descname"><span class="pre">HIDDEN_CONTENT_TYPES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'hidden_content_types'</span></em><a class="headerlink" href="#api.config.Configuration.HIDDEN_CONTENT_TYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.HOLD_LIMIT">
<span class="sig-name descname"><span class="pre">HOLD_LIMIT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'hold_limit'</span></em><a class="headerlink" href="#api.config.Configuration.HOLD_LIMIT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.KEY_PAIR">
<span class="sig-name descname"><span class="pre">KEY_PAIR</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'key-pair'</span></em><a class="headerlink" href="#api.config.Configuration.KEY_PAIR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.LANGUAGE_DESCRIPTION">
<span class="sig-name descname"><span class="pre">LANGUAGE_DESCRIPTION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'Each</span> <span class="pre">value</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">either</span> <span class="pre">the</span> <span class="pre">full</span> <span class="pre">name</span> <span class="pre">of</span> <span class="pre">a</span> <span class="pre">language</span> <span class="pre">or</span> <span class="pre">an</span> <span class="pre">&lt;a</span> <span class="pre">href=&quot;https://www.loc.gov/standards/iso639-2/php/code_list.php&quot;</span> <span class="pre">target=&quot;_blank&quot;&gt;ISO-639-2&lt;/a&gt;</span> <span class="pre">language</span> <span class="pre">code.'</span></em><a class="headerlink" href="#api.config.Configuration.LANGUAGE_DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.LARGE_COLLECTION_CUTOFF">
<span class="sig-name descname"><span class="pre">LARGE_COLLECTION_CUTOFF</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">10000</span></em><a class="headerlink" href="#api.config.Configuration.LARGE_COLLECTION_CUTOFF" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.LARGE_COLLECTION_LANGUAGES">
<span class="sig-name descname"><span class="pre">LARGE_COLLECTION_LANGUAGES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'large_collections'</span></em><a class="headerlink" href="#api.config.Configuration.LARGE_COLLECTION_LANGUAGES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.LENDING_POLICY">
<span class="sig-name descname"><span class="pre">LENDING_POLICY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'lending'</span></em><a class="headerlink" href="#api.config.Configuration.LENDING_POLICY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.LIBRARY_DESCRIPTION">
<span class="sig-name descname"><span class="pre">LIBRARY_DESCRIPTION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'library_description'</span></em><a class="headerlink" href="#api.config.Configuration.LIBRARY_DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.LIBRARY_FOCUS_AREA">
<span class="sig-name descname"><span class="pre">LIBRARY_FOCUS_AREA</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'focus_area'</span></em><a class="headerlink" href="#api.config.Configuration.LIBRARY_FOCUS_AREA" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.LIBRARY_SERVICE_AREA">
<span class="sig-name descname"><span class="pre">LIBRARY_SERVICE_AREA</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'service_area'</span></em><a class="headerlink" href="#api.config.Configuration.LIBRARY_SERVICE_AREA" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.LIBRARY_SETTINGS">
<span class="sig-name descname"><span class="pre">LIBRARY_SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'name',</span> <span class="pre">'label':</span> <span class="pre">l'Name',</span> <span class="pre">'description':</span> <span class="pre">l'The</span> <span class="pre">human-readable</span> <span class="pre">name</span> <span class="pre">of</span> <span class="pre">this</span> <span class="pre">library.',</span> <span class="pre">'category':</span> <span class="pre">'Basic</span> <span class="pre">Information',</span> <span class="pre">'level':</span> <span class="pre">3,</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'short_name',</span> <span class="pre">'label':</span> <span class="pre">l'Short</span> <span class="pre">name',</span> <span class="pre">'description':</span> <span class="pre">l'A</span> <span class="pre">short</span> <span class="pre">name</span> <span class="pre">of</span> <span class="pre">this</span> <span class="pre">library,</span> <span class="pre">to</span> <span class="pre">use</span> <span class="pre">when</span> <span class="pre">identifying</span> <span class="pre">it</span> <span class="pre">in</span> <span class="pre">scripts</span> <span class="pre">or</span> <span class="pre">URLs,</span> <span class="pre">e.g.</span> <span class="pre">'NYPL'.',</span> <span class="pre">'category':</span> <span class="pre">'Basic</span> <span class="pre">Information',</span> <span class="pre">'level':</span> <span class="pre">3,</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'website',</span> <span class="pre">'label':</span> <span class="pre">l'URL</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">library's</span> <span class="pre">website',</span> <span class="pre">'description':</span> <span class="pre">l'The</span> <span class="pre">library's</span> <span class="pre">main</span> <span class="pre">website,</span> <span class="pre">e.g.</span> <span class="pre">&quot;https://www.nypl.org/&quot;</span> <span class="pre">(not</span> <span class="pre">this</span> <span class="pre">Circulation</span> <span class="pre">Manager's</span> <span class="pre">URL).',</span> <span class="pre">'required':</span> <span class="pre">True,</span> <span class="pre">'format':</span> <span class="pre">'url',</span> <span class="pre">'level':</span> <span class="pre">3,</span> <span class="pre">'category':</span> <span class="pre">'Basic</span> <span class="pre">Information'},</span> <span class="pre">{'key':</span> <span class="pre">'allow_holds',</span> <span class="pre">'label':</span> <span class="pre">l'Allow</span> <span class="pre">books</span> <span class="pre">to</span> <span class="pre">be</span> <span class="pre">put</span> <span class="pre">on</span> <span class="pre">hold',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'true',</span> <span class="pre">'label':</span> <span class="pre">l'Allow</span> <span class="pre">holds'},</span> <span class="pre">{'key':</span> <span class="pre">'false',</span> <span class="pre">'label':</span> <span class="pre">l'Disable</span> <span class="pre">holds'}],</span> <span class="pre">'default':</span> <span class="pre">'true',</span> <span class="pre">'category':</span> <span class="pre">'Loans,</span> <span class="pre">Holds,</span> <span class="pre">&amp;</span> <span class="pre">Fines',</span> <span class="pre">'level':</span> <span class="pre">3},</span> <span class="pre">{'key':</span> <span class="pre">'enabled_entry_points',</span> <span class="pre">'label':</span> <span class="pre">l'Enabled</span> <span class="pre">entry</span> <span class="pre">points',</span> <span class="pre">'description':</span> <span class="pre">l'Patrons</span> <span class="pre">will</span> <span class="pre">see</span> <span class="pre">the</span> <span class="pre">selected</span> <span class="pre">entry</span> <span class="pre">points</span> <span class="pre">at</span> <span class="pre">the</span> <span class="pre">top</span> <span class="pre">level</span> <span class="pre">and</span> <span class="pre">in</span> <span class="pre">search</span> <span class="pre">results.</span> <span class="pre">&lt;p&gt;Currently</span> <span class="pre">supported</span> <span class="pre">audiobook</span> <span class="pre">vendors:</span> <span class="pre">Bibliotheca,</span> <span class="pre">Axis</span> <span class="pre">360',</span> <span class="pre">'type':</span> <span class="pre">'list',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'All',</span> <span class="pre">'label':</span> <span class="pre">'All'},</span> <span class="pre">{'key':</span> <span class="pre">'Book',</span> <span class="pre">'label':</span> <span class="pre">'eBooks'},</span> <span class="pre">{'key':</span> <span class="pre">'Audio',</span> <span class="pre">'label':</span> <span class="pre">'Audiobooks'}],</span> <span class="pre">'default':</span> <span class="pre">['Book'],</span> <span class="pre">'category':</span> <span class="pre">'Lanes</span> <span class="pre">&amp;</span> <span class="pre">Filters',</span> <span class="pre">'format':</span> <span class="pre">'narrow',</span> <span class="pre">'readOnly':</span> <span class="pre">True,</span> <span class="pre">'level':</span> <span class="pre">3},</span> <span class="pre">{'key':</span> <span class="pre">'featured_lane_size',</span> <span class="pre">'label':</span> <span class="pre">l'Maximum</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">books</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">'featured'</span> <span class="pre">lanes',</span> <span class="pre">'type':</span> <span class="pre">'number',</span> <span class="pre">'default':</span> <span class="pre">15,</span> <span class="pre">'category':</span> <span class="pre">'Lanes</span> <span class="pre">&amp;</span> <span class="pre">Filters',</span> <span class="pre">'level':</span> <span class="pre">1},</span> <span class="pre">{'key':</span> <span class="pre">'minimum_featured_quality',</span> <span class="pre">'label':</span> <span class="pre">l'Minimum</span> <span class="pre">quality</span> <span class="pre">for</span> <span class="pre">books</span> <span class="pre">that</span> <span class="pre">show</span> <span class="pre">up</span> <span class="pre">in</span> <span class="pre">'featured'</span> <span class="pre">lanes',</span> <span class="pre">'description':</span> <span class="pre">l'Between</span> <span class="pre">0</span> <span class="pre">and</span> <span class="pre">1.',</span> <span class="pre">'type':</span> <span class="pre">'number',</span> <span class="pre">'max':</span> <span class="pre">1,</span> <span class="pre">'default':</span> <span class="pre">0.65,</span> <span class="pre">'category':</span> <span class="pre">'Lanes</span> <span class="pre">&amp;</span> <span class="pre">Filters',</span> <span class="pre">'level':</span> <span class="pre">1},</span> <span class="pre">{'key':</span> <span class="pre">'facets_enabled_order',</span> <span class="pre">'label':</span> <span class="pre">l'Allow</span> <span class="pre">patrons</span> <span class="pre">to</span> <span class="pre">sort</span> <span class="pre">by',</span> <span class="pre">'type':</span> <span class="pre">'list',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'title',</span> <span class="pre">'label':</span> <span class="pre">l'Title'},</span> <span class="pre">{'key':</span> <span class="pre">'author',</span> <span class="pre">'label':</span> <span class="pre">l'Author'},</span> <span class="pre">{'key':</span> <span class="pre">'added',</span> <span class="pre">'label':</span> <span class="pre">l'Recently</span> <span class="pre">Added'},</span> <span class="pre">{'key':</span> <span class="pre">'random',</span> <span class="pre">'label':</span> <span class="pre">l'Random'}],</span> <span class="pre">'default':</span> <span class="pre">['title',</span> <span class="pre">'author',</span> <span class="pre">'added',</span> <span class="pre">'random'],</span> <span class="pre">'category':</span> <span class="pre">'Lanes</span> <span class="pre">&amp;</span> <span class="pre">Filters',</span> <span class="pre">'paired':</span> <span class="pre">'facets_default_order',</span> <span class="pre">'level':</span> <span class="pre">2},</span> <span class="pre">{'key':</span> <span class="pre">'facets_enabled_available',</span> <span class="pre">'label':</span> <span class="pre">l'Allow</span> <span class="pre">patrons</span> <span class="pre">to</span> <span class="pre">filter</span> <span class="pre">availability</span> <span class="pre">to',</span> <span class="pre">'type':</span> <span class="pre">'list',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'now',</span> <span class="pre">'label':</span> <span class="pre">l'Available</span> <span class="pre">now'},</span> <span class="pre">{'key':</span> <span class="pre">'all',</span> <span class="pre">'label':</span> <span class="pre">l'All'},</span> <span class="pre">{'key':</span> <span class="pre">'always',</span> <span class="pre">'label':</span> <span class="pre">l'Yours</span> <span class="pre">to</span> <span class="pre">keep'}],</span> <span class="pre">'default':</span> <span class="pre">['now',</span> <span class="pre">'all',</span> <span class="pre">'always'],</span> <span class="pre">'category':</span> <span class="pre">'Lanes</span> <span class="pre">&amp;</span> <span class="pre">Filters',</span> <span class="pre">'paired':</span> <span class="pre">'facets_default_available',</span> <span class="pre">'level':</span> <span class="pre">2},</span> <span class="pre">{'key':</span> <span class="pre">'facets_enabled_collection',</span> <span class="pre">'label':</span> <span class="pre">l'Allow</span> <span class="pre">patrons</span> <span class="pre">to</span> <span class="pre">filter</span> <span class="pre">collection</span> <span class="pre">to',</span> <span class="pre">'type':</span> <span class="pre">'list',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'full',</span> <span class="pre">'label':</span> <span class="pre">l'Everything'},</span> <span class="pre">{'key':</span> <span class="pre">'featured',</span> <span class="pre">'label':</span> <span class="pre">l'Popular</span> <span class="pre">Books'}],</span> <span class="pre">'default':</span> <span class="pre">['full',</span> <span class="pre">'featured'],</span> <span class="pre">'category':</span> <span class="pre">'Lanes</span> <span class="pre">&amp;</span> <span class="pre">Filters',</span> <span class="pre">'paired':</span> <span class="pre">'facets_default_collection',</span> <span class="pre">'level':</span> <span class="pre">2},</span> <span class="pre">{'key':</span> <span class="pre">'facets_default_order',</span> <span class="pre">'label':</span> <span class="pre">l'Default</span> <span class="pre">Sort</span> <span class="pre">by',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'title',</span> <span class="pre">'label':</span> <span class="pre">l'Title'},</span> <span class="pre">{'key':</span> <span class="pre">'author',</span> <span class="pre">'label':</span> <span class="pre">l'Author'},</span> <span class="pre">{'key':</span> <span class="pre">'added',</span> <span class="pre">'label':</span> <span class="pre">l'Recently</span> <span class="pre">Added'},</span> <span class="pre">{'key':</span> <span class="pre">'random',</span> <span class="pre">'label':</span> <span class="pre">l'Random'}],</span> <span class="pre">'default':</span> <span class="pre">'author',</span> <span class="pre">'category':</span> <span class="pre">'Lanes</span> <span class="pre">&amp;</span> <span class="pre">Filters',</span> <span class="pre">'skip':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'facets_default_available',</span> <span class="pre">'label':</span> <span class="pre">l'Default</span> <span class="pre">Availability',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'now',</span> <span class="pre">'label':</span> <span class="pre">l'Available</span> <span class="pre">now'},</span> <span class="pre">{'key':</span> <span class="pre">'all',</span> <span class="pre">'label':</span> <span class="pre">l'All'},</span> <span class="pre">{'key':</span> <span class="pre">'always',</span> <span class="pre">'label':</span> <span class="pre">l'Yours</span> <span class="pre">to</span> <span class="pre">keep'}],</span> <span class="pre">'default':</span> <span class="pre">'all',</span> <span class="pre">'category':</span> <span class="pre">'Lanes</span> <span class="pre">&amp;</span> <span class="pre">Filters',</span> <span class="pre">'skip':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'facets_default_collection',</span> <span class="pre">'label':</span> <span class="pre">l'Default</span> <span class="pre">Collection',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'full',</span> <span class="pre">'label':</span> <span class="pre">l'Everything'},</span> <span class="pre">{'key':</span> <span class="pre">'featured',</span> <span class="pre">'label':</span> <span class="pre">l'Popular</span> <span class="pre">Books'}],</span> <span class="pre">'default':</span> <span class="pre">'full',</span> <span class="pre">'category':</span> <span class="pre">'Lanes</span> <span class="pre">&amp;</span> <span class="pre">Filters',</span> <span class="pre">'skip':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'library_description',</span> <span class="pre">'label':</span> <span class="pre">l'A</span> <span class="pre">short</span> <span class="pre">description</span> <span class="pre">of</span> <span class="pre">this</span> <span class="pre">library',</span> <span class="pre">'description':</span> <span class="pre">l'This</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">shown</span> <span class="pre">to</span> <span class="pre">people</span> <span class="pre">who</span> <span class="pre">aren't</span> <span class="pre">sure</span> <span class="pre">they've</span> <span class="pre">chosen</span> <span class="pre">the</span> <span class="pre">right</span> <span class="pre">library.',</span> <span class="pre">'category':</span> <span class="pre">'Basic</span> <span class="pre">Information',</span> <span class="pre">'level':</span> <span class="pre">3},</span> <span class="pre">{'key':</span> <span class="pre">'announcements',</span> <span class="pre">'label':</span> <span class="pre">l'Scheduled</span> <span class="pre">announcements',</span> <span class="pre">'description':</span> <span class="pre">l'Announcements</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">displayed</span> <span class="pre">to</span> <span class="pre">authenticated</span> <span class="pre">patrons.',</span> <span class="pre">'category':</span> <span class="pre">'Announcements',</span> <span class="pre">'type':</span> <span class="pre">'announcements',</span> <span class="pre">'level':</span> <span class="pre">1},</span> <span class="pre">{'key':</span> <span class="pre">'help-email',</span> <span class="pre">'label':</span> <span class="pre">l'Patron</span> <span class="pre">support</span> <span class="pre">email</span> <span class="pre">address',</span> <span class="pre">'description':</span> <span class="pre">l'An</span> <span class="pre">email</span> <span class="pre">address</span> <span class="pre">a</span> <span class="pre">patron</span> <span class="pre">can</span> <span class="pre">use</span> <span class="pre">if</span> <span class="pre">they</span> <span class="pre">need</span> <span class="pre">help,</span> <span class="pre">e.g.</span> <span class="pre">'simplyehelp&#64;yourlibrary.org'.',</span> <span class="pre">'required':</span> <span class="pre">True,</span> <span class="pre">'format':</span> <span class="pre">'email',</span> <span class="pre">'level':</span> <span class="pre">3},</span> <span class="pre">{'key':</span> <span class="pre">'help-web',</span> <span class="pre">'label':</span> <span class="pre">l'Patron</span> <span class="pre">support</span> <span class="pre">web</span> <span class="pre">site',</span> <span class="pre">'description':</span> <span class="pre">l'A</span> <span class="pre">URL</span> <span class="pre">for</span> <span class="pre">patrons</span> <span class="pre">to</span> <span class="pre">get</span> <span class="pre">help.',</span> <span class="pre">'format':</span> <span class="pre">'url',</span> <span class="pre">'category':</span> <span class="pre">'Patron</span> <span class="pre">Support',</span> <span class="pre">'level':</span> <span class="pre">1},</span> <span class="pre">{'key':</span> <span class="pre">'help-uri',</span> <span class="pre">'label':</span> <span class="pre">l'Patron</span> <span class="pre">support</span> <span class="pre">custom</span> <span class="pre">integration</span> <span class="pre">URI',</span> <span class="pre">'description':</span> <span class="pre">l'A</span> <span class="pre">custom</span> <span class="pre">help</span> <span class="pre">integration</span> <span class="pre">like</span> <span class="pre">Helpstack,</span> <span class="pre">e.g.</span> <span class="pre">'helpstack:nypl.desk.com'.',</span> <span class="pre">'category':</span> <span class="pre">'Patron</span> <span class="pre">Support',</span> <span class="pre">'level':</span> <span class="pre">3},</span> <span class="pre">{'key':</span> <span class="pre">'http://librarysimplified.org/rel/email/unsubscribe/options',</span> <span class="pre">'label':</span> <span class="pre">l'Email</span> <span class="pre">(Un)Subscription</span> <span class="pre">Management</span> <span class="pre">URL',</span> <span class="pre">'description':</span> <span class="pre">l'A</span> <span class="pre">URL</span> <span class="pre">for</span> <span class="pre">patrons</span> <span class="pre">to</span> <span class="pre">manage</span> <span class="pre">(or</span> <span class="pre">delete)</span> <span class="pre">any</span> <span class="pre">email</span> <span class="pre">subscriptions</span> <span class="pre">associated</span> <span class="pre">with</span> <span class="pre">their</span> <span class="pre">account.',</span> <span class="pre">'format':</span> <span class="pre">'url',</span> <span class="pre">'category':</span> <span class="pre">'Patron</span> <span class="pre">Support',</span> <span class="pre">'level':</span> <span class="pre">2},</span> <span class="pre">{'key':</span> <span class="pre">'copyright_designated_agent_email_address',</span> <span class="pre">'label':</span> <span class="pre">l'Copyright</span> <span class="pre">designated</span> <span class="pre">agent</span> <span class="pre">email',</span> <span class="pre">'description':</span> <span class="pre">l'Patrons</span> <span class="pre">of</span> <span class="pre">this</span> <span class="pre">library</span> <span class="pre">should</span> <span class="pre">use</span> <span class="pre">this</span> <span class="pre">email</span> <span class="pre">address</span> <span class="pre">to</span> <span class="pre">send</span> <span class="pre">a</span> <span class="pre">DMCA</span> <span class="pre">notification</span> <span class="pre">(or</span> <span class="pre">other</span> <span class="pre">copyright</span> <span class="pre">complaint)</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">library.&lt;br/&gt;If</span> <span class="pre">no</span> <span class="pre">value</span> <span class="pre">is</span> <span class="pre">specified</span> <span class="pre">here,</span> <span class="pre">the</span> <span class="pre">general</span> <span class="pre">patron</span> <span class="pre">support</span> <span class="pre">address</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">used.',</span> <span class="pre">'format':</span> <span class="pre">'email',</span> <span class="pre">'category':</span> <span class="pre">'Patron</span> <span class="pre">Support',</span> <span class="pre">'level':</span> <span class="pre">2},</span> <span class="pre">{'key':</span> <span class="pre">'configuration_contact_email_address',</span> <span class="pre">'label':</span> <span class="pre">l'A</span> <span class="pre">point</span> <span class="pre">of</span> <span class="pre">contact</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">organization</span> <span class="pre">reponsible</span> <span class="pre">for</span> <span class="pre">configuring</span> <span class="pre">this</span> <span class="pre">library',</span> <span class="pre">'description':</span> <span class="pre">l'This</span> <span class="pre">email</span> <span class="pre">address</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">shared</span> <span class="pre">as</span> <span class="pre">part</span> <span class="pre">of</span> <span class="pre">integrations</span> <span class="pre">that</span> <span class="pre">you</span> <span class="pre">set</span> <span class="pre">up</span> <span class="pre">through</span> <span class="pre">this</span> <span class="pre">interface.</span> <span class="pre">It</span> <span class="pre">will</span> <span class="pre">not</span> <span class="pre">be</span> <span class="pre">shared</span> <span class="pre">with</span> <span class="pre">the</span> <span class="pre">general</span> <span class="pre">public.</span> <span class="pre">This</span> <span class="pre">gives</span> <span class="pre">the</span> <span class="pre">administrator</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">remote</span> <span class="pre">integration</span> <span class="pre">a</span> <span class="pre">way</span> <span class="pre">to</span> <span class="pre">contact</span> <span class="pre">you</span> <span class="pre">about</span> <span class="pre">problems</span> <span class="pre">with</span> <span class="pre">this</span> <span class="pre">library's</span> <span class="pre">use</span> <span class="pre">of</span> <span class="pre">that</span> <span class="pre">integration.&lt;br/&gt;If</span> <span class="pre">no</span> <span class="pre">value</span> <span class="pre">is</span> <span class="pre">specified</span> <span class="pre">here,</span> <span class="pre">the</span> <span class="pre">general</span> <span class="pre">patron</span> <span class="pre">support</span> <span class="pre">address</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">used.',</span> <span class="pre">'format':</span> <span class="pre">'email',</span> <span class="pre">'category':</span> <span class="pre">'Patron</span> <span class="pre">Support',</span> <span class="pre">'level':</span> <span class="pre">2},</span> <span class="pre">{'key':</span> <span class="pre">'default_notification_email_address',</span> <span class="pre">'label':</span> <span class="pre">l'Write-only</span> <span class="pre">email</span> <span class="pre">address</span> <span class="pre">for</span> <span class="pre">vendor</span> <span class="pre">hold</span> <span class="pre">notifications',</span> <span class="pre">'description':</span> <span class="pre">l'This</span> <span class="pre">address</span> <span class="pre">must</span> <span class="pre">trash</span> <span class="pre">all</span> <span class="pre">email</span> <span class="pre">sent</span> <span class="pre">to</span> <span class="pre">it.</span> <span class="pre">Vendor</span> <span class="pre">hold</span> <span class="pre">notifications</span> <span class="pre">contain</span> <span class="pre">sensitive</span> <span class="pre">patron</span> <span class="pre">information,</span> <span class="pre">but</span> <span class="pre">&lt;a</span> <span class="pre">href=&quot;https://confluence.nypl.org/display/SIM/About+Hold+Notifications&quot;</span> <span class="pre">target=&quot;_blank&quot;&gt;cannot</span> <span class="pre">be</span> <span class="pre">forwarded</span> <span class="pre">to</span> <span class="pre">patrons&lt;/a&gt;</span> <span class="pre">because</span> <span class="pre">they</span> <span class="pre">contain</span> <span class="pre">vendor-specific</span> <span class="pre">instructions.&lt;br/&gt;The</span> <span class="pre">default</span> <span class="pre">address</span> <span class="pre">will</span> <span class="pre">work,</span> <span class="pre">but</span> <span class="pre">for</span> <span class="pre">greater</span> <span class="pre">security,</span> <span class="pre">set</span> <span class="pre">up</span> <span class="pre">your</span> <span class="pre">own</span> <span class="pre">address</span> <span class="pre">that</span> <span class="pre">trashes</span> <span class="pre">all</span> <span class="pre">incoming</span> <span class="pre">email.',</span> <span class="pre">'default':</span> <span class="pre">'noreply&#64;librarysimplified.org',</span> <span class="pre">'required':</span> <span class="pre">True,</span> <span class="pre">'format':</span> <span class="pre">'email',</span> <span class="pre">'level':</span> <span class="pre">3},</span> <span class="pre">{'key':</span> <span class="pre">'color_scheme',</span> <span class="pre">'label':</span> <span class="pre">l'Mobile</span> <span class="pre">color</span> <span class="pre">scheme',</span> <span class="pre">'description':</span> <span class="pre">l'This</span> <span class="pre">tells</span> <span class="pre">mobile</span> <span class="pre">applications</span> <span class="pre">what</span> <span class="pre">color</span> <span class="pre">scheme</span> <span class="pre">to</span> <span class="pre">use</span> <span class="pre">when</span> <span class="pre">rendering</span> <span class="pre">this</span> <span class="pre">library's</span> <span class="pre">OPDS</span> <span class="pre">feed.',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'amber',</span> <span class="pre">'label':</span> <span class="pre">l'Amber'},</span> <span class="pre">{'key':</span> <span class="pre">'black',</span> <span class="pre">'label':</span> <span class="pre">l'Black'},</span> <span class="pre">{'key':</span> <span class="pre">'blue',</span> <span class="pre">'label':</span> <span class="pre">l'Blue'},</span> <span class="pre">{'key':</span> <span class="pre">'bluegray',</span> <span class="pre">'label':</span> <span class="pre">l'Blue</span> <span class="pre">Gray'},</span> <span class="pre">{'key':</span> <span class="pre">'brown',</span> <span class="pre">'label':</span> <span class="pre">l'Brown'},</span> <span class="pre">{'key':</span> <span class="pre">'cyan',</span> <span class="pre">'label':</span> <span class="pre">l'Cyan'},</span> <span class="pre">{'key':</span> <span class="pre">'darkorange',</span> <span class="pre">'label':</span> <span class="pre">l'Dark</span> <span class="pre">Orange'},</span> <span class="pre">{'key':</span> <span class="pre">'darkpurple',</span> <span class="pre">'label':</span> <span class="pre">l'Dark</span> <span class="pre">Purple'},</span> <span class="pre">{'key':</span> <span class="pre">'green',</span> <span class="pre">'label':</span> <span class="pre">l'Green'},</span> <span class="pre">{'key':</span> <span class="pre">'gray',</span> <span class="pre">'label':</span> <span class="pre">l'Gray'},</span> <span class="pre">{'key':</span> <span class="pre">'indigo',</span> <span class="pre">'label':</span> <span class="pre">l'Indigo'},</span> <span class="pre">{'key':</span> <span class="pre">'lightblue',</span> <span class="pre">'label':</span> <span class="pre">l'Light</span> <span class="pre">Blue'},</span> <span class="pre">{'key':</span> <span class="pre">'orange',</span> <span class="pre">'label':</span> <span class="pre">l'Orange'},</span> <span class="pre">{'key':</span> <span class="pre">'pink',</span> <span class="pre">'label':</span> <span class="pre">l'Pink'},</span> <span class="pre">{'key':</span> <span class="pre">'purple',</span> <span class="pre">'label':</span> <span class="pre">l'Purple'},</span> <span class="pre">{'key':</span> <span class="pre">'red',</span> <span class="pre">'label':</span> <span class="pre">l'Red'},</span> <span class="pre">{'key':</span> <span class="pre">'teal',</span> <span class="pre">'label':</span> <span class="pre">l'Teal'}],</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'default':</span> <span class="pre">'blue',</span> <span class="pre">'category':</span> <span class="pre">'Client</span> <span class="pre">Interface</span> <span class="pre">Customization',</span> <span class="pre">'level':</span> <span class="pre">2},</span> <span class="pre">{'key':</span> <span class="pre">'web-primary-color',</span> <span class="pre">'label':</span> <span class="pre">l'Web</span> <span class="pre">primary</span> <span class="pre">color',</span> <span class="pre">'description':</span> <span class="pre">l'This</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">brand</span> <span class="pre">primary</span> <span class="pre">color</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">web</span> <span class="pre">application.</span> <span class="pre">Must</span> <span class="pre">have</span> <span class="pre">sufficient</span> <span class="pre">contrast</span> <span class="pre">with</span> <span class="pre">white.',</span> <span class="pre">'type':</span> <span class="pre">'color-picker',</span> <span class="pre">'default':</span> <span class="pre">'#377F8B',</span> <span class="pre">'category':</span> <span class="pre">'Client</span> <span class="pre">Interface</span> <span class="pre">Customization',</span> <span class="pre">'level':</span> <span class="pre">2},</span> <span class="pre">{'key':</span> <span class="pre">'web-secondary-color',</span> <span class="pre">'label':</span> <span class="pre">l'Web</span> <span class="pre">secondary</span> <span class="pre">color',</span> <span class="pre">'description':</span> <span class="pre">l'This</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">brand</span> <span class="pre">secondary</span> <span class="pre">color</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">web</span> <span class="pre">application.</span> <span class="pre">Must</span> <span class="pre">have</span> <span class="pre">sufficient</span> <span class="pre">contrast</span> <span class="pre">with</span> <span class="pre">white.',</span> <span class="pre">'type':</span> <span class="pre">'color-picker',</span> <span class="pre">'default':</span> <span class="pre">'#D53F34',</span> <span class="pre">'category':</span> <span class="pre">'Client</span> <span class="pre">Interface</span> <span class="pre">Customization',</span> <span class="pre">'level':</span> <span class="pre">2},</span> <span class="pre">{'key':</span> <span class="pre">'web-css-file',</span> <span class="pre">'label':</span> <span class="pre">l'Custom</span> <span class="pre">CSS</span> <span class="pre">file</span> <span class="pre">for</span> <span class="pre">web',</span> <span class="pre">'description':</span> <span class="pre">l'Give</span> <span class="pre">web</span> <span class="pre">applications</span> <span class="pre">a</span> <span class="pre">CSS</span> <span class="pre">file</span> <span class="pre">to</span> <span class="pre">customize</span> <span class="pre">the</span> <span class="pre">catalog</span> <span class="pre">display.',</span> <span class="pre">'format':</span> <span class="pre">'url',</span> <span class="pre">'category':</span> <span class="pre">'Client</span> <span class="pre">Interface</span> <span class="pre">Customization',</span> <span class="pre">'level':</span> <span class="pre">3},</span> <span class="pre">{'key':</span> <span class="pre">'web-header-links',</span> <span class="pre">'label':</span> <span class="pre">l'Web</span> <span class="pre">header</span> <span class="pre">links',</span> <span class="pre">'description':</span> <span class="pre">l'This</span> <span class="pre">gives</span> <span class="pre">web</span> <span class="pre">applications</span> <span class="pre">a</span> <span class="pre">list</span> <span class="pre">of</span> <span class="pre">links</span> <span class="pre">to</span> <span class="pre">display</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">header.</span> <span class="pre">Specify</span> <span class="pre">labels</span> <span class="pre">for</span> <span class="pre">each</span> <span class="pre">link</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">same</span> <span class="pre">order</span> <span class="pre">under</span> <span class="pre">'Web</span> <span class="pre">header</span> <span class="pre">labels'.',</span> <span class="pre">'type':</span> <span class="pre">'list',</span> <span class="pre">'category':</span> <span class="pre">'Client</span> <span class="pre">Interface</span> <span class="pre">Customization',</span> <span class="pre">'level':</span> <span class="pre">2},</span> <span class="pre">{'key':</span> <span class="pre">'web-header-labels',</span> <span class="pre">'label':</span> <span class="pre">l'Web</span> <span class="pre">header</span> <span class="pre">labels',</span> <span class="pre">'description':</span> <span class="pre">l'Labels</span> <span class="pre">for</span> <span class="pre">each</span> <span class="pre">link</span> <span class="pre">under</span> <span class="pre">'Web</span> <span class="pre">header</span> <span class="pre">links'.',</span> <span class="pre">'type':</span> <span class="pre">'list',</span> <span class="pre">'category':</span> <span class="pre">'Client</span> <span class="pre">Interface</span> <span class="pre">Customization',</span> <span class="pre">'level':</span> <span class="pre">2},</span> <span class="pre">{'key':</span> <span class="pre">'logo',</span> <span class="pre">'label':</span> <span class="pre">l'Logo</span> <span class="pre">image',</span> <span class="pre">'type':</span> <span class="pre">'image',</span> <span class="pre">'description':</span> <span class="pre">l'The</span> <span class="pre">image</span> <span class="pre">must</span> <span class="pre">be</span> <span class="pre">in</span> <span class="pre">GIF,</span> <span class="pre">PNG,</span> <span class="pre">or</span> <span class="pre">JPG</span> <span class="pre">format,</span> <span class="pre">approximately</span> <span class="pre">square,</span> <span class="pre">no</span> <span class="pre">larger</span> <span class="pre">than</span> <span class="pre">135x135</span> <span class="pre">pixels,</span> <span class="pre">and</span> <span class="pre">look</span> <span class="pre">good</span> <span class="pre">on</span> <span class="pre">a</span> <span class="pre">white</span> <span class="pre">background.',</span> <span class="pre">'category':</span> <span class="pre">'Client</span> <span class="pre">Interface</span> <span class="pre">Customization',</span> <span class="pre">'level':</span> <span class="pre">1},</span> <span class="pre">{'key':</span> <span class="pre">'hidden_content_types',</span> <span class="pre">'label':</span> <span class="pre">l'Hidden</span> <span class="pre">content</span> <span class="pre">types',</span> <span class="pre">'type':</span> <span class="pre">'text',</span> <span class="pre">'description':</span> <span class="pre">l'A</span> <span class="pre">list</span> <span class="pre">of</span> <span class="pre">content</span> <span class="pre">types</span> <span class="pre">to</span> <span class="pre">hide</span> <span class="pre">from</span> <span class="pre">all</span> <span class="pre">clients,</span> <span class="pre">e.g.</span> <span class="pre">&lt;code&gt;[&quot;application/pdf&quot;]&lt;/code&gt;.</span> <span class="pre">This</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">left</span> <span class="pre">blank</span> <span class="pre">except</span> <span class="pre">to</span> <span class="pre">solve</span> <span class="pre">specific</span> <span class="pre">problems.',</span> <span class="pre">'category':</span> <span class="pre">'Client</span> <span class="pre">Interface</span> <span class="pre">Customization',</span> <span class="pre">'level':</span> <span class="pre">3},</span> <span class="pre">{'key':</span> <span class="pre">'focus_area',</span> <span class="pre">'label':</span> <span class="pre">l'Focus</span> <span class="pre">area',</span> <span class="pre">'type':</span> <span class="pre">'list',</span> <span class="pre">'description':</span> <span class="pre">l'The</span> <span class="pre">library</span> <span class="pre">focuses</span> <span class="pre">on</span> <span class="pre">serving</span> <span class="pre">patrons</span> <span class="pre">in</span> <span class="pre">this</span> <span class="pre">geographic</span> <span class="pre">area.</span> <span class="pre">In</span> <span class="pre">most</span> <span class="pre">cases</span> <span class="pre">this</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">a</span> <span class="pre">city</span> <span class="pre">name</span> <span class="pre">like</span> <span class="pre">&lt;code&gt;Springfield,</span> <span class="pre">OR&lt;/code&gt;.',</span> <span class="pre">'category':</span> <span class="pre">'Geographic</span> <span class="pre">Areas',</span> <span class="pre">'format':</span> <span class="pre">'geographic',</span> <span class="pre">'instructions':</span> <span class="pre">l'&lt;ol&gt;Accepted</span> <span class="pre">formats:</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">&lt;li&gt;US</span> <span class="pre">zipcode</span> <span class="pre">or</span> <span class="pre">Canadian</span> <span class="pre">FSA&lt;/li&gt;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">&lt;li&gt;Two-letter</span> <span class="pre">US</span> <span class="pre">state</span> <span class="pre">abbreviation&lt;/li&gt;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">&lt;li&gt;City,</span> <span class="pre">US</span> <span class="pre">state</span> <span class="pre">abbreviation&lt;i&gt;e.g.</span> <span class="pre">&quot;Boston,</span> <span class="pre">MA&quot;&lt;/i&gt;&lt;/li&gt;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">&lt;li&gt;County,</span> <span class="pre">US</span> <span class="pre">state</span> <span class="pre">abbreviation&lt;i&gt;e.g.</span> <span class="pre">&quot;Litchfield</span> <span class="pre">County,</span> <span class="pre">CT&quot;&lt;/i&gt;&lt;/li&gt;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">&lt;li&gt;Canadian</span> <span class="pre">province</span> <span class="pre">name</span> <span class="pre">or</span> <span class="pre">two-letter</span> <span class="pre">abbreviation&lt;/li&gt;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">&lt;li&gt;City,</span> <span class="pre">Canadian</span> <span class="pre">province</span> <span class="pre">name/abbreviation&lt;i&gt;e.g.</span> <span class="pre">&quot;Stratford,</span> <span class="pre">Ontario&quot;/&quot;Stratford,</span> <span class="pre">ON&quot;&lt;/i&gt;&lt;/li&gt;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">&lt;/ol&gt;',</span> <span class="pre">'capitalize':</span> <span class="pre">True,</span> <span class="pre">'level':</span> <span class="pre">1},</span> <span class="pre">{'key':</span> <span class="pre">'service_area',</span> <span class="pre">'label':</span> <span class="pre">l'Service</span> <span class="pre">area',</span> <span class="pre">'type':</span> <span class="pre">'list',</span> <span class="pre">'description':</span> <span class="pre">l'The</span> <span class="pre">full</span> <span class="pre">geographic</span> <span class="pre">area</span> <span class="pre">served</span> <span class="pre">by</span> <span class="pre">this</span> <span class="pre">library.</span> <span class="pre">In</span> <span class="pre">most</span> <span class="pre">cases</span> <span class="pre">this</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">same</span> <span class="pre">as</span> <span class="pre">the</span> <span class="pre">focus</span> <span class="pre">area</span> <span class="pre">and</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">left</span> <span class="pre">blank,</span> <span class="pre">but</span> <span class="pre">it</span> <span class="pre">may</span> <span class="pre">be</span> <span class="pre">a</span> <span class="pre">larger</span> <span class="pre">area</span> <span class="pre">such</span> <span class="pre">as</span> <span class="pre">a</span> <span class="pre">US</span> <span class="pre">state</span> <span class="pre">(which</span> <span class="pre">should</span> <span class="pre">be</span> <span class="pre">indicated</span> <span class="pre">by</span> <span class="pre">its</span> <span class="pre">abbreviation,</span> <span class="pre">like</span> <span class="pre">&lt;code&gt;OR&lt;/code&gt;).',</span> <span class="pre">'category':</span> <span class="pre">'Geographic</span> <span class="pre">Areas',</span> <span class="pre">'format':</span> <span class="pre">'geographic',</span> <span class="pre">'instructions':</span> <span class="pre">l'&lt;ol&gt;Accepted</span> <span class="pre">formats:</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">&lt;li&gt;US</span> <span class="pre">zipcode</span> <span class="pre">or</span> <span class="pre">Canadian</span> <span class="pre">FSA&lt;/li&gt;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">&lt;li&gt;Two-letter</span> <span class="pre">US</span> <span class="pre">state</span> <span class="pre">abbreviation&lt;/li&gt;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">&lt;li&gt;City,</span> <span class="pre">US</span> <span class="pre">state</span> <span class="pre">abbreviation&lt;i&gt;e.g.</span> <span class="pre">&quot;Boston,</span> <span class="pre">MA&quot;&lt;/i&gt;&lt;/li&gt;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">&lt;li&gt;County,</span> <span class="pre">US</span> <span class="pre">state</span> <span class="pre">abbreviation&lt;i&gt;e.g.</span> <span class="pre">&quot;Litchfield</span> <span class="pre">County,</span> <span class="pre">CT&quot;&lt;/i&gt;&lt;/li&gt;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">&lt;li&gt;Canadian</span> <span class="pre">province</span> <span class="pre">name</span> <span class="pre">or</span> <span class="pre">two-letter</span> <span class="pre">abbreviation&lt;/li&gt;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">&lt;li&gt;City,</span> <span class="pre">Canadian</span> <span class="pre">province</span> <span class="pre">name/abbreviation&lt;i&gt;e.g.</span> <span class="pre">&quot;Stratford,</span> <span class="pre">Ontario&quot;/&quot;Stratford,</span> <span class="pre">ON&quot;&lt;/i&gt;&lt;/li&gt;</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">&lt;/ol&gt;',</span> <span class="pre">'capitalize':</span> <span class="pre">True,</span> <span class="pre">'level':</span> <span class="pre">1},</span> <span class="pre">{'key':</span> <span class="pre">'max_outstanding_fines',</span> <span class="pre">'label':</span> <span class="pre">l'Maximum</span> <span class="pre">amount</span> <span class="pre">in</span> <span class="pre">fines</span> <span class="pre">a</span> <span class="pre">patron</span> <span class="pre">can</span> <span class="pre">have</span> <span class="pre">before</span> <span class="pre">losing</span> <span class="pre">lending</span> <span class="pre">privileges',</span> <span class="pre">'type':</span> <span class="pre">'number',</span> <span class="pre">'category':</span> <span class="pre">'Loans,</span> <span class="pre">Holds,</span> <span class="pre">&amp;</span> <span class="pre">Fines',</span> <span class="pre">'level':</span> <span class="pre">1},</span> <span class="pre">{'key':</span> <span class="pre">'loan_limit',</span> <span class="pre">'label':</span> <span class="pre">l'Maximum</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">books</span> <span class="pre">a</span> <span class="pre">patron</span> <span class="pre">can</span> <span class="pre">have</span> <span class="pre">on</span> <span class="pre">loan</span> <span class="pre">at</span> <span class="pre">once',</span> <span class="pre">'description':</span> <span class="pre">l'(Note:</span> <span class="pre">depending</span> <span class="pre">on</span> <span class="pre">distributor</span> <span class="pre">settings,</span> <span class="pre">a</span> <span class="pre">patron</span> <span class="pre">may</span> <span class="pre">be</span> <span class="pre">able</span> <span class="pre">to</span> <span class="pre">exceed</span> <span class="pre">the</span> <span class="pre">limit</span> <span class="pre">by</span> <span class="pre">checking</span> <span class="pre">out</span> <span class="pre">books</span> <span class="pre">directly</span> <span class="pre">from</span> <span class="pre">a</span> <span class="pre">distributor's</span> <span class="pre">app.</span> <span class="pre">They</span> <span class="pre">may</span> <span class="pre">also</span> <span class="pre">get</span> <span class="pre">a</span> <span class="pre">limit</span> <span class="pre">exceeded</span> <span class="pre">error</span> <span class="pre">before</span> <span class="pre">they</span> <span class="pre">reach</span> <span class="pre">these</span> <span class="pre">limits</span> <span class="pre">if</span> <span class="pre">a</span> <span class="pre">distributor</span> <span class="pre">has</span> <span class="pre">a</span> <span class="pre">smaller</span> <span class="pre">limit.)',</span> <span class="pre">'type':</span> <span class="pre">'number',</span> <span class="pre">'category':</span> <span class="pre">'Loans,</span> <span class="pre">Holds,</span> <span class="pre">&amp;</span> <span class="pre">Fines',</span> <span class="pre">'level':</span> <span class="pre">1},</span> <span class="pre">{'key':</span> <span class="pre">'hold_limit',</span> <span class="pre">'label':</span> <span class="pre">l'Maximum</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">books</span> <span class="pre">a</span> <span class="pre">patron</span> <span class="pre">can</span> <span class="pre">have</span> <span class="pre">on</span> <span class="pre">hold</span> <span class="pre">at</span> <span class="pre">once',</span> <span class="pre">'description':</span> <span class="pre">l'(Note:</span> <span class="pre">depending</span> <span class="pre">on</span> <span class="pre">distributor</span> <span class="pre">settings,</span> <span class="pre">a</span> <span class="pre">patron</span> <span class="pre">may</span> <span class="pre">be</span> <span class="pre">able</span> <span class="pre">to</span> <span class="pre">exceed</span> <span class="pre">the</span> <span class="pre">limit</span> <span class="pre">by</span> <span class="pre">checking</span> <span class="pre">out</span> <span class="pre">books</span> <span class="pre">directly</span> <span class="pre">from</span> <span class="pre">a</span> <span class="pre">distributor's</span> <span class="pre">app.</span> <span class="pre">They</span> <span class="pre">may</span> <span class="pre">also</span> <span class="pre">get</span> <span class="pre">a</span> <span class="pre">limit</span> <span class="pre">exceeded</span> <span class="pre">error</span> <span class="pre">before</span> <span class="pre">they</span> <span class="pre">reach</span> <span class="pre">these</span> <span class="pre">limits</span> <span class="pre">if</span> <span class="pre">a</span> <span class="pre">distributor</span> <span class="pre">has</span> <span class="pre">a</span> <span class="pre">smaller</span> <span class="pre">limit.)',</span> <span class="pre">'type':</span> <span class="pre">'number',</span> <span class="pre">'category':</span> <span class="pre">'Loans,</span> <span class="pre">Holds,</span> <span class="pre">&amp;</span> <span class="pre">Fines',</span> <span class="pre">'level':</span> <span class="pre">1},</span> <span class="pre">{'key':</span> <span class="pre">'terms-of-service',</span> <span class="pre">'label':</span> <span class="pre">l'Terms</span> <span class="pre">of</span> <span class="pre">Service</span> <span class="pre">URL',</span> <span class="pre">'format':</span> <span class="pre">'url',</span> <span class="pre">'category':</span> <span class="pre">'Links',</span> <span class="pre">'level':</span> <span class="pre">1},</span> <span class="pre">{'key':</span> <span class="pre">'privacy-policy',</span> <span class="pre">'label':</span> <span class="pre">l'Privacy</span> <span class="pre">Policy</span> <span class="pre">URL',</span> <span class="pre">'format':</span> <span class="pre">'url',</span> <span class="pre">'category':</span> <span class="pre">'Links',</span> <span class="pre">'level':</span> <span class="pre">1},</span> <span class="pre">{'key':</span> <span class="pre">'copyright',</span> <span class="pre">'label':</span> <span class="pre">l'Copyright</span> <span class="pre">URL',</span> <span class="pre">'format':</span> <span class="pre">'url',</span> <span class="pre">'category':</span> <span class="pre">'Links',</span> <span class="pre">'level':</span> <span class="pre">2},</span> <span class="pre">{'key':</span> <span class="pre">'about',</span> <span class="pre">'label':</span> <span class="pre">l'About</span> <span class="pre">URL',</span> <span class="pre">'format':</span> <span class="pre">'url',</span> <span class="pre">'category':</span> <span class="pre">'Links',</span> <span class="pre">'level':</span> <span class="pre">1},</span> <span class="pre">{'key':</span> <span class="pre">'license',</span> <span class="pre">'label':</span> <span class="pre">l'License</span> <span class="pre">URL',</span> <span class="pre">'format':</span> <span class="pre">'url',</span> <span class="pre">'category':</span> <span class="pre">'Links',</span> <span class="pre">'level':</span> <span class="pre">2},</span> <span class="pre">{'key':</span> <span class="pre">'register',</span> <span class="pre">'label':</span> <span class="pre">l'Patron</span> <span class="pre">registration</span> <span class="pre">URL',</span> <span class="pre">'description':</span> <span class="pre">l'A</span> <span class="pre">URL</span> <span class="pre">where</span> <span class="pre">someone</span> <span class="pre">who</span> <span class="pre">doesn't</span> <span class="pre">have</span> <span class="pre">a</span> <span class="pre">library</span> <span class="pre">card</span> <span class="pre">yet</span> <span class="pre">can</span> <span class="pre">sign</span> <span class="pre">up</span> <span class="pre">for</span> <span class="pre">one.',</span> <span class="pre">'format':</span> <span class="pre">'url',</span> <span class="pre">'category':</span> <span class="pre">'Patron</span> <span class="pre">Support',</span> <span class="pre">'allowed':</span> <span class="pre">['nypl.card-creator:https://patrons.librarysimplified.org/'],</span> <span class="pre">'level':</span> <span class="pre">1},</span> <span class="pre">{'key':</span> <span class="pre">'large_collections',</span> <span class="pre">'label':</span> <span class="pre">l'The</span> <span class="pre">primary</span> <span class="pre">languages</span> <span class="pre">represented</span> <span class="pre">in</span> <span class="pre">this</span> <span class="pre">library's</span> <span class="pre">collection',</span> <span class="pre">'type':</span> <span class="pre">'list',</span> <span class="pre">'format':</span> <span class="pre">'language-code',</span> <span class="pre">'description':</span> <span class="pre">l'Each</span> <span class="pre">value</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">either</span> <span class="pre">the</span> <span class="pre">full</span> <span class="pre">name</span> <span class="pre">of</span> <span class="pre">a</span> <span class="pre">language</span> <span class="pre">or</span> <span class="pre">an</span> <span class="pre">&lt;a</span> <span class="pre">href=&quot;https://www.loc.gov/standards/iso639-2/php/code_list.php&quot;</span> <span class="pre">target=&quot;_blank&quot;&gt;ISO-639-2&lt;/a&gt;</span> <span class="pre">language</span> <span class="pre">code.',</span> <span class="pre">'optional':</span> <span class="pre">True,</span> <span class="pre">'category':</span> <span class="pre">'Languages',</span> <span class="pre">'level':</span> <span class="pre">1},</span> <span class="pre">{'key':</span> <span class="pre">'small_collections',</span> <span class="pre">'label':</span> <span class="pre">l'Other</span> <span class="pre">major</span> <span class="pre">languages</span> <span class="pre">represented</span> <span class="pre">in</span> <span class="pre">this</span> <span class="pre">library's</span> <span class="pre">collection',</span> <span class="pre">'type':</span> <span class="pre">'list',</span> <span class="pre">'format':</span> <span class="pre">'language-code',</span> <span class="pre">'description':</span> <span class="pre">l'Each</span> <span class="pre">value</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">either</span> <span class="pre">the</span> <span class="pre">full</span> <span class="pre">name</span> <span class="pre">of</span> <span class="pre">a</span> <span class="pre">language</span> <span class="pre">or</span> <span class="pre">an</span> <span class="pre">&lt;a</span> <span class="pre">href=&quot;https://www.loc.gov/standards/iso639-2/php/code_list.php&quot;</span> <span class="pre">target=&quot;_blank&quot;&gt;ISO-639-2&lt;/a&gt;</span> <span class="pre">language</span> <span class="pre">code.',</span> <span class="pre">'optional':</span> <span class="pre">True,</span> <span class="pre">'category':</span> <span class="pre">'Languages',</span> <span class="pre">'level':</span> <span class="pre">1},</span> <span class="pre">{'key':</span> <span class="pre">'tiny_collections',</span> <span class="pre">'label':</span> <span class="pre">l'Other</span> <span class="pre">languages</span> <span class="pre">in</span> <span class="pre">this</span> <span class="pre">library's</span> <span class="pre">collection',</span> <span class="pre">'type':</span> <span class="pre">'list',</span> <span class="pre">'format':</span> <span class="pre">'language-code',</span> <span class="pre">'description':</span> <span class="pre">l'Each</span> <span class="pre">value</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">either</span> <span class="pre">the</span> <span class="pre">full</span> <span class="pre">name</span> <span class="pre">of</span> <span class="pre">a</span> <span class="pre">language</span> <span class="pre">or</span> <span class="pre">an</span> <span class="pre">&lt;a</span> <span class="pre">href=&quot;https://www.loc.gov/standards/iso639-2/php/code_list.php&quot;</span> <span class="pre">target=&quot;_blank&quot;&gt;ISO-639-2&lt;/a&gt;</span> <span class="pre">language</span> <span class="pre">code.',</span> <span class="pre">'optional':</span> <span class="pre">True,</span> <span class="pre">'category':</span> <span class="pre">'Languages',</span> <span class="pre">'level':</span> <span class="pre">1}]</span></em><a class="headerlink" href="#api.config.Configuration.LIBRARY_SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.LICENSE">
<span class="sig-name descname"><span class="pre">LICENSE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'license'</span></em><a class="headerlink" href="#api.config.Configuration.LICENSE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.LOAN_LIMIT">
<span class="sig-name descname"><span class="pre">LOAN_LIMIT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'loan_limit'</span></em><a class="headerlink" href="#api.config.Configuration.LOAN_LIMIT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.LOGO">
<span class="sig-name descname"><span class="pre">LOGO</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'logo'</span></em><a class="headerlink" href="#api.config.Configuration.LOGO" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.MAX_OUTSTANDING_FINES">
<span class="sig-name descname"><span class="pre">MAX_OUTSTANDING_FINES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'max_outstanding_fines'</span></em><a class="headerlink" href="#api.config.Configuration.MAX_OUTSTANDING_FINES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.PATRON_WEB_HOSTNAMES">
<span class="sig-name descname"><span class="pre">PATRON_WEB_HOSTNAMES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'patron_web_hostnames'</span></em><a class="headerlink" href="#api.config.Configuration.PATRON_WEB_HOSTNAMES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.PRIVACY_POLICY">
<span class="sig-name descname"><span class="pre">PRIVACY_POLICY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'privacy-policy'</span></em><a class="headerlink" href="#api.config.Configuration.PRIVACY_POLICY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.REGISTER">
<span class="sig-name descname"><span class="pre">REGISTER</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'register'</span></em><a class="headerlink" href="#api.config.Configuration.REGISTER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.RESERVATIONS_FEATURE">
<span class="sig-name descname"><span class="pre">RESERVATIONS_FEATURE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'https://librarysimplified.org/rel/policy/reservations'</span></em><a class="headerlink" href="#api.config.Configuration.RESERVATIONS_FEATURE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.SECRET_KEY">
<span class="sig-name descname"><span class="pre">SECRET_KEY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'secret_key'</span></em><a class="headerlink" href="#api.config.Configuration.SECRET_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.SITEWIDE_SETTINGS">
<span class="sig-name descname"><span class="pre">SITEWIDE_SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'base_url',</span> <span class="pre">'label':</span> <span class="pre">l'Base</span> <span class="pre">url</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">application',</span> <span class="pre">'required':</span> <span class="pre">True,</span> <span class="pre">'format':</span> <span class="pre">'url'},</span> <span class="pre">{'key':</span> <span class="pre">'log_level',</span> <span class="pre">'label':</span> <span class="pre">l'Log</span> <span class="pre">Level',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'DEBUG',</span> <span class="pre">'label':</span> <span class="pre">l'Debug'},</span> <span class="pre">{'key':</span> <span class="pre">'INFO',</span> <span class="pre">'label':</span> <span class="pre">l'Info'},</span> <span class="pre">{'key':</span> <span class="pre">'WARN',</span> <span class="pre">'label':</span> <span class="pre">l'Warn'},</span> <span class="pre">{'key':</span> <span class="pre">'ERROR',</span> <span class="pre">'label':</span> <span class="pre">l'Error'}],</span> <span class="pre">'default':</span> <span class="pre">'INFO'},</span> <span class="pre">{'key':</span> <span class="pre">'log_app',</span> <span class="pre">'label':</span> <span class="pre">l'Application</span> <span class="pre">name',</span> <span class="pre">'description':</span> <span class="pre">l'Log</span> <span class="pre">messages</span> <span class="pre">originating</span> <span class="pre">from</span> <span class="pre">this</span> <span class="pre">application</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">tagged</span> <span class="pre">with</span> <span class="pre">this</span> <span class="pre">name.</span> <span class="pre">If</span> <span class="pre">you</span> <span class="pre">run</span> <span class="pre">multiple</span> <span class="pre">instances,</span> <span class="pre">giving</span> <span class="pre">each</span> <span class="pre">one</span> <span class="pre">a</span> <span class="pre">different</span> <span class="pre">application</span> <span class="pre">name</span> <span class="pre">will</span> <span class="pre">help</span> <span class="pre">you</span> <span class="pre">determine</span> <span class="pre">which</span> <span class="pre">instance</span> <span class="pre">is</span> <span class="pre">having</span> <span class="pre">problems.',</span> <span class="pre">'default':</span> <span class="pre">'simplified',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'database_log_level',</span> <span class="pre">'label':</span> <span class="pre">l'Database</span> <span class="pre">Log</span> <span class="pre">Level',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'DEBUG',</span> <span class="pre">'label':</span> <span class="pre">l'Debug'},</span> <span class="pre">{'key':</span> <span class="pre">'INFO',</span> <span class="pre">'label':</span> <span class="pre">l'Info'},</span> <span class="pre">{'key':</span> <span class="pre">'WARN',</span> <span class="pre">'label':</span> <span class="pre">l'Warn'},</span> <span class="pre">{'key':</span> <span class="pre">'ERROR',</span> <span class="pre">'label':</span> <span class="pre">l'Error'}],</span> <span class="pre">'description':</span> <span class="pre">l'Database</span> <span class="pre">logs</span> <span class="pre">are</span> <span class="pre">extremely</span> <span class="pre">verbose,</span> <span class="pre">so</span> <span class="pre">unless</span> <span class="pre">you're</span> <span class="pre">diagnosing</span> <span class="pre">a</span> <span class="pre">database-related</span> <span class="pre">problem,</span> <span class="pre">it's</span> <span class="pre">a</span> <span class="pre">good</span> <span class="pre">idea</span> <span class="pre">to</span> <span class="pre">set</span> <span class="pre">a</span> <span class="pre">higher</span> <span class="pre">log</span> <span class="pre">level</span> <span class="pre">for</span> <span class="pre">database</span> <span class="pre">messages.',</span> <span class="pre">'default':</span> <span class="pre">'WARN'},</span> <span class="pre">{'key':</span> <span class="pre">'excluded_audio_data_sources',</span> <span class="pre">'label':</span> <span class="pre">l'Excluded</span> <span class="pre">audiobook</span> <span class="pre">sources',</span> <span class="pre">'description':</span> <span class="pre">l'Audiobooks</span> <span class="pre">from</span> <span class="pre">these</span> <span class="pre">data</span> <span class="pre">sources</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">hidden</span> <span class="pre">from</span> <span class="pre">the</span> <span class="pre">collection,</span> <span class="pre">even</span> <span class="pre">if</span> <span class="pre">they</span> <span class="pre">would</span> <span class="pre">otherwise</span> <span class="pre">show</span> <span class="pre">up</span> <span class="pre">as</span> <span class="pre">available.',</span> <span class="pre">'default':</span> <span class="pre">None,</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'measurement_reaper_enabled',</span> <span class="pre">'label':</span> <span class="pre">l'Cleanup</span> <span class="pre">old</span> <span class="pre">measurement</span> <span class="pre">data',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'description':</span> <span class="pre">l'If</span> <span class="pre">this</span> <span class="pre">settings</span> <span class="pre">is</span> <span class="pre">'true'</span> <span class="pre">old</span> <span class="pre">book</span> <span class="pre">measurement</span> <span class="pre">data</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">cleaned</span> <span class="pre">out</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">database.</span> <span class="pre">Some</span> <span class="pre">sites</span> <span class="pre">may</span> <span class="pre">want</span> <span class="pre">to</span> <span class="pre">keep</span> <span class="pre">this</span> <span class="pre">data</span> <span class="pre">for</span> <span class="pre">later</span> <span class="pre">analysis.',</span> <span class="pre">'options':</span> <span class="pre">{'true':</span> <span class="pre">'true',</span> <span class="pre">'false':</span> <span class="pre">'false'},</span> <span class="pre">'default':</span> <span class="pre">'true'},</span> <span class="pre">{'key':</span> <span class="pre">'bearer_token_signing_secret',</span> <span class="pre">'label':</span> <span class="pre">l'Internal</span> <span class="pre">signing</span> <span class="pre">secret</span> <span class="pre">for</span> <span class="pre">OAuth</span> <span class="pre">and</span> <span class="pre">SAML</span> <span class="pre">bearer</span> <span class="pre">tokens',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'secret_key',</span> <span class="pre">'label':</span> <span class="pre">l'Internal</span> <span class="pre">secret</span> <span class="pre">key</span> <span class="pre">for</span> <span class="pre">admin</span> <span class="pre">interface</span> <span class="pre">cookies',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'patron_web_hostnames',</span> <span class="pre">'label':</span> <span class="pre">l'Hostnames</span> <span class="pre">for</span> <span class="pre">patron</span> <span class="pre">web</span> <span class="pre">application</span> <span class="pre">access',</span> <span class="pre">'type':</span> <span class="pre">'string',</span> <span class="pre">'required':</span> <span class="pre">True,</span> <span class="pre">'description':</span> <span class="pre">l'Only</span> <span class="pre">web</span> <span class="pre">applications</span> <span class="pre">from</span> <span class="pre">these</span> <span class="pre">hosts</span> <span class="pre">can</span> <span class="pre">access</span> <span class="pre">this</span> <span class="pre">circulation</span> <span class="pre">manager.</span> <span class="pre">You</span> <span class="pre">may</span> <span class="pre">set</span> <span class="pre">a</span> <span class="pre">value</span> <span class="pre">which</span> <span class="pre">includes</span> <span class="pre">a</span> <span class="pre">wildcard</span> <span class="pre">for</span> <span class="pre">subdomains,</span> <span class="pre">such</span> <span class="pre">as</span> <span class="pre">https://*.somedomain.com</span> <span class="pre">or</span> <span class="pre">https://*.somesub.somedomain.com.</span> <span class="pre">Note</span> <span class="pre">that</span> <span class="pre">such</span> <span class="pre">a</span> <span class="pre">wildcard</span> <span class="pre">will</span> <span class="pre">NOT</span> <span class="pre">match</span> <span class="pre">the</span> <span class="pre">root</span> <span class="pre">domain</span> <span class="pre">alone;</span> <span class="pre">that</span> <span class="pre">must</span> <span class="pre">be</span> <span class="pre">included</span> <span class="pre">separately.'},</span> <span class="pre">{'key':</span> <span class="pre">'admin_web_hostnames',</span> <span class="pre">'label':</span> <span class="pre">l'Hostnames</span> <span class="pre">for</span> <span class="pre">admin</span> <span class="pre">web</span> <span class="pre">application</span> <span class="pre">access',</span> <span class="pre">'required':</span> <span class="pre">True,</span> <span class="pre">'type':</span> <span class="pre">'string',</span> <span class="pre">'description':</span> <span class="pre">l'Only</span> <span class="pre">admin</span> <span class="pre">web</span> <span class="pre">applications</span> <span class="pre">from</span> <span class="pre">these</span> <span class="pre">hosts</span> <span class="pre">can</span> <span class="pre">access</span> <span class="pre">this</span> <span class="pre">circulation</span> <span class="pre">manager.</span> <span class="pre">This</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">a</span> <span class="pre">single</span> <span class="pre">hostname</span> <span class="pre">(http://catalog.library.org)</span> <span class="pre">or</span> <span class="pre">a</span> <span class="pre">pipe-separated</span> <span class="pre">list</span> <span class="pre">of</span> <span class="pre">hostnames</span> <span class="pre">(http://catalog.library.org|https://beta.library.org).</span>&#160; <span class="pre">You</span> <span class="pre">may</span> <span class="pre">set</span> <span class="pre">a</span> <span class="pre">value</span> <span class="pre">which</span> <span class="pre">includes</span> <span class="pre">a</span> <span class="pre">wildcard</span> <span class="pre">for</span> <span class="pre">subdomains,</span> <span class="pre">such</span> <span class="pre">as</span> <span class="pre">https://*.somedomain.com</span> <span class="pre">or</span> <span class="pre">https://*.somesub.somedomain.com.</span> <span class="pre">Note</span> <span class="pre">that</span> <span class="pre">such</span> <span class="pre">a</span> <span class="pre">wildcard</span> <span class="pre">will</span> <span class="pre">NOT</span> <span class="pre">match</span> <span class="pre">the</span> <span class="pre">root</span> <span class="pre">domain</span> <span class="pre">alone;</span> <span class="pre">that</span> <span class="pre">must</span> <span class="pre">be</span> <span class="pre">included</span> <span class="pre">separately.'},</span> <span class="pre">{'key':</span> <span class="pre">'static_file_cache_time',</span> <span class="pre">'label':</span> <span class="pre">l'Cache</span> <span class="pre">time</span> <span class="pre">for</span> <span class="pre">static</span> <span class="pre">images</span> <span class="pre">and</span> <span class="pre">JS</span> <span class="pre">and</span> <span class="pre">CSS</span> <span class="pre">files</span> <span class="pre">(in</span> <span class="pre">seconds)',</span> <span class="pre">'required':</span> <span class="pre">True,</span> <span class="pre">'type':</span> <span class="pre">'number'},</span> <span class="pre">{'key':</span> <span class="pre">'authentication_document_cache_time',</span> <span class="pre">'label':</span> <span class="pre">l'Cache</span> <span class="pre">time</span> <span class="pre">for</span> <span class="pre">authentication</span> <span class="pre">documents</span> <span class="pre">(in</span> <span class="pre">seconds)',</span> <span class="pre">'required':</span> <span class="pre">True,</span> <span class="pre">'type':</span> <span class="pre">'number',</span> <span class="pre">'default':</span> <span class="pre">0},</span> <span class="pre">{'key':</span> <span class="pre">'tos_href',</span> <span class="pre">'label':</span> <span class="pre">l'Custom</span> <span class="pre">Terms</span> <span class="pre">of</span> <span class="pre">Service</span> <span class="pre">link',</span> <span class="pre">'required':</span> <span class="pre">False,</span> <span class="pre">'default':</span> <span class="pre">'https://librarysimplified.org/simplyetermsofservice2/',</span> <span class="pre">'description':</span> <span class="pre">l'If</span> <span class="pre">your</span> <span class="pre">inclusion</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">SimplyE</span> <span class="pre">mobile</span> <span class="pre">app</span> <span class="pre">is</span> <span class="pre">governed</span> <span class="pre">by</span> <span class="pre">terms</span> <span class="pre">other</span> <span class="pre">than</span> <span class="pre">the</span> <span class="pre">default,</span> <span class="pre">put</span> <span class="pre">the</span> <span class="pre">URL</span> <span class="pre">to</span> <span class="pre">those</span> <span class="pre">terms</span> <span class="pre">in</span> <span class="pre">this</span> <span class="pre">link</span> <span class="pre">so</span> <span class="pre">that</span> <span class="pre">librarians</span> <span class="pre">will</span> <span class="pre">have</span> <span class="pre">access</span> <span class="pre">to</span> <span class="pre">them.</span> <span class="pre">This</span> <span class="pre">URL</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">used</span> <span class="pre">for</span> <span class="pre">all</span> <span class="pre">libraries</span> <span class="pre">on</span> <span class="pre">this</span> <span class="pre">circulation</span> <span class="pre">manager.'},</span> <span class="pre">{'key':</span> <span class="pre">'tos_text',</span> <span class="pre">'label':</span> <span class="pre">l'Custom</span> <span class="pre">Terms</span> <span class="pre">of</span> <span class="pre">Service</span> <span class="pre">link</span> <span class="pre">text',</span> <span class="pre">'required':</span> <span class="pre">False,</span> <span class="pre">'default':</span> <span class="pre">&quot;Terms</span> <span class="pre">of</span> <span class="pre">Service</span> <span class="pre">for</span> <span class="pre">presenting</span> <span class="pre">e-reading</span> <span class="pre">materials</span> <span class="pre">through</span> <span class="pre">NYPL's</span> <span class="pre">SimplyE</span> <span class="pre">mobile</span> <span class="pre">app&quot;,</span> <span class="pre">'description':</span> <span class="pre">l'Custom</span> <span class="pre">text</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">Terms</span> <span class="pre">of</span> <span class="pre">Service</span> <span class="pre">link</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">footer</span> <span class="pre">of</span> <span class="pre">these</span> <span class="pre">administrative</span> <span class="pre">interface</span> <span class="pre">pages.</span> <span class="pre">This</span> <span class="pre">is</span> <span class="pre">primarily</span> <span class="pre">useful</span> <span class="pre">if</span> <span class="pre">you're</span> <span class="pre">not</span> <span class="pre">connecting</span> <span class="pre">this</span> <span class="pre">circulation</span> <span class="pre">manager</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">SimplyE</span> <span class="pre">mobile</span> <span class="pre">app.</span> <span class="pre">This</span> <span class="pre">text</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">used</span> <span class="pre">for</span> <span class="pre">all</span> <span class="pre">libraries</span> <span class="pre">on</span> <span class="pre">this</span> <span class="pre">circulation</span> <span class="pre">manager.'}]</span></em><a class="headerlink" href="#api.config.Configuration.SITEWIDE_SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.SMALL_COLLECTION_CUTOFF">
<span class="sig-name descname"><span class="pre">SMALL_COLLECTION_CUTOFF</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">500</span></em><a class="headerlink" href="#api.config.Configuration.SMALL_COLLECTION_CUTOFF" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.SMALL_COLLECTION_LANGUAGES">
<span class="sig-name descname"><span class="pre">SMALL_COLLECTION_LANGUAGES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'small_collections'</span></em><a class="headerlink" href="#api.config.Configuration.SMALL_COLLECTION_LANGUAGES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.STANDARD_NOREPLY_EMAIL_ADDRESS">
<span class="sig-name descname"><span class="pre">STANDARD_NOREPLY_EMAIL_ADDRESS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'noreply&#64;librarysimplified.org'</span></em><a class="headerlink" href="#api.config.Configuration.STANDARD_NOREPLY_EMAIL_ADDRESS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.STATIC_FILE_CACHE_TIME">
<span class="sig-name descname"><span class="pre">STATIC_FILE_CACHE_TIME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'static_file_cache_time'</span></em><a class="headerlink" href="#api.config.Configuration.STATIC_FILE_CACHE_TIME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.TERMS_OF_SERVICE">
<span class="sig-name descname"><span class="pre">TERMS_OF_SERVICE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'terms-of-service'</span></em><a class="headerlink" href="#api.config.Configuration.TERMS_OF_SERVICE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.TINY_COLLECTION_LANGUAGES">
<span class="sig-name descname"><span class="pre">TINY_COLLECTION_LANGUAGES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'tiny_collections'</span></em><a class="headerlink" href="#api.config.Configuration.TINY_COLLECTION_LANGUAGES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.WEB_CSS_FILE">
<span class="sig-name descname"><span class="pre">WEB_CSS_FILE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'web-css-file'</span></em><a class="headerlink" href="#api.config.Configuration.WEB_CSS_FILE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.WEB_HEADER_LABELS">
<span class="sig-name descname"><span class="pre">WEB_HEADER_LABELS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'web-header-labels'</span></em><a class="headerlink" href="#api.config.Configuration.WEB_HEADER_LABELS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.WEB_HEADER_LINKS">
<span class="sig-name descname"><span class="pre">WEB_HEADER_LINKS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'web-header-links'</span></em><a class="headerlink" href="#api.config.Configuration.WEB_HEADER_LINKS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.WEB_PRIMARY_COLOR">
<span class="sig-name descname"><span class="pre">WEB_PRIMARY_COLOR</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'web-primary-color'</span></em><a class="headerlink" href="#api.config.Configuration.WEB_PRIMARY_COLOR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.WEB_SECONDARY_COLOR">
<span class="sig-name descname"><span class="pre">WEB_SECONDARY_COLOR</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'web-secondary-color'</span></em><a class="headerlink" href="#api.config.Configuration.WEB_SECONDARY_COLOR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.config.Configuration.WSGI_DEBUG_KEY">
<span class="sig-name descname"><span class="pre">WSGI_DEBUG_KEY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'wsgi_debug'</span></em><a class="headerlink" href="#api.config.Configuration.WSGI_DEBUG_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.config.Configuration.cipher">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">cipher</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/config.html#Configuration.cipher"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.config.Configuration.cipher" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Cipher for a public or private key.</p>
<p>This just wraps some hard-to-remember Crypto code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> – A string containing the key.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A Cipher object which will support either
encrypt() (public key) or decrypt() (private key).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.config.Configuration.classify_holdings">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">classify_holdings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">works_by_language</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/config.html#Configuration.classify_holdings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.config.Configuration.classify_holdings" title="Permalink to this definition">¶</a></dt>
<dd><p>Divide languages into ‘large’, ‘small’, and ‘tiny’ colletions based
on the number of works available for each.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>works_by_language</strong> – A Counter mapping languages to the
number of active works available for that language.  The
output of <cite>Library.estimated_holdings_by_language</cite> is a good
thing to pass in.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a 3-tuple of lists (large, small, tiny).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.config.Configuration.configuration_contact_uri">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">configuration_contact_uri</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/config.html#Configuration.configuration_contact_uri"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.config.Configuration.configuration_contact_uri" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.config.Configuration.copyright_designated_agent_uri">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">copyright_designated_agent_uri</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/config.html#Configuration.copyright_designated_agent_uri"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.config.Configuration.copyright_designated_agent_uri" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.config.Configuration.estimate_language_collections_for_library">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">estimate_language_collections_for_library</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/config.html#Configuration.estimate_language_collections_for_library"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.config.Configuration.estimate_language_collections_for_library" title="Permalink to this definition">¶</a></dt>
<dd><p>Guess at appropriate values for the given library for
LARGE_COLLECTION_LANGUAGES, SMALL_COLLECTION_LANGUAGES, and
TINY_COLLECTION_LANGUAGES. Set configuration values
appropriately, overriding any previous values.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.config.Configuration.help_uris">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">help_uris</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/config.html#Configuration.help_uris"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.config.Configuration.help_uris" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all the URIs that might help patrons get help from
this library.</p>
<dl class="field-list simple">
<dt class="field-odd">Yield<span class="colon">:</span></dt>
<dd class="field-odd"><p>A sequence of 2-tuples (media type, URL)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.config.Configuration.key_pair">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">key_pair</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">setting</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/config.html#Configuration.key_pair"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.config.Configuration.key_pair" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up a public-private key pair in a ConfigurationSetting.</p>
<p>If the value is missing or incorrect, a new key pair is
created and stored.</p>
<p>TODO: This could go into ConfigurationSetting or core Configuration.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>public_setting</strong> – A ConfigurationSetting for the public key.</p></li>
<li><p><strong>private_setting</strong> – A ConfigurationSetting for the private key.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A 2-tuple (public key, private key)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.config.Configuration.large_collection_languages">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">large_collection_languages</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/config.html#Configuration.large_collection_languages"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.config.Configuration.large_collection_languages" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.config.Configuration.lending_policy">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">lending_policy</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/config.html#Configuration.lending_policy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.config.Configuration.lending_policy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.config.Configuration.load">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">load</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/config.html#Configuration.load"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.config.Configuration.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load configuration information from the filesystem, and
(optionally) from the database.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.config.Configuration.max_outstanding_fines">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">max_outstanding_fines</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/config.html#Configuration.max_outstanding_fines"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.config.Configuration.max_outstanding_fines" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.config.Configuration.small_collection_languages">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">small_collection_languages</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/config.html#Configuration.small_collection_languages"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.config.Configuration.small_collection_languages" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.config.Configuration.tiny_collection_languages">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">tiny_collection_languages</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/config.html#Configuration.tiny_collection_languages"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.config.Configuration.tiny_collection_languages" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.config.Configuration.unsubscribe_email_uri">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">unsubscribe_email_uri</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/config.html#Configuration.unsubscribe_email_uri"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.config.Configuration.unsubscribe_email_uri" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="api.config.empty_config">
<span class="sig-prename descclassname"><span class="pre">api.config.</span></span><span class="sig-name descname"><span class="pre">empty_config</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/config.html#empty_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.config.empty_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="api.config.temp_config">
<span class="sig-prename descclassname"><span class="pre">api.config.</span></span><span class="sig-name descname"><span class="pre">temp_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">new_config</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">replacement_classes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/config.html#temp_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.config.temp_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-api.controller">
<span id="api-controller-module"></span><h2>api.controller module<a class="headerlink" href="#module-api.controller" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.controller.AnalyticsController">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.controller.</span></span><span class="sig-name descname"><span class="pre">AnalyticsController</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">manager</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#AnalyticsController"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.AnalyticsController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.controller.CirculationManagerController" title="api.controller.CirculationManagerController"><code class="xref py py-class docutils literal notranslate"><span class="pre">CirculationManagerController</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.controller.AnalyticsController.track_event">
<span class="sig-name descname"><span class="pre">track_event</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event_type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#AnalyticsController.track_event"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.AnalyticsController.track_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.controller.AnnotationController">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.controller.</span></span><span class="sig-name descname"><span class="pre">AnnotationController</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">manager</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#AnnotationController"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.AnnotationController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.controller.CirculationManagerController" title="api.controller.CirculationManagerController"><code class="xref py py-class docutils literal notranslate"><span class="pre">CirculationManagerController</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.controller.AnnotationController.container">
<span class="sig-name descname"><span class="pre">container</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accept_post</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#AnnotationController.container"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.AnnotationController.container" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.AnnotationController.container_for_work">
<span class="sig-name descname"><span class="pre">container_for_work</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#AnnotationController.container_for_work"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.AnnotationController.container_for_work" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.AnnotationController.detail">
<span class="sig-name descname"><span class="pre">detail</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">annotation_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#AnnotationController.detail"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.AnnotationController.detail" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.controller.CirculationManager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.controller.</span></span><span class="sig-name descname"><span class="pre">CirculationManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">testing</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.CirculationManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.controller.CirculationManager.annotator">
<span class="sig-name descname"><span class="pre">annotator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lane</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManager.annotator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.CirculationManager.annotator" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an appropriate OPDS annotator for the given lane.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lane</strong> – A Lane or WorkList.</p></li>
<li><p><strong>facets</strong> – A faceting object.</p></li>
<li><p><strong>annotator_class</strong> – Instantiate this annotator class if possible.
Intended for use in unit tests.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.controller.CirculationManager.authentication_for_opds_document">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">authentication_for_opds_document</span></span><a class="headerlink" href="#api.controller.CirculationManager.authentication_for_opds_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure the current request’s library has an Authentication For
OPDS document in the cache, then return the cached version.</p>
<p>If the cache is disabled, a fresh document is created every time.</p>
<p>If the query argument <cite>debug</cite> is provided and the
WSGI_DEBUG_KEY site-wide setting is set to True, the
authentication document is annotated with a ‘_debug’ section
describing the current WSGI environment. Since this can reveal
internal details of deployment, it should only be enabled when
diagnosing deployment problems.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.CirculationManager.cdn_url_for">
<span class="sig-name descname"><span class="pre">cdn_url_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManager.cdn_url_for"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.CirculationManager.cdn_url_for" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a URL for a view that (probably) passes through a CDN.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>view</strong> – Name of the view.</p></li>
<li><p><strong>_facets</strong> – The faceting object used to generate the document that’s calling
this method. This may change which function is actually used to generate the
URL; in particular, it may disable a CDN that would otherwise be used. This is
called _facets just in case there’s ever a view that takes ‘facets’ as a real
keyword argument.</p></li>
<li><p><strong>args</strong> – Positional arguments to the view function.</p></li>
<li><p><strong>kwargs</strong> – Keyword arguments to the view function.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.controller.CirculationManager.external_search">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">external_search</span></span><a class="headerlink" href="#api.controller.CirculationManager.external_search" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve or create a connection to the search interface.</p>
<p>This is created lazily so that a failure to connect only
affects feeds that depend on the search engine, not the whole
circulation manager.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.CirculationManager.load_facets_from_request">
<span class="sig-name descname"><span class="pre">load_facets_from_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManager.load_facets_from_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.CirculationManager.load_facets_from_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Load a faceting object from the incoming request, but also apply some
application-specific access restrictions:</p>
<ul class="simple">
<li><p>You can’t use nonstandard caching rules unless you’re an authenticated administrator.</p></li>
<li><p>You can’t access a WorkList that’s not accessible to you.</p></li>
</ul>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.CirculationManager.load_settings">
<span class="sig-name descname"><span class="pre">load_settings</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManager.load_settings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.CirculationManager.load_settings" title="Permalink to this definition">¶</a></dt>
<dd><p>Load all necessary configuration settings and external
integrations from the database.</p>
<p>This is called once when the CirculationManager is
initialized.  It may also be called later to reload the site
configuration after changes are made in the administrative
interface.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.CirculationManager.log_lanes">
<span class="sig-name descname"><span class="pre">log_lanes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lanelist</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">level</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManager.log_lanes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.CirculationManager.log_lanes" title="Permalink to this definition">¶</a></dt>
<dd><p>Output information about the lane layout.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.controller.CirculationManager.public_key_integration_document">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">public_key_integration_document</span></span><a class="headerlink" href="#api.controller.CirculationManager.public_key_integration_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Serve a document with the sitewide public key.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.CirculationManager.reload_settings_if_changed">
<span class="sig-name descname"><span class="pre">reload_settings_if_changed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManager.reload_settings_if_changed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.CirculationManager.reload_settings_if_changed" title="Permalink to this definition">¶</a></dt>
<dd><p>If the site configuration has been updated, reload the
CirculationManager’s configuration from the database.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.CirculationManager.setup_adobe_vendor_id">
<span class="sig-name descname"><span class="pre">setup_adobe_vendor_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">library</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManager.setup_adobe_vendor_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.CirculationManager.setup_adobe_vendor_id" title="Permalink to this definition">¶</a></dt>
<dd><p>If this Library has an Adobe Vendor ID integration,
configure the controller for it.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>An Authdata object for <cite>library</cite>, if one could be created.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.CirculationManager.setup_circulation">
<span class="sig-name descname"><span class="pre">setup_circulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analytics</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManager.setup_circulation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.CirculationManager.setup_circulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up the Circulation object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.CirculationManager.setup_configuration_dependent_controllers">
<span class="sig-name descname"><span class="pre">setup_configuration_dependent_controllers</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManager.setup_configuration_dependent_controllers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.CirculationManager.setup_configuration_dependent_controllers" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up all the controllers that depend on the
current site configuration.</p>
<p>This method will be called fresh every time the site
configuration changes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.CirculationManager.setup_external_search">
<span class="sig-name descname"><span class="pre">setup_external_search</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManager.setup_external_search"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.CirculationManager.setup_external_search" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.CirculationManager.setup_one_time_controllers">
<span class="sig-name descname"><span class="pre">setup_one_time_controllers</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManager.setup_one_time_controllers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.CirculationManager.setup_one_time_controllers" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up all the controllers that will be used by the web app.</p>
<p>This method will be called only once, no matter how many times the
site configuration changes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.CirculationManager.setup_search">
<span class="sig-name descname"><span class="pre">setup_search</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManager.setup_search"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.CirculationManager.setup_search" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up a search client.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.CirculationManager.setup_shared_collection">
<span class="sig-name descname"><span class="pre">setup_shared_collection</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManager.setup_shared_collection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.CirculationManager.setup_shared_collection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.controller.CirculationManager.sitewide_key_pair">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sitewide_key_pair</span></span><a class="headerlink" href="#api.controller.CirculationManager.sitewide_key_pair" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up or create the sitewide public/private key pair.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.CirculationManager.url_for">
<span class="sig-name descname"><span class="pre">url_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManager.url_for"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.CirculationManager.url_for" title="Permalink to this definition">¶</a></dt>
<dd><p>Call the url_for function, ensuring that Flask generates an absolute URL.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.controller.CirculationManagerController">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.controller.</span></span><span class="sig-name descname"><span class="pre">CirculationManagerController</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">manager</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManagerController"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.CirculationManagerController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.base_controller.BaseCirculationManagerController" title="api.base_controller.BaseCirculationManagerController"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseCirculationManagerController</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.controller.CirculationManagerController.apply_borrowing_policy">
<span class="sig-name descname"><span class="pre">apply_borrowing_policy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">license_pool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManagerController.apply_borrowing_policy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.CirculationManagerController.apply_borrowing_policy" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply the borrowing policy of the patron’s library to the
book they’re trying to check out.</p>
<p>This prevents a patron from borrowing an age-inappropriate book
or from placing a hold in a library that prohibits holds.</p>
<p>Generally speaking, both of these operations should be
prevented before they get to this point; this is an extra
layer of protection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patron</strong> – A <cite>Patron</cite>. It’s okay if this turns out to be a
<cite>ProblemDetail</cite> or <cite>None</cite> due to a problem earlier in the
process.</p></li>
<li><p><strong>license_pool`</strong> – The <cite>LicensePool</cite> the patron is trying to act on.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.controller.CirculationManagerController.circulation">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">circulation</span></span><a class="headerlink" href="#api.controller.CirculationManagerController.circulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the appropriate CirculationAPI for the request Library.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.CirculationManagerController.get_patron_circ_objects">
<span class="sig-name descname"><span class="pre">get_patron_circ_objects</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">license_pools</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManagerController.get_patron_circ_objects"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.CirculationManagerController.get_patron_circ_objects" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.CirculationManagerController.get_patron_hold">
<span class="sig-name descname"><span class="pre">get_patron_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">license_pools</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManagerController.get_patron_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.CirculationManagerController.get_patron_hold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.CirculationManagerController.get_patron_loan">
<span class="sig-name descname"><span class="pre">get_patron_loan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">license_pools</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManagerController.get_patron_loan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.CirculationManagerController.get_patron_loan" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.CirculationManagerController.handle_conditional_request">
<span class="sig-name descname"><span class="pre">handle_conditional_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">last_modified</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManagerController.handle_conditional_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.CirculationManagerController.handle_conditional_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle a conditional HTTP request.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>last_modified</strong> – A datetime representing the time this
resource was last modified.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a Response, if the incoming request can be handled
conditionally. Otherwise, None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.CirculationManagerController.load_lane">
<span class="sig-name descname"><span class="pre">load_lane</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lane_identifier</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManagerController.load_lane"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.CirculationManagerController.load_lane" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn user input into a Lane object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.CirculationManagerController.load_licensepool">
<span class="sig-name descname"><span class="pre">load_licensepool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">license_pool_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManagerController.load_licensepool"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.CirculationManagerController.load_licensepool" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns user input into a LicensePool</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.CirculationManagerController.load_licensepooldelivery">
<span class="sig-name descname"><span class="pre">load_licensepooldelivery</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mechanism_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManagerController.load_licensepooldelivery"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.CirculationManagerController.load_licensepooldelivery" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn user input into a LicensePoolDeliveryMechanism object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.CirculationManagerController.load_licensepools">
<span class="sig-name descname"><span class="pre">load_licensepools</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManagerController.load_licensepools"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.CirculationManagerController.load_licensepools" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn user input into one or more LicensePool objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>library</strong> – The LicensePools must be associated with one of this
Library’s Collections.</p></li>
<li><p><strong>identifier_type</strong> – A type of identifier, e.g. “ISBN”</p></li>
<li><p><strong>identifier</strong> – An identifier string, used with <cite>identifier_type</cite>
to look up an Identifier.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.CirculationManagerController.load_work">
<span class="sig-name descname"><span class="pre">load_work</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManagerController.load_work"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.CirculationManagerController.load_work" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.controller.CirculationManagerController.search_engine">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">search_engine</span></span><a class="headerlink" href="#api.controller.CirculationManagerController.search_engine" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the configured external search engine, or a
ProblemDetail if none is configured.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.controller.CirculationManagerController.shared_collection">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">shared_collection</span></span><a class="headerlink" href="#api.controller.CirculationManagerController.shared_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the appropriate SharedCollectionAPI for the request library.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.controller.IndexController">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.controller.</span></span><span class="sig-name descname"><span class="pre">IndexController</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">manager</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#IndexController"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.IndexController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.controller.CirculationManagerController" title="api.controller.CirculationManagerController"><code class="xref py py-class docutils literal notranslate"><span class="pre">CirculationManagerController</span></code></a></p>
<p>Redirect the patron to the appropriate feed.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.controller.IndexController.appropriate_index_for_patron_type">
<span class="sig-name descname"><span class="pre">appropriate_index_for_patron_type</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#IndexController.appropriate_index_for_patron_type"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.IndexController.appropriate_index_for_patron_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.IndexController.authenticated_patron_root_lane">
<span class="sig-name descname"><span class="pre">authenticated_patron_root_lane</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#IndexController.authenticated_patron_root_lane"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.IndexController.authenticated_patron_root_lane" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.IndexController.authentication_document">
<span class="sig-name descname"><span class="pre">authentication_document</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#IndexController.authentication_document"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.IndexController.authentication_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Serve this library’s Authentication For OPDS document.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.IndexController.has_root_lanes">
<span class="sig-name descname"><span class="pre">has_root_lanes</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#IndexController.has_root_lanes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.IndexController.has_root_lanes" title="Permalink to this definition">¶</a></dt>
<dd><p>Does the active library feature root lanes for patrons of
certain types?</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.IndexController.public_key_document">
<span class="sig-name descname"><span class="pre">public_key_document</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#IndexController.public_key_document"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.IndexController.public_key_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Serves a sitewide public key document</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.controller.LoanController">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.controller.</span></span><span class="sig-name descname"><span class="pre">LoanController</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">manager</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#LoanController"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.LoanController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.controller.CirculationManagerController" title="api.controller.CirculationManagerController"><code class="xref py py-class docutils literal notranslate"><span class="pre">CirculationManagerController</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.controller.LoanController.best_lendable_pool">
<span class="sig-name descname"><span class="pre">best_lendable_pool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mechanism_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#LoanController.best_lendable_pool"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.LoanController.best_lendable_pool" title="Permalink to this definition">¶</a></dt>
<dd><p>Of the available LicensePools for the given Identifier, return the
one that’s the best candidate for loaning out right now.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A Loan if this patron already has an active loan, otherwise a LicensePool.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.LoanController.borrow">
<span class="sig-name descname"><span class="pre">borrow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mechanism_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#LoanController.borrow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.LoanController.borrow" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new loan or hold for a book.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A Response containing an OPDS entry that includes a link of rel
“<a class="reference external" href="http://opds-spec.org/acquisition">http://opds-spec.org/acquisition</a>”, which can be used to fetch the
book or the license file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.LoanController.can_fulfill_without_loan">
<span class="sig-name descname"><span class="pre">can_fulfill_without_loan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lpdm</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#LoanController.can_fulfill_without_loan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.LoanController.can_fulfill_without_loan" title="Permalink to this definition">¶</a></dt>
<dd><p>Is it acceptable to fulfill the given LicensePoolDeliveryMechanism
for the given Patron without creating a Loan first?</p>
<p>This question is usually asked because no Patron has been
authenticated, and thus no Loan can be created, but somebody
wants a book anyway.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>library</strong> – A Library.</p></li>
<li><p><strong>patron</strong> – A Patron, probably None.</p></li>
<li><p><strong>lpdm</strong> – A LicensePoolDeliveryMechanism.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.LoanController.detail">
<span class="sig-name descname"><span class="pre">detail</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#LoanController.detail"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.LoanController.detail" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.LoanController.fulfill">
<span class="sig-name descname"><span class="pre">fulfill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">license_pool_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mechanism_id</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">part</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_get</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#LoanController.fulfill"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.LoanController.fulfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Fulfill a book that has already been checked out,
or which can be fulfilled with no active loan.</p>
<p>If successful, this will serve the patron a downloadable copy
of the book, a key (such as a DRM license file or bearer
token) which can be used to get the book, or an OPDS entry
containing a link to the book.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>license_pool_id</strong> – Database ID of a LicensePool.</p></li>
<li><p><strong>mechanism_id</strong> – Database ID of a DeliveryMechanism.</p></li>
<li><p><strong>part</strong> – Vendor-specific identifier used when fulfilling a
specific part of a book rather than the whole thing (e.g. a
single chapter of an audiobook).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.LoanController.revoke">
<span class="sig-name descname"><span class="pre">revoke</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">license_pool_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#LoanController.revoke"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.LoanController.revoke" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.LoanController.sync">
<span class="sig-name descname"><span class="pre">sync</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#LoanController.sync"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.LoanController.sync" title="Permalink to this definition">¶</a></dt>
<dd><p>Sync the authenticated patron’s loans and holds with all third-party
providers.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A Response containing an OPDS feed with up-to-date information.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.controller.MARCRecordController">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.controller.</span></span><span class="sig-name descname"><span class="pre">MARCRecordController</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">manager</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#MARCRecordController"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.MARCRecordController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.controller.CirculationManagerController" title="api.controller.CirculationManagerController"><code class="xref py py-class docutils literal notranslate"><span class="pre">CirculationManagerController</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.controller.MARCRecordController.DOWNLOAD_TEMPLATE">
<span class="sig-name descname"><span class="pre">DOWNLOAD_TEMPLATE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'\n&lt;html</span> <span class="pre">lang=&quot;en&quot;&gt;\n&lt;head&gt;&lt;meta</span> <span class="pre">charset=&quot;utf8&quot;&gt;&lt;/head&gt;\n&lt;body&gt;\n%(body)s\n&lt;/body&gt;\n&lt;/html&gt;'</span></em><a class="headerlink" href="#api.controller.MARCRecordController.DOWNLOAD_TEMPLATE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.MARCRecordController.download_page">
<span class="sig-name descname"><span class="pre">download_page</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#MARCRecordController.download_page"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.MARCRecordController.download_page" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.controller.ODLNotificationController">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.controller.</span></span><span class="sig-name descname"><span class="pre">ODLNotificationController</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">manager</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#ODLNotificationController"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.ODLNotificationController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.controller.CirculationManagerController" title="api.controller.CirculationManagerController"><code class="xref py py-class docutils literal notranslate"><span class="pre">CirculationManagerController</span></code></a></p>
<p>Receive notifications from an ODL distributor when the
status of a loan changes.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.controller.ODLNotificationController.notify">
<span class="sig-name descname"><span class="pre">notify</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">loan_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#ODLNotificationController.notify"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.ODLNotificationController.notify" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.controller.OPDSFeedController">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.controller.</span></span><span class="sig-name descname"><span class="pre">OPDSFeedController</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">manager</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#OPDSFeedController"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.OPDSFeedController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.controller.CirculationManagerController" title="api.controller.CirculationManagerController"><code class="xref py py-class docutils literal notranslate"><span class="pre">CirculationManagerController</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.controller.OPDSFeedController.crawlable_collection_feed">
<span class="sig-name descname"><span class="pre">crawlable_collection_feed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#OPDSFeedController.crawlable_collection_feed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.OPDSFeedController.crawlable_collection_feed" title="Permalink to this definition">¶</a></dt>
<dd><p>Build or retrieve a crawlable acquisition feed for the
requested collection.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.OPDSFeedController.crawlable_library_feed">
<span class="sig-name descname"><span class="pre">crawlable_library_feed</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#OPDSFeedController.crawlable_library_feed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.OPDSFeedController.crawlable_library_feed" title="Permalink to this definition">¶</a></dt>
<dd><p>Build or retrieve a crawlable acquisition feed for the
request library.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.OPDSFeedController.crawlable_list_feed">
<span class="sig-name descname"><span class="pre">crawlable_list_feed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#OPDSFeedController.crawlable_list_feed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.OPDSFeedController.crawlable_list_feed" title="Permalink to this definition">¶</a></dt>
<dd><p>Build or retrieve a crawlable, paginated acquisition feed for the
named CustomList, sorted by update date.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.OPDSFeedController.feed">
<span class="sig-name descname"><span class="pre">feed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lane_identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feed_class=&lt;class</span> <span class="pre">'core.opds.AcquisitionFeed'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#OPDSFeedController.feed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.OPDSFeedController.feed" title="Permalink to this definition">¶</a></dt>
<dd><p>Build or retrieve a paginated acquisition feed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lane_identifier</strong> – An identifier that uniquely identifiers
the WorkList whose feed we want.</p></li>
<li><p><strong>feed_class</strong> – A replacement for AcquisitionFeed, for use in
tests.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.OPDSFeedController.groups">
<span class="sig-name descname"><span class="pre">groups</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lane_identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feed_class=&lt;class</span> <span class="pre">'core.opds.AcquisitionFeed'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#OPDSFeedController.groups"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.OPDSFeedController.groups" title="Permalink to this definition">¶</a></dt>
<dd><p>Build or retrieve a grouped acquisition feed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>lane_identifier</strong> – An identifier that uniquely identifiers
the WorkList whose feed we want.</p></li>
<li><p><strong>feed_class</strong> – A replacement for AcquisitionFeed, for use in
tests.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.OPDSFeedController.navigation">
<span class="sig-name descname"><span class="pre">navigation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lane_identifier</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#OPDSFeedController.navigation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.OPDSFeedController.navigation" title="Permalink to this definition">¶</a></dt>
<dd><p>Build or retrieve a navigation feed, for clients that do not support groups.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.OPDSFeedController.qa_feed">
<span class="sig-name descname"><span class="pre">qa_feed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feed_class=&lt;class</span> <span class="pre">'core.opds.AcquisitionFeed'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#OPDSFeedController.qa_feed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.OPDSFeedController.qa_feed" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an OPDS feed containing the information necessary to
run a full set of integration tests against this server and
the vendors it relies on.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>feed_class</strong> – Class to substitute for AcquisitionFeed during
tests.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.OPDSFeedController.qa_series_feed">
<span class="sig-name descname"><span class="pre">qa_series_feed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feed_class=&lt;class</span> <span class="pre">'core.opds.AcquisitionFeed'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#OPDSFeedController.qa_series_feed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.OPDSFeedController.qa_series_feed" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an OPDS feed containing books that belong to _some_
series, without regard to _which_ series.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>feed_class</strong> – Class to substitute for AcquisitionFeed during
tests.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.OPDSFeedController.search">
<span class="sig-name descname"><span class="pre">search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lane_identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feed_class=&lt;class</span> <span class="pre">'core.opds.AcquisitionFeed'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#OPDSFeedController.search"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.OPDSFeedController.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for books.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.controller.ProfileController">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.controller.</span></span><span class="sig-name descname"><span class="pre">ProfileController</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">manager</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#ProfileController"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.ProfileController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.controller.CirculationManagerController" title="api.controller.CirculationManagerController"><code class="xref py py-class docutils literal notranslate"><span class="pre">CirculationManagerController</span></code></a></p>
<p>Implement the User Profile Management Protocol.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.controller.ProfileController.protocol">
<span class="sig-name descname"><span class="pre">protocol</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#ProfileController.protocol"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.ProfileController.protocol" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle a UPMP request.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.controller.RBDFulfillmentProxyController">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.controller.</span></span><span class="sig-name descname"><span class="pre">RBDFulfillmentProxyController</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#RBDFulfillmentProxyController"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.RBDFulfillmentProxyController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.controller.CirculationManagerController" title="api.controller.CirculationManagerController"><code class="xref py py-class docutils literal notranslate"><span class="pre">CirculationManagerController</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.controller.RBDFulfillmentProxyController.proxy">
<span class="sig-name descname"><span class="pre">proxy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bearer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#RBDFulfillmentProxyController.proxy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.RBDFulfillmentProxyController.proxy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.controller.SharedCollectionController">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.controller.</span></span><span class="sig-name descname"><span class="pre">SharedCollectionController</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">manager</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#SharedCollectionController"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.SharedCollectionController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.controller.CirculationManagerController" title="api.controller.CirculationManagerController"><code class="xref py py-class docutils literal notranslate"><span class="pre">CirculationManagerController</span></code></a></p>
<p>Enable this circulation manager to share its collections with
libraries on other circulation managers, for collection types that
support it.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.controller.SharedCollectionController.authenticated_client_from_request">
<span class="sig-name descname"><span class="pre">authenticated_client_from_request</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#SharedCollectionController.authenticated_client_from_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.SharedCollectionController.authenticated_client_from_request" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.SharedCollectionController.borrow">
<span class="sig-name descname"><span class="pre">borrow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hold_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#SharedCollectionController.borrow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.SharedCollectionController.borrow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.SharedCollectionController.fulfill">
<span class="sig-name descname"><span class="pre">fulfill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loan_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mechanism_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_get=&lt;bound</span> <span class="pre">method</span> <span class="pre">HTTP.get_with_timeout</span> <span class="pre">of</span> <span class="pre">&lt;class</span> <span class="pre">'core.util.http.HTTP'&gt;&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#SharedCollectionController.fulfill"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.SharedCollectionController.fulfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Fulfill a loan for a given collection, loan ID, and delivery mechanism ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>collection_name</strong> – The name of the collection.</p></li>
<li><p><strong>loan_id</strong> – The ID of the loan.</p></li>
<li><p><strong>mechanism_id</strong> – The ID of the delivery mechanism.</p></li>
<li><p><strong>do_get</strong> – An optional function for making HTTP GET requests.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The content of the fulfillment with a status code of 200 and the appropriate headers if the loan is successfully fulfilled, or a ProblemDetail object if an error occurs.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.SharedCollectionController.hold_info">
<span class="sig-name descname"><span class="pre">hold_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hold_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#SharedCollectionController.hold_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.SharedCollectionController.hold_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.SharedCollectionController.info">
<span class="sig-name descname"><span class="pre">info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#SharedCollectionController.info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.SharedCollectionController.info" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an OPDS2 catalog-like document with a link to register.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.SharedCollectionController.load_collection">
<span class="sig-name descname"><span class="pre">load_collection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#SharedCollectionController.load_collection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.SharedCollectionController.load_collection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.SharedCollectionController.loan_info">
<span class="sig-name descname"><span class="pre">loan_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loan_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#SharedCollectionController.loan_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.SharedCollectionController.loan_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.SharedCollectionController.register">
<span class="sig-name descname"><span class="pre">register</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#SharedCollectionController.register"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.SharedCollectionController.register" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.SharedCollectionController.revoke_hold">
<span class="sig-name descname"><span class="pre">revoke_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hold_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#SharedCollectionController.revoke_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.SharedCollectionController.revoke_hold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.SharedCollectionController.revoke_loan">
<span class="sig-name descname"><span class="pre">revoke_loan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loan_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#SharedCollectionController.revoke_loan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.SharedCollectionController.revoke_loan" title="Permalink to this definition">¶</a></dt>
<dd><p>Revoke a loan for a given collection and loan ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>collection_name</strong> – The name of the collection.</p></li>
<li><p><strong>loan_id</strong> – The ID of the loan.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A success response with a status code of 200 if the loan is successfully revoked, 
or a ProblemDetail object if an error occurs.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.controller.StaticFileController">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.controller.</span></span><span class="sig-name descname"><span class="pre">StaticFileController</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">manager</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#StaticFileController"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.StaticFileController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.controller.CirculationManagerController" title="api.controller.CirculationManagerController"><code class="xref py py-class docutils literal notranslate"><span class="pre">CirculationManagerController</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.controller.StaticFileController.static_file">
<span class="sig-name descname"><span class="pre">static_file</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">directory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#StaticFileController.static_file"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.StaticFileController.static_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.controller.URNLookupController">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.controller.</span></span><span class="sig-name descname"><span class="pre">URNLookupController</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">manager</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#URNLookupController"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.URNLookupController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.app_server.URNLookupController" title="core.app_server.URNLookupController"><code class="xref py py-class docutils literal notranslate"><span class="pre">URNLookupController</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.controller.URNLookupController.work_lookup">
<span class="sig-name descname"><span class="pre">work_lookup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">route_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#URNLookupController.work_lookup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.URNLookupController.work_lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a CirculationManagerAnnotor based on the current library’s
top-level WorkList, and use it to generate an OPDS lookup
feed.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.controller.WorkController">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.controller.</span></span><span class="sig-name descname"><span class="pre">WorkController</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">manager</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#WorkController"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.WorkController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.controller.CirculationManagerController" title="api.controller.CirculationManagerController"><code class="xref py py-class docutils literal notranslate"><span class="pre">CirculationManagerController</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.controller.WorkController.contributor">
<span class="sig-name descname"><span class="pre">contributor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">contributor_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">languages</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">audiences</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feed_class=&lt;class</span> <span class="pre">'core.opds.AcquisitionFeed'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#WorkController.contributor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.WorkController.contributor" title="Permalink to this definition">¶</a></dt>
<dd><p>Serve a feed of books written by a particular author</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.WorkController.permalink">
<span class="sig-name descname"><span class="pre">permalink</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#WorkController.permalink"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.WorkController.permalink" title="Permalink to this definition">¶</a></dt>
<dd><p>Serve an entry for a single book.</p>
<p>This does not include any loan or hold-specific information for
the authenticated patron.</p>
<p>This is different from the /works lookup protocol, in that it
returns a single entry while the /works lookup protocol returns a
feed containing any number of entries.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.WorkController.recommendations">
<span class="sig-name descname"><span class="pre">recommendations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">novelist_api=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feed_class=&lt;class</span> <span class="pre">'core.opds.AcquisitionFeed'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#WorkController.recommendations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.WorkController.recommendations" title="Permalink to this definition">¶</a></dt>
<dd><p>Serve a feed of recommendations related to a given book.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.WorkController.related">
<span class="sig-name descname"><span class="pre">related</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">novelist_api=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feed_class=&lt;class</span> <span class="pre">'core.opds.AcquisitionFeed'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#WorkController.related"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.WorkController.related" title="Permalink to this definition">¶</a></dt>
<dd><p>Serve a groups feed of books related to a given book.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.WorkController.report">
<span class="sig-name descname"><span class="pre">report</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#WorkController.report"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.WorkController.report" title="Permalink to this definition">¶</a></dt>
<dd><p>Report a problem with a book.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.controller.WorkController.series">
<span class="sig-name descname"><span class="pre">series</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">series_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">languages</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">audiences</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feed_class=&lt;class</span> <span class="pre">'core.opds.AcquisitionFeed'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#WorkController.series"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.controller.WorkController.series" title="Permalink to this definition">¶</a></dt>
<dd><p>Serve a feed of books in a given series.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-api.coverage">
<span id="api-coverage-module"></span><h2>api.coverage module<a class="headerlink" href="#module-api.coverage" title="Permalink to this heading">¶</a></h2>
<p>Base classes for CoverageProviders.</p>
<p>The CoverageProviders themselves are in the file corresponding to the
service that needs coverage – overdrive.py, metadata_wrangler.py, and
so on.</p>
<dl class="py class">
<dt class="sig sig-object py" id="api.coverage.MockOPDSImportCoverageProvider">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.coverage.</span></span><span class="sig-name descname"><span class="pre">MockOPDSImportCoverageProvider</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/coverage.html#MockOPDSImportCoverageProvider"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.coverage.MockOPDSImportCoverageProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.coverage.OPDSImportCoverageProvider" title="api.coverage.OPDSImportCoverageProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">OPDSImportCoverageProvider</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.coverage.MockOPDSImportCoverageProvider.DATA_SOURCE_NAME">
<span class="sig-name descname"><span class="pre">DATA_SOURCE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Library</span> <span class="pre">Simplified</span> <span class="pre">Open</span> <span class="pre">Access</span> <span class="pre">Content</span> <span class="pre">Server'</span></em><a class="headerlink" href="#api.coverage.MockOPDSImportCoverageProvider.DATA_SOURCE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.coverage.MockOPDSImportCoverageProvider.SERVICE_NAME">
<span class="sig-name descname"><span class="pre">SERVICE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Mock</span> <span class="pre">Provider'</span></em><a class="headerlink" href="#api.coverage.MockOPDSImportCoverageProvider.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.coverage.MockOPDSImportCoverageProvider.finalize_license_pool">
<span class="sig-name descname"><span class="pre">finalize_license_pool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">license_pool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/coverage.html#MockOPDSImportCoverageProvider.finalize_license_pool"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.coverage.MockOPDSImportCoverageProvider.finalize_license_pool" title="Permalink to this definition">¶</a></dt>
<dd><p>An OPDS entry was matched with a LicensePool. Do something special
to mark the occasion.</p>
<p>By default, nothing happens.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.coverage.MockOPDSImportCoverageProvider.lookup_and_import_batch">
<span class="sig-name descname"><span class="pre">lookup_and_import_batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/coverage.html#MockOPDSImportCoverageProvider.lookup_and_import_batch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.coverage.MockOPDSImportCoverageProvider.lookup_and_import_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up a batch of identifiers and parse the resulting OPDS feed.</p>
<p>This method is overridden by MockOPDSImportCoverageProvider.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.coverage.MockOPDSImportCoverageProvider.queue_import_results">
<span class="sig-name descname"><span class="pre">queue_import_results</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">editions</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pools</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">works</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">messages_by_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/coverage.html#MockOPDSImportCoverageProvider.queue_import_results"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.coverage.MockOPDSImportCoverageProvider.queue_import_results" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.coverage.OPDSImportCoverageProvider">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.coverage.</span></span><span class="sig-name descname"><span class="pre">OPDSImportCoverageProvider</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lookup_client</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/coverage.html#OPDSImportCoverageProvider"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.coverage.OPDSImportCoverageProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.coverage.CollectionCoverageProvider" title="core.coverage.CollectionCoverageProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">CollectionCoverageProvider</span></code></a></p>
<p>Provide coverage for identifiers by looking them up, in batches,
using the Simplified lookup protocol.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.coverage.OPDSImportCoverageProvider.DEFAULT_BATCH_SIZE">
<span class="sig-name descname"><span class="pre">DEFAULT_BATCH_SIZE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">25</span></em><a class="headerlink" href="#api.coverage.OPDSImportCoverageProvider.DEFAULT_BATCH_SIZE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.coverage.OPDSImportCoverageProvider.OPDS_IMPORTER_CLASS">
<span class="sig-name descname"><span class="pre">OPDS_IMPORTER_CLASS</span></span><a class="headerlink" href="#api.coverage.OPDSImportCoverageProvider.OPDS_IMPORTER_CLASS" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="core.html#core.opds_import.OPDSImporter" title="core.opds_import.OPDSImporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">OPDSImporter</span></code></a></p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.coverage.OPDSImportCoverageProvider.api_method">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">api_method</span></span><a class="headerlink" href="#api.coverage.OPDSImportCoverageProvider.api_method" title="Permalink to this definition">¶</a></dt>
<dd><p>The method to call to fetch an OPDS feed from the remote server.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.coverage.OPDSImportCoverageProvider.create_identifier_mapping">
<span class="sig-name descname"><span class="pre">create_identifier_mapping</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/coverage.html#OPDSImportCoverageProvider.create_identifier_mapping"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.coverage.OPDSImportCoverageProvider.create_identifier_mapping" title="Permalink to this definition">¶</a></dt>
<dd><p>Map the internal identifiers used for books to the corresponding
identifiers used by the lookup client.</p>
<p>By default, no identifier mapping is needed.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.coverage.OPDSImportCoverageProvider.finalize_license_pool">
<span class="sig-name descname"><span class="pre">finalize_license_pool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/coverage.html#OPDSImportCoverageProvider.finalize_license_pool"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.coverage.OPDSImportCoverageProvider.finalize_license_pool" title="Permalink to this definition">¶</a></dt>
<dd><p>An OPDS entry was matched with a LicensePool. Do something special
to mark the occasion.</p>
<p>By default, nothing happens.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.coverage.OPDSImportCoverageProvider.import_feed_response">
<span class="sig-name descname"><span class="pre">import_feed_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">id_mapping</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/coverage.html#OPDSImportCoverageProvider.import_feed_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.coverage.OPDSImportCoverageProvider.import_feed_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Confirms OPDS feed response and imports feed through
the appropriate OPDSImporter subclass.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.coverage.OPDSImportCoverageProvider.lookup_and_import_batch">
<span class="sig-name descname"><span class="pre">lookup_and_import_batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/coverage.html#OPDSImportCoverageProvider.lookup_and_import_batch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.coverage.OPDSImportCoverageProvider.lookup_and_import_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up a batch of identifiers and parse the resulting OPDS feed.</p>
<p>This method is overridden by MockOPDSImportCoverageProvider.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.coverage.OPDSImportCoverageProvider.process_batch">
<span class="sig-name descname"><span class="pre">process_batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/coverage.html#OPDSImportCoverageProvider.process_batch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.coverage.OPDSImportCoverageProvider.process_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a Simplified lookup and import the resulting OPDS feed.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.coverage.OPDSImportCoverageProvider.process_item">
<span class="sig-name descname"><span class="pre">process_item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/coverage.html#OPDSImportCoverageProvider.process_item"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.coverage.OPDSImportCoverageProvider.process_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle an individual item (e.g. through ensure_coverage) as a very
small batch. Not efficient, but it works.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.coverage.ReaperImporter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.coverage.</span></span><span class="sig-name descname"><span class="pre">ReaperImporter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_source_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier_mapping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">http_get</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata_client</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content_modifier</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">map_from_collection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mirrors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/coverage.html#ReaperImporter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.coverage.ReaperImporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.opds_import.OPDSImporter" title="core.opds_import.OPDSImporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">OPDSImporter</span></code></a></p>
<p>We are successful if the metadata wrangler acknowledges that an
identifier has been removed, and also if the identifier wasn’t in
the catalog in the first place.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.coverage.ReaperImporter.SUCCESS_STATUS_CODES">
<span class="sig-name descname"><span class="pre">SUCCESS_STATUS_CODES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[200,</span> <span class="pre">404]</span></em><a class="headerlink" href="#api.coverage.ReaperImporter.SUCCESS_STATUS_CODES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.coverage.RegistrarImporter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.coverage.</span></span><span class="sig-name descname"><span class="pre">RegistrarImporter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_source_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier_mapping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">http_get</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata_client</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content_modifier</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">map_from_collection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mirrors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/coverage.html#RegistrarImporter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.coverage.RegistrarImporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.opds_import.OPDSImporter" title="core.opds_import.OPDSImporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">OPDSImporter</span></code></a></p>
<p>We are successful whenever the metadata wrangler puts an identifier
into the catalog, even if no metadata is immediately available.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.coverage.RegistrarImporter.SUCCESS_STATUS_CODES">
<span class="sig-name descname"><span class="pre">SUCCESS_STATUS_CODES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[200,</span> <span class="pre">201,</span> <span class="pre">202]</span></em><a class="headerlink" href="#api.coverage.RegistrarImporter.SUCCESS_STATUS_CODES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-api.custom_index">
<span id="api-custom-index-module"></span><h2>api.custom_index module<a class="headerlink" href="#module-api.custom_index" title="Permalink to this heading">¶</a></h2>
<p>A custom index view customizes a library’s ‘front page’ to serve
something other than the default.</p>
<p>This code is DEPRECATED; you probably want a CustomPatronCatalog instead.
We’re keeping it around because existing iOS versions of SimplyE need the
OPDS navigation feed it generates.</p>
<dl class="py class">
<dt class="sig sig-object py" id="api.custom_index.COPPAGate">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.custom_index.</span></span><span class="sig-name descname"><span class="pre">COPPAGate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">integration</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/custom_index.html#COPPAGate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.custom_index.COPPAGate" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.custom_index.CustomIndexView" title="api.custom_index.CustomIndexView"><code class="xref py py-class docutils literal notranslate"><span class="pre">CustomIndexView</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.custom_index.COPPAGate.NO_CONTENT">
<span class="sig-name descname"><span class="pre">NO_CONTENT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'Read</span> <span class="pre">children's</span> <span class="pre">books'</span></em><a class="headerlink" href="#api.custom_index.COPPAGate.NO_CONTENT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.custom_index.COPPAGate.NO_TITLE">
<span class="sig-name descname"><span class="pre">NO_TITLE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'I'm</span> <span class="pre">Under</span> <span class="pre">13'</span></em><a class="headerlink" href="#api.custom_index.COPPAGate.NO_TITLE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.custom_index.COPPAGate.PROTOCOL">
<span class="sig-name descname"><span class="pre">PROTOCOL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'COPPA</span> <span class="pre">Age</span> <span class="pre">Gate'</span></em><a class="headerlink" href="#api.custom_index.COPPAGate.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.custom_index.COPPAGate.REQUIREMENT_MET_LANE">
<span class="sig-name descname"><span class="pre">REQUIREMENT_MET_LANE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'requirement_met_lane'</span></em><a class="headerlink" href="#api.custom_index.COPPAGate.REQUIREMENT_MET_LANE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.custom_index.COPPAGate.REQUIREMENT_NOT_MET_LANE">
<span class="sig-name descname"><span class="pre">REQUIREMENT_NOT_MET_LANE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'requirement_not_met_lane'</span></em><a class="headerlink" href="#api.custom_index.COPPAGate.REQUIREMENT_NOT_MET_LANE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.custom_index.COPPAGate.SETTINGS">
<span class="sig-name descname"><span class="pre">SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'requirement_met_lane',</span> <span class="pre">'label':</span> <span class="pre">l'ID</span> <span class="pre">of</span> <span class="pre">lane</span> <span class="pre">for</span> <span class="pre">patrons</span> <span class="pre">who</span> <span class="pre">are</span> <span class="pre">13</span> <span class="pre">or</span> <span class="pre">older'},</span> <span class="pre">{'key':</span> <span class="pre">'requirement_not_met_lane',</span> <span class="pre">'label':</span> <span class="pre">l'ID</span> <span class="pre">of</span> <span class="pre">lane</span> <span class="pre">for</span> <span class="pre">patrons</span> <span class="pre">who</span> <span class="pre">are</span> <span class="pre">under</span> <span class="pre">13'}]</span></em><a class="headerlink" href="#api.custom_index.COPPAGate.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.custom_index.COPPAGate.URI">
<span class="sig-name descname"><span class="pre">URI</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'http://librarysimplified.org/terms/restrictions/coppa'</span></em><a class="headerlink" href="#api.custom_index.COPPAGate.URI" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.custom_index.COPPAGate.YES_CONTENT">
<span class="sig-name descname"><span class="pre">YES_CONTENT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'See</span> <span class="pre">the</span> <span class="pre">full</span> <span class="pre">collection'</span></em><a class="headerlink" href="#api.custom_index.COPPAGate.YES_CONTENT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.custom_index.COPPAGate.YES_TITLE">
<span class="sig-name descname"><span class="pre">YES_TITLE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'I'm</span> <span class="pre">13</span> <span class="pre">or</span> <span class="pre">Older'</span></em><a class="headerlink" href="#api.custom_index.COPPAGate.YES_TITLE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.custom_index.COPPAGate.gate_tag">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">gate_tag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">restriction</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">met_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">not_met_url</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/custom_index.html#COPPAGate.gate_tag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.custom_index.COPPAGate.gate_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a simplified:gate tag explaining the boolean option
the client is faced with.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.custom_index.COPPAGate.navigation_entry">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">navigation_entry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">href</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/custom_index.html#COPPAGate.navigation_entry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.custom_index.COPPAGate.navigation_entry" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an &lt;entry&gt; that serves as navigation.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.custom_index.CustomIndexView">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.custom_index.</span></span><span class="sig-name descname"><span class="pre">CustomIndexView</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">integration</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/custom_index.html#CustomIndexView"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.custom_index.CustomIndexView" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A custom view that replaces the default OPDS view for a
library.</p>
<p>Any subclass of this class must define PROTOCOL and must be
passed into a CustomIndexView.register() call after the class
definition is complete.</p>
<p>Subclasses of this class are loaded into the CirculationManager, so they
should not store any objects obtained from the database without
disconnecting them from their session.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.custom_index.CustomIndexView.BY_PROTOCOL">
<span class="sig-name descname"><span class="pre">BY_PROTOCOL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'COPPA</span> <span class="pre">Age</span> <span class="pre">Gate':</span> <span class="pre">&lt;class</span> <span class="pre">'api.custom_index.COPPAGate'&gt;}</span></em><a class="headerlink" href="#api.custom_index.CustomIndexView.BY_PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.custom_index.CustomIndexView.GOAL">
<span class="sig-name descname"><span class="pre">GOAL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'custom_index'</span></em><a class="headerlink" href="#api.custom_index.CustomIndexView.GOAL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.custom_index.CustomIndexView.for_library">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">for_library</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/custom_index.html#CustomIndexView.for_library"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.custom_index.CustomIndexView.for_library" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the appropriate CustomIndexView for the given library.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.custom_index.CustomIndexView.register">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">register</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view_class</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/custom_index.html#CustomIndexView.register"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.custom_index.CustomIndexView.register" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.custom_index.CustomIndexView.unregister">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">unregister</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view_class</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/custom_index.html#CustomIndexView.unregister"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.custom_index.CustomIndexView.unregister" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a CustomIndexView from consideration.
Only used in tests.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-api.custom_patron_catalog">
<span id="api-custom-patron-catalog-module"></span><h2>api.custom_patron_catalog module<a class="headerlink" href="#module-api.custom_patron_catalog" title="Permalink to this heading">¶</a></h2>
<p>A custom patron catalog annotates a library’s authentication
document to describe an unusual setup.</p>
<dl class="py class">
<dt class="sig sig-object py" id="api.custom_patron_catalog.COPPAGate">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.custom_patron_catalog.</span></span><span class="sig-name descname"><span class="pre">COPPAGate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">integration</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/custom_patron_catalog.html#COPPAGate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.custom_patron_catalog.COPPAGate" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.custom_patron_catalog.CustomPatronCatalog" title="api.custom_patron_catalog.CustomPatronCatalog"><code class="xref py py-class docutils literal notranslate"><span class="pre">CustomPatronCatalog</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.custom_patron_catalog.COPPAGate.AUTHENTICATION_NO_REL">
<span class="sig-name descname"><span class="pre">AUTHENTICATION_NO_REL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'http://librarysimplified.org/terms/rel/authentication/restriction-not-met'</span></em><a class="headerlink" href="#api.custom_patron_catalog.COPPAGate.AUTHENTICATION_NO_REL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.custom_patron_catalog.COPPAGate.AUTHENTICATION_TYPE">
<span class="sig-name descname"><span class="pre">AUTHENTICATION_TYPE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'http://librarysimplified.org/terms/authentication/gate/coppa'</span></em><a class="headerlink" href="#api.custom_patron_catalog.COPPAGate.AUTHENTICATION_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.custom_patron_catalog.COPPAGate.AUTHENTICATION_YES_REL">
<span class="sig-name descname"><span class="pre">AUTHENTICATION_YES_REL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'http://librarysimplified.org/terms/rel/authentication/restriction-met'</span></em><a class="headerlink" href="#api.custom_patron_catalog.COPPAGate.AUTHENTICATION_YES_REL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.custom_patron_catalog.COPPAGate.PROTOCOL">
<span class="sig-name descname"><span class="pre">PROTOCOL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'COPPA</span> <span class="pre">Age</span> <span class="pre">Gate'</span></em><a class="headerlink" href="#api.custom_patron_catalog.COPPAGate.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.custom_patron_catalog.COPPAGate.REQUIREMENT_MET_LANE">
<span class="sig-name descname"><span class="pre">REQUIREMENT_MET_LANE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'requirement_met_lane'</span></em><a class="headerlink" href="#api.custom_patron_catalog.COPPAGate.REQUIREMENT_MET_LANE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.custom_patron_catalog.COPPAGate.REQUIREMENT_NOT_MET_LANE">
<span class="sig-name descname"><span class="pre">REQUIREMENT_NOT_MET_LANE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'requirement_not_met_lane'</span></em><a class="headerlink" href="#api.custom_patron_catalog.COPPAGate.REQUIREMENT_NOT_MET_LANE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.custom_patron_catalog.COPPAGate.SETTINGS">
<span class="sig-name descname"><span class="pre">SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'requirement_met_lane',</span> <span class="pre">'label':</span> <span class="pre">l'ID</span> <span class="pre">of</span> <span class="pre">lane</span> <span class="pre">for</span> <span class="pre">patrons</span> <span class="pre">who</span> <span class="pre">are</span> <span class="pre">13</span> <span class="pre">or</span> <span class="pre">older'},</span> <span class="pre">{'key':</span> <span class="pre">'requirement_not_met_lane',</span> <span class="pre">'label':</span> <span class="pre">l'ID</span> <span class="pre">of</span> <span class="pre">lane</span> <span class="pre">for</span> <span class="pre">patrons</span> <span class="pre">who</span> <span class="pre">are</span> <span class="pre">under</span> <span class="pre">13'}]</span></em><a class="headerlink" href="#api.custom_patron_catalog.COPPAGate.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.custom_patron_catalog.COPPAGate.annotate_authentication_document">
<span class="sig-name descname"><span class="pre">annotate_authentication_document</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url_for</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/custom_patron_catalog.html#COPPAGate.annotate_authentication_document"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.custom_patron_catalog.COPPAGate.annotate_authentication_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace the ‘start’ link and add a custom authentication
mechanism.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.custom_patron_catalog.CustomPatronCatalog">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.custom_patron_catalog.</span></span><span class="sig-name descname"><span class="pre">CustomPatronCatalog</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">integration</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/custom_patron_catalog.html#CustomPatronCatalog"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.custom_patron_catalog.CustomPatronCatalog" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>An annotator for a library’s authentication document.</p>
<p>Any subclass of this class must define PROTOCOL and must be
passed into a CustomPatronCatalog.register() call after the class
definition is complete.</p>
<p>A subclass of this class will be stored in the
LibraryAuthenticator. CustomPatronCatalogs should not store
any objects obtained from the database without disconnecting them
from their session.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.custom_patron_catalog.CustomPatronCatalog.BY_PROTOCOL">
<span class="sig-name descname"><span class="pre">BY_PROTOCOL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'COPPA</span> <span class="pre">Age</span> <span class="pre">Gate':</span> <span class="pre">&lt;class</span> <span class="pre">'api.custom_patron_catalog.COPPAGate'&gt;,</span> <span class="pre">'Custom</span> <span class="pre">Root</span> <span class="pre">Lane':</span> <span class="pre">&lt;class</span> <span class="pre">'api.custom_patron_catalog.CustomRootLane'&gt;}</span></em><a class="headerlink" href="#api.custom_patron_catalog.CustomPatronCatalog.BY_PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.custom_patron_catalog.CustomPatronCatalog.GOAL">
<span class="sig-name descname"><span class="pre">GOAL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'custom_patron_catalog'</span></em><a class="headerlink" href="#api.custom_patron_catalog.CustomPatronCatalog.GOAL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.custom_patron_catalog.CustomPatronCatalog.annotate_authentication_document">
<span class="sig-name descname"><span class="pre">annotate_authentication_document</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url_for</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/custom_patron_catalog.html#CustomPatronCatalog.annotate_authentication_document"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.custom_patron_catalog.CustomPatronCatalog.annotate_authentication_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Modify the library’s authentication document.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>library</strong> – A Library</p></li>
<li><p><strong>doc</strong> – A dictionary representing the library’s
default authentication document.</p></li>
<li><p><strong>url_for</strong> – An implementation of Flask url_for,
used to generate URLs.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A dictionary representing the library’s
default authentication document. It’s okay to modify
<cite>doc</cite> and return the modified version.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.custom_patron_catalog.CustomPatronCatalog.for_library">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">for_library</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/custom_patron_catalog.html#CustomPatronCatalog.for_library"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.custom_patron_catalog.CustomPatronCatalog.for_library" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the appropriate CustomPatronCatalog for the given library.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.custom_patron_catalog.CustomPatronCatalog.register">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">register</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view_class</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/custom_patron_catalog.html#CustomPatronCatalog.register"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.custom_patron_catalog.CustomPatronCatalog.register" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.custom_patron_catalog.CustomPatronCatalog.replace_link">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">replace_link</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">doc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rel</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/custom_patron_catalog.html#CustomPatronCatalog.replace_link"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.custom_patron_catalog.CustomPatronCatalog.replace_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all links with the given relation and replace them
with the given link.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>doc</strong> – An authentication document. Will be modified in place.</p></li>
<li><p><strong>rel</strong> – Remove links with this relation.</p></li>
<li><p><strong>kwargs</strong> – Add a new link with these attributes.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A modified authentication document.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.custom_patron_catalog.CustomPatronCatalog.unregister">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">unregister</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">view_class</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/custom_patron_catalog.html#CustomPatronCatalog.unregister"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.custom_patron_catalog.CustomPatronCatalog.unregister" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a CustomPatronCatalog from consideration.
Only used in tests.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.custom_patron_catalog.CustomRootLane">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.custom_patron_catalog.</span></span><span class="sig-name descname"><span class="pre">CustomRootLane</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">integration</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/custom_patron_catalog.html#CustomRootLane"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.custom_patron_catalog.CustomRootLane" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.custom_patron_catalog.CustomPatronCatalog" title="api.custom_patron_catalog.CustomPatronCatalog"><code class="xref py py-class docutils literal notranslate"><span class="pre">CustomPatronCatalog</span></code></a></p>
<p>Send library patrons to a lane other than the root lane.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.custom_patron_catalog.CustomRootLane.LANE">
<span class="sig-name descname"><span class="pre">LANE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'lane'</span></em><a class="headerlink" href="#api.custom_patron_catalog.CustomRootLane.LANE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.custom_patron_catalog.CustomRootLane.PROTOCOL">
<span class="sig-name descname"><span class="pre">PROTOCOL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Custom</span> <span class="pre">Root</span> <span class="pre">Lane'</span></em><a class="headerlink" href="#api.custom_patron_catalog.CustomRootLane.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.custom_patron_catalog.CustomRootLane.SETTINGS">
<span class="sig-name descname"><span class="pre">SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'lane',</span> <span class="pre">'label':</span> <span class="pre">l'Send</span> <span class="pre">patrons</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">lane</span> <span class="pre">with</span> <span class="pre">this</span> <span class="pre">ID.'}]</span></em><a class="headerlink" href="#api.custom_patron_catalog.CustomRootLane.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.custom_patron_catalog.CustomRootLane.annotate_authentication_document">
<span class="sig-name descname"><span class="pre">annotate_authentication_document</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">doc</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url_for</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/custom_patron_catalog.html#CustomRootLane.annotate_authentication_document"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.custom_patron_catalog.CustomRootLane.annotate_authentication_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace the ‘start’ link with a link to the configured Lane.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-api.enki">
<span id="api-enki-module"></span><h2>api.enki module<a class="headerlink" href="#module-api.enki" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.enki.BibliographicParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.enki.</span></span><span class="sig-name descname"><span class="pre">BibliographicParser</span></span><a class="reference internal" href="_modules/api/enki.html#BibliographicParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.enki.BibliographicParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Parses Enki’s representation of book information into
Metadata and CirculationData objects.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.enki.BibliographicParser.LANGUAGE_CODES">
<span class="sig-name descname"><span class="pre">LANGUAGE_CODES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'English':</span> <span class="pre">'eng',</span> <span class="pre">'French':</span> <span class="pre">'fre',</span> <span class="pre">'Spanish':</span> <span class="pre">'spa'}</span></em><a class="headerlink" href="#api.enki.BibliographicParser.LANGUAGE_CODES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.enki.BibliographicParser.extract_bibliographic">
<span class="sig-name descname"><span class="pre">extract_bibliographic</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">element</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#BibliographicParser.extract_bibliographic"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.enki.BibliographicParser.extract_bibliographic" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract Metadata and CirculationData from a dictionary
of information from Enki.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A Metadata with attached CirculationData.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.enki.BibliographicParser.extract_circulation">
<span class="sig-name descname"><span class="pre">extract_circulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">primary_identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">availability</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formattype</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#BibliographicParser.extract_circulation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.enki.BibliographicParser.extract_circulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn the ‘availability’ portion of an Enki API response into
a CirculationData.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.enki.BibliographicParser.log">
<span class="sig-name descname"><span class="pre">log</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;Logger</span> <span class="pre">Enki</span> <span class="pre">Bibliographic</span> <span class="pre">Parser</span> <span class="pre">(WARNING)&gt;</span></em><a class="headerlink" href="#api.enki.BibliographicParser.log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.enki.BibliographicParser.process_all">
<span class="sig-name descname"><span class="pre">process_all</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">json_data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#BibliographicParser.process_all"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.enki.BibliographicParser.process_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.enki.EnkiAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.enki.</span></span><span class="sig-name descname"><span class="pre">EnkiAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.enki.EnkiAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation.BaseCirculationAPI" title="api.circulation.BaseCirculationAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseCirculationAPI</span></code></a>, <a class="reference internal" href="#api.selftest.HasSelfTests" title="api.selftest.HasSelfTests"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasSelfTests</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.DESCRIPTION">
<span class="sig-name descname"><span class="pre">DESCRIPTION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'Integrate</span> <span class="pre">an</span> <span class="pre">Enki</span> <span class="pre">collection.'</span></em><a class="headerlink" href="#api.enki.EnkiAPI.DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.ENKI">
<span class="sig-name descname"><span class="pre">ENKI</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Enki'</span></em><a class="headerlink" href="#api.enki.EnkiAPI.ENKI" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.ENKI_EXTERNAL">
<span class="sig-name descname"><span class="pre">ENKI_EXTERNAL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Enki'</span></em><a class="headerlink" href="#api.enki.EnkiAPI.ENKI_EXTERNAL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.ENKI_ID">
<span class="sig-name descname"><span class="pre">ENKI_ID</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Enki</span> <span class="pre">ID'</span></em><a class="headerlink" href="#api.enki.EnkiAPI.ENKI_ID" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.ENKI_LIBRARY_ID_KEY">
<span class="sig-name descname"><span class="pre">ENKI_LIBRARY_ID_KEY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'enki_library_id'</span></em><a class="headerlink" href="#api.enki.EnkiAPI.ENKI_LIBRARY_ID_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.ERROR_INDICATOR">
<span class="sig-name descname"><span class="pre">ERROR_INDICATOR</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'&lt;h1&gt;Oops,</span> <span class="pre">an</span> <span class="pre">error</span> <span class="pre">occurred&lt;/h1&gt;'</span></em><a class="headerlink" href="#api.enki.EnkiAPI.ERROR_INDICATOR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.LIBRARY_SETTINGS">
<span class="sig-name descname"><span class="pre">LIBRARY_SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'enki_library_id',</span> <span class="pre">'label':</span> <span class="pre">l'Library</span> <span class="pre">ID',</span> <span class="pre">'required':</span> <span class="pre">True}]</span></em><a class="headerlink" href="#api.enki.EnkiAPI.LIBRARY_SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.NAME">
<span class="sig-name descname"><span class="pre">NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Enki'</span></em><a class="headerlink" href="#api.enki.EnkiAPI.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.PRODUCTION_BASE_URL">
<span class="sig-name descname"><span class="pre">PRODUCTION_BASE_URL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'https://enkilibrary.org/API/'</span></em><a class="headerlink" href="#api.enki.EnkiAPI.PRODUCTION_BASE_URL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.SERVICE_NAME">
<span class="sig-name descname"><span class="pre">SERVICE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Enki'</span></em><a class="headerlink" href="#api.enki.EnkiAPI.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.SETTINGS">
<span class="sig-name descname"><span class="pre">SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'url',</span> <span class="pre">'label':</span> <span class="pre">l'URL',</span> <span class="pre">'default':</span> <span class="pre">'https://enkilibrary.org/API/',</span> <span class="pre">'required':</span> <span class="pre">True,</span> <span class="pre">'format':</span> <span class="pre">'url'}]</span></em><a class="headerlink" href="#api.enki.EnkiAPI.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.SET_DELIVERY_MECHANISM_AT">
<span class="sig-name descname"><span class="pre">SET_DELIVERY_MECHANISM_AT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'fulfill'</span></em><a class="headerlink" href="#api.enki.EnkiAPI.SET_DELIVERY_MECHANISM_AT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.adobe_drm">
<span class="sig-name descname"><span class="pre">adobe_drm</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'application/vnd.adobe.adept+xml'</span></em><a class="headerlink" href="#api.enki.EnkiAPI.adobe_drm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.checkout">
<span class="sig-name descname"><span class="pre">checkout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal_format</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI.checkout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.enki.EnkiAPI.checkout" title="Permalink to this definition">¶</a></dt>
<dd><p>Check out a book on behalf of a patron.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patron</strong> – a Patron object for the patron who wants to check out the book.</p></li>
<li><p><strong>pin</strong> – The patron’s alleged password.</p></li>
<li><p><strong>licensepool</strong> – Contains lending info as well as link to parent Identifier.</p></li>
<li><p><strong>internal_format</strong> – Represents the patron’s desired book format.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a LoanInfo object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.collection">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">collection</span></span><a class="headerlink" href="#api.enki.EnkiAPI.collection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.delivery_mechanism_to_internal_format">
<span class="sig-name descname"><span class="pre">delivery_mechanism_to_internal_format</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{('application/epub+zip',</span> <span class="pre">None):</span> <span class="pre">'free',</span> <span class="pre">('application/epub+zip',</span> <span class="pre">'application/vnd.adobe.adept+xml'):</span> <span class="pre">'acs'}</span></em><a class="headerlink" href="#api.enki.EnkiAPI.delivery_mechanism_to_internal_format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.enki_library_id">
<span class="sig-name descname"><span class="pre">enki_library_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI.enki_library_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.enki.EnkiAPI.enki_library_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the Enki library ID for the given library.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.epub">
<span class="sig-name descname"><span class="pre">epub</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'application/epub+zip'</span></em><a class="headerlink" href="#api.enki.EnkiAPI.epub" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.external_integration">
<span class="sig-name descname"><span class="pre">external_integration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI.external_integration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.enki.EnkiAPI.external_integration" title="Permalink to this definition">¶</a></dt>
<dd><p>Locate the ExternalIntegration associated with this object.
The status of the self-tests will be stored as a ConfigurationSetting
on this ExternalIntegration.</p>
<p>By default, there is no way to get from an object to its
ExternalIntegration, and self-test status will not be stored.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.fulfill">
<span class="sig-name descname"><span class="pre">fulfill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal_format</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI.fulfill"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.enki.EnkiAPI.fulfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the actual resource file to the patron.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>kwargs</strong> – A container for arguments to fulfill()
which are not relevant to this vendor.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a FulfillmentInfo object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.get_all_titles">
<span class="sig-name descname"><span class="pre">get_all_titles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">strt</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">qty</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">10</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI.get_all_titles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.enki.EnkiAPI.get_all_titles" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a single page of items from the Enki collection.</p>
<p>Iterating over the entire collection is very expensive and
should only happen during initial data population.</p>
<dl class="field-list simple">
<dt class="field-odd">Yield<span class="colon">:</span></dt>
<dd class="field-odd"><p>A sequence of Metadata objects, each with a
CirculationData attached.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.get_item">
<span class="sig-name descname"><span class="pre">get_item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">enki_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI.get_item"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.enki.EnkiAPI.get_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve bibliographic and availability information for
a specific title.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>enki_id</strong> – An Enki record ID.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>If the book is in the library’s collection, a
Metadata object with attached CirculationData. Otherwise, None.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.item_endpoint">
<span class="sig-name descname"><span class="pre">item_endpoint</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'ItemAPI'</span></em><a class="headerlink" href="#api.enki.EnkiAPI.item_endpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.list_endpoint">
<span class="sig-name descname"><span class="pre">list_endpoint</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'ListAPI'</span></em><a class="headerlink" href="#api.enki.EnkiAPI.list_endpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.loan_request">
<span class="sig-name descname"><span class="pre">loan_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">barcode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">book_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enki_library_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI.loan_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.enki.EnkiAPI.loan_request" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.log">
<span class="sig-name descname"><span class="pre">log</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;Logger</span> <span class="pre">Enki</span> <span class="pre">API</span> <span class="pre">(WARNING)&gt;</span></em><a class="headerlink" href="#api.enki.EnkiAPI.log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.no_drm">
<span class="sig-name descname"><span class="pre">no_drm</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#api.enki.EnkiAPI.no_drm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.parse_fulfill_result">
<span class="sig-name descname"><span class="pre">parse_fulfill_result</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">result</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI.parse_fulfill_result"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.enki.EnkiAPI.parse_fulfill_result" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.parse_patron_holds">
<span class="sig-name descname"><span class="pre">parse_patron_holds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hold_data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI.parse_patron_holds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.enki.EnkiAPI.parse_patron_holds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.parse_patron_loans">
<span class="sig-name descname"><span class="pre">parse_patron_loans</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">checkout_data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI.parse_patron_loans"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.enki.EnkiAPI.parse_patron_loans" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.patron_activity">
<span class="sig-name descname"><span class="pre">patron_activity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI.patron_activity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.enki.EnkiAPI.patron_activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a patron’s current checkouts and holds.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.patron_request">
<span class="sig-name descname"><span class="pre">patron_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enki_library_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI.patron_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.enki.EnkiAPI.patron_request" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.place_hold">
<span class="sig-name descname"><span class="pre">place_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notification_email_address</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI.place_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.enki.EnkiAPI.place_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Place a book on hold.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A HoldInfo object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.recent_activity">
<span class="sig-name descname"><span class="pre">recent_activity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI.recent_activity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.enki.EnkiAPI.recent_activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Find circulation events from a certain timeframe that affected
loans or holds.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>start</strong> – A DateTime</p>
</dd>
<dt class="field-even">Yield<span class="colon">:</span></dt>
<dd class="field-even"><p>A sequence of CirculationData objects.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.release_hold">
<span class="sig-name descname"><span class="pre">release_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI.release_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.enki.EnkiAPI.release_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Release a patron’s hold on a book.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#api.circulation_exceptions.CannotReleaseHold" title="api.circulation_exceptions.CannotReleaseHold"><strong>CannotReleaseHold</strong></a> – If there is an error communicating
with the provider, or the provider refuses to release the hold for
any reason.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.request">
<span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'get'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">retry_on_timeout</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI.request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.enki.EnkiAPI.request" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an HTTP request to the Enki API.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.updated_titles">
<span class="sig-name descname"><span class="pre">updated_titles</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">since</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI.updated_titles"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.enki.EnkiAPI.updated_titles" title="Permalink to this definition">¶</a></dt>
<dd><p>Find recent changes to book metadata.</p>
<p>NOTE: getUpdateTitles will return a maximum of 1000 items, so
in theory this may need to be paginated. This shouldn’t be a
problem assuming the monitor is run regularly.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>since</strong> – A DateTime</p>
</dd>
<dt class="field-even">Yield<span class="colon">:</span></dt>
<dd class="field-even"><p>A sequence of Metadata objects.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.enki.EnkiAPI.user_endpoint">
<span class="sig-name descname"><span class="pre">user_endpoint</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'UserAPI'</span></em><a class="headerlink" href="#api.enki.EnkiAPI.user_endpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.enki.EnkiCollectionReaper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.enki.</span></span><span class="sig-name descname"><span class="pre">EnkiCollectionReaper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_class=&lt;class</span> <span class="pre">'api.enki.EnkiAPI'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiCollectionReaper"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.enki.EnkiCollectionReaper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.monitor.IdentifierSweepMonitor" title="core.monitor.IdentifierSweepMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">IdentifierSweepMonitor</span></code></a></p>
<p>Check for books that are in the local collection but have left the Enki collection.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.enki.EnkiCollectionReaper.INTERVAL_SECONDS">
<span class="sig-name descname"><span class="pre">INTERVAL_SECONDS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">14400</span></em><a class="headerlink" href="#api.enki.EnkiCollectionReaper.INTERVAL_SECONDS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.enki.EnkiCollectionReaper.PROTOCOL">
<span class="sig-name descname"><span class="pre">PROTOCOL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Enki'</span></em><a class="headerlink" href="#api.enki.EnkiCollectionReaper.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.enki.EnkiCollectionReaper.SERVICE_NAME">
<span class="sig-name descname"><span class="pre">SERVICE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Enki</span> <span class="pre">Collection</span> <span class="pre">Reaper'</span></em><a class="headerlink" href="#api.enki.EnkiCollectionReaper.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.enki.EnkiCollectionReaper.process_item">
<span class="sig-name descname"><span class="pre">process_item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiCollectionReaper.process_item"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.enki.EnkiCollectionReaper.process_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Do the work that needs to be done for a given item.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.enki.EnkiImport">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.enki.</span></span><span class="sig-name descname"><span class="pre">EnkiImport</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_class=&lt;class</span> <span class="pre">'api.enki.EnkiAPI'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analytics=None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiImport"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.enki.EnkiImport" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.monitor.CollectionMonitor" title="core.monitor.CollectionMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">CollectionMonitor</span></code></a>, <a class="reference internal" href="core.html#core.monitor.TimelineMonitor" title="core.monitor.TimelineMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimelineMonitor</span></code></a></p>
<p>Make sure our local collection is up-to-date with the remote
Enki collection.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.enki.EnkiImport.DEFAULT_BATCH_SIZE">
<span class="sig-name descname"><span class="pre">DEFAULT_BATCH_SIZE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">10</span></em><a class="headerlink" href="#api.enki.EnkiImport.DEFAULT_BATCH_SIZE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.enki.EnkiImport.DEFAULT_START_TIME">
<span class="sig-name descname"><span class="pre">DEFAULT_START_TIME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;object</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#api.enki.EnkiImport.DEFAULT_START_TIME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.enki.EnkiImport.FIVE_MINUTES">
<span class="sig-name descname"><span class="pre">FIVE_MINUTES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">datetime.timedelta(seconds=300)</span></em><a class="headerlink" href="#api.enki.EnkiImport.FIVE_MINUTES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.enki.EnkiImport.INTERVAL_SECONDS">
<span class="sig-name descname"><span class="pre">INTERVAL_SECONDS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">500</span></em><a class="headerlink" href="#api.enki.EnkiImport.INTERVAL_SECONDS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.enki.EnkiImport.PROTOCOL">
<span class="sig-name descname"><span class="pre">PROTOCOL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Enki'</span></em><a class="headerlink" href="#api.enki.EnkiImport.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.enki.EnkiImport.SERVICE_NAME">
<span class="sig-name descname"><span class="pre">SERVICE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Enki</span> <span class="pre">Circulation</span> <span class="pre">Monitor'</span></em><a class="headerlink" href="#api.enki.EnkiImport.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.enki.EnkiImport.catch_up_from">
<span class="sig-name descname"><span class="pre">catch_up_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiImport.catch_up_from"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.enki.EnkiImport.catch_up_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Find Enki books that changed recently.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>start</strong> – Find all books that changed since this date.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.enki.EnkiImport.collection">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">collection</span></span><a class="headerlink" href="#api.enki.EnkiImport.collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve the Collection object associated with this
Monitor.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.enki.EnkiImport.full_import">
<span class="sig-name descname"><span class="pre">full_import</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiImport.full_import"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.enki.EnkiImport.full_import" title="Permalink to this definition">¶</a></dt>
<dd><p>Import the entire Enki collection, page by page.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.enki.EnkiImport.incremental_import">
<span class="sig-name descname"><span class="pre">incremental_import</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">since</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiImport.incremental_import"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.enki.EnkiImport.incremental_import" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.enki.EnkiImport.process_book">
<span class="sig-name descname"><span class="pre">process_book</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">bibliographic</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiImport.process_book"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.enki.EnkiImport.process_book" title="Permalink to this definition">¶</a></dt>
<dd><p>Make the local database reflect the state of the remote Enki
collection for the given book.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>bibliographic</strong> – A Metadata object with attached CirculationData</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A 2-tuple (LicensePool, Edition). If possible, a
presentation-ready Work will be created for the LicensePool.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.enki.EnkiImport.update_circulation">
<span class="sig-name descname"><span class="pre">update_circulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">since</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiImport.update_circulation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.enki.EnkiImport.update_circulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Process circulation events that happened since <cite>since</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The total number of circulation events.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.enki.MockEnkiAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.enki.</span></span><span class="sig-name descname"><span class="pre">MockEnkiAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#MockEnkiAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.enki.MockEnkiAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.enki.EnkiAPI" title="api.enki.EnkiAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">EnkiAPI</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.enki.MockEnkiAPI.queue_response">
<span class="sig-name descname"><span class="pre">queue_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status_code</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#MockEnkiAPI.queue_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.enki.MockEnkiAPI.queue_response" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-api.feedbooks">
<span id="api-feedbooks-module"></span><h2>api.feedbooks module<a class="headerlink" href="#module-api.feedbooks" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.feedbooks.FeedbooksImportMonitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.feedbooks.</span></span><span class="sig-name descname"><span class="pre">FeedbooksImportMonitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">import_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_reimport</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">import_class_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/feedbooks.html#FeedbooksImportMonitor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.feedbooks.FeedbooksImportMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.opds_import.OPDSImportMonitor" title="core.opds_import.OPDSImportMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">OPDSImportMonitor</span></code></a></p>
<p>The same as OPDSImportMonitor, but uses FeedbooksOPDSImporter
instead.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.feedbooks.FeedbooksImportMonitor.PROTOCOL">
<span class="sig-name descname"><span class="pre">PROTOCOL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'FeedBooks'</span></em><a class="headerlink" href="#api.feedbooks.FeedbooksImportMonitor.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.feedbooks.FeedbooksImportMonitor.data_source">
<span class="sig-name descname"><span class="pre">data_source</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/feedbooks.html#FeedbooksImportMonitor.data_source"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.feedbooks.FeedbooksImportMonitor.data_source" title="Permalink to this definition">¶</a></dt>
<dd><p>The data source for all Feedbooks collections is Feedbooks.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.feedbooks.FeedbooksImportMonitor.opds_url">
<span class="sig-name descname"><span class="pre">opds_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/feedbooks.html#FeedbooksImportMonitor.opds_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.feedbooks.FeedbooksImportMonitor.opds_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the OPDS import URL for the given collection.</p>
<p>This is the base URL plus the language setting.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.feedbooks.FeedbooksOPDSImporter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.feedbooks.</span></span><span class="sig-name descname"><span class="pre">FeedbooksOPDSImporter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/feedbooks.html#FeedbooksOPDSImporter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.feedbooks.FeedbooksOPDSImporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.opds_import.OPDSImporter" title="core.opds_import.OPDSImporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">OPDSImporter</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.feedbooks.FeedbooksOPDSImporter.BASE_OPDS_URL">
<span class="sig-name descname"><span class="pre">BASE_OPDS_URL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'http://www.feedbooks.com/books/recent.atom?lang=%(language)s'</span></em><a class="headerlink" href="#api.feedbooks.FeedbooksOPDSImporter.BASE_OPDS_URL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.feedbooks.FeedbooksOPDSImporter.DESCRIPTION">
<span class="sig-name descname"><span class="pre">DESCRIPTION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'Import</span> <span class="pre">open-access</span> <span class="pre">books</span> <span class="pre">from</span> <span class="pre">FeedBooks.'</span></em><a class="headerlink" href="#api.feedbooks.FeedbooksOPDSImporter.DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.feedbooks.FeedbooksOPDSImporter.NAME">
<span class="sig-name descname"><span class="pre">NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'FeedBooks'</span></em><a class="headerlink" href="#api.feedbooks.FeedbooksOPDSImporter.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.feedbooks.FeedbooksOPDSImporter.REALLY_IMPORT_KEY">
<span class="sig-name descname"><span class="pre">REALLY_IMPORT_KEY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'really_import'</span></em><a class="headerlink" href="#api.feedbooks.FeedbooksOPDSImporter.REALLY_IMPORT_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.feedbooks.FeedbooksOPDSImporter.REPLACEMENT_CSS_KEY">
<span class="sig-name descname"><span class="pre">REPLACEMENT_CSS_KEY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'replacement_css'</span></em><a class="headerlink" href="#api.feedbooks.FeedbooksOPDSImporter.REPLACEMENT_CSS_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.feedbooks.FeedbooksOPDSImporter.SETTINGS">
<span class="sig-name descname"><span class="pre">SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'really_import',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'label':</span> <span class="pre">l'Really?',</span> <span class="pre">'description':</span> <span class="pre">l'Most</span> <span class="pre">libraries</span> <span class="pre">are</span> <span class="pre">better</span> <span class="pre">off</span> <span class="pre">importing</span> <span class="pre">free</span> <span class="pre">Feedbooks</span> <span class="pre">titles</span> <span class="pre">via</span> <span class="pre">an</span> <span class="pre">OPDS</span> <span class="pre">Import</span> <span class="pre">integration</span> <span class="pre">from</span> <span class="pre">NYPL's</span> <span class="pre">open-access</span> <span class="pre">content</span> <span class="pre">server</span> <span class="pre">or</span> <span class="pre">DPLA's</span> <span class="pre">Open</span> <span class="pre">Bookshelf.</span> <span class="pre">This</span> <span class="pre">setting</span> <span class="pre">makes</span> <span class="pre">sure</span> <span class="pre">you</span> <span class="pre">didn't</span> <span class="pre">create</span> <span class="pre">this</span> <span class="pre">collection</span> <span class="pre">by</span> <span class="pre">accident</span> <span class="pre">and</span> <span class="pre">really</span> <span class="pre">want</span> <span class="pre">to</span> <span class="pre">import</span> <span class="pre">directly</span> <span class="pre">from</span> <span class="pre">Feedbooks.',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'false',</span> <span class="pre">'label':</span> <span class="pre">l'Don't</span> <span class="pre">actually</span> <span class="pre">import</span> <span class="pre">directly</span> <span class="pre">from</span> <span class="pre">Feedbooks.'},</span> <span class="pre">{'key':</span> <span class="pre">'true',</span> <span class="pre">'label':</span> <span class="pre">l'I</span> <span class="pre">know</span> <span class="pre">what</span> <span class="pre">I'm</span> <span class="pre">doing;</span> <span class="pre">import</span> <span class="pre">directly</span> <span class="pre">from</span> <span class="pre">Feedbooks.'}],</span> <span class="pre">'default':</span> <span class="pre">'false'},</span> <span class="pre">{'key':</span> <span class="pre">'external_account_id',</span> <span class="pre">'label':</span> <span class="pre">l'Import</span> <span class="pre">books</span> <span class="pre">in</span> <span class="pre">this</span> <span class="pre">language',</span> <span class="pre">'description':</span> <span class="pre">l'Feedbooks</span> <span class="pre">offers</span> <span class="pre">separate</span> <span class="pre">feeds</span> <span class="pre">for</span> <span class="pre">different</span> <span class="pre">languages.</span> <span class="pre">Each</span> <span class="pre">one</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">made</span> <span class="pre">into</span> <span class="pre">a</span> <span class="pre">separate</span> <span class="pre">collection.',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'en',</span> <span class="pre">'label':</span> <span class="pre">l'English'},</span> <span class="pre">{'key':</span> <span class="pre">'es',</span> <span class="pre">'label':</span> <span class="pre">l'Spanish'},</span> <span class="pre">{'key':</span> <span class="pre">'fr',</span> <span class="pre">'label':</span> <span class="pre">l'French'},</span> <span class="pre">{'key':</span> <span class="pre">'it',</span> <span class="pre">'label':</span> <span class="pre">l'Italian'},</span> <span class="pre">{'key':</span> <span class="pre">'de',</span> <span class="pre">'label':</span> <span class="pre">l'German'}],</span> <span class="pre">'default':</span> <span class="pre">'en'},</span> <span class="pre">{'key':</span> <span class="pre">'replacement_css',</span> <span class="pre">'label':</span> <span class="pre">l'Replacement</span> <span class="pre">stylesheet',</span> <span class="pre">'description':</span> <span class="pre">l'If</span> <span class="pre">you</span> <span class="pre">are</span> <span class="pre">mirroring</span> <span class="pre">the</span> <span class="pre">Feedbooks</span> <span class="pre">titles,</span> <span class="pre">you</span> <span class="pre">may</span> <span class="pre">replace</span> <span class="pre">the</span> <span class="pre">Feedbooks</span> <span class="pre">stylesheet</span> <span class="pre">with</span> <span class="pre">an</span> <span class="pre">alternate</span> <span class="pre">stylesheet</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">mirrored</span> <span class="pre">copies.</span> <span class="pre">The</span> <span class="pre">default</span> <span class="pre">value</span> <span class="pre">is</span> <span class="pre">an</span> <span class="pre">accessibility-focused</span> <span class="pre">stylesheet</span> <span class="pre">produced</span> <span class="pre">by</span> <span class="pre">the</span> <span class="pre">DAISY</span> <span class="pre">consortium.</span> <span class="pre">If</span> <span class="pre">you</span> <span class="pre">mirror</span> <span class="pre">Feedbooks</span> <span class="pre">titles</span> <span class="pre">but</span> <span class="pre">leave</span> <span class="pre">this</span> <span class="pre">empty,</span> <span class="pre">the</span> <span class="pre">Feedbooks</span> <span class="pre">titles</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">mirrored</span> <span class="pre">as-is.',</span> <span class="pre">'default':</span> <span class="pre">'http://www.daisy.org/z3986/2005/dtbook.2005.basic.css'}]</span></em><a class="headerlink" href="#api.feedbooks.FeedbooksOPDSImporter.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.feedbooks.FeedbooksOPDSImporter.THIRTY_DAYS">
<span class="sig-name descname"><span class="pre">THIRTY_DAYS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">datetime.timedelta(days=30)</span></em><a class="headerlink" href="#api.feedbooks.FeedbooksOPDSImporter.THIRTY_DAYS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.feedbooks.FeedbooksOPDSImporter.extract_feed_data">
<span class="sig-name descname"><span class="pre">extract_feed_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feed_url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/feedbooks.html#FeedbooksOPDSImporter.extract_feed_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.feedbooks.FeedbooksOPDSImporter.extract_feed_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn an OPDS feed into lists of Metadata and CirculationData objects,
with associated messages and next_links.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.feedbooks.FeedbooksOPDSImporter.improve_description">
<span class="sig-name descname"><span class="pre">improve_description</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/feedbooks.html#FeedbooksOPDSImporter.improve_description"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.feedbooks.FeedbooksOPDSImporter.improve_description" title="Permalink to this definition">¶</a></dt>
<dd><p>Improve the description associated with a book,
if possible.</p>
<p>This involves fetching an alternate OPDS entry that might
contain more detailed descriptions than those available in the
main feed.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.feedbooks.FeedbooksOPDSImporter.make_link_data">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">make_link_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rel</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">href</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">media_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rights_uri</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/feedbooks.html#FeedbooksOPDSImporter.make_link_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.feedbooks.FeedbooksOPDSImporter.make_link_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn basic link information into a LinkData object.</p>
<p>FeedBooks puts open-access content behind generic
‘acquisition’ links. We want to treat the EPUBs as open-access
links and (at the request of FeedBooks) ignore the other
formats.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.feedbooks.FeedbooksOPDSImporter.replace_css">
<span class="sig-name descname"><span class="pre">replace_css</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">representation</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/feedbooks.html#FeedbooksOPDSImporter.replace_css"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.feedbooks.FeedbooksOPDSImporter.replace_css" title="Permalink to this definition">¶</a></dt>
<dd><p>This function will replace the content of every CSS file listed in an epub’s
manifest with the value in self.new_css. The rest of the file is not changed.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.feedbooks.FeedbooksOPDSImporter.rights_uri_from_entry_tag">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">rights_uri_from_entry_tag</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entry</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/feedbooks.html#FeedbooksOPDSImporter.rights_uri_from_entry_tag"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.feedbooks.FeedbooksOPDSImporter.rights_uri_from_entry_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the URI that best encapsulates the rights
status of the downloads associated with this book.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.feedbooks.FeedbooksOPDSImporter.rights_uri_from_feedparser_entry">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">rights_uri_from_feedparser_entry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entry</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/feedbooks.html#FeedbooksOPDSImporter.rights_uri_from_feedparser_entry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.feedbooks.FeedbooksOPDSImporter.rights_uri_from_feedparser_entry" title="Permalink to this definition">¶</a></dt>
<dd><p>(Refuse to) determine the URI that best encapsulates the rights
status of the downloads associated with this book.</p>
<p>We cannot answer this question from within feedparser code; we have
to wait until we enter elementtree code.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.feedbooks.RehostingPolicy">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.feedbooks.</span></span><span class="sig-name descname"><span class="pre">RehostingPolicy</span></span><a class="reference internal" href="_modules/api/feedbooks.html#RehostingPolicy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.feedbooks.RehostingPolicy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Determining the precise copyright status of the underlying text
is not directly useful, because Feedbooks has made derivative
works and relicensed under CC-BY-NC. So that’s going to be the
license: CC-BY-NC.</p>
<p>Except it’s not that simple. There are two complications.</p>
<p>1. Feedbooks is located in France, and the NYPL/DPLA content
servers are hosted in the US. We can’t host a CC-BY-NC book if
it’s derived from a work that’s still under US copyright. We must
decide whether or not to accept a book in the first place based on
the copyright status of the underlying text.</p>
<p>2. Some CC licenses are more restrictive (on the creators of
derivative works) than CC-BY-NC. Feedbooks has no authority to
relicense these books, so the old licenses need to be preserved.</p>
<p>This class encapsulates the logic necessary to make this decision.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.feedbooks.RehostingPolicy.CAN_REHOST_IN_US">
<span class="sig-name descname"><span class="pre">CAN_REHOST_IN_US</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'Attribution</span> <span class="pre">(cc</span> <span class="pre">by)',</span> <span class="pre">'Attribution</span> <span class="pre">Non-Commercial</span> <span class="pre">(cc</span> <span class="pre">by-nc)',</span> <span class="pre">'Attribution</span> <span class="pre">Non-Commercial</span> <span class="pre">No</span> <span class="pre">Derivatives</span> <span class="pre">(cc</span> <span class="pre">by-nc-nd)',</span> <span class="pre">'Attribution</span> <span class="pre">Non-Commercial</span> <span class="pre">Share</span> <span class="pre">Alike</span> <span class="pre">(cc</span> <span class="pre">by-nc-sa)',</span> <span class="pre">'Attribution</span> <span class="pre">Share</span> <span class="pre">Alike</span> <span class="pre">(cc</span> <span class="pre">by-sa)',</span> <span class="pre">'This</span> <span class="pre">work</span> <span class="pre">is</span> <span class="pre">available</span> <span class="pre">for</span> <span class="pre">countries</span> <span class="pre">where</span> <span class="pre">copyright</span> <span class="pre">is</span> <span class="pre">Life+50</span> <span class="pre">or</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">USA</span> <span class="pre">(published</span> <span class="pre">before</span> <span class="pre">1923).',</span> <span class="pre">'This</span> <span class="pre">work</span> <span class="pre">is</span> <span class="pre">available</span> <span class="pre">for</span> <span class="pre">countries</span> <span class="pre">where</span> <span class="pre">copyright</span> <span class="pre">is</span> <span class="pre">Life+70</span> <span class="pre">and</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">USA.',</span> <span class="pre">'This</span> <span class="pre">work</span> <span class="pre">was</span> <span class="pre">published</span> <span class="pre">before</span> <span class="pre">1923</span> <span class="pre">and</span> <span class="pre">is</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">public</span> <span class="pre">domain</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">USA</span> <span class="pre">only.'}</span></em><a class="headerlink" href="#api.feedbooks.RehostingPolicy.CAN_REHOST_IN_US" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.feedbooks.RehostingPolicy.PUBLIC_DOMAIN_CUTOFF">
<span class="sig-name descname"><span class="pre">PUBLIC_DOMAIN_CUTOFF</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1923</span></em><a class="headerlink" href="#api.feedbooks.RehostingPolicy.PUBLIC_DOMAIN_CUTOFF" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.feedbooks.RehostingPolicy.RIGHTS_DICT">
<span class="sig-name descname"><span class="pre">RIGHTS_DICT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'Attribution</span> <span class="pre">Non-Commercial</span> <span class="pre">No</span> <span class="pre">Derivatives</span> <span class="pre">(cc</span> <span class="pre">by-nc-nd)':</span> <span class="pre">'https://creativecommons.org/licenses/by-nc-nd/4.0',</span> <span class="pre">'Attribution</span> <span class="pre">Non-Commercial</span> <span class="pre">Share</span> <span class="pre">Alike</span> <span class="pre">(cc</span> <span class="pre">by-nc-sa)':</span> <span class="pre">'https://creativecommons.org/licenses/by-nc-sa/4.0',</span> <span class="pre">'Attribution</span> <span class="pre">Share</span> <span class="pre">Alike</span> <span class="pre">(cc</span> <span class="pre">by-sa)':</span> <span class="pre">'https://creativecommons.org/licenses/by-sa/4.0'}</span></em><a class="headerlink" href="#api.feedbooks.RehostingPolicy.RIGHTS_DICT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.feedbooks.RehostingPolicy.RIGHTS_UNKNOWN">
<span class="sig-name descname"><span class="pre">RIGHTS_UNKNOWN</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Please</span> <span class="pre">read</span> <span class="pre">the</span> <span class="pre">legal</span> <span class="pre">notice</span> <span class="pre">included</span> <span class="pre">in</span> <span class="pre">this</span> <span class="pre">e-book</span> <span class="pre">and/or</span> <span class="pre">check</span> <span class="pre">the</span> <span class="pre">copyright</span> <span class="pre">status</span> <span class="pre">in</span> <span class="pre">your</span> <span class="pre">country.'</span></em><a class="headerlink" href="#api.feedbooks.RehostingPolicy.RIGHTS_UNKNOWN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.feedbooks.RehostingPolicy.US_SITES">
<span class="sig-name descname"><span class="pre">US_SITES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'archive.org',</span> <span class="pre">'craphound.com',</span> <span class="pre">'en.wikipedia.org',</span> <span class="pre">'en.wikisource.org',</span> <span class="pre">'futurismic.com',</span> <span class="pre">'gutenberg.org',</span> <span class="pre">'project</span> <span class="pre">gutenberg',</span> <span class="pre">'shakespeare.mit.edu'}</span></em><a class="headerlink" href="#api.feedbooks.RehostingPolicy.US_SITES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.feedbooks.RehostingPolicy.can_rehost_us">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">can_rehost_us</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rights</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">publication_year</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/feedbooks.html#RehostingPolicy.can_rehost_us"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.feedbooks.RehostingPolicy.can_rehost_us" title="Permalink to this definition">¶</a></dt>
<dd><p>Can we rehost this book on a US server?</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>rights</strong> – What FeedBooks says about the public domain status
of the book.</p></li>
<li><p><strong>source</strong> – Where FeedBooks got the book.</p></li>
<li><p><strong>publication_year</strong> – When the text was originally published.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>True if we can rehost in the US, False if we can’t,
None if we’re not sure. The distinction between False and None
is only useful when making lists of books that need to have
their rights status manually investigated.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.feedbooks.RehostingPolicy.rights_uri">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">rights_uri</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rights</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">publication_year</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/feedbooks.html#RehostingPolicy.rights_uri"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.feedbooks.RehostingPolicy.rights_uri" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-api.firstbook">
<span id="api-firstbook-module"></span><h2>api.firstbook module<a class="headerlink" href="#module-api.firstbook" title="Permalink to this heading">¶</a></h2>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.firstbook.AuthenticationProvider">
<span class="sig-prename descclassname"><span class="pre">api.firstbook.</span></span><span class="sig-name descname"><span class="pre">AuthenticationProvider</span></span><a class="headerlink" href="#api.firstbook.AuthenticationProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#api.firstbook.FirstBookAuthenticationAPI" title="api.firstbook.FirstBookAuthenticationAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">FirstBookAuthenticationAPI</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.firstbook.FirstBookAuthenticationAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.firstbook.</span></span><span class="sig-name descname"><span class="pre">FirstBookAuthenticationAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">integration</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analytics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secret</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/firstbook.html#FirstBookAuthenticationAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.firstbook.FirstBookAuthenticationAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.authenticator.BasicAuthenticationProvider" title="api.authenticator.BasicAuthenticationProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">BasicAuthenticationProvider</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.firstbook.FirstBookAuthenticationAPI.API_PATH">
<span class="sig-name descname"><span class="pre">API_PATH</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'rest/V1/serialcode?'</span></em><a class="headerlink" href="#api.firstbook.FirstBookAuthenticationAPI.API_PATH" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.firstbook.FirstBookAuthenticationAPI.DEFAULT_IDENTIFIER_LABEL">
<span class="sig-name descname"><span class="pre">DEFAULT_IDENTIFIER_LABEL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'Access</span> <span class="pre">Code'</span></em><a class="headerlink" href="#api.firstbook.FirstBookAuthenticationAPI.DEFAULT_IDENTIFIER_LABEL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.firstbook.FirstBookAuthenticationAPI.DEFAULT_IDENTIFIER_REGULAR_EXPRESSION">
<span class="sig-name descname"><span class="pre">DEFAULT_IDENTIFIER_REGULAR_EXPRESSION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'^[A-Za-z0-9&#64;]+$'</span></em><a class="headerlink" href="#api.firstbook.FirstBookAuthenticationAPI.DEFAULT_IDENTIFIER_REGULAR_EXPRESSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.firstbook.FirstBookAuthenticationAPI.DEFAULT_PASSWORD_REGULAR_EXPRESSION">
<span class="sig-name descname"><span class="pre">DEFAULT_PASSWORD_REGULAR_EXPRESSION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'^[0-9]+$'</span></em><a class="headerlink" href="#api.firstbook.FirstBookAuthenticationAPI.DEFAULT_PASSWORD_REGULAR_EXPRESSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.firstbook.FirstBookAuthenticationAPI.DESCRIPTION">
<span class="sig-name descname"><span class="pre">DESCRIPTION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">An</span> <span class="pre">authentication</span> <span class="pre">service</span> <span class="pre">for</span> <span class="pre">Open</span> <span class="pre">eBooks</span> <span class="pre">that</span> <span class="pre">authenticates</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">using</span> <span class="pre">access</span> <span class="pre">codes</span> <span class="pre">and</span> <span class="pre">PINs.</span> <span class="pre">(This</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">new</span> <span class="pre">version</span> <span class="pre">as</span> <span class="pre">of</span> <span class="pre">8/2022.)'</span></em><a class="headerlink" href="#api.firstbook.FirstBookAuthenticationAPI.DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.firstbook.FirstBookAuthenticationAPI.DISPLAY_NAME">
<span class="sig-name descname"><span class="pre">DISPLAY_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'First</span> <span class="pre">Book</span> <span class="pre">(New</span> <span class="pre">8/2022)'</span></em><a class="headerlink" href="#api.firstbook.FirstBookAuthenticationAPI.DISPLAY_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.firstbook.FirstBookAuthenticationAPI.LOGIN_BUTTON_IMAGE">
<span class="sig-name descname"><span class="pre">LOGIN_BUTTON_IMAGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'FirstBookLoginButton280.png'</span></em><a class="headerlink" href="#api.firstbook.FirstBookAuthenticationAPI.LOGIN_BUTTON_IMAGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.firstbook.FirstBookAuthenticationAPI.NAME">
<span class="sig-name descname"><span class="pre">NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'First</span> <span class="pre">Book</span> <span class="pre">(New</span> <span class="pre">8/2022)'</span></em><a class="headerlink" href="#api.firstbook.FirstBookAuthenticationAPI.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.firstbook.FirstBookAuthenticationAPI.SETTINGS">
<span class="sig-name descname"><span class="pre">SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'url',</span> <span class="pre">'format':</span> <span class="pre">'url',</span> <span class="pre">'label':</span> <span class="pre">l'URL',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'password',</span> <span class="pre">'label':</span> <span class="pre">l'Key',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'test_identifier',</span> <span class="pre">'label':</span> <span class="pre">l'Test</span> <span class="pre">Identifier',</span> <span class="pre">'description':</span> <span class="pre">l'A</span> <span class="pre">valid</span> <span class="pre">identifier</span> <span class="pre">that</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">used</span> <span class="pre">to</span> <span class="pre">test</span> <span class="pre">that</span> <span class="pre">patron</span> <span class="pre">authentication</span> <span class="pre">is</span> <span class="pre">working.</span> <span class="pre">An</span> <span class="pre">optional</span> <span class="pre">Test</span> <span class="pre">Password</span> <span class="pre">for</span> <span class="pre">this</span> <span class="pre">identifier</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">set</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">next</span> <span class="pre">section.',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'test_password',</span> <span class="pre">'label':</span> <span class="pre">l'Test</span> <span class="pre">Password',</span> <span class="pre">'description':</span> <span class="pre">l'The</span> <span class="pre">password</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">Test</span> <span class="pre">Identifier</span> <span class="pre">(above,</span> <span class="pre">in</span> <span class="pre">previous</span> <span class="pre">section).'},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_barcode_format',</span> <span class="pre">'label':</span> <span class="pre">l'Patron</span> <span class="pre">identifier</span> <span class="pre">barcode</span> <span class="pre">format',</span> <span class="pre">'description':</span> <span class="pre">l'Many</span> <span class="pre">libraries</span> <span class="pre">render</span> <span class="pre">patron</span> <span class="pre">identifiers</span> <span class="pre">as</span> <span class="pre">barcodes</span> <span class="pre">on</span> <span class="pre">physical</span> <span class="pre">library</span> <span class="pre">cards.</span> <span class="pre">If</span> <span class="pre">you</span> <span class="pre">specify</span> <span class="pre">the</span> <span class="pre">barcode</span> <span class="pre">format,</span> <span class="pre">patrons</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">able</span> <span class="pre">to</span> <span class="pre">scan</span> <span class="pre">their</span> <span class="pre">library</span> <span class="pre">cards</span> <span class="pre">with</span> <span class="pre">a</span> <span class="pre">camera</span> <span class="pre">instead</span> <span class="pre">of</span> <span class="pre">manually</span> <span class="pre">typing</span> <span class="pre">in</span> <span class="pre">their</span> <span class="pre">identifiers.',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'Codabar',</span> <span class="pre">'label':</span> <span class="pre">l'Patron</span> <span class="pre">identifiers</span> <span class="pre">are</span> <span class="pre">are</span> <span class="pre">rendered</span> <span class="pre">as</span> <span class="pre">barcodes</span> <span class="pre">in</span> <span class="pre">Codabar</span> <span class="pre">format'},</span> <span class="pre">{'key':</span> <span class="pre">'',</span> <span class="pre">'label':</span> <span class="pre">l'Patron</span> <span class="pre">identifiers</span> <span class="pre">are</span> <span class="pre">not</span> <span class="pre">rendered</span> <span class="pre">as</span> <span class="pre">barcodes'}],</span> <span class="pre">'default':</span> <span class="pre">'',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_regular_expression',</span> <span class="pre">'label':</span> <span class="pre">l'Identifier</span> <span class="pre">Regular</span> <span class="pre">Expression',</span> <span class="pre">'description':</span> <span class="pre">l'A</span> <span class="pre">patron's</span> <span class="pre">identifier</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">immediately</span> <span class="pre">rejected</span> <span class="pre">if</span> <span class="pre">it</span> <span class="pre">doesn't</span> <span class="pre">match</span> <span class="pre">this</span> <span class="pre">regular</span> <span class="pre">expression.'},</span> <span class="pre">{'key':</span> <span class="pre">'password_regular_expression',</span> <span class="pre">'label':</span> <span class="pre">l'Password</span> <span class="pre">Regular</span> <span class="pre">Expression',</span> <span class="pre">'description':</span> <span class="pre">l'A</span> <span class="pre">patron's</span> <span class="pre">password</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">immediately</span> <span class="pre">rejected</span> <span class="pre">if</span> <span class="pre">it</span> <span class="pre">doesn't</span> <span class="pre">match</span> <span class="pre">this</span> <span class="pre">regular</span> <span class="pre">expression.'},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_keyboard',</span> <span class="pre">'label':</span> <span class="pre">l'Keyboard</span> <span class="pre">for</span> <span class="pre">identifier</span> <span class="pre">entry',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'Default',</span> <span class="pre">'label':</span> <span class="pre">l'System</span> <span class="pre">default'},</span> <span class="pre">{'key':</span> <span class="pre">'Email</span> <span class="pre">address',</span> <span class="pre">'label':</span> <span class="pre">l'Email</span> <span class="pre">address</span> <span class="pre">entry'},</span> <span class="pre">{'key':</span> <span class="pre">'Number</span> <span class="pre">pad',</span> <span class="pre">'label':</span> <span class="pre">l'Number</span> <span class="pre">pad'}],</span> <span class="pre">'default':</span> <span class="pre">'Default',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'password_keyboard',</span> <span class="pre">'label':</span> <span class="pre">l'Keyboard</span> <span class="pre">for</span> <span class="pre">password</span> <span class="pre">entry',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'Default',</span> <span class="pre">'label':</span> <span class="pre">l'System</span> <span class="pre">default'},</span> <span class="pre">{'key':</span> <span class="pre">'Number</span> <span class="pre">pad',</span> <span class="pre">'label':</span> <span class="pre">l'Number</span> <span class="pre">pad'},</span> <span class="pre">{'key':</span> <span class="pre">'No</span> <span class="pre">input',</span> <span class="pre">'label':</span> <span class="pre">l'Patrons</span> <span class="pre">have</span> <span class="pre">no</span> <span class="pre">password</span> <span class="pre">and</span> <span class="pre">should</span> <span class="pre">not</span> <span class="pre">be</span> <span class="pre">prompted</span> <span class="pre">for</span> <span class="pre">one.'}],</span> <span class="pre">'default':</span> <span class="pre">'Default'},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_maximum_length',</span> <span class="pre">'label':</span> <span class="pre">l'Maximum</span> <span class="pre">identifier</span> <span class="pre">length',</span> <span class="pre">'type':</span> <span class="pre">'number'},</span> <span class="pre">{'key':</span> <span class="pre">'password_maximum_length',</span> <span class="pre">'label':</span> <span class="pre">l'Maximum</span> <span class="pre">password</span> <span class="pre">length',</span> <span class="pre">'type':</span> <span class="pre">'number'},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_label',</span> <span class="pre">'label':</span> <span class="pre">l'Label</span> <span class="pre">for</span> <span class="pre">identifier</span> <span class="pre">entry'},</span> <span class="pre">{'key':</span> <span class="pre">'password_label',</span> <span class="pre">'label':</span> <span class="pre">l'Label</span> <span class="pre">for</span> <span class="pre">password</span> <span class="pre">entry'}]</span></em><a class="headerlink" href="#api.firstbook.FirstBookAuthenticationAPI.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.firstbook.FirstBookAuthenticationAPI.SUCCESS_MESSAGE">
<span class="sig-name descname"><span class="pre">SUCCESS_MESSAGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Valid</span> <span class="pre">Code</span> <span class="pre">Pin</span> <span class="pre">Pair'</span></em><a class="headerlink" href="#api.firstbook.FirstBookAuthenticationAPI.SUCCESS_MESSAGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.firstbook.FirstBookAuthenticationAPI.log">
<span class="sig-name descname"><span class="pre">log</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;Logger</span> <span class="pre">First</span> <span class="pre">Book</span> <span class="pre">authentication</span> <span class="pre">API</span> <span class="pre">(WARNING)&gt;</span></em><a class="headerlink" href="#api.firstbook.FirstBookAuthenticationAPI.log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.firstbook.FirstBookAuthenticationAPI.remote_authenticate">
<span class="sig-name descname"><span class="pre">remote_authenticate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">username</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/firstbook.html#FirstBookAuthenticationAPI.remote_authenticate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.firstbook.FirstBookAuthenticationAPI.remote_authenticate" title="Permalink to this definition">¶</a></dt>
<dd><p>Does the source of truth approve of these credentials?</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>If the credentials are valid, but nothing more is
known about the patron, return True.</p>
</dd>
</dl>
<p>If the credentials are valid, _and_ enough information came
back in the request to also create a PatronInfo object, you
may create that object and return it to save a
remote patron lookup later.</p>
<p>If the credentials are invalid, return False or None.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.firstbook.FirstBookAuthenticationAPI.remote_pin_test">
<span class="sig-name descname"><span class="pre">remote_pin_test</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">barcode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/firstbook.html#FirstBookAuthenticationAPI.remote_pin_test"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.firstbook.FirstBookAuthenticationAPI.remote_pin_test" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.firstbook.FirstBookAuthenticationAPI.request">
<span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/firstbook.html#FirstBookAuthenticationAPI.request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.firstbook.FirstBookAuthenticationAPI.request" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an HTTP request.</p>
<p>Defined to be overridden in test mock.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.firstbook.MockFirstBookAuthenticationAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.firstbook.</span></span><span class="sig-name descname"><span class="pre">MockFirstBookAuthenticationAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">integration</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">valid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bad_connection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">failure_status_code</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/firstbook.html#MockFirstBookAuthenticationAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.firstbook.MockFirstBookAuthenticationAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.firstbook.FirstBookAuthenticationAPI" title="api.firstbook.FirstBookAuthenticationAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">FirstBookAuthenticationAPI</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.firstbook.MockFirstBookAuthenticationAPI.FAILURE">
<span class="sig-name descname"><span class="pre">FAILURE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'{&quot;code&quot;:404,&quot;message&quot;:&quot;Access</span> <span class="pre">Code</span> <span class="pre">Pin</span> <span class="pre">Pair</span> <span class="pre">not</span> <span class="pre">found&quot;}'</span></em><a class="headerlink" href="#api.firstbook.MockFirstBookAuthenticationAPI.FAILURE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.firstbook.MockFirstBookAuthenticationAPI.SUCCESS">
<span class="sig-name descname"><span class="pre">SUCCESS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'&quot;Valid</span> <span class="pre">Code</span> <span class="pre">Pin</span> <span class="pre">Pair&quot;'</span></em><a class="headerlink" href="#api.firstbook.MockFirstBookAuthenticationAPI.SUCCESS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.firstbook.MockFirstBookAuthenticationAPI.request">
<span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/firstbook.html#MockFirstBookAuthenticationAPI.request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.firstbook.MockFirstBookAuthenticationAPI.request" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an HTTP request.</p>
<p>Defined to be overridden in test mock.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.firstbook.MockFirstBookResponse">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.firstbook.</span></span><span class="sig-name descname"><span class="pre">MockFirstBookResponse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status_code</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/firstbook.html#MockFirstBookResponse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.firstbook.MockFirstBookResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

</section>
<section id="module-api.firstbook2">
<span id="api-firstbook2-module"></span><h2>api.firstbook2 module<a class="headerlink" href="#module-api.firstbook2" title="Permalink to this heading">¶</a></h2>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.firstbook2.AuthenticationProvider">
<span class="sig-prename descclassname"><span class="pre">api.firstbook2.</span></span><span class="sig-name descname"><span class="pre">AuthenticationProvider</span></span><a class="headerlink" href="#api.firstbook2.AuthenticationProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#api.firstbook2.FirstBookAuthenticationAPI" title="api.firstbook2.FirstBookAuthenticationAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">FirstBookAuthenticationAPI</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.firstbook2.FirstBookAuthenticationAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.firstbook2.</span></span><span class="sig-name descname"><span class="pre">FirstBookAuthenticationAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">integration</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analytics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">root</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">secret</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/firstbook2.html#FirstBookAuthenticationAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.firstbook2.FirstBookAuthenticationAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.authenticator.BasicAuthenticationProvider" title="api.authenticator.BasicAuthenticationProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">BasicAuthenticationProvider</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.firstbook2.FirstBookAuthenticationAPI.ALGORITHM">
<span class="sig-name descname"><span class="pre">ALGORITHM</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'HS256'</span></em><a class="headerlink" href="#api.firstbook2.FirstBookAuthenticationAPI.ALGORITHM" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.firstbook2.FirstBookAuthenticationAPI.DEFAULT_IDENTIFIER_LABEL">
<span class="sig-name descname"><span class="pre">DEFAULT_IDENTIFIER_LABEL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'Access</span> <span class="pre">Code'</span></em><a class="headerlink" href="#api.firstbook2.FirstBookAuthenticationAPI.DEFAULT_IDENTIFIER_LABEL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.firstbook2.FirstBookAuthenticationAPI.DEFAULT_IDENTIFIER_REGULAR_EXPRESSION">
<span class="sig-name descname"><span class="pre">DEFAULT_IDENTIFIER_REGULAR_EXPRESSION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'^[A-Za-z0-9&#64;]+$'</span></em><a class="headerlink" href="#api.firstbook2.FirstBookAuthenticationAPI.DEFAULT_IDENTIFIER_REGULAR_EXPRESSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.firstbook2.FirstBookAuthenticationAPI.DEFAULT_PASSWORD_REGULAR_EXPRESSION">
<span class="sig-name descname"><span class="pre">DEFAULT_PASSWORD_REGULAR_EXPRESSION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'^[0-9]+$'</span></em><a class="headerlink" href="#api.firstbook2.FirstBookAuthenticationAPI.DEFAULT_PASSWORD_REGULAR_EXPRESSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.firstbook2.FirstBookAuthenticationAPI.DESCRIPTION">
<span class="sig-name descname"><span class="pre">DESCRIPTION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">An</span> <span class="pre">authentication</span> <span class="pre">service</span> <span class="pre">for</span> <span class="pre">Open</span> <span class="pre">eBooks</span> <span class="pre">that</span> <span class="pre">authenticates</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">using</span> <span class="pre">access</span> <span class="pre">codes</span> <span class="pre">and</span> <span class="pre">PINs.</span> <span class="pre">(This</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">deprecated</span> <span class="pre">version.)'</span></em><a class="headerlink" href="#api.firstbook2.FirstBookAuthenticationAPI.DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.firstbook2.FirstBookAuthenticationAPI.DISPLAY_NAME">
<span class="sig-name descname"><span class="pre">DISPLAY_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'First</span> <span class="pre">Book</span> <span class="pre">(deprecated)'</span></em><a class="headerlink" href="#api.firstbook2.FirstBookAuthenticationAPI.DISPLAY_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.firstbook2.FirstBookAuthenticationAPI.LOGIN_BUTTON_IMAGE">
<span class="sig-name descname"><span class="pre">LOGIN_BUTTON_IMAGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'FirstBookLoginButton280.png'</span></em><a class="headerlink" href="#api.firstbook2.FirstBookAuthenticationAPI.LOGIN_BUTTON_IMAGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.firstbook2.FirstBookAuthenticationAPI.NAME">
<span class="sig-name descname"><span class="pre">NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'First</span> <span class="pre">Book</span> <span class="pre">(deprecated)'</span></em><a class="headerlink" href="#api.firstbook2.FirstBookAuthenticationAPI.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.firstbook2.FirstBookAuthenticationAPI.SETTINGS">
<span class="sig-name descname"><span class="pre">SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'url',</span> <span class="pre">'format':</span> <span class="pre">'url',</span> <span class="pre">'label':</span> <span class="pre">l'URL',</span> <span class="pre">'default':</span> <span class="pre">'https://ebooks.firstbook.org/api/',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'password',</span> <span class="pre">'label':</span> <span class="pre">l'Key',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'test_identifier',</span> <span class="pre">'label':</span> <span class="pre">l'Test</span> <span class="pre">Identifier',</span> <span class="pre">'description':</span> <span class="pre">l'A</span> <span class="pre">valid</span> <span class="pre">identifier</span> <span class="pre">that</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">used</span> <span class="pre">to</span> <span class="pre">test</span> <span class="pre">that</span> <span class="pre">patron</span> <span class="pre">authentication</span> <span class="pre">is</span> <span class="pre">working.</span> <span class="pre">An</span> <span class="pre">optional</span> <span class="pre">Test</span> <span class="pre">Password</span> <span class="pre">for</span> <span class="pre">this</span> <span class="pre">identifier</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">set</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">next</span> <span class="pre">section.',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'test_password',</span> <span class="pre">'label':</span> <span class="pre">l'Test</span> <span class="pre">Password',</span> <span class="pre">'description':</span> <span class="pre">l'The</span> <span class="pre">password</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">Test</span> <span class="pre">Identifier</span> <span class="pre">(above,</span> <span class="pre">in</span> <span class="pre">previous</span> <span class="pre">section).'},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_barcode_format',</span> <span class="pre">'label':</span> <span class="pre">l'Patron</span> <span class="pre">identifier</span> <span class="pre">barcode</span> <span class="pre">format',</span> <span class="pre">'description':</span> <span class="pre">l'Many</span> <span class="pre">libraries</span> <span class="pre">render</span> <span class="pre">patron</span> <span class="pre">identifiers</span> <span class="pre">as</span> <span class="pre">barcodes</span> <span class="pre">on</span> <span class="pre">physical</span> <span class="pre">library</span> <span class="pre">cards.</span> <span class="pre">If</span> <span class="pre">you</span> <span class="pre">specify</span> <span class="pre">the</span> <span class="pre">barcode</span> <span class="pre">format,</span> <span class="pre">patrons</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">able</span> <span class="pre">to</span> <span class="pre">scan</span> <span class="pre">their</span> <span class="pre">library</span> <span class="pre">cards</span> <span class="pre">with</span> <span class="pre">a</span> <span class="pre">camera</span> <span class="pre">instead</span> <span class="pre">of</span> <span class="pre">manually</span> <span class="pre">typing</span> <span class="pre">in</span> <span class="pre">their</span> <span class="pre">identifiers.',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'Codabar',</span> <span class="pre">'label':</span> <span class="pre">l'Patron</span> <span class="pre">identifiers</span> <span class="pre">are</span> <span class="pre">are</span> <span class="pre">rendered</span> <span class="pre">as</span> <span class="pre">barcodes</span> <span class="pre">in</span> <span class="pre">Codabar</span> <span class="pre">format'},</span> <span class="pre">{'key':</span> <span class="pre">'',</span> <span class="pre">'label':</span> <span class="pre">l'Patron</span> <span class="pre">identifiers</span> <span class="pre">are</span> <span class="pre">not</span> <span class="pre">rendered</span> <span class="pre">as</span> <span class="pre">barcodes'}],</span> <span class="pre">'default':</span> <span class="pre">'',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_regular_expression',</span> <span class="pre">'label':</span> <span class="pre">l'Identifier</span> <span class="pre">Regular</span> <span class="pre">Expression',</span> <span class="pre">'description':</span> <span class="pre">l'A</span> <span class="pre">patron's</span> <span class="pre">identifier</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">immediately</span> <span class="pre">rejected</span> <span class="pre">if</span> <span class="pre">it</span> <span class="pre">doesn't</span> <span class="pre">match</span> <span class="pre">this</span> <span class="pre">regular</span> <span class="pre">expression.'},</span> <span class="pre">{'key':</span> <span class="pre">'password_regular_expression',</span> <span class="pre">'label':</span> <span class="pre">l'Password</span> <span class="pre">Regular</span> <span class="pre">Expression',</span> <span class="pre">'description':</span> <span class="pre">l'A</span> <span class="pre">patron's</span> <span class="pre">password</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">immediately</span> <span class="pre">rejected</span> <span class="pre">if</span> <span class="pre">it</span> <span class="pre">doesn't</span> <span class="pre">match</span> <span class="pre">this</span> <span class="pre">regular</span> <span class="pre">expression.'},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_keyboard',</span> <span class="pre">'label':</span> <span class="pre">l'Keyboard</span> <span class="pre">for</span> <span class="pre">identifier</span> <span class="pre">entry',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'Default',</span> <span class="pre">'label':</span> <span class="pre">l'System</span> <span class="pre">default'},</span> <span class="pre">{'key':</span> <span class="pre">'Email</span> <span class="pre">address',</span> <span class="pre">'label':</span> <span class="pre">l'Email</span> <span class="pre">address</span> <span class="pre">entry'},</span> <span class="pre">{'key':</span> <span class="pre">'Number</span> <span class="pre">pad',</span> <span class="pre">'label':</span> <span class="pre">l'Number</span> <span class="pre">pad'}],</span> <span class="pre">'default':</span> <span class="pre">'Default',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'password_keyboard',</span> <span class="pre">'label':</span> <span class="pre">l'Keyboard</span> <span class="pre">for</span> <span class="pre">password</span> <span class="pre">entry',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'Default',</span> <span class="pre">'label':</span> <span class="pre">l'System</span> <span class="pre">default'},</span> <span class="pre">{'key':</span> <span class="pre">'Number</span> <span class="pre">pad',</span> <span class="pre">'label':</span> <span class="pre">l'Number</span> <span class="pre">pad'},</span> <span class="pre">{'key':</span> <span class="pre">'No</span> <span class="pre">input',</span> <span class="pre">'label':</span> <span class="pre">l'Patrons</span> <span class="pre">have</span> <span class="pre">no</span> <span class="pre">password</span> <span class="pre">and</span> <span class="pre">should</span> <span class="pre">not</span> <span class="pre">be</span> <span class="pre">prompted</span> <span class="pre">for</span> <span class="pre">one.'}],</span> <span class="pre">'default':</span> <span class="pre">'Default'},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_maximum_length',</span> <span class="pre">'label':</span> <span class="pre">l'Maximum</span> <span class="pre">identifier</span> <span class="pre">length',</span> <span class="pre">'type':</span> <span class="pre">'number'},</span> <span class="pre">{'key':</span> <span class="pre">'password_maximum_length',</span> <span class="pre">'label':</span> <span class="pre">l'Maximum</span> <span class="pre">password</span> <span class="pre">length',</span> <span class="pre">'type':</span> <span class="pre">'number'},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_label',</span> <span class="pre">'label':</span> <span class="pre">l'Label</span> <span class="pre">for</span> <span class="pre">identifier</span> <span class="pre">entry'},</span> <span class="pre">{'key':</span> <span class="pre">'password_label',</span> <span class="pre">'label':</span> <span class="pre">l'Label</span> <span class="pre">for</span> <span class="pre">password</span> <span class="pre">entry'}]</span></em><a class="headerlink" href="#api.firstbook2.FirstBookAuthenticationAPI.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.firstbook2.FirstBookAuthenticationAPI.SUCCESS_MESSAGE">
<span class="sig-name descname"><span class="pre">SUCCESS_MESSAGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Valid</span> <span class="pre">Code</span> <span class="pre">Pin</span> <span class="pre">Pair'</span></em><a class="headerlink" href="#api.firstbook2.FirstBookAuthenticationAPI.SUCCESS_MESSAGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.firstbook2.FirstBookAuthenticationAPI.jwt">
<span class="sig-name descname"><span class="pre">jwt</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">barcode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/firstbook2.html#FirstBookAuthenticationAPI.jwt"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.firstbook2.FirstBookAuthenticationAPI.jwt" title="Permalink to this definition">¶</a></dt>
<dd><p>Create and sign a JWT with the payload expected by the
First Book API.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.firstbook2.FirstBookAuthenticationAPI.log">
<span class="sig-name descname"><span class="pre">log</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;Logger</span> <span class="pre">First</span> <span class="pre">Book</span> <span class="pre">JWT</span> <span class="pre">authentication</span> <span class="pre">API</span> <span class="pre">(WARNING)&gt;</span></em><a class="headerlink" href="#api.firstbook2.FirstBookAuthenticationAPI.log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.firstbook2.FirstBookAuthenticationAPI.remote_authenticate">
<span class="sig-name descname"><span class="pre">remote_authenticate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">username</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/firstbook2.html#FirstBookAuthenticationAPI.remote_authenticate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.firstbook2.FirstBookAuthenticationAPI.remote_authenticate" title="Permalink to this definition">¶</a></dt>
<dd><p>Does the source of truth approve of these credentials?</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>If the credentials are valid, but nothing more is
known about the patron, return True.</p>
</dd>
</dl>
<p>If the credentials are valid, _and_ enough information came
back in the request to also create a PatronInfo object, you
may create that object and return it to save a
remote patron lookup later.</p>
<p>If the credentials are invalid, return False or None.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.firstbook2.FirstBookAuthenticationAPI.remote_pin_test">
<span class="sig-name descname"><span class="pre">remote_pin_test</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">barcode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/firstbook2.html#FirstBookAuthenticationAPI.remote_pin_test"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.firstbook2.FirstBookAuthenticationAPI.remote_pin_test" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.firstbook2.FirstBookAuthenticationAPI.request">
<span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/firstbook2.html#FirstBookAuthenticationAPI.request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.firstbook2.FirstBookAuthenticationAPI.request" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an HTTP request.</p>
<p>Defined solely so it can be overridden in the mock.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.firstbook2.MockFirstBookAuthenticationAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.firstbook2.</span></span><span class="sig-name descname"><span class="pre">MockFirstBookAuthenticationAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">integration</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">valid</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bad_connection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">failure_status_code</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/firstbook2.html#MockFirstBookAuthenticationAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.firstbook2.MockFirstBookAuthenticationAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.firstbook2.FirstBookAuthenticationAPI" title="api.firstbook2.FirstBookAuthenticationAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">FirstBookAuthenticationAPI</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.firstbook2.MockFirstBookAuthenticationAPI.FAILURE">
<span class="sig-name descname"><span class="pre">FAILURE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'{&quot;code&quot;:404,&quot;message&quot;:&quot;Access</span> <span class="pre">Code</span> <span class="pre">Pin</span> <span class="pre">Pair</span> <span class="pre">not</span> <span class="pre">found&quot;}'</span></em><a class="headerlink" href="#api.firstbook2.MockFirstBookAuthenticationAPI.FAILURE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.firstbook2.MockFirstBookAuthenticationAPI.SUCCESS">
<span class="sig-name descname"><span class="pre">SUCCESS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'&quot;Valid</span> <span class="pre">Code</span> <span class="pre">Pin</span> <span class="pre">Pair&quot;'</span></em><a class="headerlink" href="#api.firstbook2.MockFirstBookAuthenticationAPI.SUCCESS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.firstbook2.MockFirstBookAuthenticationAPI.request">
<span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/firstbook2.html#MockFirstBookAuthenticationAPI.request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.firstbook2.MockFirstBookAuthenticationAPI.request" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an HTTP request.</p>
<p>Defined solely so it can be overridden in the mock.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.firstbook2.MockFirstBookResponse">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.firstbook2.</span></span><span class="sig-name descname"><span class="pre">MockFirstBookResponse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status_code</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/firstbook2.html#MockFirstBookResponse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.firstbook2.MockFirstBookResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

</section>
<section id="module-api.google_analytics_provider">
<span id="api-google-analytics-provider-module"></span><h2>api.google_analytics_provider module<a class="headerlink" href="#module-api.google_analytics_provider" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.google_analytics_provider.GoogleAnalyticsProvider">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.google_analytics_provider.</span></span><span class="sig-name descname"><span class="pre">GoogleAnalyticsProvider</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">integration</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">library</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/google_analytics_provider.html#GoogleAnalyticsProvider"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.google_analytics_provider.GoogleAnalyticsProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.google_analytics_provider.GoogleAnalyticsProvider.DEFAULT_URL">
<span class="sig-name descname"><span class="pre">DEFAULT_URL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'http://www.google-analytics.com/collect'</span></em><a class="headerlink" href="#api.google_analytics_provider.GoogleAnalyticsProvider.DEFAULT_URL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.google_analytics_provider.GoogleAnalyticsProvider.DESCRIPTION">
<span class="sig-name descname"><span class="pre">DESCRIPTION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'How</span> <span class="pre">to</span> <span class="pre">Configure</span> <span class="pre">a</span> <span class="pre">Google</span> <span class="pre">Analytics</span> <span class="pre">Integration'</span></em><a class="headerlink" href="#api.google_analytics_provider.GoogleAnalyticsProvider.DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.google_analytics_provider.GoogleAnalyticsProvider.INSTRUCTIONS">
<span class="sig-name descname"><span class="pre">INSTRUCTIONS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'&lt;p&gt;In</span> <span class="pre">order</span> <span class="pre">to</span> <span class="pre">track</span> <span class="pre">usage</span> <span class="pre">statistics,</span> <span class="pre">you</span> <span class="pre">can</span> <span class="pre">configure</span> <span class="pre">the</span> <span class="pre">Circulation</span> <span class="pre">Manager</span> <span class="pre">to</span> <span class="pre">connect</span> <span class="pre">to</span> <span class="pre">Google</span> <span class="pre">Analytics.&lt;/p&gt;&lt;p&gt;Create</span> <span class="pre">a</span> <span class="pre">&lt;a</span> <span class="pre">href='https://analytics.google.com/analytics/web/provision/?authuser=0#/provision'</span> <span class="pre">rel='noopener'</span> <span class="pre">rel='noreferer'</span> <span class="pre">target='_blank'&gt;Google</span> <span class="pre">Analytics&lt;/a&gt;</span> <span class="pre">account,</span> <span class="pre">or</span> <span class="pre">sign</span> <span class="pre">into</span> <span class="pre">your</span> <span class="pre">existing</span> <span class="pre">one.&lt;/p&gt;&lt;p&gt;To</span> <span class="pre">capture</span> <span class="pre">data</span> <span class="pre">from</span> <span class="pre">the</span> <span class="pre">Library</span> <span class="pre">Simplified</span> <span class="pre">Circulation</span> <span class="pre">Manager</span> <span class="pre">in</span> <span class="pre">your</span> <span class="pre">Google</span> <span class="pre">Analytics</span> <span class="pre">account,</span> <span class="pre">you</span> <span class="pre">must</span> <span class="pre">set</span> <span class="pre">up</span> <span class="pre">a</span> <span class="pre">property</span> <span class="pre">in</span> <span class="pre">Google</span> <span class="pre">Analytics</span> <span class="pre">for</span> <span class="pre">Library</span> <span class="pre">Simplified.</span>&#160; <span class="pre">In</span> <span class="pre">your</span> <span class="pre">Google</span> <span class="pre">Analytics</span> <span class="pre">account,</span> <span class="pre">on</span> <span class="pre">the</span> <span class="pre">administration</span> <span class="pre">page</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">property,</span> <span class="pre">go</span> <span class="pre">to</span> <span class="pre">Custom</span> <span class="pre">Definitions</span> <span class="pre">&gt;</span> <span class="pre">Custom</span> <span class="pre">Dimensions,</span> <span class="pre">and</span> <span class="pre">add</span> <span class="pre">the</span> <span class="pre">following</span> <span class="pre">dimensions,</span> <span class="pre">in</span> <span class="pre">this</span> <span class="pre">order:</span> <span class="pre">&lt;ol&gt;&lt;li&gt;time&lt;/li&gt;&lt;li&gt;identifier&lt;/li&gt;&lt;li&gt;identifier_type&lt;/li&gt;&lt;li&gt;title&lt;/li&gt;&lt;li&gt;author&lt;/li&gt;&lt;li&gt;fiction&lt;/li&gt;&lt;li&gt;audience&lt;/li&gt;&lt;li&gt;target_age&lt;/li&gt;&lt;li&gt;publisher&lt;/li&gt;&lt;li&gt;language&lt;/li&gt;&lt;li&gt;genre&lt;/li&gt;&lt;li&gt;open_access&lt;/li&gt;&lt;li&gt;distributor&lt;/li&gt;&lt;li&gt;medium&lt;/li&gt;&lt;li&gt;library&lt;/li&gt;&lt;/ol&gt;&lt;/p&gt;&lt;p&gt;Each</span> <span class="pre">dimension</span> <span class="pre">should</span> <span class="pre">have</span> <span class="pre">the</span> <span class="pre">scope</span> <span class="pre">set</span> <span class="pre">to</span> <span class="pre">'Hit'</span> <span class="pre">and</span> <span class="pre">the</span> <span class="pre">'Active'</span> <span class="pre">box</span> <span class="pre">checked.&lt;/p&gt;&lt;p&gt;Then</span> <span class="pre">go</span> <span class="pre">to</span> <span class="pre">Tracking</span> <span class="pre">Info</span> <span class="pre">and</span> <span class="pre">get</span> <span class="pre">the</span> <span class="pre">tracking</span> <span class="pre">id</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">property.</span>&#160; <span class="pre">Select</span> <span class="pre">your</span> <span class="pre">library</span> <span class="pre">from</span> <span class="pre">the</span> <span class="pre">dropdown</span> <span class="pre">below,</span> <span class="pre">and</span> <span class="pre">enter</span> <span class="pre">the</span> <span class="pre">tracking</span> <span class="pre">id</span> <span class="pre">into</span> <span class="pre">the</span> <span class="pre">form.&lt;/p&gt;'</span></em><a class="headerlink" href="#api.google_analytics_provider.GoogleAnalyticsProvider.INSTRUCTIONS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.google_analytics_provider.GoogleAnalyticsProvider.LIBRARY_SETTINGS">
<span class="sig-name descname"><span class="pre">LIBRARY_SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'tracking_id',</span> <span class="pre">'label':</span> <span class="pre">l'Tracking</span> <span class="pre">ID',</span> <span class="pre">'required':</span> <span class="pre">True}]</span></em><a class="headerlink" href="#api.google_analytics_provider.GoogleAnalyticsProvider.LIBRARY_SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.google_analytics_provider.GoogleAnalyticsProvider.NAME">
<span class="sig-name descname"><span class="pre">NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'Google</span> <span class="pre">Analytics'</span></em><a class="headerlink" href="#api.google_analytics_provider.GoogleAnalyticsProvider.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.google_analytics_provider.GoogleAnalyticsProvider.SETTINGS">
<span class="sig-name descname"><span class="pre">SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'url',</span> <span class="pre">'label':</span> <span class="pre">l'URL',</span> <span class="pre">'default':</span> <span class="pre">'http://www.google-analytics.com/collect',</span> <span class="pre">'required':</span> <span class="pre">True,</span> <span class="pre">'format':</span> <span class="pre">'url'}]</span></em><a class="headerlink" href="#api.google_analytics_provider.GoogleAnalyticsProvider.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.google_analytics_provider.GoogleAnalyticsProvider.TRACKING_ID">
<span class="sig-name descname"><span class="pre">TRACKING_ID</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'tracking_id'</span></em><a class="headerlink" href="#api.google_analytics_provider.GoogleAnalyticsProvider.TRACKING_ID" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.google_analytics_provider.GoogleAnalyticsProvider.collect_event">
<span class="sig-name descname"><span class="pre">collect_event</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">license_pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">event_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">time</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/google_analytics_provider.html#GoogleAnalyticsProvider.collect_event"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.google_analytics_provider.GoogleAnalyticsProvider.collect_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.google_analytics_provider.GoogleAnalyticsProvider.post">
<span class="sig-name descname"><span class="pre">post</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/google_analytics_provider.html#GoogleAnalyticsProvider.post"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.google_analytics_provider.GoogleAnalyticsProvider.post" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.google_analytics_provider.Provider">
<span class="sig-prename descclassname"><span class="pre">api.google_analytics_provider.</span></span><span class="sig-name descname"><span class="pre">Provider</span></span><a class="headerlink" href="#api.google_analytics_provider.Provider" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#api.google_analytics_provider.GoogleAnalyticsProvider" title="api.google_analytics_provider.GoogleAnalyticsProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">GoogleAnalyticsProvider</span></code></a></p>
</dd></dl>

</section>
<section id="module-api.kansas_patron">
<span id="api-kansas-patron-module"></span><h2>api.kansas_patron module<a class="headerlink" href="#module-api.kansas_patron" title="Permalink to this heading">¶</a></h2>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.kansas_patron.AuthenticationProvider">
<span class="sig-prename descclassname"><span class="pre">api.kansas_patron.</span></span><span class="sig-name descname"><span class="pre">AuthenticationProvider</span></span><a class="headerlink" href="#api.kansas_patron.AuthenticationProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#api.kansas_patron.KansasAuthenticationAPI" title="api.kansas_patron.KansasAuthenticationAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">KansasAuthenticationAPI</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.kansas_patron.KansasAuthenticationAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.kansas_patron.</span></span><span class="sig-name descname"><span class="pre">KansasAuthenticationAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">integration</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analytics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/kansas_patron.html#KansasAuthenticationAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.kansas_patron.KansasAuthenticationAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.authenticator.BasicAuthenticationProvider" title="api.authenticator.BasicAuthenticationProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">BasicAuthenticationProvider</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.kansas_patron.KansasAuthenticationAPI.DESCRIPTION">
<span class="sig-name descname"><span class="pre">DESCRIPTION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">An</span> <span class="pre">authentication</span> <span class="pre">service</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">Kansas</span> <span class="pre">State</span> <span class="pre">Library.</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">'</span></em><a class="headerlink" href="#api.kansas_patron.KansasAuthenticationAPI.DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.kansas_patron.KansasAuthenticationAPI.DISPLAY_NAME">
<span class="sig-name descname"><span class="pre">DISPLAY_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Kansas'</span></em><a class="headerlink" href="#api.kansas_patron.KansasAuthenticationAPI.DISPLAY_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.kansas_patron.KansasAuthenticationAPI.NAME">
<span class="sig-name descname"><span class="pre">NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Kansas'</span></em><a class="headerlink" href="#api.kansas_patron.KansasAuthenticationAPI.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.kansas_patron.KansasAuthenticationAPI.SETTINGS">
<span class="sig-name descname"><span class="pre">SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'url',</span> <span class="pre">'format':</span> <span class="pre">'url',</span> <span class="pre">'label':</span> <span class="pre">l'URL',</span> <span class="pre">'default':</span> <span class="pre">'https://ks-kansaslibrary3m.civicplus.com/api/UserDetails',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'test_identifier',</span> <span class="pre">'label':</span> <span class="pre">l'Test</span> <span class="pre">Identifier',</span> <span class="pre">'description':</span> <span class="pre">l'A</span> <span class="pre">valid</span> <span class="pre">identifier</span> <span class="pre">that</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">used</span> <span class="pre">to</span> <span class="pre">test</span> <span class="pre">that</span> <span class="pre">patron</span> <span class="pre">authentication</span> <span class="pre">is</span> <span class="pre">working.</span> <span class="pre">An</span> <span class="pre">optional</span> <span class="pre">Test</span> <span class="pre">Password</span> <span class="pre">for</span> <span class="pre">this</span> <span class="pre">identifier</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">set</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">next</span> <span class="pre">section.',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'test_password',</span> <span class="pre">'label':</span> <span class="pre">l'Test</span> <span class="pre">Password',</span> <span class="pre">'description':</span> <span class="pre">l'The</span> <span class="pre">password</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">Test</span> <span class="pre">Identifier</span> <span class="pre">(above,</span> <span class="pre">in</span> <span class="pre">previous</span> <span class="pre">section).'},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_barcode_format',</span> <span class="pre">'label':</span> <span class="pre">l'Patron</span> <span class="pre">identifier</span> <span class="pre">barcode</span> <span class="pre">format',</span> <span class="pre">'description':</span> <span class="pre">l'Many</span> <span class="pre">libraries</span> <span class="pre">render</span> <span class="pre">patron</span> <span class="pre">identifiers</span> <span class="pre">as</span> <span class="pre">barcodes</span> <span class="pre">on</span> <span class="pre">physical</span> <span class="pre">library</span> <span class="pre">cards.</span> <span class="pre">If</span> <span class="pre">you</span> <span class="pre">specify</span> <span class="pre">the</span> <span class="pre">barcode</span> <span class="pre">format,</span> <span class="pre">patrons</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">able</span> <span class="pre">to</span> <span class="pre">scan</span> <span class="pre">their</span> <span class="pre">library</span> <span class="pre">cards</span> <span class="pre">with</span> <span class="pre">a</span> <span class="pre">camera</span> <span class="pre">instead</span> <span class="pre">of</span> <span class="pre">manually</span> <span class="pre">typing</span> <span class="pre">in</span> <span class="pre">their</span> <span class="pre">identifiers.',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'Codabar',</span> <span class="pre">'label':</span> <span class="pre">l'Patron</span> <span class="pre">identifiers</span> <span class="pre">are</span> <span class="pre">are</span> <span class="pre">rendered</span> <span class="pre">as</span> <span class="pre">barcodes</span> <span class="pre">in</span> <span class="pre">Codabar</span> <span class="pre">format'},</span> <span class="pre">{'key':</span> <span class="pre">'',</span> <span class="pre">'label':</span> <span class="pre">l'Patron</span> <span class="pre">identifiers</span> <span class="pre">are</span> <span class="pre">not</span> <span class="pre">rendered</span> <span class="pre">as</span> <span class="pre">barcodes'}],</span> <span class="pre">'default':</span> <span class="pre">'',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_regular_expression',</span> <span class="pre">'label':</span> <span class="pre">l'Identifier</span> <span class="pre">Regular</span> <span class="pre">Expression',</span> <span class="pre">'description':</span> <span class="pre">l'A</span> <span class="pre">patron's</span> <span class="pre">identifier</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">immediately</span> <span class="pre">rejected</span> <span class="pre">if</span> <span class="pre">it</span> <span class="pre">doesn't</span> <span class="pre">match</span> <span class="pre">this</span> <span class="pre">regular</span> <span class="pre">expression.'},</span> <span class="pre">{'key':</span> <span class="pre">'password_regular_expression',</span> <span class="pre">'label':</span> <span class="pre">l'Password</span> <span class="pre">Regular</span> <span class="pre">Expression',</span> <span class="pre">'description':</span> <span class="pre">l'A</span> <span class="pre">patron's</span> <span class="pre">password</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">immediately</span> <span class="pre">rejected</span> <span class="pre">if</span> <span class="pre">it</span> <span class="pre">doesn't</span> <span class="pre">match</span> <span class="pre">this</span> <span class="pre">regular</span> <span class="pre">expression.'},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_keyboard',</span> <span class="pre">'label':</span> <span class="pre">l'Keyboard</span> <span class="pre">for</span> <span class="pre">identifier</span> <span class="pre">entry',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'Default',</span> <span class="pre">'label':</span> <span class="pre">l'System</span> <span class="pre">default'},</span> <span class="pre">{'key':</span> <span class="pre">'Email</span> <span class="pre">address',</span> <span class="pre">'label':</span> <span class="pre">l'Email</span> <span class="pre">address</span> <span class="pre">entry'},</span> <span class="pre">{'key':</span> <span class="pre">'Number</span> <span class="pre">pad',</span> <span class="pre">'label':</span> <span class="pre">l'Number</span> <span class="pre">pad'}],</span> <span class="pre">'default':</span> <span class="pre">'Default',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'password_keyboard',</span> <span class="pre">'label':</span> <span class="pre">l'Keyboard</span> <span class="pre">for</span> <span class="pre">password</span> <span class="pre">entry',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'Default',</span> <span class="pre">'label':</span> <span class="pre">l'System</span> <span class="pre">default'},</span> <span class="pre">{'key':</span> <span class="pre">'Number</span> <span class="pre">pad',</span> <span class="pre">'label':</span> <span class="pre">l'Number</span> <span class="pre">pad'},</span> <span class="pre">{'key':</span> <span class="pre">'No</span> <span class="pre">input',</span> <span class="pre">'label':</span> <span class="pre">l'Patrons</span> <span class="pre">have</span> <span class="pre">no</span> <span class="pre">password</span> <span class="pre">and</span> <span class="pre">should</span> <span class="pre">not</span> <span class="pre">be</span> <span class="pre">prompted</span> <span class="pre">for</span> <span class="pre">one.'}],</span> <span class="pre">'default':</span> <span class="pre">'Default'},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_maximum_length',</span> <span class="pre">'label':</span> <span class="pre">l'Maximum</span> <span class="pre">identifier</span> <span class="pre">length',</span> <span class="pre">'type':</span> <span class="pre">'number'},</span> <span class="pre">{'key':</span> <span class="pre">'password_maximum_length',</span> <span class="pre">'label':</span> <span class="pre">l'Maximum</span> <span class="pre">password</span> <span class="pre">length',</span> <span class="pre">'type':</span> <span class="pre">'number'},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_label',</span> <span class="pre">'label':</span> <span class="pre">l'Label</span> <span class="pre">for</span> <span class="pre">identifier</span> <span class="pre">entry'},</span> <span class="pre">{'key':</span> <span class="pre">'password_label',</span> <span class="pre">'label':</span> <span class="pre">l'Label</span> <span class="pre">for</span> <span class="pre">password</span> <span class="pre">entry'}]</span></em><a class="headerlink" href="#api.kansas_patron.KansasAuthenticationAPI.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.kansas_patron.KansasAuthenticationAPI.create_authorize_request">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_authorize_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">barcode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/kansas_patron.html#KansasAuthenticationAPI.create_authorize_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.kansas_patron.KansasAuthenticationAPI.create_authorize_request" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.kansas_patron.KansasAuthenticationAPI.log">
<span class="sig-name descname"><span class="pre">log</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;Logger</span> <span class="pre">Kansas</span> <span class="pre">authentication</span> <span class="pre">API</span> <span class="pre">(WARNING)&gt;</span></em><a class="headerlink" href="#api.kansas_patron.KansasAuthenticationAPI.log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.kansas_patron.KansasAuthenticationAPI.parse_authorize_response">
<span class="sig-name descname"><span class="pre">parse_authorize_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/kansas_patron.html#KansasAuthenticationAPI.parse_authorize_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.kansas_patron.KansasAuthenticationAPI.parse_authorize_response" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.kansas_patron.KansasAuthenticationAPI.post_request">
<span class="sig-name descname"><span class="pre">post_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/kansas_patron.html#KansasAuthenticationAPI.post_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.kansas_patron.KansasAuthenticationAPI.post_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an HTTP request.</p>
<p>Defined solely so it can be overridden in the mock.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.kansas_patron.KansasAuthenticationAPI.remote_authenticate">
<span class="sig-name descname"><span class="pre">remote_authenticate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">username</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/kansas_patron.html#KansasAuthenticationAPI.remote_authenticate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.kansas_patron.KansasAuthenticationAPI.remote_authenticate" title="Permalink to this definition">¶</a></dt>
<dd><p>Does the source of truth approve of these credentials?</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>If the credentials are valid, but nothing more is
known about the patron, return True.</p>
</dd>
</dl>
<p>If the credentials are valid, _and_ enough information came
back in the request to also create a PatronInfo object, you
may create that object and return it to save a
remote patron lookup later.</p>
<p>If the credentials are invalid, return False or None.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-api.lanes">
<span id="api-lanes-module"></span><h2>api.lanes module<a class="headerlink" href="#module-api.lanes" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.lanes.ContributorFacets">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.lanes.</span></span><span class="sig-name descname"><span class="pre">ContributorFacets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">availability</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order_ascending</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled_facets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entrypoint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entrypoint_is_default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">constructor_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#ContributorFacets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.ContributorFacets" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.lane.DefaultSortOrderFacets" title="core.lane.DefaultSortOrderFacets"><code class="xref py py-class docutils literal notranslate"><span class="pre">DefaultSortOrderFacets</span></code></a></p>
<p>A list with a contributor restriction is, by default, sorted by
title.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.lanes.ContributorFacets.DEFAULT_SORT_ORDER">
<span class="sig-name descname"><span class="pre">DEFAULT_SORT_ORDER</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'title'</span></em><a class="headerlink" href="#api.lanes.ContributorFacets.DEFAULT_SORT_ORDER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.lanes.ContributorLane">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.lanes.</span></span><span class="sig-name descname"><span class="pre">ContributorLane</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">contributor</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">languages</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">audiences</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#ContributorLane"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.ContributorLane" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.lanes.DynamicLane" title="api.lanes.DynamicLane"><code class="xref py py-class docutils literal notranslate"><span class="pre">DynamicLane</span></code></a></p>
<p>A lane of Works written by a particular contributor</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.lanes.ContributorLane.CACHED_FEED_TYPE">
<span class="sig-name descname"><span class="pre">CACHED_FEED_TYPE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'contributor'</span></em><a class="headerlink" href="#api.lanes.ContributorLane.CACHED_FEED_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.lanes.ContributorLane.MAX_CACHE_AGE">
<span class="sig-name descname"><span class="pre">MAX_CACHE_AGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">86400</span></em><a class="headerlink" href="#api.lanes.ContributorLane.MAX_CACHE_AGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.lanes.ContributorLane.ROUTE">
<span class="sig-name descname"><span class="pre">ROUTE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'contributor'</span></em><a class="headerlink" href="#api.lanes.ContributorLane.ROUTE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.lanes.ContributorLane.modify_search_filter_hook">
<span class="sig-name descname"><span class="pre">modify_search_filter_hook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filter</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#ContributorLane.modify_search_filter_hook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.ContributorLane.modify_search_filter_hook" title="Permalink to this definition">¶</a></dt>
<dd><p>A hook method allowing subclasses to modify a Filter
object that’s about to find all the works in this WorkList.</p>
<p>This can avoid the need for complex subclasses of Facets.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.lanes.ContributorLane.overview_facets">
<span class="sig-name descname"><span class="pre">overview_facets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facets</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#ContributorLane.overview_facets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.ContributorLane.overview_facets" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a FeaturedFacets to a ContributorFacets suitable for
use in a grouped feed.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.lanes.ContributorLane.url_arguments">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">url_arguments</span></span><a class="headerlink" href="#api.lanes.ContributorLane.url_arguments" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.lanes.CrawlableCollectionBasedLane">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.lanes.</span></span><span class="sig-name descname"><span class="pre">CrawlableCollectionBasedLane</span></span><a class="reference internal" href="_modules/api/lanes.html#CrawlableCollectionBasedLane"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.CrawlableCollectionBasedLane" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.lanes.CrawlableLane" title="api.lanes.CrawlableLane"><code class="xref py py-class docutils literal notranslate"><span class="pre">CrawlableLane</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.lanes.CrawlableCollectionBasedLane.COLLECTION_ROUTE">
<span class="sig-name descname"><span class="pre">COLLECTION_ROUTE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'crawlable_collection_feed'</span></em><a class="headerlink" href="#api.lanes.CrawlableCollectionBasedLane.COLLECTION_ROUTE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.lanes.CrawlableCollectionBasedLane.LIBRARY_ROUTE">
<span class="sig-name descname"><span class="pre">LIBRARY_ROUTE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'crawlable_library_feed'</span></em><a class="headerlink" href="#api.lanes.CrawlableCollectionBasedLane.LIBRARY_ROUTE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.lanes.CrawlableCollectionBasedLane.MAX_CACHE_AGE">
<span class="sig-name descname"><span class="pre">MAX_CACHE_AGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">7200</span></em><a class="headerlink" href="#api.lanes.CrawlableCollectionBasedLane.MAX_CACHE_AGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.lanes.CrawlableCollectionBasedLane.initialize">
<span class="sig-name descname"><span class="pre">initialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library_or_collections</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#CrawlableCollectionBasedLane.initialize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.CrawlableCollectionBasedLane.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize with basic data.</p>
<p>This is not a constructor, to avoid conflicts with <cite>Lane</cite>, an
ORM object that subclasses this object but does not use this
initialization code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>library</strong> – Only Works available in this Library will be
included in lists.</p></li>
<li><p><strong>display_name</strong> – Name to display for this WorkList in the
user interface.</p></li>
<li><p><strong>genres</strong> – Only Works classified under one of these Genres
will be included in lists.</p></li>
<li><p><strong>audiences</strong> – Only Works classified under one of these audiences
will be included in lists.</p></li>
<li><p><strong>languages</strong> – Only Works in one of these languages will be
included in lists.</p></li>
<li><p><strong>media</strong> – Only Works in one of these media will be included
in lists.</p></li>
<li><p><strong>fiction</strong> – Only Works with this fiction status will be included
in lists.</p></li>
<li><p><strong>target_age</strong> – Only Works targeted at readers in this age range
will be included in lists.</p></li>
<li><p><strong>license_datasource</strong> – Only Works with a LicensePool from this
DataSource will be included in lists.</p></li>
<li><p><strong>customlists</strong> – Only Works included on one of these CustomLists
will be included in lists.</p></li>
<li><p><strong>list_datasource</strong> – Only Works included on a CustomList
associated with this DataSource will be included in
lists. This overrides any specific CustomLists provided in
<cite>customlists</cite>.</p></li>
<li><p><strong>list_seen_in_previous_days</strong> – Only Works that were added
to a matching CustomList within this number of days will be
included in lists.</p></li>
<li><p><strong>children</strong> – This WorkList has children, which are also
WorkLists.</p></li>
<li><p><strong>priority</strong> – A number indicating where this WorkList should
show up in relation to its siblings when it is the child of
some other WorkList.</p></li>
<li><p><strong>entrypoints</strong> – A list of EntryPoint classes representing
different ways of slicing up this WorkList.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.lanes.CrawlableCollectionBasedLane.url_arguments">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">url_arguments</span></span><a class="headerlink" href="#api.lanes.CrawlableCollectionBasedLane.url_arguments" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.lanes.CrawlableCustomListBasedLane">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.lanes.</span></span><span class="sig-name descname"><span class="pre">CrawlableCustomListBasedLane</span></span><a class="reference internal" href="_modules/api/lanes.html#CrawlableCustomListBasedLane"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.CrawlableCustomListBasedLane" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.lanes.CrawlableLane" title="api.lanes.CrawlableLane"><code class="xref py py-class docutils literal notranslate"><span class="pre">CrawlableLane</span></code></a></p>
<p>A lane that consists of all works in a single CustomList.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.lanes.CrawlableCustomListBasedLane.ROUTE">
<span class="sig-name descname"><span class="pre">ROUTE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'crawlable_list_feed'</span></em><a class="headerlink" href="#api.lanes.CrawlableCustomListBasedLane.ROUTE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.lanes.CrawlableCustomListBasedLane.initialize">
<span class="sig-name descname"><span class="pre">initialize</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">customlist</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#CrawlableCustomListBasedLane.initialize"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.CrawlableCustomListBasedLane.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize with basic data.</p>
<p>This is not a constructor, to avoid conflicts with <cite>Lane</cite>, an
ORM object that subclasses this object but does not use this
initialization code.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>library</strong> – Only Works available in this Library will be
included in lists.</p></li>
<li><p><strong>display_name</strong> – Name to display for this WorkList in the
user interface.</p></li>
<li><p><strong>genres</strong> – Only Works classified under one of these Genres
will be included in lists.</p></li>
<li><p><strong>audiences</strong> – Only Works classified under one of these audiences
will be included in lists.</p></li>
<li><p><strong>languages</strong> – Only Works in one of these languages will be
included in lists.</p></li>
<li><p><strong>media</strong> – Only Works in one of these media will be included
in lists.</p></li>
<li><p><strong>fiction</strong> – Only Works with this fiction status will be included
in lists.</p></li>
<li><p><strong>target_age</strong> – Only Works targeted at readers in this age range
will be included in lists.</p></li>
<li><p><strong>license_datasource</strong> – Only Works with a LicensePool from this
DataSource will be included in lists.</p></li>
<li><p><strong>customlists</strong> – Only Works included on one of these CustomLists
will be included in lists.</p></li>
<li><p><strong>list_datasource</strong> – Only Works included on a CustomList
associated with this DataSource will be included in
lists. This overrides any specific CustomLists provided in
<cite>customlists</cite>.</p></li>
<li><p><strong>list_seen_in_previous_days</strong> – Only Works that were added
to a matching CustomList within this number of days will be
included in lists.</p></li>
<li><p><strong>children</strong> – This WorkList has children, which are also
WorkLists.</p></li>
<li><p><strong>priority</strong> – A number indicating where this WorkList should
show up in relation to its siblings when it is the child of
some other WorkList.</p></li>
<li><p><strong>entrypoints</strong> – A list of EntryPoint classes representing
different ways of slicing up this WorkList.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.lanes.CrawlableCustomListBasedLane.url_arguments">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">url_arguments</span></span><a class="headerlink" href="#api.lanes.CrawlableCustomListBasedLane.url_arguments" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.lanes.CrawlableCustomListBasedLane.uses_customlists">
<span class="sig-name descname"><span class="pre">uses_customlists</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#api.lanes.CrawlableCustomListBasedLane.uses_customlists" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.lanes.CrawlableFacets">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.lanes.</span></span><span class="sig-name descname"><span class="pre">CrawlableFacets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">availability</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order_ascending</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled_facets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entrypoint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entrypoint_is_default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">constructor_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#CrawlableFacets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.CrawlableFacets" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.lane.Facets" title="core.lane.Facets"><code class="xref py py-class docutils literal notranslate"><span class="pre">Facets</span></code></a></p>
<p>A special Facets class for crawlable feeds.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.lanes.CrawlableFacets.CACHED_FEED_TYPE">
<span class="sig-name descname"><span class="pre">CACHED_FEED_TYPE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'crawlable'</span></em><a class="headerlink" href="#api.lanes.CrawlableFacets.CACHED_FEED_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.lanes.CrawlableFacets.SETTINGS">
<span class="sig-name descname"><span class="pre">SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'available':</span> <span class="pre">'all',</span> <span class="pre">'collection':</span> <span class="pre">'full',</span> <span class="pre">'order':</span> <span class="pre">'last_update'}</span></em><a class="headerlink" href="#api.lanes.CrawlableFacets.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.lanes.CrawlableFacets.available_facets">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">available_facets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facet_group_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#CrawlableFacets.available_facets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.CrawlableFacets.available_facets" title="Permalink to this definition">¶</a></dt>
<dd><p>Which facets are enabled for the given facet group?</p>
<p>You can override this to forcible enable or disable facets
that might not be enabled in library configuration, but you
can’t make up totally new facets.</p>
<p>TODO: This sytem would make more sense if you _could_ make up
totally new facets, maybe because each facet was represented
as a policy object rather than a key to code implemented
elsewhere in this class. Right now this method implies more
flexibility than actually exists.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.lanes.CrawlableFacets.default_facet">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">default_facet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facet_group_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#CrawlableFacets.default_facet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.CrawlableFacets.default_facet" title="Permalink to this definition">¶</a></dt>
<dd><p>The default value for the given facet group.</p>
<p>The default value must be one of the values returned by available_facets() above.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.lanes.CrawlableLane">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.lanes.</span></span><span class="sig-name descname"><span class="pre">CrawlableLane</span></span><a class="reference internal" href="_modules/api/lanes.html#CrawlableLane"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.CrawlableLane" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.lanes.DynamicLane" title="api.lanes.DynamicLane"><code class="xref py py-class docutils literal notranslate"><span class="pre">DynamicLane</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.lanes.CrawlableLane.MAX_CACHE_AGE">
<span class="sig-name descname"><span class="pre">MAX_CACHE_AGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">43200</span></em><a class="headerlink" href="#api.lanes.CrawlableLane.MAX_CACHE_AGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.lanes.DatabaseExclusiveWorkList">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.lanes.</span></span><span class="sig-name descname"><span class="pre">DatabaseExclusiveWorkList</span></span><a class="reference internal" href="_modules/api/lanes.html#DatabaseExclusiveWorkList"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.DatabaseExclusiveWorkList" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.lane.DatabaseBackedWorkList" title="core.lane.DatabaseBackedWorkList"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatabaseBackedWorkList</span></code></a></p>
<p>A DatabaseBackedWorkList that can _only_ get Works through the database.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.lanes.DatabaseExclusiveWorkList.works">
<span class="sig-name descname"><span class="pre">works</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#DatabaseExclusiveWorkList.works"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.DatabaseExclusiveWorkList.works" title="Permalink to this definition">¶</a></dt>
<dd><p>Use a search engine to obtain Work or Work-like objects that belong
in this WorkList.</p>
<p>Compare DatabaseBackedWorkList.works_from_database, which uses
a database query to obtain the same Work objects.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_db</strong> – A database connection.</p></li>
<li><p><strong>facets</strong> – A Facets object which may put additional
constraints on WorkList membership.</p></li>
<li><p><strong>pagination</strong> – A Pagination object indicating which part of
the WorkList the caller is looking at, and/or a limit on the
number of works to fetch.</p></li>
<li><p><strong>kwargs</strong> – Different implementations may fetch the
list of works from different sources and may need different
keyword arguments.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of Work or Work-like objects, or a database query
that generates such a list when executed.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.lanes.DynamicLane">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.lanes.</span></span><span class="sig-name descname"><span class="pre">DynamicLane</span></span><a class="reference internal" href="_modules/api/lanes.html#DynamicLane"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.DynamicLane" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.lane.WorkList" title="core.lane.WorkList"><code class="xref py py-class docutils literal notranslate"><span class="pre">WorkList</span></code></a></p>
<p>A WorkList that’s used to from an OPDS lane, but isn’t a Lane
in the database.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.lanes.HasSeriesFacets">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.lanes.</span></span><span class="sig-name descname"><span class="pre">HasSeriesFacets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">availability</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order_ascending</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled_facets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entrypoint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entrypoint_is_default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">constructor_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#HasSeriesFacets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.HasSeriesFacets" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.lane.Facets" title="core.lane.Facets"><code class="xref py py-class docutils literal notranslate"><span class="pre">Facets</span></code></a></p>
<p>A faceting object for a feed containg books guaranteed
to belong to _some_ series.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.lanes.HasSeriesFacets.modify_search_filter">
<span class="sig-name descname"><span class="pre">modify_search_filter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filter</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#HasSeriesFacets.modify_search_filter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.HasSeriesFacets.modify_search_filter" title="Permalink to this definition">¶</a></dt>
<dd><p>Modify the given external_search.Filter object
so that it reflects the settings of this Facets object.</p>
<p>This is the Elasticsearch equivalent of apply(). However, the
Elasticsearch implementation of (e.g.) the meaning of the
different availabilty statuses is kept in Filter.build().</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.lanes.JackpotFacets">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.lanes.</span></span><span class="sig-name descname"><span class="pre">JackpotFacets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">availability</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order_ascending</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled_facets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entrypoint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entrypoint_is_default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">constructor_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#JackpotFacets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.JackpotFacets" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.lane.Facets" title="core.lane.Facets"><code class="xref py py-class docutils literal notranslate"><span class="pre">Facets</span></code></a></p>
<p>A faceting object for a jackpot feed.</p>
<p>Unlike other faceting objects, AVAILABLE_NOT_NOW is an acceptable
option for the availability facet.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.lanes.JackpotFacets.available_facets">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">available_facets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facet_group_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#JackpotFacets.available_facets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.JackpotFacets.available_facets" title="Permalink to this definition">¶</a></dt>
<dd><p>Which facets are enabled for the given facet group?</p>
<p>You can override this to forcible enable or disable facets
that might not be enabled in library configuration, but you
can’t make up totally new facets.</p>
<p>TODO: This sytem would make more sense if you _could_ make up
totally new facets, maybe because each facet was represented
as a policy object rather than a key to code implemented
elsewhere in this class. Right now this method implies more
flexibility than actually exists.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.lanes.JackpotFacets.default_facet">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">default_facet</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">config</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facet_group_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#JackpotFacets.default_facet"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.JackpotFacets.default_facet" title="Permalink to this definition">¶</a></dt>
<dd><p>The default value for the given facet group.</p>
<p>The default value must be one of the values returned by available_facets() above.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.lanes.JackpotWorkList">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.lanes.</span></span><span class="sig-name descname"><span class="pre">JackpotWorkList</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facets</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#JackpotWorkList"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.JackpotWorkList" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.lane.WorkList" title="core.lane.WorkList"><code class="xref py py-class docutils literal notranslate"><span class="pre">WorkList</span></code></a></p>
<p>A WorkList guaranteed to, so far as possible, contain the exact
selection of books necessary to perform common QA tasks.</p>
<p>This makes it easy to write integration tests that work on real
circulation managers and real books.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.lanes.JackpotWorkList.works">
<span class="sig-name descname"><span class="pre">works</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#JackpotWorkList.works"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.JackpotWorkList.works" title="Permalink to this definition">¶</a></dt>
<dd><p>This worklist never has works of its own.</p>
<p>Only its children have works.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.lanes.KnownOverviewFacetsWorkList">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.lanes.</span></span><span class="sig-name descname"><span class="pre">KnownOverviewFacetsWorkList</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">facets</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#KnownOverviewFacetsWorkList"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.KnownOverviewFacetsWorkList" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.lane.WorkList" title="core.lane.WorkList"><code class="xref py py-class docutils literal notranslate"><span class="pre">WorkList</span></code></a></p>
<p>A WorkList whose defining feature is that the Facets object
to be used when generating a grouped feed is known in advance.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.lanes.KnownOverviewFacetsWorkList.overview_facets">
<span class="sig-name descname"><span class="pre">overview_facets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facets</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#KnownOverviewFacetsWorkList.overview_facets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.KnownOverviewFacetsWorkList.overview_facets" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the faceting object to be used when generating a grouped
feed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>_db</strong> – Ignored – only present for API compatibility.</p></li>
<li><p><strong>facets</strong> – Ignored – only present for API compatibility.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.lanes.RecommendationLane">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.lanes.</span></span><span class="sig-name descname"><span class="pre">RecommendationLane</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">work</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">novelist_api</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#RecommendationLane"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.RecommendationLane" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.lanes.WorkBasedLane" title="api.lanes.WorkBasedLane"><code class="xref py py-class docutils literal notranslate"><span class="pre">WorkBasedLane</span></code></a></p>
<p>A lane of recommended Works based on a particular Work</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.lanes.RecommendationLane.CACHED_FEED_TYPE">
<span class="sig-name descname"><span class="pre">CACHED_FEED_TYPE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'recommendations'</span></em><a class="headerlink" href="#api.lanes.RecommendationLane.CACHED_FEED_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.lanes.RecommendationLane.DISPLAY_NAME">
<span class="sig-name descname"><span class="pre">DISPLAY_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Titles</span> <span class="pre">recommended</span> <span class="pre">by</span> <span class="pre">NoveList'</span></em><a class="headerlink" href="#api.lanes.RecommendationLane.DISPLAY_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.lanes.RecommendationLane.MAX_CACHE_AGE">
<span class="sig-name descname"><span class="pre">MAX_CACHE_AGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">86400</span></em><a class="headerlink" href="#api.lanes.RecommendationLane.MAX_CACHE_AGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.lanes.RecommendationLane.ROUTE">
<span class="sig-name descname"><span class="pre">ROUTE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'recommendations'</span></em><a class="headerlink" href="#api.lanes.RecommendationLane.ROUTE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.lanes.RecommendationLane.fetch_recommendations">
<span class="sig-name descname"><span class="pre">fetch_recommendations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#RecommendationLane.fetch_recommendations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.RecommendationLane.fetch_recommendations" title="Permalink to this definition">¶</a></dt>
<dd><p>Get identifiers of recommendations for this LicensePool</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.lanes.RecommendationLane.modify_search_filter_hook">
<span class="sig-name descname"><span class="pre">modify_search_filter_hook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filter</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#RecommendationLane.modify_search_filter_hook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.RecommendationLane.modify_search_filter_hook" title="Permalink to this definition">¶</a></dt>
<dd><p>Find Works whose Identifiers include the ISBNs returned
by an external recommendation engine.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>filter</strong> – A Filter object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.lanes.RecommendationLane.overview_facets">
<span class="sig-name descname"><span class="pre">overview_facets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facets</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#RecommendationLane.overview_facets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.RecommendationLane.overview_facets" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a generic FeaturedFacets to some other faceting object,
suitable for showing an overview of this WorkList in a grouped
feed.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.lanes.RelatedBooksLane">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.lanes.</span></span><span class="sig-name descname"><span class="pre">RelatedBooksLane</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">work</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">novelist_api</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#RelatedBooksLane"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.RelatedBooksLane" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.lanes.WorkBasedLane" title="api.lanes.WorkBasedLane"><code class="xref py py-class docutils literal notranslate"><span class="pre">WorkBasedLane</span></code></a></p>
<p>A lane of Works all related to a given Work by various criteria.</p>
<p>Each criterion is represented by another WorkBaseLane class:</p>
<ul class="simple">
<li><p>ContributorLane: Works by one of the contributors to this work.</p></li>
<li><p>SeriesLane: Works in the same series.</p></li>
<li><p>RecommendationLane: Works provided by a third-party recommendation
service.</p></li>
</ul>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.lanes.RelatedBooksLane.CACHED_FEED_TYPE">
<span class="sig-name descname"><span class="pre">CACHED_FEED_TYPE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'related'</span></em><a class="headerlink" href="#api.lanes.RelatedBooksLane.CACHED_FEED_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.lanes.RelatedBooksLane.DISPLAY_NAME">
<span class="sig-name descname"><span class="pre">DISPLAY_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Related</span> <span class="pre">Books'</span></em><a class="headerlink" href="#api.lanes.RelatedBooksLane.DISPLAY_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.lanes.RelatedBooksLane.MAX_CACHE_AGE">
<span class="sig-name descname"><span class="pre">MAX_CACHE_AGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">86400</span></em><a class="headerlink" href="#api.lanes.RelatedBooksLane.MAX_CACHE_AGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.lanes.RelatedBooksLane.ROUTE">
<span class="sig-name descname"><span class="pre">ROUTE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'related_books'</span></em><a class="headerlink" href="#api.lanes.RelatedBooksLane.ROUTE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.lanes.RelatedBooksLane.works">
<span class="sig-name descname"><span class="pre">works</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#RelatedBooksLane.works"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.RelatedBooksLane.works" title="Permalink to this definition">¶</a></dt>
<dd><p>This lane never has works of its own.</p>
<p>Only its sublanes have works.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.lanes.SeriesFacets">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.lanes.</span></span><span class="sig-name descname"><span class="pre">SeriesFacets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">availability</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">order_ascending</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">enabled_facets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entrypoint</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entrypoint_is_default</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">constructor_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#SeriesFacets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.SeriesFacets" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.lane.DefaultSortOrderFacets" title="core.lane.DefaultSortOrderFacets"><code class="xref py py-class docutils literal notranslate"><span class="pre">DefaultSortOrderFacets</span></code></a></p>
<p>A list with a series restriction is ordered by series position by
default.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.lanes.SeriesFacets.DEFAULT_SORT_ORDER">
<span class="sig-name descname"><span class="pre">DEFAULT_SORT_ORDER</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'series'</span></em><a class="headerlink" href="#api.lanes.SeriesFacets.DEFAULT_SORT_ORDER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.lanes.SeriesLane">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.lanes.</span></span><span class="sig-name descname"><span class="pre">SeriesLane</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#SeriesLane"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.SeriesLane" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.lanes.DynamicLane" title="api.lanes.DynamicLane"><code class="xref py py-class docutils literal notranslate"><span class="pre">DynamicLane</span></code></a></p>
<p>A lane of Works in a particular series.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.lanes.SeriesLane.CACHED_FEED_TYPE">
<span class="sig-name descname"><span class="pre">CACHED_FEED_TYPE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'series'</span></em><a class="headerlink" href="#api.lanes.SeriesLane.CACHED_FEED_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.lanes.SeriesLane.MAX_CACHE_AGE">
<span class="sig-name descname"><span class="pre">MAX_CACHE_AGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">86400</span></em><a class="headerlink" href="#api.lanes.SeriesLane.MAX_CACHE_AGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.lanes.SeriesLane.ROUTE">
<span class="sig-name descname"><span class="pre">ROUTE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'series'</span></em><a class="headerlink" href="#api.lanes.SeriesLane.ROUTE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.lanes.SeriesLane.modify_search_filter_hook">
<span class="sig-name descname"><span class="pre">modify_search_filter_hook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filter</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#SeriesLane.modify_search_filter_hook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.SeriesLane.modify_search_filter_hook" title="Permalink to this definition">¶</a></dt>
<dd><p>A hook method allowing subclasses to modify a Filter
object that’s about to find all the works in this WorkList.</p>
<p>This can avoid the need for complex subclasses of Facets.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.lanes.SeriesLane.overview_facets">
<span class="sig-name descname"><span class="pre">overview_facets</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facets</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#SeriesLane.overview_facets"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.SeriesLane.overview_facets" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a FeaturedFacets to a SeriesFacets suitable for
use in a grouped feed. Our contribution to a grouped feed will
be ordered by series position.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.lanes.SeriesLane.url_arguments">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">url_arguments</span></span><a class="headerlink" href="#api.lanes.SeriesLane.url_arguments" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.lanes.WorkBasedLane">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.lanes.</span></span><span class="sig-name descname"><span class="pre">WorkBasedLane</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">work</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">children</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#WorkBasedLane"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.WorkBasedLane" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.lanes.DynamicLane" title="api.lanes.DynamicLane"><code class="xref py py-class docutils literal notranslate"><span class="pre">DynamicLane</span></code></a></p>
<p>A lane that shows works related to one particular Work.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.lanes.WorkBasedLane.DISPLAY_NAME">
<span class="sig-name descname"><span class="pre">DISPLAY_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#api.lanes.WorkBasedLane.DISPLAY_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.lanes.WorkBasedLane.ROUTE">
<span class="sig-name descname"><span class="pre">ROUTE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#api.lanes.WorkBasedLane.ROUTE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.lanes.WorkBasedLane.accessible_to">
<span class="sig-name descname"><span class="pre">accessible_to</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#WorkBasedLane.accessible_to"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.WorkBasedLane.accessible_to" title="Permalink to this definition">¶</a></dt>
<dd><p>In addition to the restrictions imposed by the superclass, a lane
based on a specific Work is accessible to a Patron only if the
Work itself is age-appropriate for the patron.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>patron</strong> – A Patron</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A boolean</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.lanes.WorkBasedLane.append_child">
<span class="sig-name descname"><span class="pre">append_child</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">worklist</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#WorkBasedLane.append_child"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.WorkBasedLane.append_child" title="Permalink to this definition">¶</a></dt>
<dd><p>Add another Worklist as a child of this one and change its
configuration to make sure its results fit in with this lane.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.lanes.WorkBasedLane.audiences_list_from_source">
<span class="sig-name descname"><span class="pre">audiences_list_from_source</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#WorkBasedLane.audiences_list_from_source"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.WorkBasedLane.audiences_list_from_source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.lanes.WorkBasedLane.url_arguments">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">url_arguments</span></span><a class="headerlink" href="#api.lanes.WorkBasedLane.url_arguments" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="api.lanes.create_default_lanes">
<span class="sig-prename descclassname"><span class="pre">api.lanes.</span></span><span class="sig-name descname"><span class="pre">create_default_lanes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">library</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#create_default_lanes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.create_default_lanes" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the lanes for the given library to the default.</p>
<p>The database will have the following top-level lanes for
each large-collection:
‘Adult Fiction’, ‘Adult Nonfiction’, ‘Young Adult Fiction’,
‘Young Adult Nonfiction’, and ‘Children’.
Each lane contains additional sublanes.
If an NYT integration is configured, there will also be a
‘Best Sellers’ top-level lane.</p>
<p>If there are any small- or tiny-collection languages, the database
will also have a top-level lane called ‘World Languages’. The
‘World Languages’ lane will have a sublane for every small- and
tiny-collection languages. The small-collection languages will
have “Adult Fiction”, “Adult Nonfiction”, and “Children/YA”
sublanes; the tiny-collection languages will not have any sublanes.</p>
<p>If run on a Library that already has Lane configuration, this can
be an extremely destructive method. All new Lanes will be visible
and all Lanes based on CustomLists (but not the CustomLists
themselves) will be destroyed.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="api.lanes.create_lane_for_small_collection">
<span class="sig-prename descclassname"><span class="pre">api.lanes.</span></span><span class="sig-name descname"><span class="pre">create_lane_for_small_collection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">languages</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">priority</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#create_lane_for_small_collection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.create_lane_for_small_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a lane (with sublanes) for a small collection based on language,
if the language exists in the lookup table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>parent</strong> – The parent of the new lane.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="api.lanes.create_lane_for_tiny_collection">
<span class="sig-prename descclassname"><span class="pre">api.lanes.</span></span><span class="sig-name descname"><span class="pre">create_lane_for_tiny_collection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">parent</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">languages</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">priority</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#create_lane_for_tiny_collection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.create_lane_for_tiny_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a single lane for a tiny collection based on language,
if the language exists in the lookup table.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>parent</strong> – The parent of the new lane.</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="api.lanes.create_lanes_for_large_collection">
<span class="sig-prename descclassname"><span class="pre">api.lanes.</span></span><span class="sig-name descname"><span class="pre">create_lanes_for_large_collection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">languages</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">priority</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#create_lanes_for_large_collection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.create_lanes_for_large_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure that the lanes appropriate to a large collection are all
present.</p>
<p>This means:</p>
<ul class="simple">
<li><dl class="simple">
<dt>A “%(language)s Adult Fiction” lane containing sublanes for each fiction</dt><dd><p>genre.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>A “%(language)s Adult Nonfiction” lane containing sublanes for</dt><dd><p>each nonfiction genre.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>A “%(language)s YA Fiction” lane containing sublanes for the</dt><dd><p>most popular YA fiction genres.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>A “%(language)s YA Nonfiction” lane containing sublanes for the</dt><dd><p>most popular YA fiction genres.</p>
</dd>
</dl>
</li>
<li><dl class="simple">
<dt>A “%(language)s Children and Middle Grade” lane containing</dt><dd><p>sublanes for childrens’ books at different age levels.</p>
</dd>
</dl>
</li>
</ul>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>library</strong> – Newly created lanes will be associated with this
library.</p></li>
<li><p><strong>languages</strong> – Newly created lanes will contain only books
in these languages.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A list of top-level Lane objects.</p>
</dd>
</dl>
<p>TODO: If there are multiple large collections, their top-level lanes do
not have distinct display names.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="api.lanes.create_world_languages_lane">
<span class="sig-prename descclassname"><span class="pre">api.lanes.</span></span><span class="sig-name descname"><span class="pre">create_world_languages_lane</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">small_languages</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">tiny_languages</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">priority</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#create_world_languages_lane"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.create_world_languages_lane" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a lane called ‘World Languages’ whose sublanes represent
the non-large language collections available to this library.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="api.lanes.lane_from_genres">
<span class="sig-prename descclassname"><span class="pre">api.lanes.</span></span><span class="sig-name descname"><span class="pre">lane_from_genres</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">genres</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">display_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exclude_genres</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">priority</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">0</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">audiences</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">extra_args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#lane_from_genres"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.lane_from_genres" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn genre info into a Lane object.</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="api.lanes.load_lanes">
<span class="sig-prename descclassname"><span class="pre">api.lanes.</span></span><span class="sig-name descname"><span class="pre">load_lanes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">library</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#load_lanes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.lanes.load_lanes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a WorkList that reflects the current lane structure of the
Library.</p>
<p>If no top-level visible lanes are configured, the WorkList will be
configured to show every book in the collection.</p>
<p>If a single top-level Lane is configured, it will returned as the
WorkList.</p>
<p>Otherwise, a WorkList containing the visible top-level lanes is
returned.</p>
</dd></dl>

</section>
<section id="module-api.local_analytics_exporter">
<span id="api-local-analytics-exporter-module"></span><h2>api.local_analytics_exporter module<a class="headerlink" href="#module-api.local_analytics_exporter" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.local_analytics_exporter.LocalAnalyticsExporter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.local_analytics_exporter.</span></span><span class="sig-name descname"><span class="pre">LocalAnalyticsExporter</span></span><a class="reference internal" href="_modules/api/local_analytics_exporter.html#LocalAnalyticsExporter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.local_analytics_exporter.LocalAnalyticsExporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Export large numbers of analytics events in CSV format.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.local_analytics_exporter.LocalAnalyticsExporter.analytics_query">
<span class="sig-name descname"><span class="pre">analytics_query</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">library</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/local_analytics_exporter.html#LocalAnalyticsExporter.analytics_query"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.local_analytics_exporter.LocalAnalyticsExporter.analytics_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a database query that fetches rows of analytics data.</p>
<p>This method uses low-level SQLAlchemy code to do all
calculations and data conversations in the database. It’s
modeled after Work.to_search_documents, which generates a
large JSON document entirely in the database.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>An iterator of results, each of which can be written
directly to a CSV file.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.local_analytics_exporter.LocalAnalyticsExporter.export">
<span class="sig-name descname"><span class="pre">export</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">end</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">locations</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">library</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/local_analytics_exporter.html#LocalAnalyticsExporter.export"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.local_analytics_exporter.LocalAnalyticsExporter.export" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-api.marc">
<span id="api-marc-module"></span><h2>api.marc module<a class="headerlink" href="#module-api.marc" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.marc.LibraryAnnotator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.marc.</span></span><span class="sig-name descname"><span class="pre">LibraryAnnotator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/marc.html#LibraryAnnotator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.marc.LibraryAnnotator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.marc.Annotator" title="core.marc.Annotator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotator</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.marc.LibraryAnnotator.add_web_client_urls">
<span class="sig-name descname"><span class="pre">add_web_client_urls</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">integration</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/marc.html#LibraryAnnotator.add_web_client_urls"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.marc.LibraryAnnotator.add_web_client_urls" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.marc.LibraryAnnotator.annotate_work_record">
<span class="sig-name descname"><span class="pre">annotate_work_record</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">work</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_license_pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edition</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">record</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">integration</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">updated</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/marc.html#LibraryAnnotator.annotate_work_record"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.marc.LibraryAnnotator.annotate_work_record" title="Permalink to this definition">¶</a></dt>
<dd><p>Add metadata from this work to a MARC record.</p>
<dl class="field-list simple">
<dt class="field-odd">Work<span class="colon">:</span></dt>
<dd class="field-odd"><p>The Work whose record is being annotated.</p>
</dd>
<dt class="field-even">Active_license_pool<span class="colon">:</span></dt>
<dd class="field-even"><p>Of all the LicensePools associated with this
Work, the client has expressed interest in this one.</p>
</dd>
<dt class="field-odd">Edition<span class="colon">:</span></dt>
<dd class="field-odd"><p>The Edition to use when associating bibliographic
metadata with this entry.</p>
</dd>
<dt class="field-even">Identifier<span class="colon">:</span></dt>
<dd class="field-even"><p>Of all the Identifiers associated with this
Work, the client has expressed interest in this one.</p>
</dd>
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>record</strong> – A MARCRecord object to be annotated.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.marc.LibraryAnnotator.value">
<span class="sig-name descname"><span class="pre">value</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">integration</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/marc.html#LibraryAnnotator.value"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.marc.LibraryAnnotator.value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-api.metadata_wrangler">
<span id="api-metadata-wrangler-module"></span><h2>api.metadata_wrangler module<a class="headerlink" href="#module-api.metadata_wrangler" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.metadata_wrangler.BaseMetadataWranglerCoverageProvider">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.metadata_wrangler.</span></span><span class="sig-name descname"><span class="pre">BaseMetadataWranglerCoverageProvider</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lookup_client</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#BaseMetadataWranglerCoverageProvider"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.metadata_wrangler.BaseMetadataWranglerCoverageProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.coverage.OPDSImportCoverageProvider" title="api.coverage.OPDSImportCoverageProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">OPDSImportCoverageProvider</span></code></a></p>
<p>Makes sure the metadata wrangler knows about all Identifiers
licensed to a Collection.</p>
<p>This has two subclasses: MetadataWranglerCollectionRegistrar
(which adds Identifiers from a circulation manager’s catalog to
the corresponding catalog on the metadata wrangler) and
MetadataWranglerCollectionReaper (which removes Identifiers from
the metadata wrangler catalog once they no longer exist in the
circulation manager’s catalog).</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.metadata_wrangler.BaseMetadataWranglerCoverageProvider.COVERAGE_COUNTS_FOR_EVERY_COLLECTION">
<span class="sig-name descname"><span class="pre">COVERAGE_COUNTS_FOR_EVERY_COLLECTION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#api.metadata_wrangler.BaseMetadataWranglerCoverageProvider.COVERAGE_COUNTS_FOR_EVERY_COLLECTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.metadata_wrangler.BaseMetadataWranglerCoverageProvider.DATA_SOURCE_NAME">
<span class="sig-name descname"><span class="pre">DATA_SOURCE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Library</span> <span class="pre">Simplified</span> <span class="pre">metadata</span> <span class="pre">wrangler'</span></em><a class="headerlink" href="#api.metadata_wrangler.BaseMetadataWranglerCoverageProvider.DATA_SOURCE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.metadata_wrangler.BaseMetadataWranglerCoverageProvider.INPUT_IDENTIFIER_TYPES">
<span class="sig-name descname"><span class="pre">INPUT_IDENTIFIER_TYPES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['Overdrive</span> <span class="pre">ID',</span> <span class="pre">'Bibliotheca</span> <span class="pre">ID',</span> <span class="pre">'Axis</span> <span class="pre">360</span> <span class="pre">ID',</span> <span class="pre">'RBdigital</span> <span class="pre">ID',</span> <span class="pre">'URI']</span></em><a class="headerlink" href="#api.metadata_wrangler.BaseMetadataWranglerCoverageProvider.INPUT_IDENTIFIER_TYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.metadata_wrangler.BaseMetadataWranglerCoverageProvider.create_identifier_mapping">
<span class="sig-name descname"><span class="pre">create_identifier_mapping</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#BaseMetadataWranglerCoverageProvider.create_identifier_mapping"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.metadata_wrangler.BaseMetadataWranglerCoverageProvider.create_identifier_mapping" title="Permalink to this definition">¶</a></dt>
<dd><p>The metadata wrangler can look up ISBNs and Overdrive
identifiers. All other identifier types need to be mapped to
ISBNs.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.metadata_wrangler.MWAuxiliaryMetadataMonitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.metadata_wrangler.</span></span><span class="sig-name descname"><span class="pre">MWAuxiliaryMetadataMonitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lookup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">provider</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MWAuxiliaryMetadataMonitor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.metadata_wrangler.MWAuxiliaryMetadataMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.metadata_wrangler.MetadataWranglerCollectionMonitor" title="api.metadata_wrangler.MetadataWranglerCollectionMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetadataWranglerCollectionMonitor</span></code></a></p>
<p>Retrieves and processes requests for needed third-party metadata
from the Metadata Wrangler.</p>
<p>The Wrangler will only request metadata if it can’t process an
identifier from its own third-party resources. In these cases (e.g. ISBNs
from Axis 360 or Bibliotheca), the wrangler will put out a call for metadata
that it needs to process the identifier. This monitor answers that call.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.metadata_wrangler.MWAuxiliaryMetadataMonitor.DEFAULT_START_TIME">
<span class="sig-name descname"><span class="pre">DEFAULT_START_TIME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;object</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#api.metadata_wrangler.MWAuxiliaryMetadataMonitor.DEFAULT_START_TIME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.metadata_wrangler.MWAuxiliaryMetadataMonitor.SERVICE_NAME">
<span class="sig-name descname"><span class="pre">SERVICE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Metadata</span> <span class="pre">Wrangler</span> <span class="pre">Auxiliary</span> <span class="pre">Metadata</span> <span class="pre">Delivery'</span></em><a class="headerlink" href="#api.metadata_wrangler.MWAuxiliaryMetadataMonitor.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.metadata_wrangler.MWAuxiliaryMetadataMonitor.endpoint">
<span class="sig-name descname"><span class="pre">endpoint</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MWAuxiliaryMetadataMonitor.endpoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.metadata_wrangler.MWAuxiliaryMetadataMonitor.endpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.metadata_wrangler.MWAuxiliaryMetadataMonitor.get_identifiers">
<span class="sig-name descname"><span class="pre">get_identifiers</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MWAuxiliaryMetadataMonitor.get_identifiers"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.metadata_wrangler.MWAuxiliaryMetadataMonitor.get_identifiers" title="Permalink to this definition">¶</a></dt>
<dd><p>Pulls mapped identifiers from a feed of SimplifiedOPDSMessages.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.metadata_wrangler.MWAuxiliaryMetadataMonitor.run_once">
<span class="sig-name descname"><span class="pre">run_once</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">progress</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MWAuxiliaryMetadataMonitor.run_once"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.metadata_wrangler.MWAuxiliaryMetadataMonitor.run_once" title="Permalink to this definition">¶</a></dt>
<dd><p>Do the actual work of the Monitor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>progress</strong> – A TimestampData representing the
work done by the Monitor up to this point.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A TimestampData representing how you want the
Monitor’s entry in the <cite>timestamps</cite> table to look like
from this point on.  NOTE: Modifying the incoming
<cite>progress</cite> and returning it is generally a bad idea,
because the incoming <cite>progress</cite> is full of old
data. Instead, return a new TimestampData containing data
for only the fields you want to set.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.metadata_wrangler.MWCollectionUpdateMonitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.metadata_wrangler.</span></span><span class="sig-name descname"><span class="pre">MWCollectionUpdateMonitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lookup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MWCollectionUpdateMonitor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.metadata_wrangler.MWCollectionUpdateMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.metadata_wrangler.MetadataWranglerCollectionMonitor" title="api.metadata_wrangler.MetadataWranglerCollectionMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">MetadataWranglerCollectionMonitor</span></code></a></p>
<p>Retrieves updated metadata from the Metadata Wrangler</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.metadata_wrangler.MWCollectionUpdateMonitor.DEFAULT_START_TIME">
<span class="sig-name descname"><span class="pre">DEFAULT_START_TIME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;object</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#api.metadata_wrangler.MWCollectionUpdateMonitor.DEFAULT_START_TIME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.metadata_wrangler.MWCollectionUpdateMonitor.SERVICE_NAME">
<span class="sig-name descname"><span class="pre">SERVICE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Metadata</span> <span class="pre">Wrangler</span> <span class="pre">Collection</span> <span class="pre">Updates'</span></em><a class="headerlink" href="#api.metadata_wrangler.MWCollectionUpdateMonitor.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.metadata_wrangler.MWCollectionUpdateMonitor.endpoint">
<span class="sig-name descname"><span class="pre">endpoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timestamp</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MWCollectionUpdateMonitor.endpoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.metadata_wrangler.MWCollectionUpdateMonitor.endpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.metadata_wrangler.MWCollectionUpdateMonitor.import_one_feed">
<span class="sig-name descname"><span class="pre">import_one_feed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">timestamp</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MWCollectionUpdateMonitor.import_one_feed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.metadata_wrangler.MWCollectionUpdateMonitor.import_one_feed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.metadata_wrangler.MWCollectionUpdateMonitor.run_once">
<span class="sig-name descname"><span class="pre">run_once</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">progress</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MWCollectionUpdateMonitor.run_once"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.metadata_wrangler.MWCollectionUpdateMonitor.run_once" title="Permalink to this definition">¶</a></dt>
<dd><p>Ask the metadata wrangler about titles that have changed
since the last time this monitor ran.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>progress</strong> – A TimestampData representing the span of time
covered during the previous run of this monitor.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A modified TimestampData.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.metadata_wrangler.MetadataUploadCoverageProvider">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.metadata_wrangler.</span></span><span class="sig-name descname"><span class="pre">MetadataUploadCoverageProvider</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MetadataUploadCoverageProvider"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.metadata_wrangler.MetadataUploadCoverageProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.metadata_wrangler.BaseMetadataWranglerCoverageProvider" title="api.metadata_wrangler.BaseMetadataWranglerCoverageProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseMetadataWranglerCoverageProvider</span></code></a></p>
<p>Provide coverage for identifiers by uploading OPDS metadata to
the metadata wrangler.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.metadata_wrangler.MetadataUploadCoverageProvider.DATA_SOURCE_NAME">
<span class="sig-name descname"><span class="pre">DATA_SOURCE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Library</span> <span class="pre">Simplified</span> <span class="pre">Internal</span> <span class="pre">Process'</span></em><a class="headerlink" href="#api.metadata_wrangler.MetadataUploadCoverageProvider.DATA_SOURCE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.metadata_wrangler.MetadataUploadCoverageProvider.DEFAULT_BATCH_SIZE">
<span class="sig-name descname"><span class="pre">DEFAULT_BATCH_SIZE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">25</span></em><a class="headerlink" href="#api.metadata_wrangler.MetadataUploadCoverageProvider.DEFAULT_BATCH_SIZE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.metadata_wrangler.MetadataUploadCoverageProvider.OPERATION">
<span class="sig-name descname"><span class="pre">OPERATION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'metadata-upload'</span></em><a class="headerlink" href="#api.metadata_wrangler.MetadataUploadCoverageProvider.OPERATION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.metadata_wrangler.MetadataUploadCoverageProvider.SERVICE_NAME">
<span class="sig-name descname"><span class="pre">SERVICE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Metadata</span> <span class="pre">Upload</span> <span class="pre">Coverage</span> <span class="pre">Provider'</span></em><a class="headerlink" href="#api.metadata_wrangler.MetadataUploadCoverageProvider.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.metadata_wrangler.MetadataUploadCoverageProvider.process_batch">
<span class="sig-name descname"><span class="pre">process_batch</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">batch</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MetadataUploadCoverageProvider.process_batch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.metadata_wrangler.MetadataUploadCoverageProvider.process_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an OPDS feed from a batch and upload it to the metadata client.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.metadata_wrangler.MetadataWranglerCollectionMonitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.metadata_wrangler.</span></span><span class="sig-name descname"><span class="pre">MetadataWranglerCollectionMonitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lookup</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MetadataWranglerCollectionMonitor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.metadata_wrangler.MetadataWranglerCollectionMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.monitor.CollectionMonitor" title="core.monitor.CollectionMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">CollectionMonitor</span></code></a></p>
<p>Abstract base CollectionMonitor with helper methods for interactions
with the Metadata Wrangler.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.metadata_wrangler.MetadataWranglerCollectionMonitor.assert_authenticated">
<span class="sig-name descname"><span class="pre">assert_authenticated</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MetadataWranglerCollectionMonitor.assert_authenticated"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.metadata_wrangler.MetadataWranglerCollectionMonitor.assert_authenticated" title="Permalink to this definition">¶</a></dt>
<dd><p>Raise an exception unless the client has authentication
credentials.</p>
<p>Raising an exception will keep the Monitor timestamp from
being updated.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.metadata_wrangler.MetadataWranglerCollectionMonitor.endpoint">
<span class="sig-name descname"><span class="pre">endpoint</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MetadataWranglerCollectionMonitor.endpoint"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.metadata_wrangler.MetadataWranglerCollectionMonitor.endpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.metadata_wrangler.MetadataWranglerCollectionMonitor.get_response">
<span class="sig-name descname"><span class="pre">get_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MetadataWranglerCollectionMonitor.get_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.metadata_wrangler.MetadataWranglerCollectionMonitor.get_response" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.metadata_wrangler.MetadataWranglerCollectionReaper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.metadata_wrangler.</span></span><span class="sig-name descname"><span class="pre">MetadataWranglerCollectionReaper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lookup_client</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MetadataWranglerCollectionReaper"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.metadata_wrangler.MetadataWranglerCollectionReaper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.metadata_wrangler.BaseMetadataWranglerCoverageProvider" title="api.metadata_wrangler.BaseMetadataWranglerCoverageProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseMetadataWranglerCoverageProvider</span></code></a></p>
<p>Removes unlicensed identifiers from the remote Metadata Wrangler
Collection</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.metadata_wrangler.MetadataWranglerCollectionReaper.OPDS_IMPORTER_CLASS">
<span class="sig-name descname"><span class="pre">OPDS_IMPORTER_CLASS</span></span><a class="headerlink" href="#api.metadata_wrangler.MetadataWranglerCollectionReaper.OPDS_IMPORTER_CLASS" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#api.coverage.ReaperImporter" title="api.coverage.ReaperImporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReaperImporter</span></code></a></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.metadata_wrangler.MetadataWranglerCollectionReaper.OPERATION">
<span class="sig-name descname"><span class="pre">OPERATION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'reap'</span></em><a class="headerlink" href="#api.metadata_wrangler.MetadataWranglerCollectionReaper.OPERATION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.metadata_wrangler.MetadataWranglerCollectionReaper.SERVICE_NAME">
<span class="sig-name descname"><span class="pre">SERVICE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Metadata</span> <span class="pre">Wrangler</span> <span class="pre">Reaper'</span></em><a class="headerlink" href="#api.metadata_wrangler.MetadataWranglerCollectionReaper.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.metadata_wrangler.MetadataWranglerCollectionReaper.api_method">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">api_method</span></span><a class="headerlink" href="#api.metadata_wrangler.MetadataWranglerCollectionReaper.api_method" title="Permalink to this definition">¶</a></dt>
<dd><p>The method to call to fetch an OPDS feed from the remote server.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.metadata_wrangler.MetadataWranglerCollectionReaper.finalize_batch">
<span class="sig-name descname"><span class="pre">finalize_batch</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MetadataWranglerCollectionReaper.finalize_batch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.metadata_wrangler.MetadataWranglerCollectionReaper.finalize_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes Metadata Wrangler coverage records of reaped Identifiers</p>
<p>This allows Identifiers to be added to the collection again via
MetadataWranglerCoverageProvider lookup if a license is repurchased.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.metadata_wrangler.MetadataWranglerCollectionReaper.items_that_need_coverage">
<span class="sig-name descname"><span class="pre">items_that_need_coverage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifiers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MetadataWranglerCollectionReaper.items_that_need_coverage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.metadata_wrangler.MetadataWranglerCollectionReaper.items_that_need_coverage" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves Identifiers that were imported but are no longer licensed.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.metadata_wrangler.MetadataWranglerCollectionRegistrar">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.metadata_wrangler.</span></span><span class="sig-name descname"><span class="pre">MetadataWranglerCollectionRegistrar</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lookup_client</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MetadataWranglerCollectionRegistrar"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.metadata_wrangler.MetadataWranglerCollectionRegistrar" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.metadata_wrangler.BaseMetadataWranglerCoverageProvider" title="api.metadata_wrangler.BaseMetadataWranglerCoverageProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseMetadataWranglerCoverageProvider</span></code></a></p>
<p>Register all Identifiers licensed to a Collection with the
metadata wrangler.</p>
<p>If OPDS metadata is immediately returned, make use of it. Even if
no metadata is returned for an Identifier, mark it as covered.</p>
<p>Once it’s registered, any future updates to the available metadata
for a given Identifier will be detected by the
MWCollectionUpdateMonitor.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.metadata_wrangler.MetadataWranglerCollectionRegistrar.OPDS_IMPORTER_CLASS">
<span class="sig-name descname"><span class="pre">OPDS_IMPORTER_CLASS</span></span><a class="headerlink" href="#api.metadata_wrangler.MetadataWranglerCollectionRegistrar.OPDS_IMPORTER_CLASS" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#api.coverage.RegistrarImporter" title="api.coverage.RegistrarImporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">RegistrarImporter</span></code></a></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.metadata_wrangler.MetadataWranglerCollectionRegistrar.OPERATION">
<span class="sig-name descname"><span class="pre">OPERATION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'import'</span></em><a class="headerlink" href="#api.metadata_wrangler.MetadataWranglerCollectionRegistrar.OPERATION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.metadata_wrangler.MetadataWranglerCollectionRegistrar.SERVICE_NAME">
<span class="sig-name descname"><span class="pre">SERVICE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Metadata</span> <span class="pre">Wrangler</span> <span class="pre">Collection</span> <span class="pre">Registrar'</span></em><a class="headerlink" href="#api.metadata_wrangler.MetadataWranglerCollectionRegistrar.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.metadata_wrangler.MetadataWranglerCollectionRegistrar.items_that_need_coverage">
<span class="sig-name descname"><span class="pre">items_that_need_coverage</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifiers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MetadataWranglerCollectionRegistrar.items_that_need_coverage"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.metadata_wrangler.MetadataWranglerCollectionRegistrar.items_that_need_coverage" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves items from the Collection that are not registered with
the Metadata Wrangler.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-api.millenium_patron">
<span id="api-millenium-patron-module"></span><h2>api.millenium_patron module<a class="headerlink" href="#module-api.millenium_patron" title="Permalink to this heading">¶</a></h2>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.AuthenticationProvider">
<span class="sig-prename descclassname"><span class="pre">api.millenium_patron.</span></span><span class="sig-name descname"><span class="pre">AuthenticationProvider</span></span><a class="headerlink" href="#api.millenium_patron.AuthenticationProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#api.millenium_patron.MilleniumPatronAPI" title="api.millenium_patron.MilleniumPatronAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">MilleniumPatronAPI</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.millenium_patron.</span></span><span class="sig-name descname"><span class="pre">MilleniumPatronAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">integration</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analytics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/millenium_patron.html#MilleniumPatronAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.authenticator.BasicAuthenticationProvider" title="api.authenticator.BasicAuthenticationProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">BasicAuthenticationProvider</span></code></a>, <a class="reference internal" href="core.util.html#core.util.xmlparser.XMLParser" title="core.util.xmlparser.XMLParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">XMLParser</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.ADDRESS_FIELD">
<span class="sig-name descname"><span class="pre">ADDRESS_FIELD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'ADDRESS[pa]'</span></em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.ADDRESS_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.AUTHENTICATION_MODE">
<span class="sig-name descname"><span class="pre">AUTHENTICATION_MODE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'auth_mode'</span></em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.AUTHENTICATION_MODE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.AUTHENTICATION_MODES">
<span class="sig-name descname"><span class="pre">AUTHENTICATION_MODES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['pin',</span> <span class="pre">'family_name']</span></em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.AUTHENTICATION_MODES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.BARCODE_FIELD">
<span class="sig-name descname"><span class="pre">BARCODE_FIELD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'P</span> <span class="pre">BARCODE[pb]'</span></em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.BARCODE_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.BLOCK_FIELD">
<span class="sig-name descname"><span class="pre">BLOCK_FIELD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'MBLOCK[p56]'</span></em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.BLOCK_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.BLOCK_TYPES">
<span class="sig-name descname"><span class="pre">BLOCK_TYPES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'block_types'</span></em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.BLOCK_TYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.DEFAULT_CURRENCY">
<span class="sig-name descname"><span class="pre">DEFAULT_CURRENCY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'USD'</span></em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.DEFAULT_CURRENCY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.EMAIL_ADDRESS_FIELD">
<span class="sig-name descname"><span class="pre">EMAIL_ADDRESS_FIELD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'EMAIL</span> <span class="pre">ADDR[pz]'</span></em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.EMAIL_ADDRESS_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.ERROR_MESSAGE_FIELD">
<span class="sig-name descname"><span class="pre">ERROR_MESSAGE_FIELD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'ERRMSG'</span></em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.ERROR_MESSAGE_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.EXPIRATION_DATE_FORMAT">
<span class="sig-name descname"><span class="pre">EXPIRATION_DATE_FORMAT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'%m-%d-%y'</span></em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.EXPIRATION_DATE_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.EXPIRATION_FIELD">
<span class="sig-name descname"><span class="pre">EXPIRATION_FIELD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'EXP</span> <span class="pre">DATE[p43]'</span></em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.EXPIRATION_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.FAMILY_NAME_AUTHENTICATION_MODE">
<span class="sig-name descname"><span class="pre">FAMILY_NAME_AUTHENTICATION_MODE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'family_name'</span></em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.FAMILY_NAME_AUTHENTICATION_MODE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.FINES_FIELD">
<span class="sig-name descname"><span class="pre">FINES_FIELD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'MONEY</span> <span class="pre">OWED[p96]'</span></em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.FINES_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.HOME_BRANCH_FIELD">
<span class="sig-name descname"><span class="pre">HOME_BRANCH_FIELD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'HOME</span> <span class="pre">LIBR[p53]'</span></em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.HOME_BRANCH_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.HOME_BRANCH_NEIGHBORHOOD_MODE">
<span class="sig-name descname"><span class="pre">HOME_BRANCH_NEIGHBORHOOD_MODE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'home_branch'</span></em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.HOME_BRANCH_NEIGHBORHOOD_MODE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.IDENTIFIER_BLACKLIST">
<span class="sig-name descname"><span class="pre">IDENTIFIER_BLACKLIST</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'identifier_blacklist'</span></em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.IDENTIFIER_BLACKLIST" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.LIBRARY_SETTINGS">
<span class="sig-name descname"><span class="pre">LIBRARY_SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'http_basic_oauth_enabled',</span> <span class="pre">'label':</span> <span class="pre">l'Enable</span> <span class="pre">OAuth</span> <span class="pre">for</span> <span class="pre">HTTP</span> <span class="pre">Basic</span> <span class="pre">Auth',</span> <span class="pre">'description':</span> <span class="pre">l'Enable</span> <span class="pre">authentication</span> <span class="pre">with</span> <span class="pre">bearer</span> <span class="pre">tokens</span> <span class="pre">generated</span> <span class="pre">via</span> <span class="pre">basic</span> <span class="pre">auth</span> <span class="pre">credentials',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'false',</span> <span class="pre">'label':</span> <span class="pre">l'Disabled'},</span> <span class="pre">{'key':</span> <span class="pre">'true',</span> <span class="pre">'label':</span> <span class="pre">l'Enabled'}],</span> <span class="pre">'default':</span> <span class="pre">'false'},</span> <span class="pre">{'key':</span> <span class="pre">'external_type_regular_expression',</span> <span class="pre">'label':</span> <span class="pre">l'External</span> <span class="pre">Type</span> <span class="pre">Regular</span> <span class="pre">Expression',</span> <span class="pre">'description':</span> <span class="pre">l'Derive</span> <span class="pre">a</span> <span class="pre">patron's</span> <span class="pre">type</span> <span class="pre">from</span> <span class="pre">their</span> <span class="pre">identifier.'},</span> <span class="pre">{'key':</span> <span class="pre">'library_identifier_restriction_type',</span> <span class="pre">'label':</span> <span class="pre">l'Library</span> <span class="pre">Identifier</span> <span class="pre">Restriction</span> <span class="pre">Type',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'description':</span> <span class="pre">l'When</span> <span class="pre">multiple</span> <span class="pre">libraries</span> <span class="pre">share</span> <span class="pre">an</span> <span class="pre">ILS,</span> <span class="pre">a</span> <span class="pre">person</span> <span class="pre">may</span> <span class="pre">be</span> <span class="pre">able</span> <span class="pre">to</span> <span class="pre">authenticate</span> <span class="pre">with</span> <span class="pre">the</span> <span class="pre">ILS</span> <span class="pre">but</span> <span class="pre">not</span> <span class="pre">be</span> <span class="pre">considered</span> <span class="pre">a</span> <span class="pre">patron</span> <span class="pre">of</span> <span class="pre">&lt;em&gt;this&lt;/em&gt;</span> <span class="pre">library.</span> <span class="pre">This</span> <span class="pre">setting</span> <span class="pre">contains</span> <span class="pre">the</span> <span class="pre">rule</span> <span class="pre">for</span> <span class="pre">determining</span> <span class="pre">whether</span> <span class="pre">an</span> <span class="pre">identifier</span> <span class="pre">is</span> <span class="pre">valid</span> <span class="pre">for</span> <span class="pre">this</span> <span class="pre">specific</span> <span class="pre">library.</span> <span class="pre">&lt;p/&gt;</span> <span class="pre">If</span> <span class="pre">this</span> <span class="pre">setting</span> <span class="pre">it</span> <span class="pre">set</span> <span class="pre">to</span> <span class="pre">'No</span> <span class="pre">Restriction'</span> <span class="pre">then</span> <span class="pre">the</span> <span class="pre">values</span> <span class="pre">for</span> <span class="pre">&lt;em&gt;Library</span> <span class="pre">Identifier</span> <span class="pre">Field&lt;/em&gt;</span> <span class="pre">and</span> <span class="pre">&lt;em&gt;Library</span> <span class="pre">Identifier</span> <span class="pre">Restriction&lt;/em&gt;</span> <span class="pre">will</span> <span class="pre">not</span> <span class="pre">be</span> <span class="pre">used.',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'none',</span> <span class="pre">'label':</span> <span class="pre">l'No</span> <span class="pre">restriction'},</span> <span class="pre">{'key':</span> <span class="pre">'prefix',</span> <span class="pre">'label':</span> <span class="pre">l'Prefix</span> <span class="pre">Match'},</span> <span class="pre">{'key':</span> <span class="pre">'string',</span> <span class="pre">'label':</span> <span class="pre">l'Exact</span> <span class="pre">Match'},</span> <span class="pre">{'key':</span> <span class="pre">'regex',</span> <span class="pre">'label':</span> <span class="pre">l'Regex</span> <span class="pre">Match'},</span> <span class="pre">{'key':</span> <span class="pre">'list',</span> <span class="pre">'label':</span> <span class="pre">l'Exact</span> <span class="pre">Match,</span> <span class="pre">comma</span> <span class="pre">separated</span> <span class="pre">list'}],</span> <span class="pre">'default':</span> <span class="pre">'none'},</span> <span class="pre">{'key':</span> <span class="pre">'library_identifier_field',</span> <span class="pre">'label':</span> <span class="pre">l'Library</span> <span class="pre">Identifier</span> <span class="pre">Field',</span> <span class="pre">'description':</span> <span class="pre">l'This</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">field</span> <span class="pre">on</span> <span class="pre">the</span> <span class="pre">patron</span> <span class="pre">record</span> <span class="pre">that</span> <span class="pre">the</span> <span class="pre">&lt;em&gt;Library</span> <span class="pre">Identifier</span> <span class="pre">Restriction</span> <span class="pre">Type&lt;/em&gt;</span> <span class="pre">is</span> <span class="pre">applied</span> <span class="pre">to.</span> <span class="pre">The</span> <span class="pre">option</span> <span class="pre">'barcode'</span> <span class="pre">matches</span> <span class="pre">the</span> <span class="pre">users</span> <span class="pre">barcode,</span> <span class="pre">other</span> <span class="pre">values</span> <span class="pre">are</span> <span class="pre">pulled</span> <span class="pre">directly</span> <span class="pre">from</span> <span class="pre">the</span> <span class="pre">patron</span> <span class="pre">record</span> <span class="pre">for</span> <span class="pre">example:</span> <span class="pre">'P</span> <span class="pre">TYPE[p47]'.</span> <span class="pre">This</span> <span class="pre">value</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">used</span> <span class="pre">if</span> <span class="pre">&lt;em&gt;Library</span> <span class="pre">Identifier</span> <span class="pre">Restriction</span> <span class="pre">Type&lt;/em&gt;</span> <span class="pre">is</span> <span class="pre">set</span> <span class="pre">to</span> <span class="pre">'No</span> <span class="pre">restriction'.'},</span> <span class="pre">{'key':</span> <span class="pre">'library_identifier_restriction',</span> <span class="pre">'label':</span> <span class="pre">l'Library</span> <span class="pre">Identifier</span> <span class="pre">Restriction',</span> <span class="pre">'description':</span> <span class="pre">l'This</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">restriction</span> <span class="pre">applied</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">&lt;em&gt;Library</span> <span class="pre">Identifier</span> <span class="pre">Field&lt;/em&gt;</span> <span class="pre">using</span> <span class="pre">the</span> <span class="pre">method</span> <span class="pre">chosen</span> <span class="pre">in</span> <span class="pre">&lt;em&gt;Library</span> <span class="pre">Identifier</span> <span class="pre">Restriction</span> <span class="pre">Type&lt;/em&gt;.</span> <span class="pre">This</span> <span class="pre">value</span> <span class="pre">is</span> <span class="pre">not</span> <span class="pre">used</span> <span class="pre">if</span> <span class="pre">&lt;em&gt;Library</span> <span class="pre">Identifier</span> <span class="pre">Restriction</span> <span class="pre">Type&lt;/em&gt;</span> <span class="pre">is</span> <span class="pre">set</span> <span class="pre">to</span> <span class="pre">'No</span> <span class="pre">restriction'.'},</span> <span class="pre">{'key':</span> <span class="pre">'institution_id',</span> <span class="pre">'label':</span> <span class="pre">l'Institution</span> <span class="pre">ID',</span> <span class="pre">'description':</span> <span class="pre">l'A</span> <span class="pre">specific</span> <span class="pre">identifier</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">library</span> <span class="pre">or</span> <span class="pre">branch,</span> <span class="pre">if</span> <span class="pre">used</span> <span class="pre">in</span> <span class="pre">patron</span> <span class="pre">authentication'}]</span></em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.LIBRARY_SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.MULTIVALUE_FIELDS">
<span class="sig-name descname"><span class="pre">MULTIVALUE_FIELDS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'NOTE[px]',</span> <span class="pre">'P</span> <span class="pre">BARCODE[pb]'}</span></em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.MULTIVALUE_FIELDS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.NAME">
<span class="sig-name descname"><span class="pre">NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Millenium'</span></em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.NEIGHBORHOOD_MODE">
<span class="sig-name descname"><span class="pre">NEIGHBORHOOD_MODE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'neighborhood_mode'</span></em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.NEIGHBORHOOD_MODE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.NEIGHBORHOOD_MODES">
<span class="sig-name descname"><span class="pre">NEIGHBORHOOD_MODES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'disabled',</span> <span class="pre">'home_branch',</span> <span class="pre">'postal_code'}</span></em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.NEIGHBORHOOD_MODES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.NO_NEIGHBORHOOD_MODE">
<span class="sig-name descname"><span class="pre">NO_NEIGHBORHOOD_MODE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'disabled'</span></em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.NO_NEIGHBORHOOD_MODE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.PATRON_TYPE_FIELD">
<span class="sig-name descname"><span class="pre">PATRON_TYPE_FIELD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'P</span> <span class="pre">TYPE[p47]'</span></em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.PATRON_TYPE_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.PERSONAL_NAME_FIELD">
<span class="sig-name descname"><span class="pre">PERSONAL_NAME_FIELD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'PATRN</span> <span class="pre">NAME[pn]'</span></em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.PERSONAL_NAME_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.PIN_AUTHENTICATION_MODE">
<span class="sig-name descname"><span class="pre">PIN_AUTHENTICATION_MODE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'pin'</span></em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.PIN_AUTHENTICATION_MODE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.POSTAL_CODE_NEIGHBORHOOD_MODE">
<span class="sig-name descname"><span class="pre">POSTAL_CODE_NEIGHBORHOOD_MODE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'postal_code'</span></em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.POSTAL_CODE_NEIGHBORHOOD_MODE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.POSTAL_CODE_RES">
<span class="sig-name descname"><span class="pre">POSTAL_CODE_RES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[re.compile('[^0-9]([0-9]{5})-[0-9]{4}$'),</span> <span class="pre">re.compile('[^0-9]([0-9]{5})$'),</span> <span class="pre">re.compile('.*[^0-9]([0-9]{5})-[0-9]{4}[^0-9]'),</span> <span class="pre">re.compile('.*[^0-9]([0-9]{5})[^0-9]')]</span></em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.POSTAL_CODE_RES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.RECORD_NUMBER_FIELD">
<span class="sig-name descname"><span class="pre">RECORD_NUMBER_FIELD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'RECORD</span> <span class="pre">#[p81]'</span></em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.RECORD_NUMBER_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.SETTINGS">
<span class="sig-name descname"><span class="pre">SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'url',</span> <span class="pre">'format':</span> <span class="pre">'url',</span> <span class="pre">'label':</span> <span class="pre">l'URL',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'verify_certificate',</span> <span class="pre">'label':</span> <span class="pre">l'Certificate</span> <span class="pre">Verification',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'true',</span> <span class="pre">'label':</span> <span class="pre">l'Verify</span> <span class="pre">Certificate</span> <span class="pre">Normally</span> <span class="pre">(Required</span> <span class="pre">for</span> <span class="pre">production)'},</span> <span class="pre">{'key':</span> <span class="pre">'false',</span> <span class="pre">'label':</span> <span class="pre">l'Ignore</span> <span class="pre">Certificate</span> <span class="pre">Problems</span> <span class="pre">(For</span> <span class="pre">temporary</span> <span class="pre">testing</span> <span class="pre">only)'}],</span> <span class="pre">'default':</span> <span class="pre">'true'},</span> <span class="pre">{'key':</span> <span class="pre">'block_types',</span> <span class="pre">'label':</span> <span class="pre">l'Block</span> <span class="pre">types',</span> <span class="pre">'description':</span> <span class="pre">l'Values</span> <span class="pre">of</span> <span class="pre">MBLOCK[p56]</span> <span class="pre">which</span> <span class="pre">mean</span> <span class="pre">a</span> <span class="pre">patron</span> <span class="pre">is</span> <span class="pre">blocked.</span> <span class="pre">By</span> <span class="pre">default,</span> <span class="pre">any</span> <span class="pre">value</span> <span class="pre">other</span> <span class="pre">than</span> <span class="pre">'-'</span> <span class="pre">indicates</span> <span class="pre">a</span> <span class="pre">block.'},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_blacklist',</span> <span class="pre">'label':</span> <span class="pre">l'Identifier</span> <span class="pre">Blacklist',</span> <span class="pre">'type':</span> <span class="pre">'list',</span> <span class="pre">'description':</span> <span class="pre">l'Identifiers</span> <span class="pre">containing</span> <span class="pre">any</span> <span class="pre">of</span> <span class="pre">these</span> <span class="pre">strings</span> <span class="pre">are</span> <span class="pre">ignored</span> <span class="pre">when</span> <span class="pre">finding</span> <span class="pre">the</span> <span class="pre">'correct'</span> <span class="pre">identifier</span> <span class="pre">for</span> <span class="pre">a</span> <span class="pre">patron's</span> <span class="pre">record,</span> <span class="pre">even</span> <span class="pre">if</span> <span class="pre">it</span> <span class="pre">means</span> <span class="pre">they</span> <span class="pre">end</span> <span class="pre">up</span> <span class="pre">with</span> <span class="pre">no</span> <span class="pre">identifier</span> <span class="pre">at</span> <span class="pre">all.</span> <span class="pre">If</span> <span class="pre">librarians</span> <span class="pre">invalidate</span> <span class="pre">library</span> <span class="pre">cards</span> <span class="pre">by</span> <span class="pre">adding</span> <span class="pre">strings</span> <span class="pre">like</span> <span class="pre">&quot;EXPIRED&quot;</span> <span class="pre">or</span> <span class="pre">&quot;INVALID&quot;</span> <span class="pre">on</span> <span class="pre">to</span> <span class="pre">the</span> <span class="pre">beginning</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">card</span> <span class="pre">number,</span> <span class="pre">put</span> <span class="pre">those</span> <span class="pre">strings</span> <span class="pre">here</span> <span class="pre">so</span> <span class="pre">the</span> <span class="pre">Circulation</span> <span class="pre">Manager</span> <span class="pre">knows</span> <span class="pre">they</span> <span class="pre">do</span> <span class="pre">not</span> <span class="pre">represent</span> <span class="pre">real</span> <span class="pre">card</span> <span class="pre">numbers.'},</span> <span class="pre">{'key':</span> <span class="pre">'auth_mode',</span> <span class="pre">'label':</span> <span class="pre">l'Authentication</span> <span class="pre">Mode',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'pin',</span> <span class="pre">'label':</span> <span class="pre">l'PIN'},</span> <span class="pre">{'key':</span> <span class="pre">'family_name',</span> <span class="pre">'label':</span> <span class="pre">l'Family</span> <span class="pre">Name'}],</span> <span class="pre">'default':</span> <span class="pre">'pin'},</span> <span class="pre">{'key':</span> <span class="pre">'neighborhood_mode',</span> <span class="pre">'label':</span> <span class="pre">l'Patron</span> <span class="pre">neighborhood</span> <span class="pre">field',</span> <span class="pre">'description':</span> <span class="pre">l'It's</span> <span class="pre">sometimes</span> <span class="pre">possible</span> <span class="pre">to</span> <span class="pre">guess</span> <span class="pre">a</span> <span class="pre">patron's</span> <span class="pre">neighborhood</span> <span class="pre">from</span> <span class="pre">their</span> <span class="pre">ILS</span> <span class="pre">record.</span> <span class="pre">You</span> <span class="pre">can</span> <span class="pre">use</span> <span class="pre">this</span> <span class="pre">when</span> <span class="pre">analyzing</span> <span class="pre">circulation</span> <span class="pre">activity</span> <span class="pre">by</span> <span class="pre">neighborhood.</span> <span class="pre">If</span> <span class="pre">you</span> <span class="pre">don't</span> <span class="pre">need</span> <span class="pre">to</span> <span class="pre">do</span> <span class="pre">this,</span> <span class="pre">it's</span> <span class="pre">better</span> <span class="pre">for</span> <span class="pre">patron</span> <span class="pre">privacy</span> <span class="pre">to</span> <span class="pre">disable</span> <span class="pre">this</span> <span class="pre">feature.',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'disabled',</span> <span class="pre">'label':</span> <span class="pre">l'Disable</span> <span class="pre">this</span> <span class="pre">feature'},</span> <span class="pre">{'key':</span> <span class="pre">'home_branch',</span> <span class="pre">'label':</span> <span class="pre">l'Patron's</span> <span class="pre">home</span> <span class="pre">library</span> <span class="pre">branch</span> <span class="pre">is</span> <span class="pre">their</span> <span class="pre">neighborhood.'},</span> <span class="pre">{'key':</span> <span class="pre">'postal_code',</span> <span class="pre">'label':</span> <span class="pre">l'Patron's</span> <span class="pre">postal</span> <span class="pre">code</span> <span class="pre">is</span> <span class="pre">their</span> <span class="pre">neighborhood.'}],</span> <span class="pre">'default':</span> <span class="pre">'disabled'},</span> <span class="pre">{'key':</span> <span class="pre">'test_identifier',</span> <span class="pre">'label':</span> <span class="pre">l'Test</span> <span class="pre">Identifier',</span> <span class="pre">'description':</span> <span class="pre">l'A</span> <span class="pre">valid</span> <span class="pre">identifier</span> <span class="pre">that</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">used</span> <span class="pre">to</span> <span class="pre">test</span> <span class="pre">that</span> <span class="pre">patron</span> <span class="pre">authentication</span> <span class="pre">is</span> <span class="pre">working.</span> <span class="pre">An</span> <span class="pre">optional</span> <span class="pre">Test</span> <span class="pre">Password</span> <span class="pre">for</span> <span class="pre">this</span> <span class="pre">identifier</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">set</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">next</span> <span class="pre">section.',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'test_password',</span> <span class="pre">'label':</span> <span class="pre">l'Test</span> <span class="pre">Password',</span> <span class="pre">'description':</span> <span class="pre">l'The</span> <span class="pre">password</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">Test</span> <span class="pre">Identifier</span> <span class="pre">(above,</span> <span class="pre">in</span> <span class="pre">previous</span> <span class="pre">section).'},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_barcode_format',</span> <span class="pre">'label':</span> <span class="pre">l'Patron</span> <span class="pre">identifier</span> <span class="pre">barcode</span> <span class="pre">format',</span> <span class="pre">'description':</span> <span class="pre">l'Many</span> <span class="pre">libraries</span> <span class="pre">render</span> <span class="pre">patron</span> <span class="pre">identifiers</span> <span class="pre">as</span> <span class="pre">barcodes</span> <span class="pre">on</span> <span class="pre">physical</span> <span class="pre">library</span> <span class="pre">cards.</span> <span class="pre">If</span> <span class="pre">you</span> <span class="pre">specify</span> <span class="pre">the</span> <span class="pre">barcode</span> <span class="pre">format,</span> <span class="pre">patrons</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">able</span> <span class="pre">to</span> <span class="pre">scan</span> <span class="pre">their</span> <span class="pre">library</span> <span class="pre">cards</span> <span class="pre">with</span> <span class="pre">a</span> <span class="pre">camera</span> <span class="pre">instead</span> <span class="pre">of</span> <span class="pre">manually</span> <span class="pre">typing</span> <span class="pre">in</span> <span class="pre">their</span> <span class="pre">identifiers.',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'Codabar',</span> <span class="pre">'label':</span> <span class="pre">l'Patron</span> <span class="pre">identifiers</span> <span class="pre">are</span> <span class="pre">are</span> <span class="pre">rendered</span> <span class="pre">as</span> <span class="pre">barcodes</span> <span class="pre">in</span> <span class="pre">Codabar</span> <span class="pre">format'},</span> <span class="pre">{'key':</span> <span class="pre">'',</span> <span class="pre">'label':</span> <span class="pre">l'Patron</span> <span class="pre">identifiers</span> <span class="pre">are</span> <span class="pre">not</span> <span class="pre">rendered</span> <span class="pre">as</span> <span class="pre">barcodes'}],</span> <span class="pre">'default':</span> <span class="pre">'',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_regular_expression',</span> <span class="pre">'label':</span> <span class="pre">l'Identifier</span> <span class="pre">Regular</span> <span class="pre">Expression',</span> <span class="pre">'description':</span> <span class="pre">l'A</span> <span class="pre">patron's</span> <span class="pre">identifier</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">immediately</span> <span class="pre">rejected</span> <span class="pre">if</span> <span class="pre">it</span> <span class="pre">doesn't</span> <span class="pre">match</span> <span class="pre">this</span> <span class="pre">regular</span> <span class="pre">expression.'},</span> <span class="pre">{'key':</span> <span class="pre">'password_regular_expression',</span> <span class="pre">'label':</span> <span class="pre">l'Password</span> <span class="pre">Regular</span> <span class="pre">Expression',</span> <span class="pre">'description':</span> <span class="pre">l'A</span> <span class="pre">patron's</span> <span class="pre">password</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">immediately</span> <span class="pre">rejected</span> <span class="pre">if</span> <span class="pre">it</span> <span class="pre">doesn't</span> <span class="pre">match</span> <span class="pre">this</span> <span class="pre">regular</span> <span class="pre">expression.'},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_keyboard',</span> <span class="pre">'label':</span> <span class="pre">l'Keyboard</span> <span class="pre">for</span> <span class="pre">identifier</span> <span class="pre">entry',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'Default',</span> <span class="pre">'label':</span> <span class="pre">l'System</span> <span class="pre">default'},</span> <span class="pre">{'key':</span> <span class="pre">'Email</span> <span class="pre">address',</span> <span class="pre">'label':</span> <span class="pre">l'Email</span> <span class="pre">address</span> <span class="pre">entry'},</span> <span class="pre">{'key':</span> <span class="pre">'Number</span> <span class="pre">pad',</span> <span class="pre">'label':</span> <span class="pre">l'Number</span> <span class="pre">pad'}],</span> <span class="pre">'default':</span> <span class="pre">'Default',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'password_keyboard',</span> <span class="pre">'label':</span> <span class="pre">l'Keyboard</span> <span class="pre">for</span> <span class="pre">password</span> <span class="pre">entry',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'Default',</span> <span class="pre">'label':</span> <span class="pre">l'System</span> <span class="pre">default'},</span> <span class="pre">{'key':</span> <span class="pre">'Number</span> <span class="pre">pad',</span> <span class="pre">'label':</span> <span class="pre">l'Number</span> <span class="pre">pad'},</span> <span class="pre">{'key':</span> <span class="pre">'No</span> <span class="pre">input',</span> <span class="pre">'label':</span> <span class="pre">l'Patrons</span> <span class="pre">have</span> <span class="pre">no</span> <span class="pre">password</span> <span class="pre">and</span> <span class="pre">should</span> <span class="pre">not</span> <span class="pre">be</span> <span class="pre">prompted</span> <span class="pre">for</span> <span class="pre">one.'}],</span> <span class="pre">'default':</span> <span class="pre">'Default'},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_maximum_length',</span> <span class="pre">'label':</span> <span class="pre">l'Maximum</span> <span class="pre">identifier</span> <span class="pre">length',</span> <span class="pre">'type':</span> <span class="pre">'number'},</span> <span class="pre">{'key':</span> <span class="pre">'password_maximum_length',</span> <span class="pre">'label':</span> <span class="pre">l'Maximum</span> <span class="pre">password</span> <span class="pre">length',</span> <span class="pre">'type':</span> <span class="pre">'number'},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_label',</span> <span class="pre">'label':</span> <span class="pre">l'Label</span> <span class="pre">for</span> <span class="pre">identifier</span> <span class="pre">entry'},</span> <span class="pre">{'key':</span> <span class="pre">'password_label',</span> <span class="pre">'label':</span> <span class="pre">l'Label</span> <span class="pre">for</span> <span class="pre">password</span> <span class="pre">entry'}]</span></em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.USERNAME_FIELD">
<span class="sig-name descname"><span class="pre">USERNAME_FIELD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'ALT</span> <span class="pre">ID[pu]'</span></em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.USERNAME_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.VERIFY_CERTIFICATE">
<span class="sig-name descname"><span class="pre">VERIFY_CERTIFICATE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'verify_certificate'</span></em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.VERIFY_CERTIFICATE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.extract_postal_code">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">extract_postal_code</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">address</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/millenium_patron.html#MilleniumPatronAPI.extract_postal_code"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.extract_postal_code" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to extract a postal code from an address.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.family_name_match">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">family_name_match</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">actual_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">supposed_family_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/millenium_patron.html#MilleniumPatronAPI.family_name_match"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.family_name_match" title="Permalink to this definition">¶</a></dt>
<dd><p>Does <cite>supposed_family_name</cite> match <cite>actual_name</cite>?</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.patron_dump_to_patrondata">
<span class="sig-name descname"><span class="pre">patron_dump_to_patrondata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">current_identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/millenium_patron.html#MilleniumPatronAPI.patron_dump_to_patrondata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.patron_dump_to_patrondata" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert an HTML patron dump to a PatronData object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>current_identifier</strong> – Either the authorization identifier
the patron just logged in with, or the one currently
associated with their Patron record. Keeping track of this
ensures we don’t change a patron’s preferred authorization
identifier out from under them.</p></li>
<li><p><strong>content</strong> – The HTML document containing the patron dump.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.remote_authenticate">
<span class="sig-name descname"><span class="pre">remote_authenticate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">username</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/millenium_patron.html#MilleniumPatronAPI.remote_authenticate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.remote_authenticate" title="Permalink to this definition">¶</a></dt>
<dd><p>Does the Millenium Patron API approve of these credentials?</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>False if the credentials are invalid. If they are
valid, a PatronData that serves only to indicate which
authorization identifier the patron prefers.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.request">
<span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/millenium_patron.html#MilleniumPatronAPI.request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.request" title="Permalink to this definition">¶</a></dt>
<dd><p>Actually make an HTTP request. This method exists only so the mock
can override it.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MilleniumPatronAPI.setting">
<span class="sig-name descname"><span class="pre">setting</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'description':</span> <span class="pre">l'A</span> <span class="pre">specific</span> <span class="pre">identifier</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">library</span> <span class="pre">or</span> <span class="pre">branch,</span> <span class="pre">if</span> <span class="pre">used</span> <span class="pre">in</span> <span class="pre">patron</span> <span class="pre">authentication',</span> <span class="pre">'key':</span> <span class="pre">'institution_id',</span> <span class="pre">'label':</span> <span class="pre">l'Institution</span> <span class="pre">ID'}</span></em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.setting" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.millenium_patron.MockMilleniumPatronAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.millenium_patron.</span></span><span class="sig-name descname"><span class="pre">MockMilleniumPatronAPI</span></span><a class="reference internal" href="_modules/api/millenium_patron.html#MockMilleniumPatronAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.millenium_patron.MockMilleniumPatronAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.millenium_patron.MilleniumPatronAPI" title="api.millenium_patron.MilleniumPatronAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">MilleniumPatronAPI</span></code></a></p>
<p>This mocks the API on a higher level than the HTTP level.</p>
<p>It is not used in the tests of the MilleniumPatronAPI class.  It
is used in the Adobe Vendor ID tests but maybe it shouldn’t.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.millenium_patron.MockMilleniumPatronAPI.remote_authenticate">
<span class="sig-name descname"><span class="pre">remote_authenticate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">barcode</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/millenium_patron.html#MockMilleniumPatronAPI.remote_authenticate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.millenium_patron.MockMilleniumPatronAPI.remote_authenticate" title="Permalink to this definition">¶</a></dt>
<dd><p>A barcode that’s 14 digits long is treated as valid,
no matter which PIN is used.</p>
<p>That’s so real barcode/PIN combos can be passed through to
third parties.</p>
<p>Otherwise, valid test PIN is the first character of the barcode
repeated four times.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.millenium_patron.MockMilleniumPatronAPI.remote_patron_lookup">
<span class="sig-name descname"><span class="pre">remote_patron_lookup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron_or_patrondata</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/millenium_patron.html#MockMilleniumPatronAPI.remote_patron_lookup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.millenium_patron.MockMilleniumPatronAPI.remote_patron_lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Ask the remote for information about this patron, and then make sure
the patron belongs to the library associated with thie BasicAuthenticationProvider.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MockMilleniumPatronAPI.the_future">
<span class="sig-name descname"><span class="pre">the_future</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">datetime.datetime(2023,</span> <span class="pre">5,</span> <span class="pre">28,</span> <span class="pre">19,</span> <span class="pre">14,</span> <span class="pre">54,</span> <span class="pre">67457,</span> <span class="pre">tzinfo=&lt;UTC&gt;)</span></em><a class="headerlink" href="#api.millenium_patron.MockMilleniumPatronAPI.the_future" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MockMilleniumPatronAPI.user1">
<span class="sig-name descname"><span class="pre">user1</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;PatronData</span> <span class="pre">permanent_id='12345'</span> <span class="pre">authorization_identifier='0'</span> <span class="pre">username='alice'&gt;</span></em><a class="headerlink" href="#api.millenium_patron.MockMilleniumPatronAPI.user1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MockMilleniumPatronAPI.user2">
<span class="sig-name descname"><span class="pre">user2</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;PatronData</span> <span class="pre">permanent_id='67890'</span> <span class="pre">authorization_identifier='5'</span> <span class="pre">username='bob'&gt;</span></em><a class="headerlink" href="#api.millenium_patron.MockMilleniumPatronAPI.user2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.millenium_patron.MockMilleniumPatronAPI.users">
<span class="sig-name descname"><span class="pre">users</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[&lt;PatronData</span> <span class="pre">permanent_id='12345'</span> <span class="pre">authorization_identifier='0'</span> <span class="pre">username='alice'&gt;,</span> <span class="pre">&lt;PatronData</span> <span class="pre">permanent_id='67890'</span> <span class="pre">authorization_identifier='5'</span> <span class="pre">username='bob'&gt;]</span></em><a class="headerlink" href="#api.millenium_patron.MockMilleniumPatronAPI.users" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-api.monitor">
<span id="api-monitor-module"></span><h2>api.monitor module<a class="headerlink" href="#module-api.monitor" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.monitor.HoldReaper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.monitor.</span></span><span class="sig-name descname"><span class="pre">HoldReaper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/monitor.html#HoldReaper"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.monitor.HoldReaper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.monitor.LoanlikeReaperMonitor" title="api.monitor.LoanlikeReaperMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">LoanlikeReaperMonitor</span></code></a></p>
<p>Remove seemingly abandoned holds from the database.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.monitor.HoldReaper.MAX_AGE">
<span class="sig-name descname"><span class="pre">MAX_AGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">365</span></em><a class="headerlink" href="#api.monitor.HoldReaper.MAX_AGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.monitor.HoldReaper.MODEL_CLASS">
<span class="sig-name descname"><span class="pre">MODEL_CLASS</span></span><a class="headerlink" href="#api.monitor.HoldReaper.MODEL_CLASS" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="core.model.html#core.model.patron.Hold" title="core.model.patron.Hold"><code class="xref py py-class docutils literal notranslate"><span class="pre">Hold</span></code></a></p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.monitor.HoldReaper.where_clause">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">where_clause</span></span><a class="headerlink" href="#api.monitor.HoldReaper.where_clause" title="Permalink to this definition">¶</a></dt>
<dd><p>Find holds that were created a long time ago and either have
no end date or have an end date in the past.</p>
<p>The ‘end date’ for a hold is just an estimate, but if the estimate
is in the future it’s better to keep the hold around.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.monitor.IdlingAnnotationReaper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.monitor.</span></span><span class="sig-name descname"><span class="pre">IdlingAnnotationReaper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/monitor.html#IdlingAnnotationReaper"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.monitor.IdlingAnnotationReaper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.monitor.ReaperMonitor" title="core.monitor.ReaperMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReaperMonitor</span></code></a></p>
<p>Remove idling annotations for inactive loans.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.monitor.IdlingAnnotationReaper.MAX_AGE">
<span class="sig-name descname"><span class="pre">MAX_AGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">60</span></em><a class="headerlink" href="#api.monitor.IdlingAnnotationReaper.MAX_AGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.monitor.IdlingAnnotationReaper.MODEL_CLASS">
<span class="sig-name descname"><span class="pre">MODEL_CLASS</span></span><a class="headerlink" href="#api.monitor.IdlingAnnotationReaper.MODEL_CLASS" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="core.model.html#core.model.patron.Annotation" title="core.model.patron.Annotation"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotation</span></code></a></p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.monitor.IdlingAnnotationReaper.TIMESTAMP_FIELD">
<span class="sig-name descname"><span class="pre">TIMESTAMP_FIELD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'timestamp'</span></em><a class="headerlink" href="#api.monitor.IdlingAnnotationReaper.TIMESTAMP_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.monitor.IdlingAnnotationReaper.where_clause">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">where_clause</span></span><a class="headerlink" href="#api.monitor.IdlingAnnotationReaper.where_clause" title="Permalink to this definition">¶</a></dt>
<dd><p>The annotation must have motivation=IDLING, must be at least 60
days old (meaning there has been no attempt to read the book
for 60 days), and must not be associated with one of the
patron’s active loans or holds.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.monitor.LoanReaper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.monitor.</span></span><span class="sig-name descname"><span class="pre">LoanReaper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/monitor.html#LoanReaper"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.monitor.LoanReaper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.monitor.LoanlikeReaperMonitor" title="api.monitor.LoanlikeReaperMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">LoanlikeReaperMonitor</span></code></a></p>
<p>Remove expired and abandoned loans from the database.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.monitor.LoanReaper.MAX_AGE">
<span class="sig-name descname"><span class="pre">MAX_AGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">90</span></em><a class="headerlink" href="#api.monitor.LoanReaper.MAX_AGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.monitor.LoanReaper.MODEL_CLASS">
<span class="sig-name descname"><span class="pre">MODEL_CLASS</span></span><a class="headerlink" href="#api.monitor.LoanReaper.MODEL_CLASS" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="core.model.html#core.model.patron.Loan" title="core.model.patron.Loan"><code class="xref py py-class docutils literal notranslate"><span class="pre">Loan</span></code></a></p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.monitor.LoanReaper.where_clause">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">where_clause</span></span><a class="headerlink" href="#api.monitor.LoanReaper.where_clause" title="Permalink to this definition">¶</a></dt>
<dd><p>Find loans that have either expired, or that were created a long
time ago and have no definite end date.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.monitor.LoanlikeReaperMonitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.monitor.</span></span><span class="sig-name descname"><span class="pre">LoanlikeReaperMonitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/monitor.html#LoanlikeReaperMonitor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.monitor.LoanlikeReaperMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.monitor.ReaperMonitor" title="core.monitor.ReaperMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">ReaperMonitor</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.monitor.LoanlikeReaperMonitor.SOURCE_OF_TRUTH_PROTOCOLS">
<span class="sig-name descname"><span class="pre">SOURCE_OF_TRUTH_PROTOCOLS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['ODL',</span> <span class="pre">'Shared</span> <span class="pre">ODL</span> <span class="pre">For</span> <span class="pre">Consortia',</span> <span class="pre">'OPDS</span> <span class="pre">for</span> <span class="pre">Distributors']</span></em><a class="headerlink" href="#api.monitor.LoanlikeReaperMonitor.SOURCE_OF_TRUTH_PROTOCOLS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.monitor.LoanlikeReaperMonitor.where_clause">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">where_clause</span></span><a class="headerlink" href="#api.monitor.LoanlikeReaperMonitor.where_clause" title="Permalink to this definition">¶</a></dt>
<dd><p>We never want to automatically reap loans or holds for situations
where the circulation manager is the source of truth. If we
delete something we shouldn’t have, we won’t be able to get
the ‘real’ information back.</p>
<p>This means loans of open-access content and loans from
collections based on a protocol found in
SOURCE_OF_TRUTH_PROTOCOLS.</p>
<p>Subclasses will append extra clauses to this filter.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-api.novelist">
<span id="api-novelist-module"></span><h2>api.novelist module<a class="headerlink" href="#module-api.novelist" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.novelist.MockNoveListAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.novelist.</span></span><span class="sig-name descname"><span class="pre">MockNoveListAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#MockNoveListAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.novelist.MockNoveListAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.novelist.NoveListAPI" title="api.novelist.NoveListAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">NoveListAPI</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.novelist.MockNoveListAPI.lookup">
<span class="sig-name descname"><span class="pre">lookup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#MockNoveListAPI.lookup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.novelist.MockNoveListAPI.lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Requests NoveList metadata for a particular identifier</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>kwargs</strong> – Keyword arguments passed into Representation.post().</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Metadata object or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.novelist.MockNoveListAPI.setup_method">
<span class="sig-name descname"><span class="pre">setup_method</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#MockNoveListAPI.setup_method"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.novelist.MockNoveListAPI.setup_method" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.novelist.NoveListAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.novelist.</span></span><span class="sig-name descname"><span class="pre">NoveListAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">profile</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.novelist.NoveListAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.novelist.NoveListAPI.AUTHORIZED_IDENTIFIER">
<span class="sig-name descname"><span class="pre">AUTHORIZED_IDENTIFIER</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'62521fa1-bdbb-4939-84aa-aee2a52c8d59'</span></em><a class="headerlink" href="#api.novelist.NoveListAPI.AUTHORIZED_IDENTIFIER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.novelist.NoveListAPI.AUTH_PARAMS">
<span class="sig-name descname"><span class="pre">AUTH_PARAMS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'&amp;profile=%(profile)s&amp;password=%(password)s'</span></em><a class="headerlink" href="#api.novelist.NoveListAPI.AUTH_PARAMS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.novelist.NoveListAPI.COLLECTION_DATA_API">
<span class="sig-name descname"><span class="pre">COLLECTION_DATA_API</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'http://www.noveListcollectiondata.com/api/collections'</span></em><a class="headerlink" href="#api.novelist.NoveListAPI.COLLECTION_DATA_API" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.novelist.NoveListAPI.IS_CONFIGURED">
<span class="sig-name descname"><span class="pre">IS_CONFIGURED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#api.novelist.NoveListAPI.IS_CONFIGURED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.novelist.NoveListAPI.MAX_REPRESENTATION_AGE">
<span class="sig-name descname"><span class="pre">MAX_REPRESENTATION_AGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">604800</span></em><a class="headerlink" href="#api.novelist.NoveListAPI.MAX_REPRESENTATION_AGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.novelist.NoveListAPI.NAME">
<span class="sig-name descname"><span class="pre">NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'Novelist</span> <span class="pre">API'</span></em><a class="headerlink" href="#api.novelist.NoveListAPI.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.novelist.NoveListAPI.NO_ISBN_EQUIVALENCY">
<span class="sig-name descname"><span class="pre">NO_ISBN_EQUIVALENCY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'No</span> <span class="pre">clear</span> <span class="pre">ISBN</span> <span class="pre">equivalency:</span> <span class="pre">%r'</span></em><a class="headerlink" href="#api.novelist.NoveListAPI.NO_ISBN_EQUIVALENCY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.novelist.NoveListAPI.PROTOCOL">
<span class="sig-name descname"><span class="pre">PROTOCOL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'NoveList</span> <span class="pre">Select'</span></em><a class="headerlink" href="#api.novelist.NoveListAPI.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.novelist.NoveListAPI.QUERY_ENDPOINT">
<span class="sig-name descname"><span class="pre">QUERY_ENDPOINT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'https://novselect.ebscohost.com/Data/ContentByQuery?ISBN=%(ISBN)s&amp;ClientIdentifier=%(ClientIdentifier)s&amp;version=%(version)s'</span></em><a class="headerlink" href="#api.novelist.NoveListAPI.QUERY_ENDPOINT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.novelist.NoveListAPI.SETTINGS">
<span class="sig-name descname"><span class="pre">SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'username',</span> <span class="pre">'label':</span> <span class="pre">l'Profile',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'password',</span> <span class="pre">'label':</span> <span class="pre">l'Password',</span> <span class="pre">'required':</span> <span class="pre">True}]</span></em><a class="headerlink" href="#api.novelist.NoveListAPI.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.novelist.NoveListAPI.SITEWIDE">
<span class="sig-name descname"><span class="pre">SITEWIDE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#api.novelist.NoveListAPI.SITEWIDE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.novelist.NoveListAPI.build_query_url">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">build_query_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_auth</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.build_query_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.novelist.NoveListAPI.build_query_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds a unique and url-encoded query endpoint</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.novelist.NoveListAPI.choose_best_metadata">
<span class="sig-name descname"><span class="pre">choose_best_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadata_objects</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.choose_best_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.novelist.NoveListAPI.choose_best_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Chooses the most likely book metadata from a list of Metadata objects</p>
<p>Given several Metadata objects with different NoveList IDs, this
method returns the metadata of the ID with the highest representation
and a float representing confidence in the result.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.novelist.NoveListAPI.create_item_object">
<span class="sig-name descname"><span class="pre">create_item_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">object</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">currentIdentifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">existingItem</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.create_item_object"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.novelist.NoveListAPI.create_item_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new item if the current identifier that was processed
is not the same as the new object’s ISBN being processed. If the new
object’s ISBN matches the current identifier, the previous object’s
Author property is updated.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>object</strong> – the current item object to process</p></li>
<li><p><strong>currentIdentifier</strong> – the current identifier to process</p></li>
<li><p><strong>existingItem</strong> – the previously processed item object</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p><p>(
current identifier,
the existing object if available,
a new object if the item wasn’t found before,
if the item is ready to the added to the list of books to send
)</p>
</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.novelist.NoveListAPI.currentQueryIdentifier">
<span class="sig-name descname"><span class="pre">currentQueryIdentifier</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#api.novelist.NoveListAPI.currentQueryIdentifier" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.novelist.NoveListAPI.from_config">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.from_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.novelist.NoveListAPI.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.novelist.NoveListAPI.get_items_from_query">
<span class="sig-name descname"><span class="pre">get_items_from_query</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.get_items_from_query"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.novelist.NoveListAPI.get_items_from_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets identifiers and its related title, medium, and authors from the
database.
Keeps track of the current ‘ISBN’ identifier and current item object that
is being processed. If the next ISBN being processed is new, the existing one
gets added to the list of items. If the ISBN is the same, then we append
the Author property since there are multiple contributors.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>a list of Novelist objects to send</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.novelist.NoveListAPI.get_recommendations">
<span class="sig-name descname"><span class="pre">get_recommendations</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">recommendations_info</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.get_recommendations"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.novelist.NoveListAPI.get_recommendations" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.novelist.NoveListAPI.get_series_information">
<span class="sig-name descname"><span class="pre">get_series_information</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">metadata</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">series_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">book_info</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.get_series_information"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.novelist.NoveListAPI.get_series_information" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns metadata object with series info and optimal title key</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.novelist.NoveListAPI.is_configured">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">is_configured</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.is_configured"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.novelist.NoveListAPI.is_configured" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.novelist.NoveListAPI.log">
<span class="sig-name descname"><span class="pre">log</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;Logger</span> <span class="pre">NoveList</span> <span class="pre">API</span> <span class="pre">(WARNING)&gt;</span></em><a class="headerlink" href="#api.novelist.NoveListAPI.log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.novelist.NoveListAPI.lookup">
<span class="sig-name descname"><span class="pre">lookup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.lookup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.novelist.NoveListAPI.lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Requests NoveList metadata for a particular identifier</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>kwargs</strong> – Keyword arguments passed into Representation.post().</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Metadata object or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.novelist.NoveListAPI.lookup_equivalent_isbns">
<span class="sig-name descname"><span class="pre">lookup_equivalent_isbns</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.lookup_equivalent_isbns"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.novelist.NoveListAPI.lookup_equivalent_isbns" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds NoveList data for all ISBNs equivalent to an identifier.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Metadata object or None</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.novelist.NoveListAPI.lookup_info_to_metadata">
<span class="sig-name descname"><span class="pre">lookup_info_to_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lookup_representation</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.lookup_info_to_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.novelist.NoveListAPI.lookup_info_to_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms a NoveList JSON representation into a Metadata object</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.novelist.NoveListAPI.make_novelist_data_object">
<span class="sig-name descname"><span class="pre">make_novelist_data_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">items</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.make_novelist_data_object"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.novelist.NoveListAPI.make_novelist_data_object" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.novelist.NoveListAPI.medium_to_book_format_type_values">
<span class="sig-name descname"><span class="pre">medium_to_book_format_type_values</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'Audio':</span> <span class="pre">'Audiobook',</span> <span class="pre">'Book':</span> <span class="pre">'EBook'}</span></em><a class="headerlink" href="#api.novelist.NoveListAPI.medium_to_book_format_type_values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.novelist.NoveListAPI.put">
<span class="sig-name descname"><span class="pre">put</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.put"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.novelist.NoveListAPI.put" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.novelist.NoveListAPI.put_items_novelist">
<span class="sig-name descname"><span class="pre">put_items_novelist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.put_items_novelist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.novelist.NoveListAPI.put_items_novelist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.novelist.NoveListAPI.review_response">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">review_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.review_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.novelist.NoveListAPI.review_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs NoveList-specific error review of the request response</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.novelist.NoveListAPI.scrubbed_url">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">scrubbed_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.scrubbed_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.novelist.NoveListAPI.scrubbed_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes authentication details from cached Representation.url</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.novelist.NoveListAPI.source">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">source</span></span><a class="headerlink" href="#api.novelist.NoveListAPI.source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.novelist.NoveListAPI.values">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">values</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.values"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.novelist.NoveListAPI.values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.novelist.NoveListAPI.version">
<span class="sig-name descname"><span class="pre">version</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'2.2'</span></em><a class="headerlink" href="#api.novelist.NoveListAPI.version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-api.nyt">
<span id="api-nyt-module"></span><h2>api.nyt module<a class="headerlink" href="#module-api.nyt" title="Permalink to this heading">¶</a></h2>
<p>Interface to the New York Times APIs.</p>
<dl class="py class">
<dt class="sig sig-object py" id="api.nyt.NYTAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.nyt.</span></span><span class="sig-name descname"><span class="pre">NYTAPI</span></span><a class="reference internal" href="_modules/api/nyt.html#NYTAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.nyt.NYTAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.nyt.NYTAPI.DATE_FORMAT">
<span class="sig-name descname"><span class="pre">DATE_FORMAT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'%Y-%m-%d'</span></em><a class="headerlink" href="#api.nyt.NYTAPI.DATE_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.nyt.NYTAPI.TIME_ZONE">
<span class="sig-name descname"><span class="pre">TIME_ZONE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">tzfile('/usr/share/zoneinfo/America/New_York')</span></em><a class="headerlink" href="#api.nyt.NYTAPI.TIME_ZONE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.nyt.NYTAPI.date_string">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">date_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/nyt.html#NYTAPI.date_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.nyt.NYTAPI.date_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.nyt.NYTAPI.parse_date">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parse_date</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/nyt.html#NYTAPI.parse_date"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.nyt.NYTAPI.parse_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to parse the publication date of a book.</p>
<p>We don’t know the timezone here, so the date will end up being
stored as midnight UTC.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.nyt.NYTAPI.parse_datetime">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parse_datetime</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">d</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/nyt.html#NYTAPI.parse_datetime"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.nyt.NYTAPI.parse_datetime" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to parse the publication date of a NYT best-seller list.</p>
<p>We take midnight Eastern time to be the publication time.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.nyt.NYTBestSellerAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.nyt.</span></span><span class="sig-name descname"><span class="pre">NYTBestSellerAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_key</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_get</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata_client</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/nyt.html#NYTBestSellerAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.nyt.NYTBestSellerAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.nyt.NYTAPI" title="api.nyt.NYTAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">NYTAPI</span></code></a>, <a class="reference internal" href="core.html#core.selftest.HasSelfTests" title="core.selftest.HasSelfTests"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasSelfTests</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.nyt.NYTBestSellerAPI.BASE_URL">
<span class="sig-name descname"><span class="pre">BASE_URL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'http://api.nytimes.com/svc/books/v3/lists'</span></em><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.BASE_URL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.nyt.NYTBestSellerAPI.CARDINALITY">
<span class="sig-name descname"><span class="pre">CARDINALITY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.CARDINALITY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.nyt.NYTBestSellerAPI.GOAL">
<span class="sig-name descname"><span class="pre">GOAL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'metadata'</span></em><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.GOAL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.nyt.NYTBestSellerAPI.HISTORICAL_LIST_MAX_AGE">
<span class="sig-name descname"><span class="pre">HISTORICAL_LIST_MAX_AGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">datetime.timedelta(days=365)</span></em><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.HISTORICAL_LIST_MAX_AGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.nyt.NYTBestSellerAPI.LIST_MAX_AGE">
<span class="sig-name descname"><span class="pre">LIST_MAX_AGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">datetime.timedelta(days=1)</span></em><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.LIST_MAX_AGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.nyt.NYTBestSellerAPI.LIST_NAMES_URL">
<span class="sig-name descname"><span class="pre">LIST_NAMES_URL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'http://api.nytimes.com/svc/books/v3/lists/names.json'</span></em><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.LIST_NAMES_URL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.nyt.NYTBestSellerAPI.LIST_OF_LISTS_MAX_AGE">
<span class="sig-name descname"><span class="pre">LIST_OF_LISTS_MAX_AGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">datetime.timedelta(days=1)</span></em><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.LIST_OF_LISTS_MAX_AGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.nyt.NYTBestSellerAPI.LIST_URL">
<span class="sig-name descname"><span class="pre">LIST_URL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'http://api.nytimes.com/svc/books/v3/lists.json?list=%s'</span></em><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.LIST_URL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.nyt.NYTBestSellerAPI.NAME">
<span class="sig-name descname"><span class="pre">NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'NYT</span> <span class="pre">Best</span> <span class="pre">Seller</span> <span class="pre">API'</span></em><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.nyt.NYTBestSellerAPI.PROTOCOL">
<span class="sig-name descname"><span class="pre">PROTOCOL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'New</span> <span class="pre">York</span> <span class="pre">Times'</span></em><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.nyt.NYTBestSellerAPI.SETTINGS">
<span class="sig-name descname"><span class="pre">SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'password',</span> <span class="pre">'label':</span> <span class="pre">l'API</span> <span class="pre">key',</span> <span class="pre">'required':</span> <span class="pre">True}]</span></em><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.nyt.NYTBestSellerAPI.SITEWIDE">
<span class="sig-name descname"><span class="pre">SITEWIDE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.SITEWIDE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.nyt.NYTBestSellerAPI.best_seller_list">
<span class="sig-name descname"><span class="pre">best_seller_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/nyt.html#NYTBestSellerAPI.best_seller_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.best_seller_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Create (but don’t update) a NYTBestSellerList object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.nyt.NYTBestSellerAPI.external_integration">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">external_integration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/nyt.html#NYTBestSellerAPI.external_integration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.external_integration" title="Permalink to this definition">¶</a></dt>
<dd><p>Locate the ExternalIntegration associated with this object.
The status of the self-tests will be stored as a ConfigurationSetting
on this ExternalIntegration.</p>
<p>By default, there is no way to get from an object to its
ExternalIntegration, and self-test status will not be stored.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.nyt.NYTBestSellerAPI.fill_in_history">
<span class="sig-name descname"><span class="pre">fill_in_history</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/nyt.html#NYTBestSellerAPI.fill_in_history"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.fill_in_history" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the given list with current and historical data.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.nyt.NYTBestSellerAPI.from_config">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">from_config</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/nyt.html#NYTBestSellerAPI.from_config"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.nyt.NYTBestSellerAPI.list_info">
<span class="sig-name descname"><span class="pre">list_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/nyt.html#NYTBestSellerAPI.list_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.list_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.nyt.NYTBestSellerAPI.list_of_lists">
<span class="sig-name descname"><span class="pre">list_of_lists</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">max_age</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">datetime.timedelta(days=1)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/nyt.html#NYTBestSellerAPI.list_of_lists"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.list_of_lists" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.nyt.NYTBestSellerAPI.request">
<span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_age</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">datetime.timedelta(days=1)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/nyt.html#NYTBestSellerAPI.request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.request" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.nyt.NYTBestSellerAPI.source">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">source</span></span><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.nyt.NYTBestSellerAPI.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">max_age</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">datetime.timedelta(days=1)</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/nyt.html#NYTBestSellerAPI.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the given list with data from the given date.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.nyt.NYTBestSellerList">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.nyt.</span></span><span class="sig-name descname"><span class="pre">NYTBestSellerList</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">list_info</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata_client</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/nyt.html#NYTBestSellerList"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.nyt.NYTBestSellerList" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></p>
<dl class="py property">
<dt class="sig sig-object py" id="api.nyt.NYTBestSellerList.all_dates">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">all_dates</span></span><a class="headerlink" href="#api.nyt.NYTBestSellerList.all_dates" title="Permalink to this definition">¶</a></dt>
<dd><p>Yield a list of estimated dates when new editions of this list were
probably published.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.nyt.NYTBestSellerList.medium">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">medium</span></span><a class="headerlink" href="#api.nyt.NYTBestSellerList.medium" title="Permalink to this definition">¶</a></dt>
<dd><p>What medium are the books on this list?</p>
<p>Lists like “Audio Fiction” contain audiobooks; all others
contain normal books. (TODO: this isn’t quite right; the
distinction between ebooks and print books here exists in a
way it doesn’t with most other sources of Editions.)</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.nyt.NYTBestSellerList.to_customlist">
<span class="sig-name descname"><span class="pre">to_customlist</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/nyt.html#NYTBestSellerList.to_customlist"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.nyt.NYTBestSellerList.to_customlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn this NYTBestSeller list into a CustomList object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.nyt.NYTBestSellerList.update">
<span class="sig-name descname"><span class="pre">update</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">json_data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/nyt.html#NYTBestSellerList.update"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.nyt.NYTBestSellerList.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the list with information from the given JSON structure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.nyt.NYTBestSellerList.update_custom_list">
<span class="sig-name descname"><span class="pre">update_custom_list</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">custom_list</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/nyt.html#NYTBestSellerList.update_custom_list"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.nyt.NYTBestSellerList.update_custom_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure the given CustomList’s CustomListEntries reflect
the current state of the NYTBestSeller list.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.nyt.NYTBestSellerListTitle">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.nyt.</span></span><span class="sig-name descname"><span class="pre">NYTBestSellerListTitle</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">medium</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/nyt.html#NYTBestSellerListTitle"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.nyt.NYTBestSellerListTitle" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.external_list.TitleFromExternalList" title="core.external_list.TitleFromExternalList"><code class="xref py py-class docutils literal notranslate"><span class="pre">TitleFromExternalList</span></code></a></p>
</dd></dl>

</section>
<section id="module-api.odilo">
<span id="api-odilo-module"></span><h2>api.odilo module<a class="headerlink" href="#module-api.odilo" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.odilo.MockOdiloAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.odilo.</span></span><span class="sig-name descname"><span class="pre">MockOdiloAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#MockOdiloAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.MockOdiloAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.odilo.OdiloAPI" title="api.odilo.OdiloAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">OdiloAPI</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.MockOdiloAPI.mock_access_token_response">
<span class="sig-name descname"><span class="pre">mock_access_token_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">credential</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expires_in</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">-</span> <span class="pre">1</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#MockOdiloAPI.mock_access_token_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.MockOdiloAPI.mock_access_token_response" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.MockOdiloAPI.mock_collection">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mock_collection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#MockOdiloAPI.mock_collection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.MockOdiloAPI.mock_collection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.MockOdiloAPI.patron_request">
<span class="sig-name descname"><span class="pre">patron_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#MockOdiloAPI.patron_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.MockOdiloAPI.patron_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an HTTP request on behalf of a patron.</p>
<p>The results are never cached.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.MockOdiloAPI.queue_response">
<span class="sig-name descname"><span class="pre">queue_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status_code</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#MockOdiloAPI.queue_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.MockOdiloAPI.queue_response" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.MockOdiloAPI.token_post">
<span class="sig-name descname"><span class="pre">token_post</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payload</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#MockOdiloAPI.token_post"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.MockOdiloAPI.token_post" title="Permalink to this definition">¶</a></dt>
<dd><p>Mock the request for an OAuth token.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.odilo.</span></span><span class="sig-name descname"><span class="pre">OdiloAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation.BaseCirculationAPI" title="api.circulation.BaseCirculationAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseCirculationAPI</span></code></a>, <a class="reference internal" href="#api.selftest.HasSelfTests" title="api.selftest.HasSelfTests"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasSelfTests</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.ALL_PRODUCTS_ENDPOINT">
<span class="sig-name descname"><span class="pre">ALL_PRODUCTS_ENDPOINT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'/records'</span></em><a class="headerlink" href="#api.odilo.OdiloAPI.ALL_PRODUCTS_ENDPOINT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.CHECKIN_ENDPOINT">
<span class="sig-name descname"><span class="pre">CHECKIN_ENDPOINT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'/checkouts/{checkoutId}/return?patronId={patronId}'</span></em><a class="headerlink" href="#api.odilo.OdiloAPI.CHECKIN_ENDPOINT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.CHECKOUT_ENDPOINT">
<span class="sig-name descname"><span class="pre">CHECKOUT_ENDPOINT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'/records/{recordId}/checkout'</span></em><a class="headerlink" href="#api.odilo.OdiloAPI.CHECKOUT_ENDPOINT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.DESCRIPTION">
<span class="sig-name descname"><span class="pre">DESCRIPTION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'Integrate</span> <span class="pre">an</span> <span class="pre">Odilo</span> <span class="pre">library</span> <span class="pre">collection.'</span></em><a class="headerlink" href="#api.odilo.OdiloAPI.DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.LIBRARY_API_BASE_URL">
<span class="sig-name descname"><span class="pre">LIBRARY_API_BASE_URL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'library_api_base_url'</span></em><a class="headerlink" href="#api.odilo.OdiloAPI.LIBRARY_API_BASE_URL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.NAME">
<span class="sig-name descname"><span class="pre">NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Odilo'</span></em><a class="headerlink" href="#api.odilo.OdiloAPI.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.PAGE_SIZE_LIMIT">
<span class="sig-name descname"><span class="pre">PAGE_SIZE_LIMIT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">200</span></em><a class="headerlink" href="#api.odilo.OdiloAPI.PAGE_SIZE_LIMIT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.PATRON_CHECKOUTS_ENDPOINT">
<span class="sig-name descname"><span class="pre">PATRON_CHECKOUTS_ENDPOINT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'/patrons/{patronId}/checkouts'</span></em><a class="headerlink" href="#api.odilo.OdiloAPI.PATRON_CHECKOUTS_ENDPOINT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.PATRON_HOLDS_ENDPOINT">
<span class="sig-name descname"><span class="pre">PATRON_HOLDS_ENDPOINT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'/patrons/{patronId}/holds'</span></em><a class="headerlink" href="#api.odilo.OdiloAPI.PATRON_HOLDS_ENDPOINT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.PLACE_HOLD_ENDPOINT">
<span class="sig-name descname"><span class="pre">PLACE_HOLD_ENDPOINT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'/records/{recordId}/hold'</span></em><a class="headerlink" href="#api.odilo.OdiloAPI.PLACE_HOLD_ENDPOINT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.RECORD_AVAILABILITY_ENDPOINT">
<span class="sig-name descname"><span class="pre">RECORD_AVAILABILITY_ENDPOINT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'/records/{recordId}/availability'</span></em><a class="headerlink" href="#api.odilo.OdiloAPI.RECORD_AVAILABILITY_ENDPOINT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.RECORD_METADATA_ENDPOINT">
<span class="sig-name descname"><span class="pre">RECORD_METADATA_ENDPOINT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'/records/{recordId}'</span></em><a class="headerlink" href="#api.odilo.OdiloAPI.RECORD_METADATA_ENDPOINT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.RELEASE_HOLD_ENDPOINT">
<span class="sig-name descname"><span class="pre">RELEASE_HOLD_ENDPOINT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'/holds/{holdId}/cancel'</span></em><a class="headerlink" href="#api.odilo.OdiloAPI.RELEASE_HOLD_ENDPOINT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.SETTINGS">
<span class="sig-name descname"><span class="pre">SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'library_api_base_url',</span> <span class="pre">'label':</span> <span class="pre">l'Library</span> <span class="pre">API</span> <span class="pre">base</span> <span class="pre">URL',</span> <span class="pre">'description':</span> <span class="pre">l'This</span> <span class="pre">might</span> <span class="pre">look</span> <span class="pre">like</span> <span class="pre">&lt;code&gt;https://[library].odilo.us/api/v2&lt;/code&gt;.',</span> <span class="pre">'required':</span> <span class="pre">True,</span> <span class="pre">'format':</span> <span class="pre">'url'},</span> <span class="pre">{'key':</span> <span class="pre">'username',</span> <span class="pre">'label':</span> <span class="pre">l'Client</span> <span class="pre">Key',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'password',</span> <span class="pre">'label':</span> <span class="pre">l'Client</span> <span class="pre">Secret',</span> <span class="pre">'required':</span> <span class="pre">True}]</span></em><a class="headerlink" href="#api.odilo.OdiloAPI.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.SET_DELIVERY_MECHANISM_AT">
<span class="sig-name descname"><span class="pre">SET_DELIVERY_MECHANISM_AT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'borrow'</span></em><a class="headerlink" href="#api.odilo.OdiloAPI.SET_DELIVERY_MECHANISM_AT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.TOKEN_ENDPOINT">
<span class="sig-name descname"><span class="pre">TOKEN_ENDPOINT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'/token'</span></em><a class="headerlink" href="#api.odilo.OdiloAPI.TOKEN_ENDPOINT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.check_creds">
<span class="sig-name descname"><span class="pre">check_creds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">force_refresh</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.check_creds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloAPI.check_creds" title="Permalink to this definition">¶</a></dt>
<dd><p>If the Bearer Token has expired, update it.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.checkin">
<span class="sig-name descname"><span class="pre">checkin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.checkin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloAPI.checkin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a book early.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patron</strong> – a Patron object for the patron who wants to check out the book.</p></li>
<li><p><strong>pin</strong> – The patron’s alleged password.</p></li>
<li><p><strong>licensepool</strong> – Contains lending info as well as link to parent Identifier.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.checkout">
<span class="sig-name descname"><span class="pre">checkout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal_format</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.checkout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloAPI.checkout" title="Permalink to this definition">¶</a></dt>
<dd><p>Check out a book on behalf of a patron.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patron</strong> – a Patron object for the patron who wants
to check out the book.</p></li>
<li><p><strong>pin</strong> – The patron’s alleged password.</p></li>
<li><p><strong>licensepool</strong> – Identifier of the book to be checked out is
attached to this licensepool.</p></li>
<li><p><strong>internal_format</strong> – Represents the patron’s desired book format.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a LoanInfo object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.collection">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">collection</span></span><a class="headerlink" href="#api.odilo.OdiloAPI.collection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.credential_object">
<span class="sig-name descname"><span class="pre">credential_object</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">refresh</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.credential_object"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloAPI.credential_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up the Credential object that allows us to use
the Odilo API.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.delivery_mechanism_to_internal_format">
<span class="sig-name descname"><span class="pre">delivery_mechanism_to_internal_format</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{('application/epub+zip',</span> <span class="pre">'application/vnd.adobe.adept+xml'):</span> <span class="pre">'ACSM_EPUB',</span> <span class="pre">('application/pdf',</span> <span class="pre">'application/vnd.adobe.adept+xml'):</span> <span class="pre">'ACSM_PDF',</span> <span class="pre">('application/vnd.librarysimplified.scorm+zip',</span> <span class="pre">None):</span> <span class="pre">'SCORM',</span> <span class="pre">('audio/mpeg',</span> <span class="pre">'Streaming</span> <span class="pre">Audio'):</span> <span class="pre">'MP3',</span> <span class="pre">('image/jpeg',</span> <span class="pre">None):</span> <span class="pre">'JPG',</span> <span class="pre">('text/html',</span> <span class="pre">'Streaming</span> <span class="pre">Text'):</span> <span class="pre">'EBOOK_STREAMING',</span> <span class="pre">('video/mp4',</span> <span class="pre">'Streaming</span> <span class="pre">Video'):</span> <span class="pre">'MP4',</span> <span class="pre">('video/x-ms-wmv',</span> <span class="pre">'Streaming</span> <span class="pre">Video'):</span> <span class="pre">'WMV'}</span></em><a class="headerlink" href="#api.odilo.OdiloAPI.delivery_mechanism_to_internal_format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.error_to_exception">
<span class="sig-name descname"><span class="pre">error_to_exception</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'CHECKOUT_NOT_FOUND':</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.NotCheckedOut'&gt;,</span> <span class="pre">'ERROR_DATA_NOT_FOUND':</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.NotFoundOnRemote'&gt;,</span> <span class="pre">'LOAN_ALREADY_RESERVED':</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.AlreadyOnHold'&gt;,</span> <span class="pre">'TitleNotCheckedOut':</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.NoActiveLoan'&gt;,</span> <span class="pre">'patronNotFound':</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.PatronNotFoundOnRemote'&gt;}</span></em><a class="headerlink" href="#api.odilo.OdiloAPI.error_to_exception" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.external_integration">
<span class="sig-name descname"><span class="pre">external_integration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.external_integration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloAPI.external_integration" title="Permalink to this definition">¶</a></dt>
<dd><p>Locate the ExternalIntegration associated with this object.
The status of the self-tests will be stored as a ConfigurationSetting
on this ExternalIntegration.</p>
<p>By default, there is no way to get from an object to its
ExternalIntegration, and self-test status will not be stored.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.extract_date">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">extract_date</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">field_name</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.extract_date"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloAPI.extract_date" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.fulfill">
<span class="sig-name descname"><span class="pre">fulfill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal_format</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.fulfill"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloAPI.fulfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the actual resource file to the patron.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>kwargs</strong> – A container for arguments to fulfill()
which are not relevant to this vendor.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a FulfillmentInfo object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.get">
<span class="sig-name descname"><span class="pre">get</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exception_on_401</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.get"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloAPI.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an HTTP GET request using the active Bearer Token.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.get_availability">
<span class="sig-name descname"><span class="pre">get_availability</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.get_availability"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloAPI.get_availability" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.get_checkout">
<span class="sig-name descname"><span class="pre">get_checkout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">record_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.get_checkout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloAPI.get_checkout" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.get_fulfillment_link">
<span class="sig-name descname"><span class="pre">get_fulfillment_link</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">record_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format_type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.get_fulfillment_link"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloAPI.get_fulfillment_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the link corresponding to an existing checkout.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.get_hold">
<span class="sig-name descname"><span class="pre">get_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">record_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.get_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloAPI.get_hold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.get_metadata">
<span class="sig-name descname"><span class="pre">get_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.get_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloAPI.get_metadata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.get_patron_checkouts">
<span class="sig-name descname"><span class="pre">get_patron_checkouts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.get_patron_checkouts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloAPI.get_patron_checkouts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.get_patron_holds">
<span class="sig-name descname"><span class="pre">get_patron_holds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.get_patron_holds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloAPI.get_patron_holds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.hold_from_odilo_hold">
<span class="sig-name descname"><span class="pre">hold_from_odilo_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hold</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.hold_from_odilo_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloAPI.hold_from_odilo_hold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.loan_info_from_odilo_checkout">
<span class="sig-name descname"><span class="pre">loan_info_from_odilo_checkout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checkout</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.loan_info_from_odilo_checkout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloAPI.loan_info_from_odilo_checkout" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.log">
<span class="sig-name descname"><span class="pre">log</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;Logger</span> <span class="pre">Odilo</span> <span class="pre">API</span> <span class="pre">(WARNING)&gt;</span></em><a class="headerlink" href="#api.odilo.OdiloAPI.log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.patron_activity">
<span class="sig-name descname"><span class="pre">patron_activity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.patron_activity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloAPI.patron_activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a patron’s current checkouts and holds.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.patron_request">
<span class="sig-name descname"><span class="pre">patron_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exception_on_401</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.patron_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloAPI.patron_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an HTTP request on behalf of a patron.</p>
<p>The results are never cached.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.place_hold">
<span class="sig-name descname"><span class="pre">place_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notification_email_address</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.place_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloAPI.place_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Place a book on hold.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A HoldInfo object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.raise_exception_on_error">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">raise_exception_on_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_exception_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">ignore_exception_codes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.raise_exception_on_error"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloAPI.raise_exception_on_error" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.refresh_creds">
<span class="sig-name descname"><span class="pre">refresh_creds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">credential</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.refresh_creds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloAPI.refresh_creds" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch a new Bearer Token and update the given Credential object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.release_hold">
<span class="sig-name descname"><span class="pre">release_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.release_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloAPI.release_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Release a patron’s hold on a book.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.source">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">source</span></span><a class="headerlink" href="#api.odilo.OdiloAPI.source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.OdiloAPI.token_post">
<span class="sig-name descname"><span class="pre">token_post</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">payload</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.token_post"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloAPI.token_post" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an HTTP POST request for purposes of getting an OAuth token.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.odilo.OdiloBibliographicCoverageProvider">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.odilo.</span></span><span class="sig-name descname"><span class="pre">OdiloBibliographicCoverageProvider</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_class=&lt;class</span> <span class="pre">'api.odilo.OdiloAPI'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloBibliographicCoverageProvider"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloBibliographicCoverageProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.coverage.BibliographicCoverageProvider" title="core.coverage.BibliographicCoverageProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">BibliographicCoverageProvider</span></code></a></p>
<p>Fill in bibliographic metadata for Odilo records.</p>
<p>This will occasionally fill in some availability information for a
single Collection, but we rely on Monitors to keep availability
information up to date for all Collections.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.odilo.OdiloBibliographicCoverageProvider.DATA_SOURCE_NAME">
<span class="sig-name descname"><span class="pre">DATA_SOURCE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Odilo'</span></em><a class="headerlink" href="#api.odilo.OdiloBibliographicCoverageProvider.DATA_SOURCE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odilo.OdiloBibliographicCoverageProvider.INPUT_IDENTIFIER_TYPES">
<span class="sig-name descname"><span class="pre">INPUT_IDENTIFIER_TYPES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Odilo</span> <span class="pre">ID'</span></em><a class="headerlink" href="#api.odilo.OdiloBibliographicCoverageProvider.INPUT_IDENTIFIER_TYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odilo.OdiloBibliographicCoverageProvider.PROTOCOL">
<span class="sig-name descname"><span class="pre">PROTOCOL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Odilo'</span></em><a class="headerlink" href="#api.odilo.OdiloBibliographicCoverageProvider.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odilo.OdiloBibliographicCoverageProvider.SERVICE_NAME">
<span class="sig-name descname"><span class="pre">SERVICE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Odilo</span> <span class="pre">Bibliographic</span> <span class="pre">Coverage</span> <span class="pre">Provider'</span></em><a class="headerlink" href="#api.odilo.OdiloBibliographicCoverageProvider.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.OdiloBibliographicCoverageProvider.process_item">
<span class="sig-name descname"><span class="pre">process_item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">record_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">record</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloBibliographicCoverageProvider.process_item"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloBibliographicCoverageProvider.process_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Do the work necessary to give coverage to one specific item.</p>
<p>Since this is where the actual work happens, this is not
implemented in IdentifierCoverageProvider or
WorkCoverageProvider, and must be handled in a subclass.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.odilo.OdiloCirculationMonitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.odilo.</span></span><span class="sig-name descname"><span class="pre">OdiloCirculationMonitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_class=&lt;class</span> <span class="pre">'api.odilo.OdiloAPI'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloCirculationMonitor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloCirculationMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.monitor.CollectionMonitor" title="core.monitor.CollectionMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">CollectionMonitor</span></code></a>, <a class="reference internal" href="core.html#core.monitor.TimelineMonitor" title="core.monitor.TimelineMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimelineMonitor</span></code></a></p>
<p>Maintain LicensePools for recently changed Odilo titles</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.odilo.OdiloCirculationMonitor.DEFAULT_START_TIME">
<span class="sig-name descname"><span class="pre">DEFAULT_START_TIME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;object</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#api.odilo.OdiloCirculationMonitor.DEFAULT_START_TIME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odilo.OdiloCirculationMonitor.INTERVAL_SECONDS">
<span class="sig-name descname"><span class="pre">INTERVAL_SECONDS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">500</span></em><a class="headerlink" href="#api.odilo.OdiloCirculationMonitor.INTERVAL_SECONDS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odilo.OdiloCirculationMonitor.PROTOCOL">
<span class="sig-name descname"><span class="pre">PROTOCOL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Odilo'</span></em><a class="headerlink" href="#api.odilo.OdiloCirculationMonitor.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odilo.OdiloCirculationMonitor.SERVICE_NAME">
<span class="sig-name descname"><span class="pre">SERVICE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Odilo</span> <span class="pre">Circulation</span> <span class="pre">Monitor'</span></em><a class="headerlink" href="#api.odilo.OdiloCirculationMonitor.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.OdiloCirculationMonitor.all_ids">
<span class="sig-name descname"><span class="pre">all_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">modification_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloCirculationMonitor.all_ids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloCirculationMonitor.all_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Get IDs for every book in the system, from modification date if any</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.OdiloCirculationMonitor.catch_up_from">
<span class="sig-name descname"><span class="pre">catch_up_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloCirculationMonitor.catch_up_from"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloCirculationMonitor.catch_up_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Find Odilo books that changed recently.</p>
<dl class="field-list simple">
<dt class="field-odd">Progress<span class="colon">:</span></dt>
<dd class="field-odd"><p>A TimestampData representing the time previously
covered by this Monitor.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.OdiloCirculationMonitor.get_url">
<span class="sig-name descname"><span class="pre">get_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">limit</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">modification_date</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">offset</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloCirculationMonitor.get_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloCirculationMonitor.get_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.odilo.OdiloRepresentationExtractor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.odilo.</span></span><span class="sig-name descname"><span class="pre">OdiloRepresentationExtractor</span></span><a class="reference internal" href="_modules/api/odilo.html#OdiloRepresentationExtractor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloRepresentationExtractor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Extract useful information from Odilo’s JSON representations.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.odilo.OdiloRepresentationExtractor.ACSM">
<span class="sig-name descname"><span class="pre">ACSM</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'ACSM'</span></em><a class="headerlink" href="#api.odilo.OdiloRepresentationExtractor.ACSM" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odilo.OdiloRepresentationExtractor.ACSM_EPUB">
<span class="sig-name descname"><span class="pre">ACSM_EPUB</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'ACSM_EPUB'</span></em><a class="headerlink" href="#api.odilo.OdiloRepresentationExtractor.ACSM_EPUB" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odilo.OdiloRepresentationExtractor.ACSM_PDF">
<span class="sig-name descname"><span class="pre">ACSM_PDF</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'ACSM_PDF'</span></em><a class="headerlink" href="#api.odilo.OdiloRepresentationExtractor.ACSM_PDF" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odilo.OdiloRepresentationExtractor.EBOOK_STREAMING">
<span class="sig-name descname"><span class="pre">EBOOK_STREAMING</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'EBOOK_STREAMING'</span></em><a class="headerlink" href="#api.odilo.OdiloRepresentationExtractor.EBOOK_STREAMING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odilo.OdiloRepresentationExtractor.format_data_for_odilo_format">
<span class="sig-name descname"><span class="pre">format_data_for_odilo_format</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'ACSM_EPUB':</span> <span class="pre">('application/epub+zip',</span> <span class="pre">'application/vnd.adobe.adept+xml'),</span> <span class="pre">'ACSM_PDF':</span> <span class="pre">('application/pdf',</span> <span class="pre">'application/vnd.adobe.adept+xml'),</span> <span class="pre">'EBOOK_STREAMING':</span> <span class="pre">('text/html',</span> <span class="pre">'Streaming</span> <span class="pre">Text'),</span> <span class="pre">'JPG':</span> <span class="pre">('image/jpeg',</span> <span class="pre">None),</span> <span class="pre">'MP3':</span> <span class="pre">('audio/mpeg',</span> <span class="pre">'Streaming</span> <span class="pre">Audio'),</span> <span class="pre">'MP4':</span> <span class="pre">('video/mp4',</span> <span class="pre">'Streaming</span> <span class="pre">Video'),</span> <span class="pre">'SCORM':</span> <span class="pre">('application/vnd.librarysimplified.scorm+zip',</span> <span class="pre">None),</span> <span class="pre">'WMV':</span> <span class="pre">('video/x-ms-wmv',</span> <span class="pre">'Streaming</span> <span class="pre">Video')}</span></em><a class="headerlink" href="#api.odilo.OdiloRepresentationExtractor.format_data_for_odilo_format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.OdiloRepresentationExtractor.image_link_to_linkdata">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">image_link_to_linkdata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">link</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rel</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloRepresentationExtractor.image_link_to_linkdata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloRepresentationExtractor.image_link_to_linkdata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odilo.OdiloRepresentationExtractor.log">
<span class="sig-name descname"><span class="pre">log</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;Logger</span> <span class="pre">OdiloRepresentationExtractor</span> <span class="pre">(WARNING)&gt;</span></em><a class="headerlink" href="#api.odilo.OdiloRepresentationExtractor.log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odilo.OdiloRepresentationExtractor.odilo_medium_to_simplified_medium">
<span class="sig-name descname"><span class="pre">odilo_medium_to_simplified_medium</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'ACSM_EPUB':</span> <span class="pre">'Book',</span> <span class="pre">'ACSM_PDF':</span> <span class="pre">'Book',</span> <span class="pre">'EBOOK_STREAMING':</span> <span class="pre">'Book',</span> <span class="pre">'JPG':</span> <span class="pre">'Image',</span> <span class="pre">'MP3':</span> <span class="pre">'Audio',</span> <span class="pre">'MP4':</span> <span class="pre">'Video',</span> <span class="pre">'SCORM':</span> <span class="pre">'Courseware',</span> <span class="pre">'WMV':</span> <span class="pre">'Video'}</span></em><a class="headerlink" href="#api.odilo.OdiloRepresentationExtractor.odilo_medium_to_simplified_medium" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.OdiloRepresentationExtractor.record_info_to_circulation">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">record_info_to_circulation</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">availability</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloRepresentationExtractor.record_info_to_circulation"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloRepresentationExtractor.record_info_to_circulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Note:  The json data passed into this method is from a different file/stream
from the json data that goes into the record_info_to_metadata() method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.OdiloRepresentationExtractor.record_info_to_metadata">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">record_info_to_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">book</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">availability</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloRepresentationExtractor.record_info_to_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloRepresentationExtractor.record_info_to_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn Odilo’s JSON representation of a book into a Metadata
object.</p>
<p>Note:  The json data passed into this method is from a different file/stream
from the json data that goes into the book_info_to_circulation() method.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odilo.OdiloRepresentationExtractor.set_format">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">set_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">format_received</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">formats</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloRepresentationExtractor.set_format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odilo.OdiloRepresentationExtractor.set_format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-api.odl">
<span id="api-odl-module"></span><h2>api.odl module<a class="headerlink" href="#module-api.odl" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.odl.MockODLAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.odl.</span></span><span class="sig-name descname"><span class="pre">MockODLAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#MockODLAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.MockODLAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.odl.ODLAPI" title="api.odl.ODLAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">ODLAPI</span></code></a></p>
<p>Mock API for tests that overrides _get and _url_for and tracks requests.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.odl.MockODLAPI.mock_collection">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mock_collection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">protocol</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ODL'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#MockODLAPI.mock_collection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.MockODLAPI.mock_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a mock ODL collection to use in tests.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odl.MockODLAPI.queue_response">
<span class="sig-name descname"><span class="pre">queue_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status_code</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#MockODLAPI.queue_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.MockODLAPI.queue_response" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.odl.MockSharedODLAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.odl.</span></span><span class="sig-name descname"><span class="pre">MockSharedODLAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#MockSharedODLAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.MockSharedODLAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.odl.SharedODLAPI" title="api.odl.SharedODLAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">SharedODLAPI</span></code></a></p>
<p>Mock API for tests that overrides _get and tracks requests.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.odl.MockSharedODLAPI.mock_collection">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mock_collection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#MockSharedODLAPI.mock_collection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.MockSharedODLAPI.mock_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a mock ODL collection to use in tests.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odl.MockSharedODLAPI.queue_response">
<span class="sig-name descname"><span class="pre">queue_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status_code</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#MockSharedODLAPI.queue_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.MockSharedODLAPI.queue_response" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.odl.ODLAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.odl.</span></span><span class="sig-name descname"><span class="pre">ODLAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.ODLAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation.BaseCirculationAPI" title="api.circulation.BaseCirculationAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseCirculationAPI</span></code></a>, <a class="reference internal" href="#api.shared_collection.BaseSharedCollectionAPI" title="api.shared_collection.BaseSharedCollectionAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseSharedCollectionAPI</span></code></a></p>
<p>ODL (Open Distribution to Libraries) is a specification that allows
libraries to manage their own loans and holds. It offers a deeper level
of control to the library, but it requires the circulation manager to
keep track of individual copies rather than just license pools, and
manage its own holds queues.</p>
<p>In addition to circulating books to patrons of a library on the current circulation
manager, this API can be used to circulate books to patrons of external libraries.
Only one circulation manager per ODL collection should use an ODLAPI
- the others should use a SharedODLAPI and configure it to connect to the main
circulation manager.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.odl.ODLAPI.ACTIVE_STATUS">
<span class="sig-name descname"><span class="pre">ACTIVE_STATUS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'active'</span></em><a class="headerlink" href="#api.odl.ODLAPI.ACTIVE_STATUS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odl.ODLAPI.CANCELLED_STATUS">
<span class="sig-name descname"><span class="pre">CANCELLED_STATUS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'cancelled'</span></em><a class="headerlink" href="#api.odl.ODLAPI.CANCELLED_STATUS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odl.ODLAPI.DESCRIPTION">
<span class="sig-name descname"><span class="pre">DESCRIPTION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'Import</span> <span class="pre">books</span> <span class="pre">from</span> <span class="pre">a</span> <span class="pre">distributor</span> <span class="pre">that</span> <span class="pre">uses</span> <span class="pre">ODL</span> <span class="pre">(Open</span> <span class="pre">Distribution</span> <span class="pre">to</span> <span class="pre">Libraries).'</span></em><a class="headerlink" href="#api.odl.ODLAPI.DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odl.ODLAPI.EXPIRED_STATUS">
<span class="sig-name descname"><span class="pre">EXPIRED_STATUS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'expired'</span></em><a class="headerlink" href="#api.odl.ODLAPI.EXPIRED_STATUS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odl.ODLAPI.LIBRARY_SETTINGS">
<span class="sig-name descname"><span class="pre">LIBRARY_SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'ebook_loan_duration',</span> <span class="pre">'label':</span> <span class="pre">l'Ebook</span> <span class="pre">Loan</span> <span class="pre">Duration</span> <span class="pre">(in</span> <span class="pre">Days)',</span> <span class="pre">'default':</span> <span class="pre">21,</span> <span class="pre">'type':</span> <span class="pre">'number',</span> <span class="pre">'description':</span> <span class="pre">l'When</span> <span class="pre">a</span> <span class="pre">patron</span> <span class="pre">uses</span> <span class="pre">SimplyE</span> <span class="pre">to</span> <span class="pre">borrow</span> <span class="pre">an</span> <span class="pre">ebook</span> <span class="pre">from</span> <span class="pre">this</span> <span class="pre">collection,</span> <span class="pre">SimplyE</span> <span class="pre">will</span> <span class="pre">ask</span> <span class="pre">for</span> <span class="pre">a</span> <span class="pre">loan</span> <span class="pre">that</span> <span class="pre">lasts</span> <span class="pre">this</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">days.</span> <span class="pre">This</span> <span class="pre">must</span> <span class="pre">be</span> <span class="pre">equal</span> <span class="pre">to</span> <span class="pre">or</span> <span class="pre">less</span> <span class="pre">than</span> <span class="pre">the</span> <span class="pre">maximum</span> <span class="pre">loan</span> <span class="pre">duration</span> <span class="pre">negotiated</span> <span class="pre">with</span> <span class="pre">the</span> <span class="pre">distributor.'}]</span></em><a class="headerlink" href="#api.odl.ODLAPI.LIBRARY_SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odl.ODLAPI.NAME">
<span class="sig-name descname"><span class="pre">NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'ODL'</span></em><a class="headerlink" href="#api.odl.ODLAPI.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odl.ODLAPI.READY_STATUS">
<span class="sig-name descname"><span class="pre">READY_STATUS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'ready'</span></em><a class="headerlink" href="#api.odl.ODLAPI.READY_STATUS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odl.ODLAPI.RETURNED_STATUS">
<span class="sig-name descname"><span class="pre">RETURNED_STATUS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'returned'</span></em><a class="headerlink" href="#api.odl.ODLAPI.RETURNED_STATUS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odl.ODLAPI.REVOKED_STATUS">
<span class="sig-name descname"><span class="pre">REVOKED_STATUS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'revoked'</span></em><a class="headerlink" href="#api.odl.ODLAPI.REVOKED_STATUS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odl.ODLAPI.SETTINGS">
<span class="sig-name descname"><span class="pre">SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'external_account_id',</span> <span class="pre">'label':</span> <span class="pre">l'ODL</span> <span class="pre">feed</span> <span class="pre">URL',</span> <span class="pre">'required':</span> <span class="pre">True,</span> <span class="pre">'format':</span> <span class="pre">'url'},</span> <span class="pre">{'key':</span> <span class="pre">'username',</span> <span class="pre">'label':</span> <span class="pre">l'Library's</span> <span class="pre">API</span> <span class="pre">username',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'password',</span> <span class="pre">'label':</span> <span class="pre">l'Library's</span> <span class="pre">API</span> <span class="pre">password',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'data_source',</span> <span class="pre">'label':</span> <span class="pre">l'Data</span> <span class="pre">source</span> <span class="pre">name',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'default_reservation_period',</span> <span class="pre">'label':</span> <span class="pre">l'Default</span> <span class="pre">Reservation</span> <span class="pre">Period</span> <span class="pre">(in</span> <span class="pre">Days)',</span> <span class="pre">'description':</span> <span class="pre">l'The</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">days</span> <span class="pre">a</span> <span class="pre">patron</span> <span class="pre">has</span> <span class="pre">to</span> <span class="pre">check</span> <span class="pre">out</span> <span class="pre">a</span> <span class="pre">book</span> <span class="pre">after</span> <span class="pre">a</span> <span class="pre">hold</span> <span class="pre">becomes</span> <span class="pre">available.',</span> <span class="pre">'type':</span> <span class="pre">'number',</span> <span class="pre">'default':</span> <span class="pre">3},</span> <span class="pre">{'key':</span> <span class="pre">'external_library_urls',</span> <span class="pre">'label':</span> <span class="pre">l'URLs</span> <span class="pre">for</span> <span class="pre">libraries</span> <span class="pre">on</span> <span class="pre">other</span> <span class="pre">circulation</span> <span class="pre">managers</span> <span class="pre">that</span> <span class="pre">use</span> <span class="pre">this</span> <span class="pre">collection',</span> <span class="pre">'description':</span> <span class="pre">l'A</span> <span class="pre">URL</span> <span class="pre">should</span> <span class="pre">include</span> <span class="pre">the</span> <span class="pre">library's</span> <span class="pre">short</span> <span class="pre">name</span> <span class="pre">(e.g.</span> <span class="pre">https://circulation.librarysimplified.org/NYNYPL/),</span> <span class="pre">even</span> <span class="pre">if</span> <span class="pre">it</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">only</span> <span class="pre">library</span> <span class="pre">on</span> <span class="pre">the</span> <span class="pre">circulation</span> <span class="pre">manager.',</span> <span class="pre">'type':</span> <span class="pre">'list',</span> <span class="pre">'format':</span> <span class="pre">'url'},</span> <span class="pre">{'key':</span> <span class="pre">'ebook_loan_duration',</span> <span class="pre">'label':</span> <span class="pre">l'Ebook</span> <span class="pre">Loan</span> <span class="pre">Duration</span> <span class="pre">for</span> <span class="pre">libraries</span> <span class="pre">on</span> <span class="pre">other</span> <span class="pre">circulation</span> <span class="pre">managers</span> <span class="pre">(in</span> <span class="pre">Days)',</span> <span class="pre">'default':</span> <span class="pre">21,</span> <span class="pre">'description':</span> <span class="pre">l'When</span> <span class="pre">a</span> <span class="pre">patron</span> <span class="pre">from</span> <span class="pre">another</span> <span class="pre">library</span> <span class="pre">borrows</span> <span class="pre">an</span> <span class="pre">ebook</span> <span class="pre">from</span> <span class="pre">this</span> <span class="pre">collection,</span> <span class="pre">the</span> <span class="pre">circulation</span> <span class="pre">manager</span> <span class="pre">will</span> <span class="pre">ask</span> <span class="pre">for</span> <span class="pre">a</span> <span class="pre">loan</span> <span class="pre">that</span> <span class="pre">lasts</span> <span class="pre">this</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">days.</span> <span class="pre">This</span> <span class="pre">must</span> <span class="pre">be</span> <span class="pre">equal</span> <span class="pre">to</span> <span class="pre">or</span> <span class="pre">less</span> <span class="pre">than</span> <span class="pre">the</span> <span class="pre">maximum</span> <span class="pre">loan</span> <span class="pre">duration</span> <span class="pre">negotiated</span> <span class="pre">with</span> <span class="pre">the</span> <span class="pre">distributor.',</span> <span class="pre">'type':</span> <span class="pre">'number'}]</span></em><a class="headerlink" href="#api.odl.ODLAPI.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odl.ODLAPI.SET_DELIVERY_MECHANISM_AT">
<span class="sig-name descname"><span class="pre">SET_DELIVERY_MECHANISM_AT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'fulfill'</span></em><a class="headerlink" href="#api.odl.ODLAPI.SET_DELIVERY_MECHANISM_AT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odl.ODLAPI.STATUS_VALUES">
<span class="sig-name descname"><span class="pre">STATUS_VALUES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['ready',</span> <span class="pre">'active',</span> <span class="pre">'revoked',</span> <span class="pre">'returned',</span> <span class="pre">'cancelled',</span> <span class="pre">'expired']</span></em><a class="headerlink" href="#api.odl.ODLAPI.STATUS_VALUES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odl.ODLAPI.checkin">
<span class="sig-name descname"><span class="pre">checkin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLAPI.checkin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.ODLAPI.checkin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a loan early.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odl.ODLAPI.checkin_from_external_library">
<span class="sig-name descname"><span class="pre">checkin_from_external_library</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loan</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLAPI.checkin_from_external_library"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.ODLAPI.checkin_from_external_library" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odl.ODLAPI.checkout">
<span class="sig-name descname"><span class="pre">checkout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal_format</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLAPI.checkout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.ODLAPI.checkout" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new loan.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odl.ODLAPI.checkout_to_external_library">
<span class="sig-name descname"><span class="pre">checkout_to_external_library</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLAPI.checkout_to_external_library"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.ODLAPI.checkout_to_external_library" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odl.ODLAPI.collection">
<span class="sig-name descname"><span class="pre">collection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLAPI.collection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.ODLAPI.collection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odl.ODLAPI.fulfill">
<span class="sig-name descname"><span class="pre">fulfill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal_format</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLAPI.fulfill"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.ODLAPI.fulfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the actual resource file to the patron.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>kwargs</strong> – A container for arguments to fulfill()
which are not relevant to this vendor.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a FulfillmentInfo object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odl.ODLAPI.fulfill_for_external_library">
<span class="sig-name descname"><span class="pre">fulfill_for_external_library</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mechanism</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLAPI.fulfill_for_external_library"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.ODLAPI.fulfill_for_external_library" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odl.ODLAPI.get_license_status_document">
<span class="sig-name descname"><span class="pre">get_license_status_document</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">loan</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLAPI.get_license_status_document"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.ODLAPI.get_license_status_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the License Status Document for a loan.</p>
<p>For a new loan, create a local loan with no external identifier and
pass it in to this method.</p>
<p>This will create the remote loan if one doesn’t exist yet. The loan’s
internal database id will be used to receive notifications from the
distributor when the loan’s status changes.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odl.ODLAPI.internal_format">
<span class="sig-name descname"><span class="pre">internal_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delivery_mechanism</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLAPI.internal_format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.ODLAPI.internal_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Each consolidated copy is only available in one format, so we don’t need
a mapping to internal formats.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odl.ODLAPI.patron_activity">
<span class="sig-name descname"><span class="pre">patron_activity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLAPI.patron_activity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.ODLAPI.patron_activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up non-expired loans for this collection in the database.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odl.ODLAPI.place_hold">
<span class="sig-name descname"><span class="pre">place_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notification_email_address</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLAPI.place_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.ODLAPI.place_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new hold.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odl.ODLAPI.release_hold">
<span class="sig-name descname"><span class="pre">release_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLAPI.release_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.ODLAPI.release_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Cancel a hold.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odl.ODLAPI.release_hold_from_external_library">
<span class="sig-name descname"><span class="pre">release_hold_from_external_library</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hold</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLAPI.release_hold_from_external_library"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.ODLAPI.release_hold_from_external_library" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odl.ODLAPI.update_hold_queue">
<span class="sig-name descname"><span class="pre">update_hold_queue</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLAPI.update_hold_queue"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.ODLAPI.update_hold_queue" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odl.ODLAPI.update_loan">
<span class="sig-name descname"><span class="pre">update_loan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">loan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">status_doc</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLAPI.update_loan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.ODLAPI.update_loan" title="Permalink to this definition">¶</a></dt>
<dd><p>Check a loan’s status, and if it is no longer active, delete the loan
and update its pool’s availability.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.odl.ODLExpiredItemsReaper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.odl.</span></span><span class="sig-name descname"><span class="pre">ODLExpiredItemsReaper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLExpiredItemsReaper"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.ODLExpiredItemsReaper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.monitor.IdentifierSweepMonitor" title="core.monitor.IdentifierSweepMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">IdentifierSweepMonitor</span></code></a></p>
<p>Responsible for removing expired ODL licenses.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.odl.ODLExpiredItemsReaper.PROTOCOL">
<span class="sig-name descname"><span class="pre">PROTOCOL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'ODL'</span></em><a class="headerlink" href="#api.odl.ODLExpiredItemsReaper.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odl.ODLExpiredItemsReaper.SERVICE_NAME">
<span class="sig-name descname"><span class="pre">SERVICE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'ODL</span> <span class="pre">Expired</span> <span class="pre">Items</span> <span class="pre">Reaper'</span></em><a class="headerlink" href="#api.odl.ODLExpiredItemsReaper.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odl.ODLExpiredItemsReaper.process_item">
<span class="sig-name descname"><span class="pre">process_item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLExpiredItemsReaper.process_item"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.ODLExpiredItemsReaper.process_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Do the work that needs to be done for a given item.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.odl.ODLHoldReaper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.odl.</span></span><span class="sig-name descname"><span class="pre">ODLHoldReaper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLHoldReaper"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.ODLHoldReaper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.monitor.CollectionMonitor" title="core.monitor.CollectionMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">CollectionMonitor</span></code></a></p>
<p>Check for holds that have expired and delete them, and update
the holds queues for their pools.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.odl.ODLHoldReaper.PROTOCOL">
<span class="sig-name descname"><span class="pre">PROTOCOL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'ODL'</span></em><a class="headerlink" href="#api.odl.ODLHoldReaper.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odl.ODLHoldReaper.SERVICE_NAME">
<span class="sig-name descname"><span class="pre">SERVICE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'ODL</span> <span class="pre">Hold</span> <span class="pre">Reaper'</span></em><a class="headerlink" href="#api.odl.ODLHoldReaper.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odl.ODLHoldReaper.run_once">
<span class="sig-name descname"><span class="pre">run_once</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">progress</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLHoldReaper.run_once"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.ODLHoldReaper.run_once" title="Permalink to this definition">¶</a></dt>
<dd><p>Do the actual work of the Monitor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>progress</strong> – A TimestampData representing the
work done by the Monitor up to this point.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A TimestampData representing how you want the
Monitor’s entry in the <cite>timestamps</cite> table to look like
from this point on.  NOTE: Modifying the incoming
<cite>progress</cite> and returning it is generally a bad idea,
because the incoming <cite>progress</cite> is full of old
data. Instead, return a new TimestampData containing data
for only the fields you want to set.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.odl.ODLImportMonitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.odl.</span></span><span class="sig-name descname"><span class="pre">ODLImportMonitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">import_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_reimport</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">import_class_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLImportMonitor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.ODLImportMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.opds_import.OPDSImportMonitor" title="core.opds_import.OPDSImportMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">OPDSImportMonitor</span></code></a></p>
<p>Import information from an ODL feed.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.odl.ODLImportMonitor.PROTOCOL">
<span class="sig-name descname"><span class="pre">PROTOCOL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'ODL'</span></em><a class="headerlink" href="#api.odl.ODLImportMonitor.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odl.ODLImportMonitor.SERVICE_NAME">
<span class="sig-name descname"><span class="pre">SERVICE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'ODL</span> <span class="pre">Import</span> <span class="pre">Monitor'</span></em><a class="headerlink" href="#api.odl.ODLImportMonitor.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.odl.ODLImporter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.odl.</span></span><span class="sig-name descname"><span class="pre">ODLImporter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_source_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier_mapping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">http_get</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata_client</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content_modifier</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">map_from_collection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mirrors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLImporter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.ODLImporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.opds_import.OPDSImporter" title="core.opds_import.OPDSImporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">OPDSImporter</span></code></a></p>
<p>Import information and formats from an ODL feed.</p>
<p>The only change from OPDSImporter is that this importer extracts
format information from ‘odl:license’ tags.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.odl.ODLImporter.LICENSE_INFO_DOCUMENT_MEDIA_TYPE">
<span class="sig-name descname"><span class="pre">LICENSE_INFO_DOCUMENT_MEDIA_TYPE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'application/vnd.odl.info+json'</span></em><a class="headerlink" href="#api.odl.ODLImporter.LICENSE_INFO_DOCUMENT_MEDIA_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odl.ODLImporter.NAME">
<span class="sig-name descname"><span class="pre">NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'ODL'</span></em><a class="headerlink" href="#api.odl.ODLImporter.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odl.ODLImporter.PARSER_CLASS">
<span class="sig-name descname"><span class="pre">PARSER_CLASS</span></span><a class="headerlink" href="#api.odl.ODLImporter.PARSER_CLASS" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#api.odl.ODLXMLParser" title="api.odl.ODLXMLParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">ODLXMLParser</span></code></a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odl.ODLImporter.parse_license">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parse_license</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">str</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">total_checkouts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">concurrent_checkouts</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">expires</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">datetime</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checkout_link</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">odl_status_link</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><span class="pre">str</span><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_get</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">Callable</span></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">Optional</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="core.html#core.metadata_layer.LicenseData" title="core.metadata_layer.LicenseData"><span class="pre">LicenseData</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="_modules/api/odl.html#ODLImporter.parse_license"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.ODLImporter.parse_license" title="Permalink to this definition">¶</a></dt>
<dd><p>Check the license’s attributes passed as parameters:
- if they’re correct, turn them into a LicenseData object
- otherwise, return a None</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>identifier</strong> – License’s identifier</p></li>
<li><p><strong>total_checkouts</strong> – Total number of checkouts before the license expires</p></li>
<li><p><strong>concurrent_checkouts</strong> – Number of concurrent checkouts allowed for this license</p></li>
<li><p><strong>expires</strong> – Date &amp; time until the license is valid</p></li>
<li><p><strong>checkout_link</strong> – License’s checkout link</p></li>
<li><p><strong>odl_status_link</strong> – License Info Document’s link</p></li>
<li><p><strong>do_get</strong> – Callback performing HTTP GET method</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>LicenseData if all the license’s attributes are correct, None, otherwise</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.odl.ODLXMLParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.odl.</span></span><span class="sig-name descname"><span class="pre">ODLXMLParser</span></span><a class="reference internal" href="_modules/api/odl.html#ODLXMLParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.ODLXMLParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.opds_import.OPDSXMLParser" title="core.opds_import.OPDSXMLParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">OPDSXMLParser</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.odl.ODLXMLParser.NAMESPACES">
<span class="sig-name descname"><span class="pre">NAMESPACES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'app':</span> <span class="pre">'http://www.w3.org/2007/app',</span> <span class="pre">'atom':</span> <span class="pre">'http://www.w3.org/2005/Atom',</span> <span class="pre">'dc':</span> <span class="pre">'http://purl.org/dc/elements/1.1/',</span> <span class="pre">'dcterms':</span> <span class="pre">'http://purl.org/dc/terms/',</span> <span class="pre">'drm':</span> <span class="pre">'http://librarysimplified.org/terms/drm',</span> <span class="pre">'odl':</span> <span class="pre">'http://opds-spec.org/odl',</span> <span class="pre">'opds':</span> <span class="pre">'http://opds-spec.org/2010/catalog',</span> <span class="pre">'schema':</span> <span class="pre">'http://schema.org/',</span> <span class="pre">'simplified':</span> <span class="pre">'http://librarysimplified.org/terms/'}</span></em><a class="headerlink" href="#api.odl.ODLXMLParser.NAMESPACES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.odl.SharedODLAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.odl.</span></span><span class="sig-name descname"><span class="pre">SharedODLAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#SharedODLAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.SharedODLAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation.BaseCirculationAPI" title="api.circulation.BaseCirculationAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseCirculationAPI</span></code></a></p>
<p>An API for circulation managers to use to connect to an ODL collection that’s shared
by another circulation manager.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.odl.SharedODLAPI.DESCRIPTION">
<span class="sig-name descname"><span class="pre">DESCRIPTION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'Import</span> <span class="pre">books</span> <span class="pre">from</span> <span class="pre">an</span> <span class="pre">ODL</span> <span class="pre">collection</span> <span class="pre">that's</span> <span class="pre">hosted</span> <span class="pre">by</span> <span class="pre">another</span> <span class="pre">circulation</span> <span class="pre">manager</span> <span class="pre">in</span> <span class="pre">the</span> <span class="pre">consortium.</span> <span class="pre">If</span> <span class="pre">this</span> <span class="pre">circulation</span> <span class="pre">manager</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">the</span> <span class="pre">main</span> <span class="pre">host</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">collection,</span> <span class="pre">select</span> <span class="pre">ODL</span> <span class="pre">instead.'</span></em><a class="headerlink" href="#api.odl.SharedODLAPI.DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odl.SharedODLAPI.NAME">
<span class="sig-name descname"><span class="pre">NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Shared</span> <span class="pre">ODL</span> <span class="pre">For</span> <span class="pre">Consortia'</span></em><a class="headerlink" href="#api.odl.SharedODLAPI.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odl.SharedODLAPI.SETTINGS">
<span class="sig-name descname"><span class="pre">SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'external_account_id',</span> <span class="pre">'label':</span> <span class="pre">l'Base</span> <span class="pre">URL',</span> <span class="pre">'description':</span> <span class="pre">l'The</span> <span class="pre">base</span> <span class="pre">URL</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">collection</span> <span class="pre">on</span> <span class="pre">the</span> <span class="pre">other</span> <span class="pre">circulation</span> <span class="pre">manager.',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'data_source',</span> <span class="pre">'label':</span> <span class="pre">l'Data</span> <span class="pre">source</span> <span class="pre">name',</span> <span class="pre">'required':</span> <span class="pre">True}]</span></em><a class="headerlink" href="#api.odl.SharedODLAPI.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odl.SharedODLAPI.SUPPORTS_REGISTRATION">
<span class="sig-name descname"><span class="pre">SUPPORTS_REGISTRATION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">True</span></em><a class="headerlink" href="#api.odl.SharedODLAPI.SUPPORTS_REGISTRATION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odl.SharedODLAPI.SUPPORTS_STAGING">
<span class="sig-name descname"><span class="pre">SUPPORTS_STAGING</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">False</span></em><a class="headerlink" href="#api.odl.SharedODLAPI.SUPPORTS_STAGING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odl.SharedODLAPI.checkin">
<span class="sig-name descname"><span class="pre">checkin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#SharedODLAPI.checkin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.SharedODLAPI.checkin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a book early.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patron</strong> – a Patron object for the patron who wants to check out the book.</p></li>
<li><p><strong>pin</strong> – The patron’s alleged password.</p></li>
<li><p><strong>licensepool</strong> – Contains lending info as well as link to parent Identifier.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odl.SharedODLAPI.checkout">
<span class="sig-name descname"><span class="pre">checkout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal_format</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#SharedODLAPI.checkout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.SharedODLAPI.checkout" title="Permalink to this definition">¶</a></dt>
<dd><p>Check out a book on behalf of a patron.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patron</strong> – a Patron object for the patron who wants to check out the book.</p></li>
<li><p><strong>pin</strong> – The patron’s alleged password.</p></li>
<li><p><strong>licensepool</strong> – Contains lending info as well as link to parent Identifier.</p></li>
<li><p><strong>internal_format</strong> – Represents the patron’s desired book format.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a LoanInfo object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odl.SharedODLAPI.collection">
<span class="sig-name descname"><span class="pre">collection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#SharedODLAPI.collection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.SharedODLAPI.collection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odl.SharedODLAPI.fulfill">
<span class="sig-name descname"><span class="pre">fulfill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal_format</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#SharedODLAPI.fulfill"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.SharedODLAPI.fulfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the actual resource file to the patron.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>kwargs</strong> – A container for arguments to fulfill()
which are not relevant to this vendor.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a FulfillmentInfo object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odl.SharedODLAPI.internal_format">
<span class="sig-name descname"><span class="pre">internal_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delivery_mechanism</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#SharedODLAPI.internal_format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.SharedODLAPI.internal_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Each consolidated copy is only available in one format, so we don’t need
a mapping to internal formats.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odl.SharedODLAPI.patron_activity">
<span class="sig-name descname"><span class="pre">patron_activity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#SharedODLAPI.patron_activity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.SharedODLAPI.patron_activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a patron’s current checkouts and holds.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odl.SharedODLAPI.place_hold">
<span class="sig-name descname"><span class="pre">place_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notification_email_address</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#SharedODLAPI.place_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.SharedODLAPI.place_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Place a book on hold.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A HoldInfo object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odl.SharedODLAPI.release_hold">
<span class="sig-name descname"><span class="pre">release_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#SharedODLAPI.release_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.SharedODLAPI.release_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Release a patron’s hold on a book.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#api.circulation_exceptions.CannotReleaseHold" title="api.circulation_exceptions.CannotReleaseHold"><strong>CannotReleaseHold</strong></a> – If there is an error communicating
with the provider, or the provider refuses to release the hold for
any reason.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.odl.SharedODLImportMonitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.odl.</span></span><span class="sig-name descname"><span class="pre">SharedODLImportMonitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">import_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_reimport</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">import_class_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#SharedODLImportMonitor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.SharedODLImportMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.opds_import.OPDSImportMonitor" title="core.opds_import.OPDSImportMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">OPDSImportMonitor</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.odl.SharedODLImportMonitor.PROTOCOL">
<span class="sig-name descname"><span class="pre">PROTOCOL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Shared</span> <span class="pre">ODL</span> <span class="pre">For</span> <span class="pre">Consortia'</span></em><a class="headerlink" href="#api.odl.SharedODLImportMonitor.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.odl.SharedODLImportMonitor.SERVICE_NAME">
<span class="sig-name descname"><span class="pre">SERVICE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Shared</span> <span class="pre">ODL</span> <span class="pre">Import</span> <span class="pre">Monitor'</span></em><a class="headerlink" href="#api.odl.SharedODLImportMonitor.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odl.SharedODLImportMonitor.opds_url">
<span class="sig-name descname"><span class="pre">opds_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#SharedODLImportMonitor.opds_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.SharedODLImportMonitor.opds_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the OPDS import URL for the given collection.</p>
<p>By default, this URL is stored as the external account ID, but
subclasses may override this.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.odl.SharedODLImporter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.odl.</span></span><span class="sig-name descname"><span class="pre">SharedODLImporter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_source_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier_mapping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">http_get</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata_client</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content_modifier</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">map_from_collection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mirrors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#SharedODLImporter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.SharedODLImporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.opds_import.OPDSImporter" title="core.opds_import.OPDSImporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">OPDSImporter</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.odl.SharedODLImporter.NAME">
<span class="sig-name descname"><span class="pre">NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Shared</span> <span class="pre">ODL</span> <span class="pre">For</span> <span class="pre">Consortia'</span></em><a class="headerlink" href="#api.odl.SharedODLImporter.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.odl.SharedODLImporter.get_fulfill_url">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_fulfill_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">entry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">requested_content_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">requested_drm_scheme</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#SharedODLImporter.get_fulfill_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.odl.SharedODLImporter.get_fulfill_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-api.onix">
<span id="api-onix-module"></span><h2>api.onix module<a class="headerlink" href="#module-api.onix" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.onix.ONIXExtractor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.onix.</span></span><span class="sig-name descname"><span class="pre">ONIXExtractor</span></span><a class="reference internal" href="_modules/api/onix.html#ONIXExtractor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.onix.ONIXExtractor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Transform an ONIX file into a list of Metadata objects.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.onix.ONIXExtractor.AUDIENCE_TYPES">
<span class="sig-name descname"><span class="pre">AUDIENCE_TYPES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'01':</span> <span class="pre">'Adult',</span> <span class="pre">'02':</span> <span class="pre">'Children',</span> <span class="pre">'03':</span> <span class="pre">'Young</span> <span class="pre">Adult',</span> <span class="pre">'04':</span> <span class="pre">'Children',</span> <span class="pre">'05':</span> <span class="pre">'Adult',</span> <span class="pre">'06':</span> <span class="pre">'Adult',</span> <span class="pre">'07':</span> <span class="pre">'Adult',</span> <span class="pre">'08':</span> <span class="pre">'Adult',</span> <span class="pre">'09':</span> <span class="pre">'Adult'}</span></em><a class="headerlink" href="#api.onix.ONIXExtractor.AUDIENCE_TYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.onix.ONIXExtractor.CONTRIBUTOR_TYPES">
<span class="sig-name descname"><span class="pre">CONTRIBUTOR_TYPES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'A01':</span> <span class="pre">'Author',</span> <span class="pre">'A02':</span> <span class="pre">'Author',</span> <span class="pre">'A03':</span> <span class="pre">'Author',</span> <span class="pre">'A04':</span> <span class="pre">'Lyricist',</span> <span class="pre">'A05':</span> <span class="pre">'Lyricist',</span> <span class="pre">'A06':</span> <span class="pre">'Composer',</span> <span class="pre">'A07':</span> <span class="pre">'Illustrator',</span> <span class="pre">'A08':</span> <span class="pre">'Photographer',</span> <span class="pre">'A09':</span> <span class="pre">'Author',</span> <span class="pre">'A10':</span> <span class="pre">'Unknown',</span> <span class="pre">'A11':</span> <span class="pre">'Designer',</span> <span class="pre">'A12':</span> <span class="pre">'Illustrator',</span> <span class="pre">'A13':</span> <span class="pre">'Photographer',</span> <span class="pre">'A14':</span> <span class="pre">'Author',</span> <span class="pre">'A15':</span> <span class="pre">'Introduction</span> <span class="pre">Author',</span> <span class="pre">'A16':</span> <span class="pre">'Unknown',</span> <span class="pre">'A17':</span> <span class="pre">'Unknown',</span> <span class="pre">'A18':</span> <span class="pre">'Unknown',</span> <span class="pre">'A19':</span> <span class="pre">'Afterword</span> <span class="pre">Author',</span> <span class="pre">'A20':</span> <span class="pre">'Unknown',</span> <span class="pre">'A21':</span> <span class="pre">'Unknown',</span> <span class="pre">'A22':</span> <span class="pre">'Unknown',</span> <span class="pre">'A23':</span> <span class="pre">'Foreword</span> <span class="pre">Author',</span> <span class="pre">'A24':</span> <span class="pre">'Introduction</span> <span class="pre">Author',</span> <span class="pre">'A25':</span> <span class="pre">'Unknown',</span> <span class="pre">'A26':</span> <span class="pre">'Unknown',</span> <span class="pre">'A27':</span> <span class="pre">'Unknown',</span> <span class="pre">'A29':</span> <span class="pre">'Introduction</span> <span class="pre">Author',</span> <span class="pre">'A30':</span> <span class="pre">'Unknown',</span> <span class="pre">'A31':</span> <span class="pre">'Lyricist',</span> <span class="pre">'A32':</span> <span class="pre">'Contributor',</span> <span class="pre">'A33':</span> <span class="pre">'Unknown',</span> <span class="pre">'A34':</span> <span class="pre">'Unknown',</span> <span class="pre">'A35':</span> <span class="pre">'Artist',</span> <span class="pre">'A36':</span> <span class="pre">'Artist',</span> <span class="pre">'A37':</span> <span class="pre">'Unknown',</span> <span class="pre">'A38':</span> <span class="pre">'Unknown',</span> <span class="pre">'A39':</span> <span class="pre">'Unknown',</span> <span class="pre">'A40':</span> <span class="pre">'Artist',</span> <span class="pre">'A41':</span> <span class="pre">'Unknown',</span> <span class="pre">'A42':</span> <span class="pre">'Unknown',</span> <span class="pre">'A43':</span> <span class="pre">'Unknown',</span> <span class="pre">'A44':</span> <span class="pre">'Unknown',</span> <span class="pre">'A45':</span> <span class="pre">'Author',</span> <span class="pre">'A46':</span> <span class="pre">'Artist',</span> <span class="pre">'A47':</span> <span class="pre">'Artist',</span> <span class="pre">'A48':</span> <span class="pre">'Artist',</span> <span class="pre">'A51':</span> <span class="pre">'Unknown',</span> <span class="pre">'A99':</span> <span class="pre">'Unknown',</span> <span class="pre">'B01':</span> <span class="pre">'Editor',</span> <span class="pre">'B02':</span> <span class="pre">'Editor',</span> <span class="pre">'B03':</span> <span class="pre">'Unknown',</span> <span class="pre">'B04':</span> <span class="pre">'Unknown',</span> <span class="pre">'B05':</span> <span class="pre">'Adapter',</span> <span class="pre">'B06':</span> <span class="pre">'Translator',</span> <span class="pre">'B07':</span> <span class="pre">'Unknown',</span> <span class="pre">'B08':</span> <span class="pre">'Translator',</span> <span class="pre">'B09':</span> <span class="pre">'Editor',</span> <span class="pre">'B10':</span> <span class="pre">'Translator',</span> <span class="pre">'B11':</span> <span class="pre">'Editor',</span> <span class="pre">'B12':</span> <span class="pre">'Editor',</span> <span class="pre">'B13':</span> <span class="pre">'Editor',</span> <span class="pre">'B14':</span> <span class="pre">'Editor',</span> <span class="pre">'B15':</span> <span class="pre">'Editor',</span> <span class="pre">'B16':</span> <span class="pre">'Editor',</span> <span class="pre">'B17':</span> <span class="pre">'Editor',</span> <span class="pre">'B18':</span> <span class="pre">'Editor',</span> <span class="pre">'B19':</span> <span class="pre">'Editor',</span> <span class="pre">'B20':</span> <span class="pre">'Editor',</span> <span class="pre">'B21':</span> <span class="pre">'Editor',</span> <span class="pre">'B22':</span> <span class="pre">'Unknown',</span> <span class="pre">'B23':</span> <span class="pre">'Editor',</span> <span class="pre">'B24':</span> <span class="pre">'Editor',</span> <span class="pre">'B25':</span> <span class="pre">'Composer',</span> <span class="pre">'B26':</span> <span class="pre">'Editor',</span> <span class="pre">'B27':</span> <span class="pre">'Unknown',</span> <span class="pre">'B28':</span> <span class="pre">'Unknown',</span> <span class="pre">'B29':</span> <span class="pre">'Editor',</span> <span class="pre">'B30':</span> <span class="pre">'Unknown',</span> <span class="pre">'B31':</span> <span class="pre">'Unknown',</span> <span class="pre">'B99':</span> <span class="pre">'Editor',</span> <span class="pre">'C01':</span> <span class="pre">'Unknown',</span> <span class="pre">'C02':</span> <span class="pre">'Unknown',</span> <span class="pre">'C03':</span> <span class="pre">'Unknown',</span> <span class="pre">'C04':</span> <span class="pre">'Unknown',</span> <span class="pre">'C99':</span> <span class="pre">'Unknown',</span> <span class="pre">'D01':</span> <span class="pre">'Producer',</span> <span class="pre">'D02':</span> <span class="pre">'Director',</span> <span class="pre">'D03':</span> <span class="pre">'Musician',</span> <span class="pre">'D04':</span> <span class="pre">'Unknown',</span> <span class="pre">'D05':</span> <span class="pre">'Director',</span> <span class="pre">'E01':</span> <span class="pre">'Actor',</span> <span class="pre">'E02':</span> <span class="pre">'Performer',</span> <span class="pre">'E03':</span> <span class="pre">'Narrator',</span> <span class="pre">'E04':</span> <span class="pre">'Unknown',</span> <span class="pre">'E05':</span> <span class="pre">'Performer',</span> <span class="pre">'E06':</span> <span class="pre">'Performer',</span> <span class="pre">'E07':</span> <span class="pre">'Narrator',</span> <span class="pre">'E08':</span> <span class="pre">'Performer',</span> <span class="pre">'E09':</span> <span class="pre">'Performer',</span> <span class="pre">'E10':</span> <span class="pre">'Unknown',</span> <span class="pre">'E99':</span> <span class="pre">'Performer',</span> <span class="pre">'F01':</span> <span class="pre">'Photographer',</span> <span class="pre">'F02':</span> <span class="pre">'Editor',</span> <span class="pre">'F99':</span> <span class="pre">'Unknown',</span> <span class="pre">'Z01':</span> <span class="pre">'Unknown',</span> <span class="pre">'Z02':</span> <span class="pre">'Unknown',</span> <span class="pre">'Z99':</span> <span class="pre">'Unknown'}</span></em><a class="headerlink" href="#api.onix.ONIXExtractor.CONTRIBUTOR_TYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.onix.ONIXExtractor.PRODUCT_CONTENT_TYPES">
<span class="sig-name descname"><span class="pre">PRODUCT_CONTENT_TYPES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'01':</span> <span class="pre">'Audio',</span> <span class="pre">'10':</span> <span class="pre">'Book'}</span></em><a class="headerlink" href="#api.onix.ONIXExtractor.PRODUCT_CONTENT_TYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.onix.ONIXExtractor.SUBJECT_TYPES">
<span class="sig-name descname"><span class="pre">SUBJECT_TYPES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'01':</span> <span class="pre">'DDC',</span> <span class="pre">'03':</span> <span class="pre">'LCC',</span> <span class="pre">'04':</span> <span class="pre">'LCSH',</span> <span class="pre">'10':</span> <span class="pre">'BISAC',</span> <span class="pre">'12':</span> <span class="pre">'BIC'}</span></em><a class="headerlink" href="#api.onix.ONIXExtractor.SUBJECT_TYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.onix.ONIXExtractor.parse">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_source_name</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_medium</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/onix.html#ONIXExtractor.parse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.onix.ONIXExtractor.parse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.onix.UsageStatus">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.onix.</span></span><span class="sig-name descname"><span class="pre">UsageStatus</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/onix.html#UsageStatus"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.onix.UsageStatus" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>An enumeration.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.onix.UsageStatus.LIMITED">
<span class="sig-name descname"><span class="pre">LIMITED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'02'</span></em><a class="headerlink" href="#api.onix.UsageStatus.LIMITED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.onix.UsageStatus.PROHIBITED">
<span class="sig-name descname"><span class="pre">PROHIBITED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'03'</span></em><a class="headerlink" href="#api.onix.UsageStatus.PROHIBITED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.onix.UsageStatus.UNLIMITED">
<span class="sig-name descname"><span class="pre">UNLIMITED</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'01'</span></em><a class="headerlink" href="#api.onix.UsageStatus.UNLIMITED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.onix.UsageUnit">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.onix.</span></span><span class="sig-name descname"><span class="pre">UsageUnit</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/onix.html#UsageUnit"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.onix.UsageUnit" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>An enumeration.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.onix.UsageUnit.CHARACTERS">
<span class="sig-name descname"><span class="pre">CHARACTERS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'02'</span></em><a class="headerlink" href="#api.onix.UsageUnit.CHARACTERS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.onix.UsageUnit.CONCURRENT_USERS">
<span class="sig-name descname"><span class="pre">CONCURRENT_USERS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'07'</span></em><a class="headerlink" href="#api.onix.UsageUnit.CONCURRENT_USERS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.onix.UsageUnit.COPIES">
<span class="sig-name descname"><span class="pre">COPIES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'01'</span></em><a class="headerlink" href="#api.onix.UsageUnit.COPIES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.onix.UsageUnit.DAYS">
<span class="sig-name descname"><span class="pre">DAYS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'09'</span></em><a class="headerlink" href="#api.onix.UsageUnit.DAYS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.onix.UsageUnit.DEVICES">
<span class="sig-name descname"><span class="pre">DEVICES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'06'</span></em><a class="headerlink" href="#api.onix.UsageUnit.DEVICES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.onix.UsageUnit.PAGES">
<span class="sig-name descname"><span class="pre">PAGES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'04'</span></em><a class="headerlink" href="#api.onix.UsageUnit.PAGES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.onix.UsageUnit.PERCENTAGE">
<span class="sig-name descname"><span class="pre">PERCENTAGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'05'</span></em><a class="headerlink" href="#api.onix.UsageUnit.PERCENTAGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.onix.UsageUnit.PERCENTAGE_PER_TIME_PERIOD">
<span class="sig-name descname"><span class="pre">PERCENTAGE_PER_TIME_PERIOD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'08'</span></em><a class="headerlink" href="#api.onix.UsageUnit.PERCENTAGE_PER_TIME_PERIOD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.onix.UsageUnit.TIMES">
<span class="sig-name descname"><span class="pre">TIMES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'10'</span></em><a class="headerlink" href="#api.onix.UsageUnit.TIMES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.onix.UsageUnit.WORDS">
<span class="sig-name descname"><span class="pre">WORDS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'03'</span></em><a class="headerlink" href="#api.onix.UsageUnit.WORDS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-api.opds">
<span id="api-opds-module"></span><h2>api.opds module<a class="headerlink" href="#module-api.opds" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.opds.CirculationManagerAnnotator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.opds.</span></span><span class="sig-name descname"><span class="pre">CirculationManagerAnnotator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lane</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_loans_by_work</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_holds_by_work</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_fulfillments_by_work</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hidden_content_types</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.opds.Annotator" title="core.opds.Annotator"><code class="xref py py-class docutils literal notranslate"><span class="pre">Annotator</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.opds.CirculationManagerAnnotator.acquisition_links">
<span class="sig-name descname"><span class="pre">acquisition_links</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">active_license_pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_loan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_hold</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_fulfillment</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">can_hold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">can_revoke_hold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">set_mechanism_at_borrow</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direct_fulfillment_delivery_mechanisms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.acquisition_links"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.acquisition_links" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a number of &lt;link&gt; tags that enumerate all acquisition
methods.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>direct_fulfillment_delivery_mechanisms</strong> – A way to
fulfill each LicensePoolDeliveryMechanism in this list will be
presented as a link with
rel=”<a class="reference external" href="http://opds-spec.org/acquisition/open-access">http://opds-spec.org/acquisition/open-access</a>”, indicating
that it can be downloaded with no intermediate steps such as
authentication.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.CirculationManagerAnnotator.active_licensepool_for">
<span class="sig-name descname"><span class="pre">active_licensepool_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">work</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.active_licensepool_for"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.active_licensepool_for" title="Permalink to this definition">¶</a></dt>
<dd><p>Which license pool would be/has been used to issue a license for
this work?</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.CirculationManagerAnnotator.annotate_work_entry">
<span class="sig-name descname"><span class="pre">annotate_work_entry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">work</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_license_pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edition</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">updated</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.annotate_work_entry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.annotate_work_entry" title="Permalink to this definition">¶</a></dt>
<dd><p>Make any custom modifications necessary to integrate this
OPDS entry into the application’s workflow.</p>
<dl class="field-list simple">
<dt class="field-odd">Work<span class="colon">:</span></dt>
<dd class="field-odd"><p>The Work whose OPDS entry is being annotated.</p>
</dd>
<dt class="field-even">Active_license_pool<span class="colon">:</span></dt>
<dd class="field-even"><p>Of all the LicensePools associated with this
Work, the client has expressed interest in this one.</p>
</dd>
<dt class="field-odd">Edition<span class="colon">:</span></dt>
<dd class="field-odd"><p>The Edition to use when associating bibliographic
metadata with this entry. You will probably not need to use
this, because bibliographic metadata was associated with
the entry when it was created.</p>
</dd>
<dt class="field-even">Identifier<span class="colon">:</span></dt>
<dd class="field-even"><p>Of all the Identifiers associated with this
Work, the client has expressed interest in this one.</p>
</dd>
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>feed</strong> – An OPDSFeed – the feed in which this entry will be
situated.</p></li>
<li><p><strong>entry</strong> – An lxml Element object, the entry that will be added
to the feed.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.CirculationManagerAnnotator.borrow_link">
<span class="sig-name descname"><span class="pre">borrow_link</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">active_license_pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">borrow_mechanism</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fulfillment_mechanisms</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_hold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.borrow_link"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.borrow_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.CirculationManagerAnnotator.cdn_url_for">
<span class="sig-name descname"><span class="pre">cdn_url_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.cdn_url_for"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.cdn_url_for" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.CirculationManagerAnnotator.default_lane_url">
<span class="sig-name descname"><span class="pre">default_lane_url</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.default_lane_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.default_lane_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.CirculationManagerAnnotator.facet_url">
<span class="sig-name descname"><span class="pre">facet_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">facets</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.facet_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.facet_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.CirculationManagerAnnotator.feed_url">
<span class="sig-name descname"><span class="pre">feed_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lane</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pagination</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_route</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'feed'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_kwargs</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.feed_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.feed_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.CirculationManagerAnnotator.fulfill_link">
<span class="sig-name descname"><span class="pre">fulfill_link</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">license_pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_loan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delivery_mechanism</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'http://opds-spec.org/acquisition'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.fulfill_link"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.fulfill_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.CirculationManagerAnnotator.is_work_entry_solo">
<span class="sig-name descname"><span class="pre">is_work_entry_solo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">work</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.is_work_entry_solo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.is_work_entry_solo" title="Permalink to this definition">¶</a></dt>
<dd><dl class="simple">
<dt>Return a boolean value indicating whether the work’s OPDS catalog entry is served by itself,</dt><dd><p>rather than as a part of the feed.</p>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>work</strong> (<a class="reference internal" href="core.model.html#core.model.work.Work" title="core.model.work.Work"><em>core.model.work.Work</em></a>) – Work object</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Boolean value indicating whether the work’s OPDS catalog entry is served by itself,
rather than as a part of the feed</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.CirculationManagerAnnotator.lane_url">
<span class="sig-name descname"><span class="pre">lane_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lane</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.lane_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.lane_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.CirculationManagerAnnotator.navigation_url">
<span class="sig-name descname"><span class="pre">navigation_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lane</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.navigation_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.navigation_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.CirculationManagerAnnotator.open_access_link">
<span class="sig-name descname"><span class="pre">open_access_link</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lpdm</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.open_access_link"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.open_access_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.CirculationManagerAnnotator.revoke_link">
<span class="sig-name descname"><span class="pre">revoke_link</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">active_license_pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_loan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_hold</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.revoke_link"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.revoke_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.CirculationManagerAnnotator.rights_attributes">
<span class="sig-name descname"><span class="pre">rights_attributes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lpdm</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.rights_attributes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.rights_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a dictionary of tag attributes that explain the
rights status of a LicensePoolDeliveryMechanism.</p>
<p>If nothing is known, the dictionary will be empty.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.CirculationManagerAnnotator.test_url_for">
<span class="sig-name descname"><span class="pre">test_url_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cdn</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.test_url_for"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.test_url_for" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.CirculationManagerAnnotator.top_level_title">
<span class="sig-name descname"><span class="pre">top_level_title</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.top_level_title"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.top_level_title" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.CirculationManagerAnnotator.url_for">
<span class="sig-name descname"><span class="pre">url_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.url_for"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.url_for" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.CirculationManagerAnnotator.visible_delivery_mechanisms">
<span class="sig-name descname"><span class="pre">visible_delivery_mechanisms</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.visible_delivery_mechanisms"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.visible_delivery_mechanisms" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter the given <cite>licensepool</cite>’s LicensePoolDeliveryMechanisms
to those with content types that are not hidden.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.opds.LibraryAnnotator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.opds.</span></span><span class="sig-name descname"><span class="pre">LibraryAnnotator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">circulation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lane</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patron</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_loans_by_work</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_holds_by_work</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_fulfillments_by_work</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facet_view</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'feed'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top_level_title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'All</span> <span class="pre">Books'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">library_identifies_patrons</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.LibraryAnnotator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.opds.CirculationManagerAnnotator" title="api.opds.CirculationManagerAnnotator"><code class="xref py py-class docutils literal notranslate"><span class="pre">CirculationManagerAnnotator</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.opds.LibraryAnnotator.ABOUT">
<span class="sig-name descname"><span class="pre">ABOUT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'about'</span></em><a class="headerlink" href="#api.opds.LibraryAnnotator.ABOUT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.opds.LibraryAnnotator.CONFIGURATION_LINKS">
<span class="sig-name descname"><span class="pre">CONFIGURATION_LINKS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['terms-of-service',</span> <span class="pre">'privacy-policy',</span> <span class="pre">'copyright',</span> <span class="pre">'about',</span> <span class="pre">'license']</span></em><a class="headerlink" href="#api.opds.LibraryAnnotator.CONFIGURATION_LINKS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.opds.LibraryAnnotator.COPYRIGHT">
<span class="sig-name descname"><span class="pre">COPYRIGHT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'copyright'</span></em><a class="headerlink" href="#api.opds.LibraryAnnotator.COPYRIGHT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.opds.LibraryAnnotator.HELP_LINKS">
<span class="sig-name descname"><span class="pre">HELP_LINKS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['help-email',</span> <span class="pre">'help-web',</span> <span class="pre">'help-uri']</span></em><a class="headerlink" href="#api.opds.LibraryAnnotator.HELP_LINKS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.opds.LibraryAnnotator.LICENSE">
<span class="sig-name descname"><span class="pre">LICENSE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'license'</span></em><a class="headerlink" href="#api.opds.LibraryAnnotator.LICENSE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.opds.LibraryAnnotator.PRIVACY_POLICY">
<span class="sig-name descname"><span class="pre">PRIVACY_POLICY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'privacy-policy'</span></em><a class="headerlink" href="#api.opds.LibraryAnnotator.PRIVACY_POLICY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.opds.LibraryAnnotator.REGISTER">
<span class="sig-name descname"><span class="pre">REGISTER</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'register'</span></em><a class="headerlink" href="#api.opds.LibraryAnnotator.REGISTER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.opds.LibraryAnnotator.TERMS_OF_SERVICE">
<span class="sig-name descname"><span class="pre">TERMS_OF_SERVICE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'terms-of-service'</span></em><a class="headerlink" href="#api.opds.LibraryAnnotator.TERMS_OF_SERVICE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.LibraryAnnotator.acquisition_links">
<span class="sig-name descname"><span class="pre">acquisition_links</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">active_license_pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_loan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_hold</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_fulfillment</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">direct_fulfillment_delivery_mechanisms</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mock_api</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.acquisition_links"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.acquisition_links" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate one or more &lt;link&gt; tags that can be used to borrow,
reserve, or fulfill a book, depending on the state of the book
and the current patron.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>active_license_pool</strong> – The LicensePool for which we’re trying to
generate &lt;link&gt; tags.</p></li>
<li><p><strong>active_loan</strong> – A Loan object representing the current patron’s
existing loan for this title, if any.</p></li>
<li><p><strong>active_hold</strong> – A Hold object representing the current patron’s
existing hold on this title, if any.</p></li>
<li><p><strong>active_fulfillment</strong> – A LicensePoolDeliveryMechanism object
representing the mechanism, if any, which the patron has chosen
to fulfill this work.</p></li>
<li><p><strong>feed</strong> – The OPDSFeed that will eventually contain these &lt;link&gt;
tags.</p></li>
<li><p><strong>identifier</strong> – The Identifier of the title for which we’re
trying to generate &lt;link&gt; tags.</p></li>
<li><p><strong>direct_fulfillment_delivery_mechanisms</strong> – A list of
LicensePoolDeliveryMechanisms for the given LicensePool
that should have fulfillment-type &lt;link&gt; tags generated for
them, even if this method wouldn’t normally think that
makes sense.</p></li>
<li><p><strong>mock_api</strong> – A mock object to stand in for the API to the
vendor who provided this LicensePool. If this is not provided, a
live API for that vendor will be used.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.LibraryAnnotator.add_authentication_document_link">
<span class="sig-name descname"><span class="pre">add_authentication_document_link</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feed_obj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.add_authentication_document_link"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.add_authentication_document_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a &lt;link&gt; tag that points to the circulation
manager’s Authentication for OPDS document
for the current library.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.LibraryAnnotator.add_author_links">
<span class="sig-name descname"><span class="pre">add_author_links</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">work</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entry</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.add_author_links"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.add_author_links" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all the &lt;author&gt; tags and add a link
to each one that points to the author’s other works.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.LibraryAnnotator.add_configuration_links">
<span class="sig-name descname"><span class="pre">add_configuration_links</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feed</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.add_configuration_links"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.add_configuration_links" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.LibraryAnnotator.add_patron">
<span class="sig-name descname"><span class="pre">add_patron</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feed_obj</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.add_patron"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.add_patron" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.LibraryAnnotator.add_series_link">
<span class="sig-name descname"><span class="pre">add_series_link</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">work</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entry</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.add_series_link"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.add_series_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.LibraryAnnotator.adobe_id_tags">
<span class="sig-name descname"><span class="pre">adobe_id_tags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron_identifier</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.adobe_id_tags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.adobe_id_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct tags using the DRM Extensions for OPDS standard that
explain how to get an Adobe ID for this patron, and how to
manage their list of device IDs.
:param delivery_mechanism: A DeliveryMechanism
:return: If Adobe Vendor ID delegation is configured, a list
containing a &lt;drm:licensor&gt; tag. If not, an empty list.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.LibraryAnnotator.annotate_feed">
<span class="sig-name descname"><span class="pre">annotate_feed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lane</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.annotate_feed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.annotate_feed" title="Permalink to this definition">¶</a></dt>
<dd><p>Make any custom modifications necessary to integrate this
OPDS feed into the application’s workflow.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.LibraryAnnotator.annotate_work_entry">
<span class="sig-name descname"><span class="pre">annotate_work_entry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">work</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_license_pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">edition</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">entry</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.annotate_work_entry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.annotate_work_entry" title="Permalink to this definition">¶</a></dt>
<dd><p>Make any custom modifications necessary to integrate this
OPDS entry into the application’s workflow.</p>
<dl class="field-list simple">
<dt class="field-odd">Work<span class="colon">:</span></dt>
<dd class="field-odd"><p>The Work whose OPDS entry is being annotated.</p>
</dd>
<dt class="field-even">Active_license_pool<span class="colon">:</span></dt>
<dd class="field-even"><p>Of all the LicensePools associated with this
Work, the client has expressed interest in this one.</p>
</dd>
<dt class="field-odd">Edition<span class="colon">:</span></dt>
<dd class="field-odd"><p>The Edition to use when associating bibliographic
metadata with this entry. You will probably not need to use
this, because bibliographic metadata was associated with
the entry when it was created.</p>
</dd>
<dt class="field-even">Identifier<span class="colon">:</span></dt>
<dd class="field-even"><p>Of all the Identifiers associated with this
Work, the client has expressed interest in this one.</p>
</dd>
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>feed</strong> – An OPDSFeed – the feed in which this entry will be
situated.</p></li>
<li><p><strong>entry</strong> – An lxml Element object, the entry that will be added
to the feed.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.LibraryAnnotator.borrow_link">
<span class="sig-name descname"><span class="pre">borrow_link</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">active_license_pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">borrow_mechanism</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fulfillment_mechanisms</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_hold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.borrow_link"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.borrow_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.LibraryAnnotator.default_lane_url">
<span class="sig-name descname"><span class="pre">default_lane_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">facets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.default_lane_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.default_lane_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.LibraryAnnotator.drm_device_registration_tags">
<span class="sig-name descname"><span class="pre">drm_device_registration_tags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">license_pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_loan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delivery_mechanism</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.drm_device_registration_tags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.drm_device_registration_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct OPDS Extensions for DRM tags that explain how to
register a device with the DRM server that manages this loan.
:param delivery_mechanism: A DeliveryMechanism</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.LibraryAnnotator.feed_url">
<span class="sig-name descname"><span class="pre">feed_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lane</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pagination</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_route</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'feed'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.feed_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.feed_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.LibraryAnnotator.fulfill_link">
<span class="sig-name descname"><span class="pre">fulfill_link</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">license_pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_loan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delivery_mechanism</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'http://opds-spec.org/acquisition'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.fulfill_link"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.fulfill_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new fulfillment link.</p>
<p>This link may include tags from the OPDS Extensions for DRM.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.LibraryAnnotator.group_uri">
<span class="sig-name descname"><span class="pre">group_uri</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">work</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">license_pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.group_uri"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.group_uri" title="Permalink to this definition">¶</a></dt>
<dd><p>The URI to be associated with this Work when making it part of
a grouped feed.</p>
<p>By default, this does nothing. See circulation/LibraryAnnotator
for a subclass that does something.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A 2-tuple (URI, title)</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.LibraryAnnotator.groups_url">
<span class="sig-name descname"><span class="pre">groups_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lane</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.groups_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.groups_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.LibraryAnnotator.lane_url">
<span class="sig-name descname"><span class="pre">lane_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lane</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.lane_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.lane_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.LibraryAnnotator.language_and_audience_key_from_work">
<span class="sig-name descname"><span class="pre">language_and_audience_key_from_work</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">work</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.language_and_audience_key_from_work"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.language_and_audience_key_from_work" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.LibraryAnnotator.open_access_link">
<span class="sig-name descname"><span class="pre">open_access_link</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lpdm</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.open_access_link"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.open_access_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.LibraryAnnotator.permalink_for">
<span class="sig-name descname"><span class="pre">permalink_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">work</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">license_pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.permalink_for"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.permalink_for" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a permanent link a client can follow for information about
this entry, and only this entry.</p>
<p>Note that permalink is distinct from the Atom &lt;id&gt;,
which is always the identifier’s URN.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A 2-tuple (URL, media type). If a single value is
returned, the media type will be presumed to be that of an
OPDS entry.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.LibraryAnnotator.related_books_available">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">related_books_available</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">work</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">library</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.related_books_available"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.related_books_available" title="Permalink to this definition">¶</a></dt>
<dd><dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>bool asserting whether related books might exist for a particular Work</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.LibraryAnnotator.revoke_link">
<span class="sig-name descname"><span class="pre">revoke_link</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">active_license_pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_loan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_hold</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.revoke_link"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.revoke_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.LibraryAnnotator.search_url">
<span class="sig-name descname"><span class="pre">search_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lane</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">query</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pagination</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.search_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.search_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.LibraryAnnotator.top_level_title">
<span class="sig-name descname"><span class="pre">top_level_title</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.top_level_title"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.top_level_title" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.opds.LibraryLoanAndHoldAnnotator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.opds.</span></span><span class="sig-name descname"><span class="pre">LibraryLoanAndHoldAnnotator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">circulation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lane</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patron</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_loans_by_work</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_holds_by_work</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_fulfillments_by_work</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facet_view</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'feed'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">top_level_title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'All</span> <span class="pre">Books'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">library_identifies_patrons</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryLoanAndHoldAnnotator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.LibraryLoanAndHoldAnnotator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.opds.LibraryAnnotator" title="api.opds.LibraryAnnotator"><code class="xref py py-class docutils literal notranslate"><span class="pre">LibraryAnnotator</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.opds.LibraryLoanAndHoldAnnotator.active_loans_for">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">active_loans_for</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">circulation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">response_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryLoanAndHoldAnnotator.active_loans_for"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.LibraryLoanAndHoldAnnotator.active_loans_for" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.LibraryLoanAndHoldAnnotator.annotate_feed">
<span class="sig-name descname"><span class="pre">annotate_feed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lane</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryLoanAndHoldAnnotator.annotate_feed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.LibraryLoanAndHoldAnnotator.annotate_feed" title="Permalink to this definition">¶</a></dt>
<dd><p>Annotate the feed with top-level DRM device registration tags
and a link to the User Profile Management Protocol endpoint.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.LibraryLoanAndHoldAnnotator.drm_device_registration_feed_tags">
<span class="sig-name descname"><span class="pre">drm_device_registration_feed_tags</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryLoanAndHoldAnnotator.drm_device_registration_feed_tags"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.LibraryLoanAndHoldAnnotator.drm_device_registration_feed_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Return tags that provide information on DRM device deregistration
independent of any particular loan. These tags will go under
the &lt;feed&gt; tag.</p>
<p>This allows us to deregister an Adobe ID, in preparation for
logout, even if there is no active loan that requires one.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.LibraryLoanAndHoldAnnotator.single_item_feed">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">single_item_feed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">circulation</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">item</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fulfillment=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_mode=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feed_class=&lt;class</span> <span class="pre">'core.opds.AcquisitionFeed'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**response_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryLoanAndHoldAnnotator.single_item_feed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.LibraryLoanAndHoldAnnotator.single_item_feed" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct a response containing a single OPDS entry representing an active loan
or hold.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>circulation</strong> – A CirculationAPI</p></li>
<li><p><strong>item</strong> – A Loan, Hold, or LicensePool if first two are missing.</p></li>
<li><p><strong>fulfillment</strong> – A FulfillmentInfo representing the format in which an active loan
should be fulfilled.</p></li>
<li><p><strong>test_mode</strong> – Passed along to the constructor for this annotator class.</p></li>
<li><p><strong>feed_class</strong> – A drop-in replacement for AcquisitionFeed, for use in tests.</p></li>
<li><p><strong>response_kwargs</strong> – Extra keyword arguments to be passed into the OPDSEntryResponse
constructor.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An OPDSEntryResponse</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.opds.LibraryLoanAndHoldAnnotator.user_profile_management_protocol_link">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">user_profile_management_protocol_link</span></span><a class="headerlink" href="#api.opds.LibraryLoanAndHoldAnnotator.user_profile_management_protocol_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a &lt;link&gt; tag that points to the circulation
manager’s User Profile Management Protocol endpoint
for the current patron.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.opds.SharedCollectionAnnotator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.opds.</span></span><span class="sig-name descname"><span class="pre">SharedCollectionAnnotator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lane</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_loans_by_work</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_holds_by_work</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_fulfillments_by_work</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#SharedCollectionAnnotator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.SharedCollectionAnnotator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.opds.CirculationManagerAnnotator" title="api.opds.CirculationManagerAnnotator"><code class="xref py py-class docutils literal notranslate"><span class="pre">CirculationManagerAnnotator</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.opds.SharedCollectionAnnotator.acquisition_links">
<span class="sig-name descname"><span class="pre">acquisition_links</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">active_license_pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_loan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_hold</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_fulfillment</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feed</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#SharedCollectionAnnotator.acquisition_links"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.SharedCollectionAnnotator.acquisition_links" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a number of &lt;link&gt; tags that enumerate all acquisition methods.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.SharedCollectionAnnotator.borrow_link">
<span class="sig-name descname"><span class="pre">borrow_link</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">active_license_pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">borrow_mechanism</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fulfillment_mechanisms</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_hold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#SharedCollectionAnnotator.borrow_link"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.SharedCollectionAnnotator.borrow_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.SharedCollectionAnnotator.default_lane_url">
<span class="sig-name descname"><span class="pre">default_lane_url</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#SharedCollectionAnnotator.default_lane_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.SharedCollectionAnnotator.default_lane_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.SharedCollectionAnnotator.feed_url">
<span class="sig-name descname"><span class="pre">feed_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lane</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">facets</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pagination</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_route</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'feed'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#SharedCollectionAnnotator.feed_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.SharedCollectionAnnotator.feed_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.SharedCollectionAnnotator.fulfill_link">
<span class="sig-name descname"><span class="pre">fulfill_link</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">license_pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_loan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delivery_mechanism</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rel</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'http://opds-spec.org/acquisition'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#SharedCollectionAnnotator.fulfill_link"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.SharedCollectionAnnotator.fulfill_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new fulfillment link.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.SharedCollectionAnnotator.lane_url">
<span class="sig-name descname"><span class="pre">lane_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">lane</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#SharedCollectionAnnotator.lane_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.SharedCollectionAnnotator.lane_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.SharedCollectionAnnotator.revoke_link">
<span class="sig-name descname"><span class="pre">revoke_link</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">active_license_pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_loan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_hold</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#SharedCollectionAnnotator.revoke_link"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.SharedCollectionAnnotator.revoke_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds.SharedCollectionAnnotator.top_level_title">
<span class="sig-name descname"><span class="pre">top_level_title</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#SharedCollectionAnnotator.top_level_title"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.SharedCollectionAnnotator.top_level_title" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.opds.SharedCollectionLoanAndHoldAnnotator">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.opds.</span></span><span class="sig-name descname"><span class="pre">SharedCollectionLoanAndHoldAnnotator</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lane</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_loans_by_work</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_holds_by_work</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">active_fulfillments_by_work</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_mode</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#SharedCollectionLoanAndHoldAnnotator"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.SharedCollectionLoanAndHoldAnnotator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.opds.SharedCollectionAnnotator" title="api.opds.SharedCollectionAnnotator"><code class="xref py py-class docutils literal notranslate"><span class="pre">SharedCollectionAnnotator</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.opds.SharedCollectionLoanAndHoldAnnotator.single_item_feed">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">single_item_feed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">item</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fulfillment=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">test_mode=False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">feed_class=&lt;class</span> <span class="pre">'core.opds.AcquisitionFeed'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**response_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#SharedCollectionLoanAndHoldAnnotator.single_item_feed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds.SharedCollectionLoanAndHoldAnnotator.single_item_feed" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an OPDS entry representing a single loan or hold.</p>
<p>TODO: This and LibraryLoanAndHoldAnnotator.single_item_feed
can potentially be refactored. The main obstacle is different
routes and arguments for ‘loan info’ and ‘hold info’.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>An OPDSEntryResponse</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-api.opds_for_distributors">
<span id="api-opds-for-distributors-module"></span><h2>api.opds_for_distributors module<a class="headerlink" href="#module-api.opds_for_distributors" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.opds_for_distributors.MockOPDSForDistributorsAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.opds_for_distributors.</span></span><span class="sig-name descname"><span class="pre">MockOPDSForDistributorsAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds_for_distributors.html#MockOPDSForDistributorsAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds_for_distributors.MockOPDSForDistributorsAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.opds_for_distributors.OPDSForDistributorsAPI" title="api.opds_for_distributors.OPDSForDistributorsAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">OPDSForDistributorsAPI</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.opds_for_distributors.MockOPDSForDistributorsAPI.mock_collection">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mock_collection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds_for_distributors.html#MockOPDSForDistributorsAPI.mock_collection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds_for_distributors.MockOPDSForDistributorsAPI.mock_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a mock OPDS For Distributors collection to use in tests.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds_for_distributors.MockOPDSForDistributorsAPI.queue_response">
<span class="sig-name descname"><span class="pre">queue_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status_code</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds_for_distributors.html#MockOPDSForDistributorsAPI.queue_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds_for_distributors.MockOPDSForDistributorsAPI.queue_response" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.opds_for_distributors.OPDSForDistributorsAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.opds_for_distributors.</span></span><span class="sig-name descname"><span class="pre">OPDSForDistributorsAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds_for_distributors.html#OPDSForDistributorsAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation.BaseCirculationAPI" title="api.circulation.BaseCirculationAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseCirculationAPI</span></code></a>, <a class="reference internal" href="core.html#core.selftest.HasSelfTests" title="core.selftest.HasSelfTests"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasSelfTests</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.opds_for_distributors.OPDSForDistributorsAPI.DESCRIPTION">
<span class="sig-name descname"><span class="pre">DESCRIPTION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'Import</span> <span class="pre">books</span> <span class="pre">from</span> <span class="pre">a</span> <span class="pre">distributor</span> <span class="pre">that</span> <span class="pre">requires</span> <span class="pre">authentication</span> <span class="pre">to</span> <span class="pre">get</span> <span class="pre">the</span> <span class="pre">OPDS</span> <span class="pre">feed</span> <span class="pre">and</span> <span class="pre">download</span> <span class="pre">books.'</span></em><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsAPI.DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.opds_for_distributors.OPDSForDistributorsAPI.NAME">
<span class="sig-name descname"><span class="pre">NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'OPDS</span> <span class="pre">for</span> <span class="pre">Distributors'</span></em><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsAPI.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.opds_for_distributors.OPDSForDistributorsAPI.SETTINGS">
<span class="sig-name descname"><span class="pre">SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'external_account_id',</span> <span class="pre">'label':</span> <span class="pre">l'URL',</span> <span class="pre">'required':</span> <span class="pre">True,</span> <span class="pre">'format':</span> <span class="pre">'url'},</span> <span class="pre">{'key':</span> <span class="pre">'data_source',</span> <span class="pre">'label':</span> <span class="pre">l'Data</span> <span class="pre">source</span> <span class="pre">name',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'default_audience',</span> <span class="pre">'label':</span> <span class="pre">l'Default</span> <span class="pre">audience',</span> <span class="pre">'description':</span> <span class="pre">l'If</span> <span class="pre">the</span> <span class="pre">vendor</span> <span class="pre">does</span> <span class="pre">not</span> <span class="pre">specify</span> <span class="pre">the</span> <span class="pre">target</span> <span class="pre">audience</span> <span class="pre">for</span> <span class="pre">their</span> <span class="pre">books,</span> <span class="pre">assume</span> <span class="pre">the</span> <span class="pre">books</span> <span class="pre">have</span> <span class="pre">this</span> <span class="pre">target</span> <span class="pre">audience.',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'format':</span> <span class="pre">'narrow',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'',</span> <span class="pre">'label':</span> <span class="pre">l'No</span> <span class="pre">default</span> <span class="pre">audience'},</span> <span class="pre">{'key':</span> <span class="pre">'Adult',</span> <span class="pre">'label':</span> <span class="pre">'Adult'},</span> <span class="pre">{'key':</span> <span class="pre">'Adults</span> <span class="pre">Only',</span> <span class="pre">'label':</span> <span class="pre">'Adults</span> <span class="pre">Only'},</span> <span class="pre">{'key':</span> <span class="pre">'All</span> <span class="pre">Ages',</span> <span class="pre">'label':</span> <span class="pre">'All</span> <span class="pre">Ages'},</span> <span class="pre">{'key':</span> <span class="pre">'Children',</span> <span class="pre">'label':</span> <span class="pre">'Children'},</span> <span class="pre">{'key':</span> <span class="pre">'Research',</span> <span class="pre">'label':</span> <span class="pre">'Research'},</span> <span class="pre">{'key':</span> <span class="pre">'Young</span> <span class="pre">Adult',</span> <span class="pre">'label':</span> <span class="pre">'Young</span> <span class="pre">Adult'}],</span> <span class="pre">'default':</span> <span class="pre">'',</span> <span class="pre">'required':</span> <span class="pre">False,</span> <span class="pre">'readOnly':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'username',</span> <span class="pre">'label':</span> <span class="pre">l'Library's</span> <span class="pre">username</span> <span class="pre">or</span> <span class="pre">access</span> <span class="pre">key',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'password',</span> <span class="pre">'label':</span> <span class="pre">l'Library's</span> <span class="pre">password</span> <span class="pre">or</span> <span class="pre">secret</span> <span class="pre">key',</span> <span class="pre">'required':</span> <span class="pre">True}]</span></em><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsAPI.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.opds_for_distributors.OPDSForDistributorsAPI.SUPPORTED_MEDIA_TYPES">
<span class="sig-name descname"><span class="pre">SUPPORTED_MEDIA_TYPES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['application/epub+zip',</span> <span class="pre">'application/audiobook+json',</span> <span class="pre">'application/pdf']</span></em><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsAPI.SUPPORTED_MEDIA_TYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds_for_distributors.OPDSForDistributorsAPI.can_fulfill_without_loan">
<span class="sig-name descname"><span class="pre">can_fulfill_without_loan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">lpdm</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds_for_distributors.html#OPDSForDistributorsAPI.can_fulfill_without_loan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsAPI.can_fulfill_without_loan" title="Permalink to this definition">¶</a></dt>
<dd><p>Since OPDS For Distributors delivers books to the library rather
than creating loans, any book can be fulfilled without
identifying the patron, assuming the library’s policies
allow it.</p>
<p>Just to be safe, though, we require that the
DeliveryMechanism’s drm_scheme be either ‘no DRM’ or ‘bearer
token’, since other DRM schemes require identifying a patron.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds_for_distributors.OPDSForDistributorsAPI.checkin">
<span class="sig-name descname"><span class="pre">checkin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds_for_distributors.html#OPDSForDistributorsAPI.checkin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsAPI.checkin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a book early.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patron</strong> – a Patron object for the patron who wants to check out the book.</p></li>
<li><p><strong>pin</strong> – The patron’s alleged password.</p></li>
<li><p><strong>licensepool</strong> – Contains lending info as well as link to parent Identifier.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds_for_distributors.OPDSForDistributorsAPI.checkout">
<span class="sig-name descname"><span class="pre">checkout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal_format</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds_for_distributors.html#OPDSForDistributorsAPI.checkout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsAPI.checkout" title="Permalink to this definition">¶</a></dt>
<dd><p>Check out a book on behalf of a patron.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patron</strong> – a Patron object for the patron who wants to check out the book.</p></li>
<li><p><strong>pin</strong> – The patron’s alleged password.</p></li>
<li><p><strong>licensepool</strong> – Contains lending info as well as link to parent Identifier.</p></li>
<li><p><strong>internal_format</strong> – Represents the patron’s desired book format.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a LoanInfo object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.opds_for_distributors.OPDSForDistributorsAPI.delivery_mechanism_to_internal_format">
<span class="sig-name descname"><span class="pre">delivery_mechanism_to_internal_format</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{('application/audiobook+json',</span> <span class="pre">'application/vnd.librarysimplified.bearer-token+json'):</span> <span class="pre">'application/audiobook+json',</span> <span class="pre">('application/epub+zip',</span> <span class="pre">'application/vnd.librarysimplified.bearer-token+json'):</span> <span class="pre">'application/epub+zip',</span> <span class="pre">('application/pdf',</span> <span class="pre">'application/vnd.librarysimplified.bearer-token+json'):</span> <span class="pre">'application/pdf'}</span></em><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsAPI.delivery_mechanism_to_internal_format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds_for_distributors.OPDSForDistributorsAPI.external_integration">
<span class="sig-name descname"><span class="pre">external_integration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds_for_distributors.html#OPDSForDistributorsAPI.external_integration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsAPI.external_integration" title="Permalink to this definition">¶</a></dt>
<dd><p>Locate the ExternalIntegration associated with this object.
The status of the self-tests will be stored as a ConfigurationSetting
on this ExternalIntegration.</p>
<p>By default, there is no way to get from an object to its
ExternalIntegration, and self-test status will not be stored.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds_for_distributors.OPDSForDistributorsAPI.fulfill">
<span class="sig-name descname"><span class="pre">fulfill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal_format</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds_for_distributors.html#OPDSForDistributorsAPI.fulfill"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsAPI.fulfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a bearer token that can be used to download the book.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>kwargs</strong> – A container for arguments to fulfill()
which are not relevant to this vendor.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a FulfillmentInfo object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds_for_distributors.OPDSForDistributorsAPI.patron_activity">
<span class="sig-name descname"><span class="pre">patron_activity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds_for_distributors.html#OPDSForDistributorsAPI.patron_activity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsAPI.patron_activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a patron’s current checkouts and holds.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.opds_for_distributors.OPDSForDistributorsImportMonitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.opds_for_distributors.</span></span><span class="sig-name descname"><span class="pre">OPDSForDistributorsImportMonitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">import_class</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds_for_distributors.html#OPDSForDistributorsImportMonitor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsImportMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.opds_import.OPDSImportMonitor" title="core.opds_import.OPDSImportMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">OPDSImportMonitor</span></code></a></p>
<p>Monitor an OPDS feed that requires or allows authentication,
such as Biblioboard or Plympton.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.opds_for_distributors.OPDSForDistributorsImportMonitor.PROTOCOL">
<span class="sig-name descname"><span class="pre">PROTOCOL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'OPDS</span> <span class="pre">for</span> <span class="pre">Distributors'</span></em><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsImportMonitor.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.opds_for_distributors.OPDSForDistributorsImporter">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.opds_for_distributors.</span></span><span class="sig-name descname"><span class="pre">OPDSForDistributorsImporter</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_source_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier_mapping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">http_get</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata_client</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content_modifier</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">map_from_collection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mirrors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds_for_distributors.html#OPDSForDistributorsImporter"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsImporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.opds_import.OPDSImporter" title="core.opds_import.OPDSImporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">OPDSImporter</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.opds_for_distributors.OPDSForDistributorsImporter.NAME">
<span class="sig-name descname"><span class="pre">NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'OPDS</span> <span class="pre">for</span> <span class="pre">Distributors'</span></em><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsImporter.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds_for_distributors.OPDSForDistributorsImporter.update_work_for_edition">
<span class="sig-name descname"><span class="pre">update_work_for_edition</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds_for_distributors.html#OPDSForDistributorsImporter.update_work_for_edition"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsImporter.update_work_for_edition" title="Permalink to this definition">¶</a></dt>
<dd><p>After importing a LicensePool, set its availability
appropriately. Books imported through OPDS For Distributors are
not open-access, but a library that can perform this import has
a license for the title and can distribute unlimited copies.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.opds_for_distributors.OPDSForDistributorsReaperMonitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.opds_for_distributors.</span></span><span class="sig-name descname"><span class="pre">OPDSForDistributorsReaperMonitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">import_class</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds_for_distributors.html#OPDSForDistributorsReaperMonitor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsReaperMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.opds_for_distributors.OPDSForDistributorsImportMonitor" title="api.opds_for_distributors.OPDSForDistributorsImportMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">OPDSForDistributorsImportMonitor</span></code></a></p>
<p>This is an unusual import monitor that crawls the entire OPDS feed
and keeps track of every identifier it sees, to find out if anything
has been removed from the collection.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.opds_for_distributors.OPDSForDistributorsReaperMonitor.feed_contains_new_data">
<span class="sig-name descname"><span class="pre">feed_contains_new_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feed</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds_for_distributors.html#OPDSForDistributorsReaperMonitor.feed_contains_new_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsReaperMonitor.feed_contains_new_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Does the given feed contain any entries that haven’t been imported
yet?</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds_for_distributors.OPDSForDistributorsReaperMonitor.import_one_feed">
<span class="sig-name descname"><span class="pre">import_one_feed</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feed</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds_for_distributors.html#OPDSForDistributorsReaperMonitor.import_one_feed"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsReaperMonitor.import_one_feed" title="Permalink to this definition">¶</a></dt>
<dd><p>Import every book mentioned in an OPDS feed.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.opds_for_distributors.OPDSForDistributorsReaperMonitor.run_once">
<span class="sig-name descname"><span class="pre">run_once</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">progress</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds_for_distributors.html#OPDSForDistributorsReaperMonitor.run_once"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsReaperMonitor.run_once" title="Permalink to this definition">¶</a></dt>
<dd><p>Check to see if any identifiers we know about are no longer
present on the remote. If there are any, remove them.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>progress</strong> – A TimestampData, ignored.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-api.overdrive">
<span id="api-overdrive-module"></span><h2>api.overdrive module<a class="headerlink" href="#module-api.overdrive" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.overdrive.MockOverdriveAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.overdrive.</span></span><span class="sig-name descname"><span class="pre">MockOverdriveAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#MockOverdriveAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.MockOverdriveAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.overdrive.MockOverdriveAPI" title="core.overdrive.MockOverdriveAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">MockOverdriveAPI</span></code></a>, <a class="reference internal" href="#api.overdrive.OverdriveAPI" title="api.overdrive.OverdriveAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">OverdriveAPI</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.MockOverdriveAPI.collection_token">
<span class="sig-name descname"><span class="pre">collection_token</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'fake</span> <span class="pre">token'</span></em><a class="headerlink" href="#api.overdrive.MockOverdriveAPI.collection_token" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.MockOverdriveAPI.library_data">
<span class="sig-name descname"><span class="pre">library_data</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'{&quot;id&quot;:1810,&quot;name&quot;:&quot;My</span> <span class="pre">Public</span> <span class="pre">Library</span> <span class="pre">(MA)&quot;,&quot;type&quot;:&quot;Library&quot;,&quot;collectionToken&quot;:&quot;1a09d9203&quot;,&quot;links&quot;:{&quot;self&quot;:{&quot;href&quot;:&quot;http://api.overdrive.com/v1/libraries/1810&quot;,&quot;type&quot;:&quot;application/vnd.overdrive.api+json&quot;},&quot;products&quot;:{&quot;href&quot;:&quot;http://api.overdrive.com/v1/collections/1a09d9203/products&quot;,&quot;type&quot;:&quot;application/vnd.overdrive.api+json&quot;},&quot;dlrHomepage&quot;:{&quot;href&quot;:&quot;http://ebooks.nypl.org&quot;,&quot;type&quot;:&quot;text/html&quot;}},&quot;formats&quot;:[{&quot;id&quot;:&quot;audiobook-wma&quot;,&quot;name&quot;:&quot;OverDrive</span> <span class="pre">WMA</span> <span class="pre">Audiobook&quot;},{&quot;id&quot;:&quot;ebook-pdf-adobe&quot;,&quot;name&quot;:&quot;Adobe</span> <span class="pre">PDF</span> <span class="pre">eBook&quot;},{&quot;id&quot;:&quot;ebook-mediado&quot;,&quot;name&quot;:&quot;MediaDo</span> <span class="pre">eBook&quot;},{&quot;id&quot;:&quot;ebook-epub-adobe&quot;,&quot;name&quot;:&quot;Adobe</span> <span class="pre">EPUB</span> <span class="pre">eBook&quot;},{&quot;id&quot;:&quot;ebook-kindle&quot;,&quot;name&quot;:&quot;Kindle</span> <span class="pre">Book&quot;},{&quot;id&quot;:&quot;audiobook-mp3&quot;,&quot;name&quot;:&quot;OverDrive</span> <span class="pre">MP3</span> <span class="pre">Audiobook&quot;},{&quot;id&quot;:&quot;ebook-pdf-open&quot;,&quot;name&quot;:&quot;Open</span> <span class="pre">PDF</span> <span class="pre">eBook&quot;},{&quot;id&quot;:&quot;ebook-overdrive&quot;,&quot;name&quot;:&quot;OverDrive</span> <span class="pre">Read&quot;},{&quot;id&quot;:&quot;video-streaming&quot;,&quot;name&quot;:&quot;Streaming</span> <span class="pre">Video&quot;},{&quot;id&quot;:&quot;ebook-epub-open&quot;,&quot;name&quot;:&quot;Open</span> <span class="pre">EPUB</span> <span class="pre">eBook&quot;}]}'</span></em><a class="headerlink" href="#api.overdrive.MockOverdriveAPI.library_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.MockOverdriveAPI.patron_request">
<span class="sig-name descname"><span class="pre">patron_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#MockOverdriveAPI.patron_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.MockOverdriveAPI.patron_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an HTTP request on behalf of a patron.</p>
<p>The results are never cached.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.MockOverdriveAPI.token_data">
<span class="sig-name descname"><span class="pre">token_data</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'{&quot;access_token&quot;:&quot;foo&quot;,&quot;token_type&quot;:&quot;bearer&quot;,&quot;expires_in&quot;:3600,&quot;scope&quot;:&quot;LIB</span> <span class="pre">META</span> <span class="pre">AVAIL</span> <span class="pre">SRCH&quot;}'</span></em><a class="headerlink" href="#api.overdrive.MockOverdriveAPI.token_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.overdrive.MockOverdriveResponse">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.overdrive.</span></span><span class="sig-name descname"><span class="pre">MockOverdriveResponse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status_code</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#MockOverdriveResponse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.MockOverdriveResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.MockOverdriveResponse.json">
<span class="sig-name descname"><span class="pre">json</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#MockOverdriveResponse.json"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.MockOverdriveResponse.json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.overdrive.NewTitlesOverdriveCollectionMonitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.overdrive.</span></span><span class="sig-name descname"><span class="pre">NewTitlesOverdriveCollectionMonitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_class=&lt;class</span> <span class="pre">'api.overdrive.OverdriveAPI'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analytics_class=&lt;class</span> <span class="pre">'core.analytics.Analytics'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#NewTitlesOverdriveCollectionMonitor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.NewTitlesOverdriveCollectionMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.overdrive.OverdriveCirculationMonitor" title="api.overdrive.OverdriveCirculationMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">OverdriveCirculationMonitor</span></code></a></p>
<p>Monitor the Overdrive collection for newly added titles.</p>
<p>This catches any new titles that slipped through the cracks of the
RecentOverdriveCollectionMonitor.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.NewTitlesOverdriveCollectionMonitor.DEFAULT_START_TIME">
<span class="sig-name descname"><span class="pre">DEFAULT_START_TIME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;object</span> <span class="pre">object&gt;</span></em><a class="headerlink" href="#api.overdrive.NewTitlesOverdriveCollectionMonitor.DEFAULT_START_TIME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.NewTitlesOverdriveCollectionMonitor.OVERLAP">
<span class="sig-name descname"><span class="pre">OVERLAP</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">datetime.timedelta(days=7)</span></em><a class="headerlink" href="#api.overdrive.NewTitlesOverdriveCollectionMonitor.OVERLAP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.NewTitlesOverdriveCollectionMonitor.SERVICE_NAME">
<span class="sig-name descname"><span class="pre">SERVICE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Overdrive</span> <span class="pre">New</span> <span class="pre">Title</span> <span class="pre">Monitor'</span></em><a class="headerlink" href="#api.overdrive.NewTitlesOverdriveCollectionMonitor.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.NewTitlesOverdriveCollectionMonitor.recently_changed_ids">
<span class="sig-name descname"><span class="pre">recently_changed_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#NewTitlesOverdriveCollectionMonitor.recently_changed_ids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.NewTitlesOverdriveCollectionMonitor.recently_changed_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Ignore the dates and return all IDs.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.NewTitlesOverdriveCollectionMonitor.should_stop">
<span class="sig-name descname"><span class="pre">should_stop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_description</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_changed</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#NewTitlesOverdriveCollectionMonitor.should_stop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.NewTitlesOverdriveCollectionMonitor.should_stop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.overdrive.</span></span><span class="sig-name descname"><span class="pre">OverdriveAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.overdrive.OverdriveAPI" title="core.overdrive.OverdriveAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">OverdriveAPI</span></code></a>, <a class="reference internal" href="#api.circulation.BaseCirculationAPI" title="api.circulation.BaseCirculationAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseCirculationAPI</span></code></a>, <a class="reference internal" href="#api.selftest.HasSelfTests" title="api.selftest.HasSelfTests"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasSelfTests</span></code></a>, <a class="reference internal" href="#api.overdrive.OverdriveAPIConstants" title="api.overdrive.OverdriveAPIConstants"><code class="xref py py-class docutils literal notranslate"><span class="pre">OverdriveAPIConstants</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.CHILD_SETTINGS">
<span class="sig-name descname"><span class="pre">CHILD_SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'external_account_id',</span> <span class="pre">'label':</span> <span class="pre">l'Library</span> <span class="pre">ID',</span> <span class="pre">'required':</span> <span class="pre">True}]</span></em><a class="headerlink" href="#api.overdrive.OverdriveAPI.CHILD_SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.DEFAULT_ERROR_URL">
<span class="sig-name descname"><span class="pre">DEFAULT_ERROR_URL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'http://librarysimplified.org/'</span></em><a class="headerlink" href="#api.overdrive.OverdriveAPI.DEFAULT_ERROR_URL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.DESCRIPTION">
<span class="sig-name descname"><span class="pre">DESCRIPTION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'Integrate</span> <span class="pre">an</span> <span class="pre">Overdrive</span> <span class="pre">collection.</span> <span class="pre">For</span> <span class="pre">an</span> <span class="pre">Overdrive</span> <span class="pre">Advantage</span> <span class="pre">collection,</span> <span class="pre">select</span> <span class="pre">the</span> <span class="pre">consortium's</span> <span class="pre">Overdrive</span> <span class="pre">collection</span> <span class="pre">as</span> <span class="pre">the</span> <span class="pre">parent.'</span></em><a class="headerlink" href="#api.overdrive.OverdriveAPI.DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.ERROR_MESSAGE_TO_EXCEPTION">
<span class="sig-name descname"><span class="pre">ERROR_MESSAGE_TO_EXCEPTION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'PatronHasExceededCheckoutLimit':</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.PatronLoanLimitReached'&gt;,</span> <span class="pre">'PatronHasExceededCheckoutLimit_ForCPC':</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.PatronLoanLimitReached'&gt;}</span></em><a class="headerlink" href="#api.overdrive.OverdriveAPI.ERROR_MESSAGE_TO_EXCEPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.LIBRARY_SETTINGS">
<span class="sig-name descname"><span class="pre">LIBRARY_SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'ils_name',</span> <span class="pre">'label':</span> <span class="pre">l'ILS</span> <span class="pre">Name',</span> <span class="pre">'default':</span> <span class="pre">'default',</span> <span class="pre">'description':</span> <span class="pre">l'When</span> <span class="pre">multiple</span> <span class="pre">libraries</span> <span class="pre">share</span> <span class="pre">an</span> <span class="pre">Overdrive</span> <span class="pre">account,</span> <span class="pre">Overdrive</span> <span class="pre">uses</span> <span class="pre">a</span> <span class="pre">setting</span> <span class="pre">called</span> <span class="pre">'ILS</span> <span class="pre">Name'</span> <span class="pre">to</span> <span class="pre">determine</span> <span class="pre">which</span> <span class="pre">ILS</span> <span class="pre">to</span> <span class="pre">check</span> <span class="pre">when</span> <span class="pre">validating</span> <span class="pre">a</span> <span class="pre">given</span> <span class="pre">patron.'},</span> <span class="pre">{'key':</span> <span class="pre">'ebook_loan_duration',</span> <span class="pre">'label':</span> <span class="pre">l'Default</span> <span class="pre">Loan</span> <span class="pre">Period</span> <span class="pre">(in</span> <span class="pre">Days)',</span> <span class="pre">'default':</span> <span class="pre">21,</span> <span class="pre">'type':</span> <span class="pre">'number',</span> <span class="pre">'description':</span> <span class="pre">l'Until</span> <span class="pre">it</span> <span class="pre">hears</span> <span class="pre">otherwise</span> <span class="pre">from</span> <span class="pre">the</span> <span class="pre">distributor,</span> <span class="pre">this</span> <span class="pre">server</span> <span class="pre">will</span> <span class="pre">assume</span> <span class="pre">that</span> <span class="pre">any</span> <span class="pre">given</span> <span class="pre">loan</span> <span class="pre">for</span> <span class="pre">this</span> <span class="pre">library</span> <span class="pre">from</span> <span class="pre">this</span> <span class="pre">collection</span> <span class="pre">will</span> <span class="pre">last</span> <span class="pre">this</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">days.</span> <span class="pre">This</span> <span class="pre">number</span> <span class="pre">is</span> <span class="pre">usually</span> <span class="pre">a</span> <span class="pre">negotiated</span> <span class="pre">value</span> <span class="pre">between</span> <span class="pre">the</span> <span class="pre">library</span> <span class="pre">and</span> <span class="pre">the</span> <span class="pre">distributor.</span> <span class="pre">This</span> <span class="pre">only</span> <span class="pre">affects</span> <span class="pre">estimates&amp;mdash;it</span> <span class="pre">cannot</span> <span class="pre">affect</span> <span class="pre">the</span> <span class="pre">actual</span> <span class="pre">length</span> <span class="pre">of</span> <span class="pre">loans.'}]</span></em><a class="headerlink" href="#api.overdrive.OverdriveAPI.LIBRARY_SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.LOCK_IN_FORMATS">
<span class="sig-name descname"><span class="pre">LOCK_IN_FORMATS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['ebook-epub-open',</span> <span class="pre">'ebook-epub-adobe',</span> <span class="pre">'ebook-pdf-adobe',</span> <span class="pre">'ebook-pdf-open']</span></em><a class="headerlink" href="#api.overdrive.OverdriveAPI.LOCK_IN_FORMATS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.NAME">
<span class="sig-name descname"><span class="pre">NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Overdrive'</span></em><a class="headerlink" href="#api.overdrive.OverdriveAPI.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.SETTINGS">
<span class="sig-name descname"><span class="pre">SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'external_account_id',</span> <span class="pre">'label':</span> <span class="pre">l'Library</span> <span class="pre">ID',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'website_id',</span> <span class="pre">'label':</span> <span class="pre">l'Website</span> <span class="pre">ID',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'username',</span> <span class="pre">'label':</span> <span class="pre">l'Client</span> <span class="pre">Key',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'password',</span> <span class="pre">'label':</span> <span class="pre">l'Client</span> <span class="pre">Secret',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'server_nickname',</span> <span class="pre">'label':</span> <span class="pre">l'Server</span> <span class="pre">family',</span> <span class="pre">'description':</span> <span class="pre">l'Unless</span> <span class="pre">you</span> <span class="pre">hear</span> <span class="pre">otherwise</span> <span class="pre">from</span> <span class="pre">Overdrive,</span> <span class="pre">your</span> <span class="pre">integration</span> <span class="pre">should</span> <span class="pre">use</span> <span class="pre">their</span> <span class="pre">production</span> <span class="pre">servers.',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'label':</span> <span class="pre">l'Production',</span> <span class="pre">'key':</span> <span class="pre">'production'},</span> <span class="pre">{'label':</span> <span class="pre">l'Testing',</span> <span class="pre">'key':</span> <span class="pre">'testing'}],</span> <span class="pre">'default':</span> <span class="pre">'production'}]</span></em><a class="headerlink" href="#api.overdrive.OverdriveAPI.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.SET_DELIVERY_MECHANISM_AT">
<span class="sig-name descname"><span class="pre">SET_DELIVERY_MECHANISM_AT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'fulfill'</span></em><a class="headerlink" href="#api.overdrive.OverdriveAPI.SET_DELIVERY_MECHANISM_AT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.adobe_drm">
<span class="sig-name descname"><span class="pre">adobe_drm</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'application/vnd.adobe.adept+xml'</span></em><a class="headerlink" href="#api.overdrive.OverdriveAPI.adobe_drm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.checkin">
<span class="sig-name descname"><span class="pre">checkin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.checkin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.checkin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a book early.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patron</strong> – a Patron object for the patron who wants to check out the book.</p></li>
<li><p><strong>pin</strong> – The patron’s alleged password.</p></li>
<li><p><strong>licensepool</strong> – Contains lending info as well as link to parent Identifier.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.checkout">
<span class="sig-name descname"><span class="pre">checkout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal_format</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.checkout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.checkout" title="Permalink to this definition">¶</a></dt>
<dd><p>Check out a book on behalf of a patron.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patron</strong> – a Patron object for the patron who wants
to check out the book.</p></li>
<li><p><strong>pin</strong> – The patron’s alleged password.</p></li>
<li><p><strong>licensepool</strong> – Identifier of the book to be checked out is
attached to this licensepool.</p></li>
<li><p><strong>internal_format</strong> – Represents the patron’s desired book format.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a LoanInfo object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.circulation_lookup">
<span class="sig-name descname"><span class="pre">circulation_lookup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">book</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.circulation_lookup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.circulation_lookup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.default_notification_email_address">
<span class="sig-name descname"><span class="pre">default_notification_email_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.default_notification_email_address"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.default_notification_email_address" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the email address this patron wants to use for hold
notifications.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>The email address Overdrive has on record for
this patron’s hold notifications, or None if there is
no such address.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.delivery_mechanism_to_internal_format">
<span class="sig-name descname"><span class="pre">delivery_mechanism_to_internal_format</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{('application/epub+zip',</span> <span class="pre">None):</span> <span class="pre">'ebook-epub-open',</span> <span class="pre">('application/epub+zip',</span> <span class="pre">'application/vnd.adobe.adept+xml'):</span> <span class="pre">'ebook-epub-adobe',</span> <span class="pre">('application/pdf',</span> <span class="pre">None):</span> <span class="pre">'ebook-pdf-open',</span> <span class="pre">('application/pdf',</span> <span class="pre">'application/vnd.adobe.adept+xml'):</span> <span class="pre">'ebook-pdf-adobe',</span> <span class="pre">('Streaming</span> <span class="pre">Text',</span> <span class="pre">'Streaming'):</span> <span class="pre">'ebook-overdrive',</span> <span class="pre">('Streaming</span> <span class="pre">Audio',</span> <span class="pre">'Streaming'):</span> <span class="pre">'audiobook-overdrive',</span> <span class="pre">('application/vnd.overdrive.circulation.api+json;profile=audiobook',</span> <span class="pre">'Libby</span> <span class="pre">DRM'):</span> <span class="pre">'audiobook-overdrive-manifest'}</span></em><a class="headerlink" href="#api.overdrive.OverdriveAPI.delivery_mechanism_to_internal_format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.epub">
<span class="sig-name descname"><span class="pre">epub</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'application/epub+zip'</span></em><a class="headerlink" href="#api.overdrive.OverdriveAPI.epub" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.error_to_exception">
<span class="sig-name descname"><span class="pre">error_to_exception</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'TitleNotCheckedOut':</span> <span class="pre">&lt;class</span> <span class="pre">'api.circulation_exceptions.NoActiveLoan'&gt;}</span></em><a class="headerlink" href="#api.overdrive.OverdriveAPI.error_to_exception" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.external_integration">
<span class="sig-name descname"><span class="pre">external_integration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.external_integration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.external_integration" title="Permalink to this definition">¶</a></dt>
<dd><p>Locate the ExternalIntegration associated with this object.
The status of the self-tests will be stored as a ConfigurationSetting
on this ExternalIntegration.</p>
<p>By default, there is no way to get from an object to its
ExternalIntegration, and self-test status will not be stored.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.extract_content_link">
<span class="sig-name descname"><span class="pre">extract_content_link</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content_link_gateway_json</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.extract_content_link"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.extract_content_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.extract_data_from_checkout_response">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">extract_data_from_checkout_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">checkout_response_json</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error_url</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.extract_data_from_checkout_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.extract_data_from_checkout_response" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.extract_data_from_hold_response">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">extract_data_from_hold_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">hold_response_json</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.extract_data_from_hold_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.extract_data_from_hold_response" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.extract_download_link">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">extract_download_link</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">format</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fetch_manifest</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.extract_download_link"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.extract_download_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract a download link from the given format descriptor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>format</strong> – A JSON document describing a specific format
in which Overdrive makes a book available.</p></li>
<li><p><strong>error_url</strong> – Value to interpolate for the {errorpageurl}
URI template value. This is ignored if you’re fetching a manifest;
instead, the ‘errorpageurl’ variable is removed entirely.</p></li>
<li><p><strong>fetch_manifest</strong> – If this is true, the download link will be
modified to a URL that an authorized mobile client can use to fetch
a manifest file.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.extract_expiration_date">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">extract_expiration_date</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.extract_expiration_date"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.extract_expiration_date" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.fill_out_form">
<span class="sig-name descname"><span class="pre">fill_out_form</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">values</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.fill_out_form"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.fill_out_form" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.fulfill">
<span class="sig-name descname"><span class="pre">fulfill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal_format</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.fulfill"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.fulfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the actual resource file to the patron.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>kwargs</strong> – A container for arguments to fulfill()
which are not relevant to this vendor.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a FulfillmentInfo object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.get_download_link">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_download_link</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">checkout_response</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">error_url</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.get_download_link"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.get_download_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract a download link from the given response.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>checkout_response</strong> – A JSON document describing a checkout-type
response from the Overdrive API.</p></li>
<li><p><strong>format_type</strong> – The internal (Overdrive-facing) format type
that should be retrieved. ‘x-manifest’ format types are treated
as a variant of the ‘x’ format type – Overdrive doesn’t recognise
‘x-manifest’ and uses ‘x’ for delivery of both streaming content
and manifests.</p></li>
<li><p><strong>error_url</strong> – Value to interpolate for the {errorpageurl}
URI template value. This is ignored if you’re fetching a manifest;
instead, the ‘errorpageurl’ variable is removed entirely.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.get_fulfillment_link">
<span class="sig-name descname"><span class="pre">get_fulfillment_link</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overdrive_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format_type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.get_fulfillment_link"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.get_fulfillment_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the link to the ACSM or manifest for an existing loan.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.get_fulfillment_link_from_download_link">
<span class="sig-name descname"><span class="pre">get_fulfillment_link_from_download_link</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">download_link</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fulfill_url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.get_fulfillment_link_from_download_link"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.get_fulfillment_link_from_download_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.get_hold">
<span class="sig-name descname"><span class="pre">get_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overdrive_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.get_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.get_hold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.get_loan">
<span class="sig-name descname"><span class="pre">get_loan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overdrive_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.get_loan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.get_loan" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.get_loans">
<span class="sig-name descname"><span class="pre">get_loans</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.get_loans"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.get_loans" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a JSON structure describing all of a patron’s outstanding
loans.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.get_patron_checkouts">
<span class="sig-name descname"><span class="pre">get_patron_checkouts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.get_patron_checkouts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.get_patron_checkouts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.get_patron_credential">
<span class="sig-name descname"><span class="pre">get_patron_credential</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.get_patron_credential"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.get_patron_credential" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an OAuth token for the given patron.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.get_patron_holds">
<span class="sig-name descname"><span class="pre">get_patron_holds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.get_patron_holds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.get_patron_holds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.get_patron_information">
<span class="sig-name descname"><span class="pre">get_patron_information</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.get_patron_information"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.get_patron_information" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.libby_drm">
<span class="sig-name descname"><span class="pre">libby_drm</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Libby</span> <span class="pre">DRM'</span></em><a class="headerlink" href="#api.overdrive.OverdriveAPI.libby_drm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.lock_in_format">
<span class="sig-name descname"><span class="pre">lock_in_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overdrive_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">format_type</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.lock_in_format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.lock_in_format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.make_direct_download_link">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">make_direct_download_link</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">link</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.make_direct_download_link"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.make_direct_download_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert an Overdrive Read or Overdrive Listen link template to a
direct-download link for the manifest.</p>
<p>This means removing any templated arguments for Overdrive Read
authentication URL and error URL; and adding a value for the
‘contentfile’ argument.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>link</strong> – An Overdrive Read or Overdrive Listen template
link.</p>
</dd>
</dl>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.no_drm">
<span class="sig-name descname"><span class="pre">no_drm</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">None</span></em><a class="headerlink" href="#api.overdrive.OverdriveAPI.no_drm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.overdrive_audiobook_manifest">
<span class="sig-name descname"><span class="pre">overdrive_audiobook_manifest</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'application/vnd.overdrive.circulation.api+json;profile=audiobook'</span></em><a class="headerlink" href="#api.overdrive.OverdriveAPI.overdrive_audiobook_manifest" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.patron_activity">
<span class="sig-name descname"><span class="pre">patron_activity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.patron_activity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.patron_activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a patron’s current checkouts and holds.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.patron_request">
<span class="sig-name descname"><span class="pre">patron_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exception_on_401</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.patron_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.patron_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an HTTP request on behalf of a patron.</p>
<p>The results are never cached.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.pdf">
<span class="sig-name descname"><span class="pre">pdf</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'application/pdf'</span></em><a class="headerlink" href="#api.overdrive.OverdriveAPI.pdf" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.perform_early_return">
<span class="sig-name descname"><span class="pre">perform_early_return</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">http_get</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.perform_early_return"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.perform_early_return" title="Permalink to this definition">¶</a></dt>
<dd><p>Ask Overdrive for a loanEarlyReturnURL for the given loan
and try to hit that URL.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patron</strong> – A Patron</p></li>
<li><p><strong>pin</strong> – Authorization PIN for the patron</p></li>
<li><p><strong>loan</strong> – A Loan object corresponding to the title on loan.</p></li>
<li><p><strong>http_get</strong> – You may pass in a mock of HTTP.get_with_timeout
for use in tests.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.place_hold">
<span class="sig-name descname"><span class="pre">place_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notification_email_address</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.place_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.place_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Place a book on hold.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A HoldData object, if a hold was successfully placed,
or the book was already on hold.</p>
</dd>
<dt class="field-even">Raise<span class="colon">:</span></dt>
<dd class="field-even"><p>A CirculationException explaining why no hold
could be placed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.process_checkout_data">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">process_checkout_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">checkout</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.process_checkout_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.process_checkout_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert one checkout from Overdrive’s list of checkouts
into a LoanInfo object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A LoanInfo object if the book can be fulfilled
by the default Library Simplified client, and None otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.process_place_hold_response">
<span class="sig-name descname"><span class="pre">process_place_hold_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.process_place_hold_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.process_place_hold_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Process the response to a HOLDS_ENDPOINT request.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A HoldData object, if a hold was successfully placed,
or the book was already on hold.</p>
</dd>
<dt class="field-even">Raise<span class="colon">:</span></dt>
<dd class="field-even"><p>A CirculationException explaining why no hold
could be placed.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.raise_exception_on_error">
<span class="sig-name descname"><span class="pre">raise_exception_on_error</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">custom_error_to_exception</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.raise_exception_on_error"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.raise_exception_on_error" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.refresh_patron_access_token">
<span class="sig-name descname"><span class="pre">refresh_patron_access_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">credential</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.refresh_patron_access_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.refresh_patron_access_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Request an OAuth bearer token that allows us to act on
behalf of a specific patron.</p>
<p>Documentation: <a class="reference external" href="https://developer.overdrive.com/apis/patron-auth">https://developer.overdrive.com/apis/patron-auth</a></p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.release_hold">
<span class="sig-name descname"><span class="pre">release_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.release_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.release_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Release a patron’s hold on a book.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#api.circulation_exceptions.CannotReleaseHold" title="api.circulation_exceptions.CannotReleaseHold"><strong>CannotReleaseHold</strong></a> – If there is an error communicating
with Overdrive, or Overdrive refuses to release the hold for
any reason.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.scope_string">
<span class="sig-name descname"><span class="pre">scope_string</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.scope_string"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.scope_string" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the Overdrive scope string for the given library.</p>
<p>This is used when setting up Patron Authentication, and when
generating the X-Overdrive-Scope header used by SimplyE to set up
its own Patron Authentication.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.streaming_audio">
<span class="sig-name descname"><span class="pre">streaming_audio</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Streaming</span> <span class="pre">Audio'</span></em><a class="headerlink" href="#api.overdrive.OverdriveAPI.streaming_audio" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.streaming_drm">
<span class="sig-name descname"><span class="pre">streaming_drm</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Streaming'</span></em><a class="headerlink" href="#api.overdrive.OverdriveAPI.streaming_drm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.streaming_text">
<span class="sig-name descname"><span class="pre">streaming_text</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Streaming</span> <span class="pre">Text'</span></em><a class="headerlink" href="#api.overdrive.OverdriveAPI.streaming_text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.update_availability">
<span class="sig-name descname"><span class="pre">update_availability</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.update_availability"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.update_availability" title="Permalink to this definition">¶</a></dt>
<dd><p>Update availability information for a book.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.update_formats">
<span class="sig-name descname"><span class="pre">update_formats</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.update_formats"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.update_formats" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the format information for a single book.</p>
<p>Incidentally updates the metadata, just in case Overdrive has
changed it.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.update_licensepool">
<span class="sig-name descname"><span class="pre">update_licensepool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">book_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.update_licensepool"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.update_licensepool" title="Permalink to this definition">¶</a></dt>
<dd><p>Update availability information for a single book.</p>
<p>If the book has never been seen before, a new LicensePool
will be created for the book.</p>
<p>The book’s LicensePool will be updated with current
circulation information. Bibliographic coverage will be
ensured for the Overdrive Identifier, and a Work will be
created for the LicensePool and set as presentation-ready.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPI.update_licensepool_with_book_info">
<span class="sig-name descname"><span class="pre">update_licensepool_with_book_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">book</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">license_pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_new_pool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.update_licensepool_with_book_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.update_licensepool_with_book_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Update a book’s LicensePool with information from a JSON
representation of its circulation info.</p>
<p>Then, create an Edition and make sure it has bibliographic
coverage. If the new Edition is the only candidate for the
pool’s presentation_edition, promote it to presentation
status.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPIConstants">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.overdrive.</span></span><span class="sig-name descname"><span class="pre">OverdriveAPIConstants</span></span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPIConstants"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAPIConstants" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPIConstants.MANIFEST_INTERNAL_FORMATS">
<span class="sig-name descname"><span class="pre">MANIFEST_INTERNAL_FORMATS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'audiobook-overdrive-manifest',</span> <span class="pre">'ebook-overdrive-manifest'}</span></em><a class="headerlink" href="#api.overdrive.OverdriveAPIConstants.MANIFEST_INTERNAL_FORMATS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAPIConstants.STREAMING_FORMATS">
<span class="sig-name descname"><span class="pre">STREAMING_FORMATS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['ebook-overdrive',</span> <span class="pre">'audiobook-overdrive']</span></em><a class="headerlink" href="#api.overdrive.OverdriveAPIConstants.STREAMING_FORMATS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAdvantageAccountListScript">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.overdrive.</span></span><span class="sig-name descname"><span class="pre">OverdriveAdvantageAccountListScript</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAdvantageAccountListScript"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAdvantageAccountListScript" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.scripts.Script" title="core.scripts.Script"><code class="xref py py-class docutils literal notranslate"><span class="pre">Script</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAdvantageAccountListScript.explain_advantage_collection">
<span class="sig-name descname"><span class="pre">explain_advantage_collection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAdvantageAccountListScript.explain_advantage_collection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAdvantageAccountListScript.explain_advantage_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Explain a single Overdrive Advantage collection.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAdvantageAccountListScript.explain_main_collection">
<span class="sig-name descname"><span class="pre">explain_main_collection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAdvantageAccountListScript.explain_main_collection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAdvantageAccountListScript.explain_main_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Explain an Overdrive collection and all of its Advantage
collections.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveAdvantageAccountListScript.run">
<span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAdvantageAccountListScript.run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveAdvantageAccountListScript.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Explain every Overdrive collection and, for each one, all of its
Advantage collections.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.overdrive.OverdriveCirculationMonitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.overdrive.</span></span><span class="sig-name descname"><span class="pre">OverdriveCirculationMonitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_class=&lt;class</span> <span class="pre">'api.overdrive.OverdriveAPI'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analytics_class=&lt;class</span> <span class="pre">'core.analytics.Analytics'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveCirculationMonitor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveCirculationMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.monitor.CollectionMonitor" title="core.monitor.CollectionMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">CollectionMonitor</span></code></a>, <a class="reference internal" href="core.html#core.monitor.TimelineMonitor" title="core.monitor.TimelineMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">TimelineMonitor</span></code></a></p>
<p>Maintain LicensePools for recently changed Overdrive titles. Create
basic Editions for any new LicensePools that show up.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.OverdriveCirculationMonitor.OVERLAP">
<span class="sig-name descname"><span class="pre">OVERLAP</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">datetime.timedelta(seconds=60)</span></em><a class="headerlink" href="#api.overdrive.OverdriveCirculationMonitor.OVERLAP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.OverdriveCirculationMonitor.PROTOCOL">
<span class="sig-name descname"><span class="pre">PROTOCOL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Overdrive'</span></em><a class="headerlink" href="#api.overdrive.OverdriveCirculationMonitor.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.OverdriveCirculationMonitor.SERVICE_NAME">
<span class="sig-name descname"><span class="pre">SERVICE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Overdrive</span> <span class="pre">Circulation</span> <span class="pre">Monitor'</span></em><a class="headerlink" href="#api.overdrive.OverdriveCirculationMonitor.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveCirculationMonitor.catch_up_from">
<span class="sig-name descname"><span class="pre">catch_up_from</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">progress</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveCirculationMonitor.catch_up_from"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveCirculationMonitor.catch_up_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Find Overdrive books that changed recently.</p>
<dl class="field-list simple">
<dt class="field-odd">Progress<span class="colon">:</span></dt>
<dd class="field-odd"><p>A TimestampData representing the time previously
covered by this Monitor.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveCirculationMonitor.recently_changed_ids">
<span class="sig-name descname"><span class="pre">recently_changed_ids</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cutoff</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveCirculationMonitor.recently_changed_ids"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveCirculationMonitor.recently_changed_ids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.overdrive.OverdriveCollectionReaper">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.overdrive.</span></span><span class="sig-name descname"><span class="pre">OverdriveCollectionReaper</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_class=&lt;class</span> <span class="pre">'api.overdrive.OverdriveAPI'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveCollectionReaper"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveCollectionReaper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.monitor.IdentifierSweepMonitor" title="core.monitor.IdentifierSweepMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">IdentifierSweepMonitor</span></code></a></p>
<p>Check for books that are in the local collection but have left our
Overdrive collection.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.OverdriveCollectionReaper.PROTOCOL">
<span class="sig-name descname"><span class="pre">PROTOCOL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Overdrive'</span></em><a class="headerlink" href="#api.overdrive.OverdriveCollectionReaper.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.OverdriveCollectionReaper.SERVICE_NAME">
<span class="sig-name descname"><span class="pre">SERVICE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Overdrive</span> <span class="pre">Collection</span> <span class="pre">Reaper'</span></em><a class="headerlink" href="#api.overdrive.OverdriveCollectionReaper.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveCollectionReaper.process_item">
<span class="sig-name descname"><span class="pre">process_item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveCollectionReaper.process_item"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveCollectionReaper.process_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Do the work that needs to be done for a given item.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.overdrive.OverdriveFormatSweep">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.overdrive.</span></span><span class="sig-name descname"><span class="pre">OverdriveFormatSweep</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_class=&lt;class</span> <span class="pre">'api.overdrive.OverdriveAPI'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveFormatSweep"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveFormatSweep" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.monitor.IdentifierSweepMonitor" title="core.monitor.IdentifierSweepMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">IdentifierSweepMonitor</span></code></a></p>
<p>Check the current formats of every Overdrive book
in our collection.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.OverdriveFormatSweep.DEFAULT_BATCH_SIZE">
<span class="sig-name descname"><span class="pre">DEFAULT_BATCH_SIZE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">25</span></em><a class="headerlink" href="#api.overdrive.OverdriveFormatSweep.DEFAULT_BATCH_SIZE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.OverdriveFormatSweep.PROTOCOL">
<span class="sig-name descname"><span class="pre">PROTOCOL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Overdrive'</span></em><a class="headerlink" href="#api.overdrive.OverdriveFormatSweep.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.OverdriveFormatSweep.SERVICE_NAME">
<span class="sig-name descname"><span class="pre">SERVICE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Overdrive</span> <span class="pre">Format</span> <span class="pre">Sweep'</span></em><a class="headerlink" href="#api.overdrive.OverdriveFormatSweep.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.OverdriveFormatSweep.process_item">
<span class="sig-name descname"><span class="pre">process_item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveFormatSweep.process_item"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveFormatSweep.process_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Do the work that needs to be done for a given item.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.overdrive.OverdriveManifestFulfillmentInfo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.overdrive.</span></span><span class="sig-name descname"><span class="pre">OverdriveManifestFulfillmentInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content_link</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">overdrive_identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">scope_string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveManifestFulfillmentInfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.OverdriveManifestFulfillmentInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation.FulfillmentInfo" title="api.circulation.FulfillmentInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">FulfillmentInfo</span></code></a></p>
<dl class="py property">
<dt class="sig sig-object py" id="api.overdrive.OverdriveManifestFulfillmentInfo.as_response">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">as_response</span></span><a class="headerlink" href="#api.overdrive.OverdriveManifestFulfillmentInfo.as_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Bypass the normal process of creating a Flask Response.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A Response object, or None if you’re okay with the
normal process.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.overdrive.RecentOverdriveCollectionMonitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.overdrive.</span></span><span class="sig-name descname"><span class="pre">RecentOverdriveCollectionMonitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#RecentOverdriveCollectionMonitor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.RecentOverdriveCollectionMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.overdrive.OverdriveCirculationMonitor" title="api.overdrive.OverdriveCirculationMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">OverdriveCirculationMonitor</span></code></a></p>
<p>Monitor recently changed books in the Overdrive collection.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.RecentOverdriveCollectionMonitor.MAXIMUM_CONSECUTIVE_UNCHANGED_BOOKS">
<span class="sig-name descname"><span class="pre">MAXIMUM_CONSECUTIVE_UNCHANGED_BOOKS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">100</span></em><a class="headerlink" href="#api.overdrive.RecentOverdriveCollectionMonitor.MAXIMUM_CONSECUTIVE_UNCHANGED_BOOKS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.overdrive.RecentOverdriveCollectionMonitor.SERVICE_NAME">
<span class="sig-name descname"><span class="pre">SERVICE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Reverse</span> <span class="pre">Chronological</span> <span class="pre">Overdrive</span> <span class="pre">Collection</span> <span class="pre">Monitor'</span></em><a class="headerlink" href="#api.overdrive.RecentOverdriveCollectionMonitor.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.overdrive.RecentOverdriveCollectionMonitor.should_stop">
<span class="sig-name descname"><span class="pre">should_stop</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">start</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_description</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">is_changed</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#RecentOverdriveCollectionMonitor.should_stop"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.overdrive.RecentOverdriveCollectionMonitor.should_stop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-api.problem_details">
<span id="api-problem-details-module"></span><h2>api.problem_details module<a class="headerlink" href="#module-api.problem_details" title="Permalink to this heading">¶</a></h2>
</section>
<section id="module-api.rbdigital">
<span id="api-rbdigital-module"></span><h2>api.rbdigital module<a class="headerlink" href="#module-api.rbdigital" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.rbdigital.AudiobookManifest">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.rbdigital.</span></span><span class="sig-name descname"><span class="pre">AudiobookManifest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">content_dict</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fulfill_part_url</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#AudiobookManifest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.AudiobookManifest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.util.html#core.util.web_publication_manifest.AudiobookManifest" title="core.util.web_publication_manifest.AudiobookManifest"><code class="xref py py-class docutils literal notranslate"><span class="pre">AudiobookManifest</span></code></a></p>
<p>A standard AudiobookManifest derived from an RBdigital audiobook
manifest.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.AudiobookManifest.INTERMEDIATE_LINK_MEDIA_TYPE">
<span class="sig-name descname"><span class="pre">INTERMEDIATE_LINK_MEDIA_TYPE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'vnd.librarysimplified/rbdigital-access-document+json'</span></em><a class="headerlink" href="#api.rbdigital.AudiobookManifest.INTERMEDIATE_LINK_MEDIA_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.AudiobookManifest.best_cover">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">best_cover</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">images</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#AudiobookManifest.best_cover"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.AudiobookManifest.best_cover" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.AudiobookManifest.import_metadata">
<span class="sig-name descname"><span class="pre">import_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">rbdigital_field</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">standard_field</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">transform</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#AudiobookManifest.import_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.AudiobookManifest.import_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Map a field in an RBdigital manifest to the corresponding
standard manifest field.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.AudiobookManifest.import_spine">
<span class="sig-name descname"><span class="pre">import_spine</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">file_data</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">proxy_url</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#AudiobookManifest.import_spine"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.AudiobookManifest.import_spine" title="Permalink to this definition">¶</a></dt>
<dd><p>Import an RBdigital spine item as a Web Publication Manifest
spine item.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>file_data</strong> – A dictionary of information about this spine
item, obtained from RBdigital.</p></li>
<li><p><strong>proxy_url</strong> – A URL generated by the circulation manager
(as opposed to being generated by RBdigital) for fulfilling this
spine item as an audio file (as opposed to a JSON document that
links to an audio file).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.rbdigital.MockRBDigitalAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.rbdigital.</span></span><span class="sig-name descname"><span class="pre">MockRBDigitalAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">base_path</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#MockRBDigitalAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.MockRBDigitalAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.rbdigital.RBDigitalAPI" title="api.rbdigital.RBDigitalAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">RBDigitalAPI</span></code></a></p>
<dl class="py property">
<dt class="sig sig-object py" id="api.rbdigital.MockRBDigitalAPI.collection">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">collection</span></span><a class="headerlink" href="#api.rbdigital.MockRBDigitalAPI.collection" title="Permalink to this definition">¶</a></dt>
<dd><p>We can store the actual Collection object with a mock API,
so there’s no need to store the ID and do lookups.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.MockRBDigitalAPI.get_data">
<span class="sig-name descname"><span class="pre">get_data</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">filename</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#MockRBDigitalAPI.get_data"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.MockRBDigitalAPI.get_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.MockRBDigitalAPI.mock_collection">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">mock_collection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#MockRBDigitalAPI.mock_collection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.MockRBDigitalAPI.mock_collection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.MockRBDigitalAPI.populate_all_catalog">
<span class="sig-name descname"><span class="pre">populate_all_catalog</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#MockRBDigitalAPI.populate_all_catalog"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.MockRBDigitalAPI.populate_all_catalog" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up to use the smaller test catalog file, and then call the real
populate_all_catalog.  Used to test import on non-test permanent database.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.MockRBDigitalAPI.queue_response">
<span class="sig-name descname"><span class="pre">queue_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status_code</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#MockRBDigitalAPI.queue_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.MockRBDigitalAPI.queue_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows smoother faster creation of unit tests by letting
us live-test as we write.</p>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.rbdigital.RBDProxyException">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.rbdigital.</span></span><span class="sig-name descname"><span class="pre">RBDProxyException</span></span><a class="reference internal" href="_modules/api/rbdigital.html#RBDProxyException"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDProxyException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Exception</span></code></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.rbdigital.</span></span><span class="sig-name descname"><span class="pre">RBDigitalAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation.BaseCirculationAPI" title="api.circulation.BaseCirculationAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseCirculationAPI</span></code></a>, <a class="reference internal" href="#api.selftest.HasSelfTests" title="api.selftest.HasSelfTests"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasSelfTests</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.API_VERSION">
<span class="sig-name descname"><span class="pre">API_VERSION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'v1'</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.API_VERSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.BASE_SETTINGS">
<span class="sig-name descname"><span class="pre">BASE_SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[]</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.BASE_SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.BEARER_TOKEN_PROPERTY">
<span class="sig-name descname"><span class="pre">BEARER_TOKEN_PROPERTY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'bearer'</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.BEARER_TOKEN_PROPERTY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.CACHED_IDENTIFIER_PROPERTY">
<span class="sig-name descname"><span class="pre">CACHED_IDENTIFIER_PROPERTY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'patronId'</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.CACHED_IDENTIFIER_PROPERTY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.CREDENTIAL_TYPES">
<span class="sig-name descname"><span class="pre">CREDENTIAL_TYPES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'bearer':</span> <span class="pre">{'label':</span> <span class="pre">'Patron</span> <span class="pre">Bearer</span> <span class="pre">Token',</span> <span class="pre">'lifetime':</span> <span class="pre">84600},</span> <span class="pre">'patronId':</span> <span class="pre">{'label':</span> <span class="pre">'Identifier</span> <span class="pre">Received</span> <span class="pre">From</span> <span class="pre">Remote</span> <span class="pre">Service',</span> <span class="pre">'lifetime':</span> <span class="pre">None}}</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.CREDENTIAL_TYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.DATE_FORMAT">
<span class="sig-name descname"><span class="pre">DATE_FORMAT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'%Y-%m-%d'</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.DATE_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.DEFAULT_LOAN_DURATION">
<span class="sig-name descname"><span class="pre">DEFAULT_LOAN_DURATION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">7</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.DEFAULT_LOAN_DURATION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.EXPIRATION_DATE_FORMAT">
<span class="sig-name descname"><span class="pre">EXPIRATION_DATE_FORMAT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'%Y-%m-%d'</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.EXPIRATION_DATE_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.LIBRARY_SETTINGS">
<span class="sig-name descname"><span class="pre">LIBRARY_SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'audio_loan_duration',</span> <span class="pre">'label':</span> <span class="pre">l'Audiobook</span> <span class="pre">Loan</span> <span class="pre">Duration</span> <span class="pre">(in</span> <span class="pre">Days)',</span> <span class="pre">'default':</span> <span class="pre">7,</span> <span class="pre">'type':</span> <span class="pre">'number',</span> <span class="pre">'description':</span> <span class="pre">l'When</span> <span class="pre">a</span> <span class="pre">patron</span> <span class="pre">uses</span> <span class="pre">SimplyE</span> <span class="pre">to</span> <span class="pre">borrow</span> <span class="pre">an</span> <span class="pre">audiobook</span> <span class="pre">from</span> <span class="pre">this</span> <span class="pre">collection,</span> <span class="pre">SimplyE</span> <span class="pre">will</span> <span class="pre">ask</span> <span class="pre">for</span> <span class="pre">a</span> <span class="pre">loan</span> <span class="pre">that</span> <span class="pre">lasts</span> <span class="pre">this</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">days.</span> <span class="pre">This</span> <span class="pre">must</span> <span class="pre">be</span> <span class="pre">equal</span> <span class="pre">to</span> <span class="pre">or</span> <span class="pre">less</span> <span class="pre">than</span> <span class="pre">the</span> <span class="pre">maximum</span> <span class="pre">loan</span> <span class="pre">duration</span> <span class="pre">negotiated</span> <span class="pre">with</span> <span class="pre">the</span> <span class="pre">distributor.'},</span> <span class="pre">{'key':</span> <span class="pre">'ebook_loan_duration',</span> <span class="pre">'label':</span> <span class="pre">l'Ebook</span> <span class="pre">Loan</span> <span class="pre">Duration</span> <span class="pre">(in</span> <span class="pre">Days)',</span> <span class="pre">'default':</span> <span class="pre">7,</span> <span class="pre">'type':</span> <span class="pre">'number',</span> <span class="pre">'description':</span> <span class="pre">l'When</span> <span class="pre">a</span> <span class="pre">patron</span> <span class="pre">uses</span> <span class="pre">SimplyE</span> <span class="pre">to</span> <span class="pre">borrow</span> <span class="pre">an</span> <span class="pre">ebook</span> <span class="pre">from</span> <span class="pre">this</span> <span class="pre">collection,</span> <span class="pre">SimplyE</span> <span class="pre">will</span> <span class="pre">ask</span> <span class="pre">for</span> <span class="pre">a</span> <span class="pre">loan</span> <span class="pre">that</span> <span class="pre">lasts</span> <span class="pre">this</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">days.</span> <span class="pre">This</span> <span class="pre">must</span> <span class="pre">be</span> <span class="pre">equal</span> <span class="pre">to</span> <span class="pre">or</span> <span class="pre">less</span> <span class="pre">than</span> <span class="pre">the</span> <span class="pre">maximum</span> <span class="pre">loan</span> <span class="pre">duration</span> <span class="pre">negotiated</span> <span class="pre">with</span> <span class="pre">the</span> <span class="pre">distributor.'}]</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.LIBRARY_SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.NAME">
<span class="sig-name descname"><span class="pre">NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'RBdigital'</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.PRODUCTION_BASE_URL">
<span class="sig-name descname"><span class="pre">PRODUCTION_BASE_URL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'https://api.rbdigital.com/'</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.PRODUCTION_BASE_URL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.PROXY_BEARER_GRACE_PERIOD">
<span class="sig-name descname"><span class="pre">PROXY_BEARER_GRACE_PERIOD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1800</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.PROXY_BEARER_GRACE_PERIOD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.QA_BASE_URL">
<span class="sig-name descname"><span class="pre">QA_BASE_URL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'http://api.rbdigitalstage.com/'</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.QA_BASE_URL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.RESPONSE_VERBOSITY">
<span class="sig-name descname"><span class="pre">RESPONSE_VERBOSITY</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{0:</span> <span class="pre">'basic',</span> <span class="pre">1:</span> <span class="pre">'compact',</span> <span class="pre">2:</span> <span class="pre">'complete',</span> <span class="pre">3:</span> <span class="pre">'extended',</span> <span class="pre">4:</span> <span class="pre">'hypermedia'}</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.RESPONSE_VERBOSITY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.SERVER_NICKNAMES">
<span class="sig-name descname"><span class="pre">SERVER_NICKNAMES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'production':</span> <span class="pre">'https://api.rbdigital.com/',</span> <span class="pre">'qa':</span> <span class="pre">'http://api.rbdigitalstage.com/'}</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.SERVER_NICKNAMES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.SETTINGS">
<span class="sig-name descname"><span class="pre">SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'password',</span> <span class="pre">'label':</span> <span class="pre">l'Basic</span> <span class="pre">Token',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'external_account_id',</span> <span class="pre">'label':</span> <span class="pre">l'Library</span> <span class="pre">ID</span> <span class="pre">(numeric)',</span> <span class="pre">'required':</span> <span class="pre">True,</span> <span class="pre">'type':</span> <span class="pre">'number'},</span> <span class="pre">{'key':</span> <span class="pre">'url',</span> <span class="pre">'label':</span> <span class="pre">l'URL',</span> <span class="pre">'default':</span> <span class="pre">'https://api.rbdigital.com/',</span> <span class="pre">'required':</span> <span class="pre">True,</span> <span class="pre">'format':</span> <span class="pre">'url'}]</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.align_dates_to_available_snapshots">
<span class="sig-name descname"><span class="pre">align_dates_to_available_snapshots</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">from_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.align_dates_to_available_snapshots"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.align_dates_to_available_snapshots" title="Permalink to this definition">¶</a></dt>
<dd><p>Given specified begin and end dates for a delta, return the best dates from those available.</p>
<p>Note: It might be useful to raise an exception or log a message if either of the
“best” dates is too distant from the associated specified date.</p>
<dl class="simple">
<dt>The endpoint utilized returns a JSON array of “snapshot” objects (nb: tenantId is the library ID):</dt><dd><dl class="simple">
<dt>Example snapshot format:</dt><dd><p>“tenantId”: 525,
“asOf”: “2020-04-07”,
“eBookCount”: 1630,
“eAudioCount”: 13414,
“totalCount”: 15044</p>
</dd>
</dl>
</dd>
</dl>
<p>:return Best available begin and end dates.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.authorization_headers">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">authorization_headers</span></span><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.authorization_headers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.cache_patron_bearer_token">
<span class="sig-name descname"><span class="pre">cache_patron_bearer_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.cache_patron_bearer_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.cache_patron_bearer_token" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.checkin">
<span class="sig-name descname"><span class="pre">checkin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.checkin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.checkin" title="Permalink to this definition">¶</a></dt>
<dd><p>Allow a patron to return an ebook or audio before its due date.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patron</strong> – a Patron object for the patron who wants to return the book.</p></li>
<li><p><strong>pin</strong> – The patron’s password (not used).</p></li>
<li><p><strong>licensepool</strong> – The Identifier of the book to be checked out is
attached to this licensepool.</p></li>
</ul>
</dd>
</dl>
<p>:return True on success, raises circulation exceptions on failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.checkout">
<span class="sig-name descname"><span class="pre">checkout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal_format</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.checkout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.checkout" title="Permalink to this definition">¶</a></dt>
<dd><p>Associate an eBook or eAudio with a patron.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patron</strong> – a Patron object for the patron who wants to check out the book.</p></li>
<li><p><strong>pin</strong> – The patron’s password (not used).</p></li>
<li><p><strong>licensepool</strong> – The Identifier of the book to be checked out is
attached to this licensepool.</p></li>
<li><p><strong>internal_format</strong> – Represents the patron’s desired book format.  Ignored for now.</p></li>
</ul>
</dd>
</dl>
<p>:return LoanInfo on success, None on failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.circulate_item">
<span class="sig-name descname"><span class="pre">circulate_item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">item_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_item</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">days</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.circulate_item"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.circulate_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Borrow or return a catalog item.
:param patron_id RBDigital internal id
:param item_id isbn
:return A dictionary of information on the transaction or error status and message
Calling methods are expected to use this dictionary to create XxxInfo objects.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.collection">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">collection</span></span><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.collection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.create_identifier_strings">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">create_identifier_strings</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifiers</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.create_identifier_strings"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.create_identifier_strings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.create_patron">
<span class="sig-name descname"><span class="pre">create_patron</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">authorization_identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">email_address</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bearer_token_handler</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.create_patron"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.create_patron" title="Permalink to this definition">¶</a></dt>
<dd><p>Ask RBdigital to create a new patron record.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>library</strong> – Library for the patron that needs a new RBdigital
account. This has no necessary connection to the ‘library_id’
associated with the RBDigitalAPI, since multiple circulation
manager libraries may share an RBdigital account.</p></li>
<li><p><strong>authorization_identifier</strong> – The identifier the patron uses
to authenticate with their library.</p></li>
<li><p><strong>email_address</strong> – The email address, if any, which the patron
has shared with their library.</p></li>
</ul>
</dd>
</dl>
<p>:return The internal RBdigital identifier for this patron.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.default_circulation_replacement_policy">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">default_circulation_replacement_policy</span></span><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.default_circulation_replacement_policy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.dummy_email_address">
<span class="sig-name descname"><span class="pre">dummy_email_address</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">authorization_identifier</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.dummy_email_address"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.dummy_email_address" title="Permalink to this definition">¶</a></dt>
<dd><p>The fake email address to send to RBdigital when
creating an account for the given patron.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>library</strong> – A Library.</p></li>
<li><p><strong>authorization_identifier</strong> – A patron’s authorization identifier.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>An email address unique to this patron which will
bounce or reject all mail sent to it.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.dummy_patron_identifier">
<span class="sig-name descname"><span class="pre">dummy_patron_identifier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">authorization_identifier</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.dummy_patron_identifier"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.dummy_patron_identifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Add six random alphanumeric characters to the end of
the given <cite>authorization_identifier</cite>.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A random identifier based on the input identifier.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.external_integration">
<span class="sig-name descname"><span class="pre">external_integration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.external_integration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.external_integration" title="Permalink to this definition">¶</a></dt>
<dd><p>Locate the ExternalIntegration associated with this object.
The status of the self-tests will be stored as a ConfigurationSetting
on this ExternalIntegration.</p>
<p>By default, there is no way to get from an object to its
ExternalIntegration, and self-test status will not be stored.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.fetch_patron_bearer_token">
<span class="sig-name descname"><span class="pre">fetch_patron_bearer_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.fetch_patron_bearer_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.fetch_patron_bearer_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Obtain a patron bearer token for an RBdigital Patron.</p>
<p>A patron bearer token for an account within an RBdigital collection
can be obtained with the patron’s RBdigital <cite>userId</cite> for that
collection. (An initial bearer token also can also be captured
when an RBdigital account is first created, but that is not
applicable here.)</p>
<p>We don’t cache <cite>userId’s locally, but can retrieve them with the
account’s `username</cite>. (This usually has the same value as the
patron’s barcode/authorization_identifier; but, because of the
<cite>Barcode+6</cite> technique used to create accounts for patrons who don’t
have a registered email address, this is not always the case, so we
cannot rely on it.) So, we obtain the username by looking it up
using the <cite>patronId</cite>, a property that we cache locally.</p>
<dl class="simple">
<dt>So, the process, in summary:</dt><dd><ul class="simple">
<li><p>Get <cite>patronId</cite> from cache or RBdigital,</p></li>
<li><p>Fetch <cite>username</cite> using <cite>patronId</cite>.</p></li>
<li><p>Fetch <cite>userId</cite> using <cite>username</cite>.</p></li>
<li><p>Obtain <cite>bearer</cite> token using <cite>userId</cite>.</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>patron</strong> – A Patron.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A bearer token associated with the patron.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.fulfill">
<span class="sig-name descname"><span class="pre">fulfill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal_format</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">part</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fulfill_part_url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.fulfill"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.fulfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an actual resource file to the patron. This may
represent the entire book or only one part of it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>part</strong> – When the patron wants to fulfill a specific part
of the book, rather than the title as a whole, this will be
set to a string representation of the numeric position of the
desired part.</p></li>
<li><p><strong>fulfill_part_url</strong> – When the book can be fulfilled in
parts, this function will take a part number and generate the
URL to fulfill that specific part.</p></li>
</ul>
</dd>
</dl>
<p>:return a FulfillmentInfo object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.get_all_available_through_search">
<span class="sig-name descname"><span class="pre">get_all_available_through_search</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.get_all_available_through_search"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.get_all_available_through_search" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a list of ebook and eaudio items this library has access to, that are currently
available to lend.  Uses the “availability” facet of the search function.
An alternative to self.get_availability_info().
Calls paged search until done.
Uses minimal verbosity for result set.</p>
<p>Note:  Some libraries can see other libraries’ catalogs, even if the patron
cannot checkout the items.  The library ownership information is in the “interest”
fields of the response.</p>
<p>:return A dictionary representation of the response, containing catalog count and ebook item - interest pairs.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.get_all_catalog">
<span class="sig-name descname"><span class="pre">get_all_catalog</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.get_all_catalog"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.get_all_catalog" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the entire RBDigital catalog for a particular library.</p>
<p>Note:  This call taxes RBDigital’s servers, and is to be performed sparingly.
The results are returned unpaged.</p>
<p>Also, the endpoint returns about as much metadata per item as the media/{isbn} endpoint does.
If want more metadata, perform a search.</p>
<p>:return A list of dictionaries representation of the response.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.get_credential_by_token">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">get_credential_by_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_source</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">credential_type</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">token</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.get_credential_by_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.get_credential_by_token" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.get_delta">
<span class="sig-name descname"><span class="pre">get_delta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">from_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">to_date</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbosity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.get_delta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.get_delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the changes to the library’s catalog.</p>
<p>:return A dictionary listing items added/removed/modified in the collection.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.get_ebook_availability_info">
<span class="sig-name descname"><span class="pre">get_ebook_availability_info</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">media_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ebook'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.get_ebook_availability_info"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.get_ebook_availability_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a list of ebook items this library has access to, through the “availability” endpoint.
The response at this endpoint is laconic – just enough fields per item to
identify the item and declare it either available to lend or not.</p>
<p>:param media_type ‘eBook’/’eAudio’</p>
<dl class="simple">
<dt>:return A list of dictionary items, each item giving “yes/no” answer on a book’s current availability to lend.</dt><dd><dl class="simple">
<dt>Example of returned item format:</dt><dd><p>“timeStamp”: “2016-10-07T16:11:52.5887333Z”
“isbn”: “9781420128567”
“mediaType”: “eBook”
“availability”: false
“titleId”: 39764</p>
</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.get_metadata_by_isbn">
<span class="sig-name descname"><span class="pre">get_metadata_by_isbn</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.get_metadata_by_isbn"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.get_metadata_by_isbn" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets metadata, s.a. publisher, date published, genres, etc for the
eBook or eAudio item passed, using isbn to search on.
If isbn is not found, the response we get from RBDigital is an error message,
and we throw an error.</p>
<p>:return the json dictionary of the response object</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.get_patron_checkouts">
<span class="sig-name descname"><span class="pre">get_patron_checkouts</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fulfill_part_url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request_fulfillment</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fulfillment_proxy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.get_patron_checkouts"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.get_patron_checkouts" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the books and audio the patron currently has checked out.
Obtains fulfillment info for each item – the way to fulfill a book
is to get this list of possibilities first, and then call individual
fulfillment endpoints on the individual items.</p>
<p>:param patron_id RBDigital internal id for the patron.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>fulfill_part_url</strong> – A function that generates circulation
manager fulfillment URLs for individual parts of a book.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.get_patron_holds">
<span class="sig-name descname"><span class="pre">get_patron_holds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.get_patron_holds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.get_patron_holds" title="Permalink to this definition">¶</a></dt>
<dd><p>:param patron_id RBDigital internal id for the patron.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.internal_format">
<span class="sig-name descname"><span class="pre">internal_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delivery_mechanism</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.internal_format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.internal_format" title="Permalink to this definition">¶</a></dt>
<dd><p>We don’t need to do any mapping between delivery mechanisms and
internal formats, because each title is only available in one
format.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.log">
<span class="sig-name descname"><span class="pre">log</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;Logger</span> <span class="pre">RBDigital</span> <span class="pre">Patron</span> <span class="pre">API</span> <span class="pre">(WARNING)&gt;</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.my_audiobook_setting">
<span class="sig-name descname"><span class="pre">my_audiobook_setting</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'default':</span> <span class="pre">7,</span> <span class="pre">'description':</span> <span class="pre">l'When</span> <span class="pre">a</span> <span class="pre">patron</span> <span class="pre">uses</span> <span class="pre">SimplyE</span> <span class="pre">to</span> <span class="pre">borrow</span> <span class="pre">an</span> <span class="pre">audiobook</span> <span class="pre">from</span> <span class="pre">this</span> <span class="pre">collection,</span> <span class="pre">SimplyE</span> <span class="pre">will</span> <span class="pre">ask</span> <span class="pre">for</span> <span class="pre">a</span> <span class="pre">loan</span> <span class="pre">that</span> <span class="pre">lasts</span> <span class="pre">this</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">days.</span> <span class="pre">This</span> <span class="pre">must</span> <span class="pre">be</span> <span class="pre">equal</span> <span class="pre">to</span> <span class="pre">or</span> <span class="pre">less</span> <span class="pre">than</span> <span class="pre">the</span> <span class="pre">maximum</span> <span class="pre">loan</span> <span class="pre">duration</span> <span class="pre">negotiated</span> <span class="pre">with</span> <span class="pre">the</span> <span class="pre">distributor.',</span> <span class="pre">'key':</span> <span class="pre">'audio_loan_duration',</span> <span class="pre">'label':</span> <span class="pre">l'Audiobook</span> <span class="pre">Loan</span> <span class="pre">Duration</span> <span class="pre">(in</span> <span class="pre">Days)',</span> <span class="pre">'type':</span> <span class="pre">'number'}</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.my_audiobook_setting" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.my_ebook_setting">
<span class="sig-name descname"><span class="pre">my_ebook_setting</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'default':</span> <span class="pre">7,</span> <span class="pre">'description':</span> <span class="pre">l'When</span> <span class="pre">a</span> <span class="pre">patron</span> <span class="pre">uses</span> <span class="pre">SimplyE</span> <span class="pre">to</span> <span class="pre">borrow</span> <span class="pre">an</span> <span class="pre">ebook</span> <span class="pre">from</span> <span class="pre">this</span> <span class="pre">collection,</span> <span class="pre">SimplyE</span> <span class="pre">will</span> <span class="pre">ask</span> <span class="pre">for</span> <span class="pre">a</span> <span class="pre">loan</span> <span class="pre">that</span> <span class="pre">lasts</span> <span class="pre">this</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">days.</span> <span class="pre">This</span> <span class="pre">must</span> <span class="pre">be</span> <span class="pre">equal</span> <span class="pre">to</span> <span class="pre">or</span> <span class="pre">less</span> <span class="pre">than</span> <span class="pre">the</span> <span class="pre">maximum</span> <span class="pre">loan</span> <span class="pre">duration</span> <span class="pre">negotiated</span> <span class="pre">with</span> <span class="pre">the</span> <span class="pre">distributor.',</span> <span class="pre">'key':</span> <span class="pre">'ebook_loan_duration',</span> <span class="pre">'label':</span> <span class="pre">l'Ebook</span> <span class="pre">Loan</span> <span class="pre">Duration</span> <span class="pre">(in</span> <span class="pre">Days)',</span> <span class="pre">'type':</span> <span class="pre">'number'}</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.my_ebook_setting" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.patron_activity">
<span class="sig-name descname"><span class="pre">patron_activity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.patron_activity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.patron_activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a patron’s current checkouts and holds.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patron</strong> – a Patron object for the patron who wants to return the book.</p></li>
<li><p><strong>pin</strong> – The patron’s password (not used).</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.patron_bearer_token">
<span class="sig-name descname"><span class="pre">patron_bearer_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.patron_bearer_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.patron_bearer_token" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.patron_credential">
<span class="sig-name descname"><span class="pre">patron_credential</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">kind</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.patron_credential"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.patron_credential" title="Permalink to this definition">¶</a></dt>
<dd><p>Provide the credential of the given type for the given Patron,
either from the cache or by retrieving it from the remote service.</p>
<dl class="simple">
<dt>The behavior is as follows:</dt><dd><ul class="simple">
<li><p>If a value is specified, we’ll cache it.</p></li>
<li><p>If no value is specified and no cached credential is present
and unexpired, then we’ll retrieve a value from the remote
service and cache it.</p></li>
<li><p>The cached value will be returned.</p></li>
</ul>
</dd>
</dl>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patron</strong> – A Patron.</p></li>
<li><p><strong>kind</strong> – The type of credential.</p></li>
<li><p><strong>value</strong> – An optional value for the credential, which, if
provided, will replace replace the value in the cache.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The credential value for type <cite>type</cite> for the patron.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.patron_fulfillment_request">
<span class="sig-name descname"><span class="pre">patron_fulfillment_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">reauthorize</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.patron_fulfillment_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.patron_fulfillment_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a fulfillment request on behalf of a patron, using the
a bearer token either previously cached or newly retrieved on
behalf of the patron.</p>
<p>If the <cite>reauthorize</cite> parameter is set to True, then if the request
fails with status code 401 (invalid bearer token), then we will
attempt to obtain a new bearer token for the patron and repeat
the request.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patron</strong> – A Patron.</p></li>
<li><p><strong>url</strong> – URL for a resource.</p></li>
<li><p><strong>reauthorize</strong> – (Optional) Boolean indicating whether to
reauthorize the patron bearer token if we receive status code 401.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The request response.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.patron_remote_identifier">
<span class="sig-name descname"><span class="pre">patron_remote_identifier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.patron_remote_identifier"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.patron_remote_identifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Locate the identifier for the given Patron’s account on the
RBdigital side, creating a new RBdigital account if necessary.</p>
<p>The identifier is cached in a persistent Credential object.</p>
<p>The logic is complicated and spread out over multiple methods,
so here it is all in one place:</p>
<p>If an already-cached identifier is present, we use it.</p>
<p>Otherwise, we look up the patron’s barcode on RBdigital to try
to find their existing RBdigital account.</p>
<p>If we find an existing RBdigital account, we cache the
identifier associated with that account.</p>
<p>Otherwise, we need to create an RBdigital account for this patron:</p>
<p>If the ILS provides access to the patron’s email address, we
create an account using the patron’s actual barcode and email
address. This will let them use the ‘recover password’ feature
if they want to use the RBdigital web site.</p>
<p>If the ILS does not provide access to the patron’s email
address, we create an account using the patron’s actual
barcode but with six random characters appended. This will let
the patron create a new RBdigital account using their actual
barcode, if they want to use the web site.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>patron</strong> – A Patron.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The identifier associated with the patron’s (possibly
newly created) RBdigital account. This is an
RBdigital-internal identifier with no connection to any
identifier used by the patron, the circulation manager,
and the ILS.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.patron_remote_identifier_lookup">
<span class="sig-name descname"><span class="pre">patron_remote_identifier_lookup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">remote_identifier</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.patron_remote_identifier_lookup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.patron_remote_identifier_lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up a patron’s RBdigital account based on an identifier
associated with their circulation manager account.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>remote_identifier</strong> – Depending on the context, this may
be the patron’s actual barcode, or a random string _based_ on
their barcode.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>The internal RBdigital patron ID for the given
identifier, or None if there is no corresponding RBdigital
account.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.place_hold">
<span class="sig-name descname"><span class="pre">place_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notification_email_address</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.place_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.place_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Place a book on hold.</p>
<p>Note: If the requested book is available for checkout, RBDigital will respond
with a “success” to the hold request.  Then, at the next database clean-up sweep,
RBDigital will automatically convert the hold record to a checkout record.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patron</strong> – a Patron object for the patron who wants to check out the book.</p></li>
<li><p><strong>pin</strong> – The patron’s password (not used).</p></li>
<li><p><strong>licensepool</strong> – The Identifier of the book to be checked out is
attached to this licensepool.</p></li>
<li><p><strong>internal_format</strong> – Represents the patron’s desired book format.  Ignored for now.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A HoldInfo object on success, None on failure</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.populate_all_catalog">
<span class="sig-name descname"><span class="pre">populate_all_catalog</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.populate_all_catalog"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.populate_all_catalog" title="Permalink to this definition">¶</a></dt>
<dd><p>Call get_all_catalog to get all of library’s book info from RBDigital.
Create Work, Edition, LicensePool objects in our database.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.populate_delta">
<span class="sig-name descname"><span class="pre">populate_delta</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">months</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">1</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">today</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.populate_delta"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.populate_delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Call get_delta for the last month to get all of the library’s book info changes
from RBDigital.  Update Work, Edition, LicensePool objects in our database.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>today</strong> – A date to use instead of the current date, for use in tests.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.queue_response">
<span class="sig-name descname"><span class="pre">queue_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">status_code</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.queue_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.queue_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows smoother faster creation of unit tests by letting
us live-test as we write.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.reauthorize_patron_bearer_token">
<span class="sig-name descname"><span class="pre">reauthorize_patron_bearer_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.reauthorize_patron_bearer_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.reauthorize_patron_bearer_token" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.release_hold">
<span class="sig-name descname"><span class="pre">release_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.release_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.release_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Release a patron’s hold on a book.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patron</strong> – a Patron object for the patron who wants to return the book.</p></li>
<li><p><strong>pin</strong> – The patron’s password (not used).</p></li>
<li><p><strong>licensepool</strong> – The Identifier of the book to be checked out is
attached to this licensepool.</p></li>
</ul>
</dd>
</dl>
<p>:return True on success, raises circulation exceptions on failure.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.request">
<span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">method</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'get'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_headers</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">{}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">params</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbosity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'complete'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.request" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an HTTP request.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.search">
<span class="sig-name descname"><span class="pre">search</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">mediatype</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'ebook'</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">genres</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">audience</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">availability</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">author</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">title</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">page_size</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">100</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">page_index</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">verbosity</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.search"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Form a rest-ful search query, send to RBDigital, and obtain the results.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>mediatype</strong> – Facet to limit results by media type.  Options are: “eAudio”, “eBook”.</p></li>
<li><p><strong>genres</strong> – The books found lie at intersection of genres passed.</p></li>
<li><p><strong>audience</strong> – Facet to limit results by target age group.  Options include (there may be more): “adult”,
“beginning-reader”, “childrens”, “young-adult”.</p></li>
<li><p><strong>availability</strong> – Facet to limit results by copies left.  Options are “available”, “unavailable”, or None</p></li>
<li><p><strong>author</strong> – Full name to search on.</p></li>
<li><p><strong>title</strong> – Book title to search on.</p></li>
<li><p><strong>page_index</strong> – Used for paginated result sets.  Zero-based.</p></li>
<li><p><strong>verbosity</strong> – “basic” returns smaller number of response json lines than “complete”, etc..</p></li>
</ul>
</dd>
</dl>
<p>:return the response object</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.source">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">source</span></span><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.update_availability">
<span class="sig-name descname"><span class="pre">update_availability</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.update_availability"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.update_availability" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the availability information for a single LicensePool.
Part of the CirculationAPI interface.
Inactive for now, because we’d have to request and go through all availabilities
from RBDigital just to pick the one licensepool we want.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.update_licensepool_for_identifier">
<span class="sig-name descname"><span class="pre">update_licensepool_for_identifier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">isbn</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">availability</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">medium</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">policy</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.update_licensepool_for_identifier"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.update_licensepool_for_identifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Update availability information for a single book.</p>
<p>If the book has never been seen before, a new LicensePool
will be created for the book.</p>
<p>The book’s LicensePool will be updated with current approximate
circulation information (we can tell if it’s available, but
not how many copies).
Bibliographic coverage will be ensured for the RBDigital Identifier.
Work will be created for the LicensePool and set as presentation-ready.</p>
<p>:param isbn the identifier RBDigital uses
:param availability boolean denoting if book can be lent to patrons
:param medium: The name RBDigital uses for the book’s medium.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.validate_item">
<span class="sig-name descname"><span class="pre">validate_item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.validate_item"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.validate_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Are we performing operations on a book that exists and can be
uniquely identified?</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalAPI.validate_response">
<span class="sig-name descname"><span class="pre">validate_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">message</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">action</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">''</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.validate_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.validate_response" title="Permalink to this definition">¶</a></dt>
<dd><p>RBDigital tries to communicate statuses and errors through http codes.
Malformed url requests will throw a 500, non-existent ids will get a 404,
trying an action like checkout on a patron/item combo that’s blocked
(like if the item is already checked out, for example) will get a 409, etc..
Further details are usually elaborated on in the “message” field of the response.</p>
<p>:param response http response object
:message RBDigital puts error explanation into ‘message’ field in response dictionary</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalBibliographicCoverageProvider">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.rbdigital.</span></span><span class="sig-name descname"><span class="pre">RBDigitalBibliographicCoverageProvider</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_class=&lt;class</span> <span class="pre">'api.rbdigital.RBDigitalAPI'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_class_kwargs={}</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">**kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalBibliographicCoverageProvider"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalBibliographicCoverageProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.coverage.BibliographicCoverageProvider" title="core.coverage.BibliographicCoverageProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">BibliographicCoverageProvider</span></code></a></p>
<p>Fill in bibliographic metadata for RBDigital records.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalBibliographicCoverageProvider.DATA_SOURCE_NAME">
<span class="sig-name descname"><span class="pre">DATA_SOURCE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'RBdigital'</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalBibliographicCoverageProvider.DATA_SOURCE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalBibliographicCoverageProvider.DEFAULT_BATCH_SIZE">
<span class="sig-name descname"><span class="pre">DEFAULT_BATCH_SIZE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">25</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalBibliographicCoverageProvider.DEFAULT_BATCH_SIZE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalBibliographicCoverageProvider.INPUT_IDENTIFIER_TYPES">
<span class="sig-name descname"><span class="pre">INPUT_IDENTIFIER_TYPES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'RBdigital</span> <span class="pre">ID'</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalBibliographicCoverageProvider.INPUT_IDENTIFIER_TYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalBibliographicCoverageProvider.PROTOCOL">
<span class="sig-name descname"><span class="pre">PROTOCOL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'RBdigital'</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalBibliographicCoverageProvider.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalBibliographicCoverageProvider.SERVICE_NAME">
<span class="sig-name descname"><span class="pre">SERVICE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'RBDigital</span> <span class="pre">Bibliographic</span> <span class="pre">Coverage</span> <span class="pre">Provider'</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalBibliographicCoverageProvider.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalBibliographicCoverageProvider.process_item">
<span class="sig-name descname"><span class="pre">process_item</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalBibliographicCoverageProvider.process_item"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalBibliographicCoverageProvider.process_item" title="Permalink to this definition">¶</a></dt>
<dd><p>RBDigital availability information is served separately from
the book’s metadata.  Furthermore, the metadata returned by the
“book by isbn” request is less comprehensive than the data returned
by the “search titles/genres/etc.” endpoint.</p>
<p>This method hits the “by isbn” endpoint and updates the bibliographic
metadata returned by it.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalBibliographicCoverageProvider.update_metadata">
<span class="sig-name descname"><span class="pre">update_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">catalog_item</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalBibliographicCoverageProvider.update_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalBibliographicCoverageProvider.update_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates db objects corresponding to the book info passed in.</p>
<p>Note: It is expected that CoverageProvider.handle_success, which is responsible for
setting the work to be presentation-ready is handled in the calling code.</p>
<p>:catalog_item - JSON representation of the book’s metadata, coming from RBDigital.
:return CoverageFailure or a database object (Work, Identifier, etc.)</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalCirculationMonitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.rbdigital.</span></span><span class="sig-name descname"><span class="pre">RBDigitalCirculationMonitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">batch_size=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_class=&lt;class</span> <span class="pre">'api.rbdigital.RBDigitalAPI'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_class_kwargs={}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalCirculationMonitor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalCirculationMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.monitor.CollectionMonitor" title="core.monitor.CollectionMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">CollectionMonitor</span></code></a></p>
<p>Maintain LicensePools for RBDigital titles.</p>
<p>Bibliographic data isn’t inserted into new LicensePools until
we hear from the metadata wrangler.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalCirculationMonitor.DEFAULT_BATCH_SIZE">
<span class="sig-name descname"><span class="pre">DEFAULT_BATCH_SIZE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">50</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalCirculationMonitor.DEFAULT_BATCH_SIZE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalCirculationMonitor.DEFAULT_START_TIME">
<span class="sig-name descname"><span class="pre">DEFAULT_START_TIME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">datetime.datetime(1970,</span> <span class="pre">1,</span> <span class="pre">1,</span> <span class="pre">0,</span> <span class="pre">0,</span> <span class="pre">tzinfo=&lt;UTC&gt;)</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalCirculationMonitor.DEFAULT_START_TIME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalCirculationMonitor.PROTOCOL">
<span class="sig-name descname"><span class="pre">PROTOCOL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'RBdigital'</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalCirculationMonitor.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalCirculationMonitor.SERVICE_NAME">
<span class="sig-name descname"><span class="pre">SERVICE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'RBDigital</span> <span class="pre">CirculationMonitor'</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalCirculationMonitor.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalCirculationMonitor.process_availability">
<span class="sig-name descname"><span class="pre">process_availability</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">media_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'eBook'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalCirculationMonitor.process_availability"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalCirculationMonitor.process_availability" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalCirculationMonitor.run_once">
<span class="sig-name descname"><span class="pre">run_once</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">progress</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalCirculationMonitor.run_once"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalCirculationMonitor.run_once" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the availability information of all titles in the
RBdigital collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>progress</strong> – A TimestampData, ignored.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A TimestampData describing what was accomplished.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalDeltaMonitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.rbdigital.</span></span><span class="sig-name descname"><span class="pre">RBDigitalDeltaMonitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_class=&lt;class</span> <span class="pre">'api.rbdigital.RBDigitalAPI'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_class_kwargs={}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalDeltaMonitor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalDeltaMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.rbdigital.RBDigitalSyncMonitor" title="api.rbdigital.RBDigitalSyncMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">RBDigitalSyncMonitor</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalDeltaMonitor.SERVICE_NAME">
<span class="sig-name descname"><span class="pre">SERVICE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'RBDigital</span> <span class="pre">Delta</span> <span class="pre">Sync'</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalDeltaMonitor.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalDeltaMonitor.invoke">
<span class="sig-name descname"><span class="pre">invoke</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalDeltaMonitor.invoke"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalDeltaMonitor.invoke" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalFulfillmentProxy">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.rbdigital.</span></span><span class="sig-name descname"><span class="pre">RBDigitalFulfillmentProxy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">for_part</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalFulfillmentProxy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalFulfillmentProxy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalFulfillmentProxy.make_request">
<span class="sig-name descname"><span class="pre">make_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalFulfillmentProxy.make_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalFulfillmentProxy.make_request" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalFulfillmentProxy.proxied_manifest">
<span class="sig-name descname"><span class="pre">proxied_manifest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">manifest</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalFulfillmentProxy.proxied_manifest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalFulfillmentProxy.proxied_manifest" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalFulfillmentProxy.proxy">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">proxy</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">bearer</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_class</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalFulfillmentProxy.proxy"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalFulfillmentProxy.proxy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalFulfillmentProxy.use_proxy_links">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">use_proxy_links</span></span><a class="headerlink" href="#api.rbdigital.RBDigitalFulfillmentProxy.use_proxy_links" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalImportMonitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.rbdigital.</span></span><span class="sig-name descname"><span class="pre">RBDigitalImportMonitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_class=&lt;class</span> <span class="pre">'api.rbdigital.RBDigitalAPI'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_class_kwargs={}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalImportMonitor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalImportMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.rbdigital.RBDigitalSyncMonitor" title="api.rbdigital.RBDigitalSyncMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">RBDigitalSyncMonitor</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalImportMonitor.SERVICE_NAME">
<span class="sig-name descname"><span class="pre">SERVICE_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'RBDigital</span> <span class="pre">Full</span> <span class="pre">Import'</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalImportMonitor.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalImportMonitor.invoke">
<span class="sig-name descname"><span class="pre">invoke</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalImportMonitor.invoke"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalImportMonitor.invoke" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalRepresentationExtractor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.rbdigital.</span></span><span class="sig-name descname"><span class="pre">RBDigitalRepresentationExtractor</span></span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalRepresentationExtractor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalRepresentationExtractor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Extract useful information from RBDigital’s JSON representations.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalRepresentationExtractor.DATETIME_FORMAT">
<span class="sig-name descname"><span class="pre">DATETIME_FORMAT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'%Y-%m-%dT%H:%M:%SZ'</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalRepresentationExtractor.DATETIME_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalRepresentationExtractor.DATE_FORMAT">
<span class="sig-name descname"><span class="pre">DATE_FORMAT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'%Y-%m-%d'</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalRepresentationExtractor.DATE_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalRepresentationExtractor.image_link_to_linkdata">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">image_link_to_linkdata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">link_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">rel</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalRepresentationExtractor.image_link_to_linkdata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalRepresentationExtractor.image_link_to_linkdata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalRepresentationExtractor.isbn_info_to_metadata">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">isbn_info_to_metadata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">book</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_bibliographic</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">include_formats</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">True</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalRepresentationExtractor.isbn_info_to_metadata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalRepresentationExtractor.isbn_info_to_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn RBDigital’s JSON representation of a book into a Metadata object.
Assumes the JSON is in the format that comes from the media/{isbn} endpoint.</p>
<p>TODO:  Use the seriesTotal field.</p>
<p>:param book a json response-derived dictionary of book attributes</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalRepresentationExtractor.log">
<span class="sig-name descname"><span class="pre">log</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">&lt;Logger</span> <span class="pre">RBDigital</span> <span class="pre">representation</span> <span class="pre">extractor</span> <span class="pre">(WARNING)&gt;</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalRepresentationExtractor.log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalRepresentationExtractor.rbdigital_medium_to_simplified_medium">
<span class="sig-name descname"><span class="pre">rbdigital_medium_to_simplified_medium</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'eAudio':</span> <span class="pre">'Audio',</span> <span class="pre">'eBook':</span> <span class="pre">'Book'}</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalRepresentationExtractor.rbdigital_medium_to_simplified_medium" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalSyncMonitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.rbdigital.</span></span><span class="sig-name descname"><span class="pre">RBDigitalSyncMonitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_class=&lt;class</span> <span class="pre">'api.rbdigital.RBDigitalAPI'&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_class_kwargs={}</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalSyncMonitor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalSyncMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.monitor.CollectionMonitor" title="core.monitor.CollectionMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">CollectionMonitor</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalSyncMonitor.PROTOCOL">
<span class="sig-name descname"><span class="pre">PROTOCOL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'RBdigital'</span></em><a class="headerlink" href="#api.rbdigital.RBDigitalSyncMonitor.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalSyncMonitor.invoke">
<span class="sig-name descname"><span class="pre">invoke</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalSyncMonitor.invoke"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalSyncMonitor.invoke" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBDigitalSyncMonitor.run_once">
<span class="sig-name descname"><span class="pre">run_once</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">progress</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalSyncMonitor.run_once"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBDigitalSyncMonitor.run_once" title="Permalink to this definition">¶</a></dt>
<dd><p>Find books in the RBdigital collection that changed recently.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>progress</strong> – A TimestampData, ignored.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A TimestampData describing what was accomplished.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.rbdigital.RBFulfillmentInfo">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.rbdigital.</span></span><span class="sig-name descname"><span class="pre">RBFulfillmentInfo</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">fulfill_part_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">request_fulfillment</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBFulfillmentInfo"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBFulfillmentInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation.APIAwareFulfillmentInfo" title="api.circulation.APIAwareFulfillmentInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">APIAwareFulfillmentInfo</span></code></a></p>
<p>An RBdigital-specific FulfillmentInfo implementation.</p>
<p>We use these instead of real FulfillmentInfo objects because
generating a FulfillmentInfo object may require an extra HTTP request,
and there’s often no need to make that request.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBFulfillmentInfo.do_fetch">
<span class="sig-name descname"><span class="pre">do_fetch</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBFulfillmentInfo.do_fetch"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBFulfillmentInfo.do_fetch" title="Permalink to this definition">¶</a></dt>
<dd><p>Actually make the API request.</p>
<p>When implemented, this method must set values for some or all
of _content_link, _content_type, _content, and
_content_expires.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBFulfillmentInfo.fetch_access_document">
<span class="sig-name descname"><span class="pre">fetch_access_document</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">url</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBFulfillmentInfo.fetch_access_document"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBFulfillmentInfo.fetch_access_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve an access document from RBdigital and process it.</p>
<p>An access document is a small JSON document containing a link
to the URL we actually want to deliver.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBFulfillmentInfo.fulfill_part">
<span class="sig-name descname"><span class="pre">fulfill_part</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">part</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBFulfillmentInfo.fulfill_part"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBFulfillmentInfo.fulfill_part" title="Permalink to this definition">¶</a></dt>
<dd><p>Fulfill a specific part of this book.</p>
<p>This will navigate the access document and find a link to
the actual MP3 file so that a client doesn’t know how to
parse access documents.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A FulfillmentInfo if the part could be fulfilled;
a ProblemDetail otherwise.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.rbdigital.RBFulfillmentInfo.process_access_document">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">process_access_document</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">access_document</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBFulfillmentInfo.process_access_document"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.rbdigital.RBFulfillmentInfo.process_access_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Process the intermediary document served by RBdigital to tell
you how to actually download a file.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-api.registry">
<span id="api-registry-module"></span><h2>api.registry module<a class="headerlink" href="#module-api.registry" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.registry.LibraryRegistrationScript">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.registry.</span></span><span class="sig-name descname"><span class="pre">LibraryRegistrationScript</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/registry.html#LibraryRegistrationScript"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.registry.LibraryRegistrationScript" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.scripts.LibraryInputScript" title="core.scripts.LibraryInputScript"><code class="xref py py-class docutils literal notranslate"><span class="pre">LibraryInputScript</span></code></a></p>
<p>Register local libraries with a remote library registry.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.registry.LibraryRegistrationScript.GOAL">
<span class="sig-name descname"><span class="pre">GOAL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'discovery'</span></em><a class="headerlink" href="#api.registry.LibraryRegistrationScript.GOAL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.registry.LibraryRegistrationScript.PROTOCOL">
<span class="sig-name descname"><span class="pre">PROTOCOL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'OPDS</span> <span class="pre">Registration'</span></em><a class="headerlink" href="#api.registry.LibraryRegistrationScript.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.registry.LibraryRegistrationScript.arg_parser">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">arg_parser</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/registry.html#LibraryRegistrationScript.arg_parser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.registry.LibraryRegistrationScript.arg_parser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.registry.LibraryRegistrationScript.do_run">
<span class="sig-name descname"><span class="pre">do_run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">cmd_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">in_unit_test</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/registry.html#LibraryRegistrationScript.do_run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.registry.LibraryRegistrationScript.do_run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.registry.LibraryRegistrationScript.process_library">
<span class="sig-name descname"><span class="pre">process_library</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">registration</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">stage</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url_for</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/registry.html#LibraryRegistrationScript.process_library"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.registry.LibraryRegistrationScript.process_library" title="Permalink to this definition">¶</a></dt>
<dd><p>Push one Library’s registration to the given RemoteRegistry.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.registry.Registration">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.registry.</span></span><span class="sig-name descname"><span class="pre">Registration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">registry</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">library</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/registry.html#Registration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.registry.Registration" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A library’s registration for a particular registry.</p>
<p>The registration does not correspond to one specific data model
object – it’s a relationship between a Library and an
ExternalIntegration, and a set of ConfigurationSettings that
configure the relationship between the two.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.registry.Registration.FAILURE_STATUS">
<span class="sig-name descname"><span class="pre">FAILURE_STATUS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'failure'</span></em><a class="headerlink" href="#api.registry.Registration.FAILURE_STATUS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.registry.Registration.LIBRARY_REGISTRATION_STAGE">
<span class="sig-name descname"><span class="pre">LIBRARY_REGISTRATION_STAGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'library-registration-stage'</span></em><a class="headerlink" href="#api.registry.Registration.LIBRARY_REGISTRATION_STAGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.registry.Registration.LIBRARY_REGISTRATION_STATUS">
<span class="sig-name descname"><span class="pre">LIBRARY_REGISTRATION_STATUS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'library-registration-status'</span></em><a class="headerlink" href="#api.registry.Registration.LIBRARY_REGISTRATION_STATUS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.registry.Registration.LIBRARY_REGISTRATION_WEB_CLIENT">
<span class="sig-name descname"><span class="pre">LIBRARY_REGISTRATION_WEB_CLIENT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'library-registration-web-client'</span></em><a class="headerlink" href="#api.registry.Registration.LIBRARY_REGISTRATION_WEB_CLIENT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.registry.Registration.PRODUCTION_STAGE">
<span class="sig-name descname"><span class="pre">PRODUCTION_STAGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'production'</span></em><a class="headerlink" href="#api.registry.Registration.PRODUCTION_STAGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.registry.Registration.SUCCESS_STATUS">
<span class="sig-name descname"><span class="pre">SUCCESS_STATUS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'success'</span></em><a class="headerlink" href="#api.registry.Registration.SUCCESS_STATUS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.registry.Registration.TESTING_STAGE">
<span class="sig-name descname"><span class="pre">TESTING_STAGE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'testing'</span></em><a class="headerlink" href="#api.registry.Registration.TESTING_STAGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.registry.Registration.VALID_REGISTRATION_STAGES">
<span class="sig-name descname"><span class="pre">VALID_REGISTRATION_STAGES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">['testing',</span> <span class="pre">'production']</span></em><a class="headerlink" href="#api.registry.Registration.VALID_REGISTRATION_STAGES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.registry.Registration.push">
<span class="sig-name descname"><span class="pre">push</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">stage</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url_for</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">catalog_url=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_get=&lt;bound</span> <span class="pre">method</span> <span class="pre">HTTP.debuggable_get</span> <span class="pre">of</span> <span class="pre">&lt;class</span> <span class="pre">'core.util.http.HTTP'&gt;&gt;</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_post=&lt;bound</span> <span class="pre">method</span> <span class="pre">HTTP.debuggable_post</span> <span class="pre">of</span> <span class="pre">&lt;class</span> <span class="pre">'core.util.http.HTTP'&gt;&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/registry.html#Registration.push"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.registry.Registration.push" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempt to register a library with a RemoteRegistry.</p>
<p>NOTE: This method is designed to be used in a
controller. Other callers may use this method, but they must be
able to render a ProblemDetail when there’s a failure.</p>
<p>NOTE: The application server must be running when this method
is called, because part of the OPDS Directory Registration
Protocol is the remote server retrieving the library’s
Authentication For OPDS document.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>stage</strong> – Either TESTING_STAGE or PRODUCTION_STAGE</p></li>
<li><p><strong>url_for</strong> – Flask url_for() or equivalent, used to generate URLs
for the application server.</p></li>
<li><p><strong>do_get</strong> – Mockable method to make a GET request.</p></li>
<li><p><strong>do_post</strong> – Mockable method to make a POST request.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A ProblemDetail if there was a problem; otherwise True.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.registry.Registration.setting">
<span class="sig-name descname"><span class="pre">setting</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">key</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">default_value</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/registry.html#Registration.setting"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.registry.Registration.setting" title="Permalink to this definition">¶</a></dt>
<dd><p>Find or create a ConfigurationSetting that configures this
relationship between library and registry.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>key</strong> – Name of the ConfigurationSetting.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A 2-tuple (ConfigurationSetting, is_new)</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.registry.RemoteRegistry">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.registry.</span></span><span class="sig-name descname"><span class="pre">RemoteRegistry</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">integration</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/registry.html#RemoteRegistry"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.registry.RemoteRegistry" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A circulation manager’s view of a remote service that supports
the OPDS Directory Registration Protocol:</p>
<p><a class="reference external" href="https://github.com/NYPL-Simplified/Simplified/wiki/OPDS-Directory-Registration-Protocol">https://github.com/NYPL-Simplified/Simplified/wiki/OPDS-Directory-Registration-Protocol</a></p>
<p>In practical terms, this may be a library registry (which has
DISCOVERY_GOAL and wants to help patrons find their libraries) or
it may be a shared ODL collection (which has LICENSE_GOAL).</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.registry.RemoteRegistry.DEFAULT_LIBRARY_REGISTRY_URL">
<span class="sig-name descname"><span class="pre">DEFAULT_LIBRARY_REGISTRY_URL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'https://libraryregistry.librarysimplified.org/'</span></em><a class="headerlink" href="#api.registry.RemoteRegistry.DEFAULT_LIBRARY_REGISTRY_URL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.registry.RemoteRegistry.OPDS_1_PREFIX">
<span class="sig-name descname"><span class="pre">OPDS_1_PREFIX</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'application/atom+xml;profile=opds-catalog'</span></em><a class="headerlink" href="#api.registry.RemoteRegistry.OPDS_1_PREFIX" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.registry.RemoteRegistry.OPDS_2_TYPE">
<span class="sig-name descname"><span class="pre">OPDS_2_TYPE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'application/opds+json'</span></em><a class="headerlink" href="#api.registry.RemoteRegistry.OPDS_2_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.registry.RemoteRegistry.fetch_catalog">
<span class="sig-name descname"><span class="pre">fetch_catalog</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">catalog_url=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_get=&lt;bound</span> <span class="pre">method</span> <span class="pre">HTTP.debuggable_get</span> <span class="pre">of</span> <span class="pre">&lt;class</span> <span class="pre">'core.util.http.HTTP'&gt;&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/registry.html#RemoteRegistry.fetch_catalog"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.registry.RemoteRegistry.fetch_catalog" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch the root catalog for this RemoteRegistry.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A ProblemDetail if there’s a problem communicating
with the service or parsing the catalog; otherwise a 2-tuple
(registration URL, Adobe vendor ID).</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.registry.RemoteRegistry.fetch_registration_document">
<span class="sig-name descname"><span class="pre">fetch_registration_document</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">do_get=&lt;bound</span> <span class="pre">method</span> <span class="pre">HTTP.debuggable_get</span> <span class="pre">of</span> <span class="pre">&lt;class</span> <span class="pre">'core.util.http.HTTP'&gt;&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/registry.html#RemoteRegistry.fetch_registration_document"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.registry.RemoteRegistry.fetch_registration_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch a discovery service’s registration document and extract
useful information from it.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A ProblemDetail if there’s a problem accessing the
service; otherwise, a 2-tuple (terms_of_service_link,
terms_of_service_html), containing information about the
Terms of Service that govern a circulation manager’s
registration with the discovery service.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.registry.RemoteRegistry.for_integration_id">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">for_integration_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">integration_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">goal</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/registry.html#RemoteRegistry.for_integration_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.registry.RemoteRegistry.for_integration_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Find a LibraryRegistry object configured
by the given ExternalIntegration ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>goal</strong> – The ExternalIntegration’s .goal must be this goal.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.registry.RemoteRegistry.for_protocol_and_goal">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">for_protocol_and_goal</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">protocol</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">goal</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/registry.html#RemoteRegistry.for_protocol_and_goal"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.registry.RemoteRegistry.for_protocol_and_goal" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all LibraryRegistry objects with the given protocol and goal.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.registry.RemoteRegistry.for_protocol_goal_and_url">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">for_protocol_goal_and_url</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">protocol</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">goal</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/registry.html#RemoteRegistry.for_protocol_goal_and_url"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.registry.RemoteRegistry.for_protocol_goal_and_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a LibraryRegistry for the given protocol, goal, and
URL. Create the corresponding ExternalIntegration if necessary.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.registry.RemoteRegistry.registrations">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">registrations</span></span><a class="headerlink" href="#api.registry.RemoteRegistry.registrations" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all of this site’s successful registrations with
this RemoteRegistry.</p>
<dl class="field-list simple">
<dt class="field-odd">Yield<span class="colon">:</span></dt>
<dd class="field-odd"><p>A sequence of Registration objects.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-api.selftest">
<span id="api-selftest-module"></span><h2>api.selftest module<a class="headerlink" href="#module-api.selftest" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.selftest.HasCollectionSelfTests">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.selftest.</span></span><span class="sig-name descname"><span class="pre">HasCollectionSelfTests</span></span><a class="reference internal" href="_modules/api/selftest.html#HasCollectionSelfTests"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.selftest.HasCollectionSelfTests" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.selftest.HasSelfTests" title="api.selftest.HasSelfTests"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasSelfTests</span></code></a></p>
<p>Extra tests to verify the integrity of imported
collections of books.</p>
<p>This is a mixin method that requires that <cite>self.collection</cite>
point to the Collection to be tested.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.selftest.HasSelfTests">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.selftest.</span></span><span class="sig-name descname"><span class="pre">HasSelfTests</span></span><a class="reference internal" href="_modules/api/selftest.html#HasSelfTests"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.selftest.HasSelfTests" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.selftest.HasSelfTests" title="core.selftest.HasSelfTests"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasSelfTests</span></code></a></p>
<p>Circulation-specific enhancements for HasSelfTests.</p>
<p>Circulation self-tests frequently need to test the ability to act
on behalf of a specific patron.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.selftest.HasSelfTests.default_patrons">
<span class="sig-name descname"><span class="pre">default_patrons</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/selftest.html#HasSelfTests.default_patrons"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.selftest.HasSelfTests.default_patrons" title="Permalink to this definition">¶</a></dt>
<dd><p>Find a usable default Patron for each of the libraries associated
with the given Collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Yield<span class="colon">:</span></dt>
<dd class="field-odd"><p>A sequence of (Library, Patron, password) 3-tuples.
Yields (SelfTestFailure, None, None) if the Collection is not
associated with any libraries, if a library does not
have a default patron configured, or if there is an
exception acquiring a library’s default patron.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.selftest.RunSelfTestsScript">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.selftest.</span></span><span class="sig-name descname"><span class="pre">RunSelfTestsScript</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db=None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">output=&lt;_io.TextIOWrapper</span> <span class="pre">name='&lt;stdout&gt;'</span> <span class="pre">mode='w'</span> <span class="pre">encoding='utf-8'&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/selftest.html#RunSelfTestsScript"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.selftest.RunSelfTestsScript" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.scripts.LibraryInputScript" title="core.scripts.LibraryInputScript"><code class="xref py py-class docutils literal notranslate"><span class="pre">LibraryInputScript</span></code></a></p>
<p>Run the self-tests for every collection in the given library
where that’s possible.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.selftest.RunSelfTestsScript.do_run">
<span class="sig-name descname"><span class="pre">do_run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/selftest.html#RunSelfTestsScript.do_run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.selftest.RunSelfTestsScript.do_run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.selftest.RunSelfTestsScript.process_result">
<span class="sig-name descname"><span class="pre">process_result</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">result</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/selftest.html#RunSelfTestsScript.process_result"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.selftest.RunSelfTestsScript.process_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Process a single TestResult object.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.selftest.RunSelfTestsScript.test_collection">
<span class="sig-name descname"><span class="pre">test_collection</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_map</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">extra_args</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/selftest.html#RunSelfTestsScript.test_collection"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.selftest.RunSelfTestsScript.test_collection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-api.shared_collection">
<span id="api-shared-collection-module"></span><h2>api.shared_collection module<a class="headerlink" href="#module-api.shared_collection" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.shared_collection.BaseSharedCollectionAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.shared_collection.</span></span><span class="sig-name descname"><span class="pre">BaseSharedCollectionAPI</span></span><a class="reference internal" href="_modules/api/shared_collection.html#BaseSharedCollectionAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.shared_collection.BaseSharedCollectionAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>APIs that permit external circulation managers to access their collections
should extend this class.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.shared_collection.BaseSharedCollectionAPI.EXTERNAL_LIBRARY_URLS">
<span class="sig-name descname"><span class="pre">EXTERNAL_LIBRARY_URLS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'external_library_urls'</span></em><a class="headerlink" href="#api.shared_collection.BaseSharedCollectionAPI.EXTERNAL_LIBRARY_URLS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.shared_collection.BaseSharedCollectionAPI.SETTINGS">
<span class="sig-name descname"><span class="pre">SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'external_library_urls',</span> <span class="pre">'label':</span> <span class="pre">l'URLs</span> <span class="pre">for</span> <span class="pre">libraries</span> <span class="pre">on</span> <span class="pre">other</span> <span class="pre">circulation</span> <span class="pre">managers</span> <span class="pre">that</span> <span class="pre">use</span> <span class="pre">this</span> <span class="pre">collection',</span> <span class="pre">'description':</span> <span class="pre">l'A</span> <span class="pre">URL</span> <span class="pre">should</span> <span class="pre">include</span> <span class="pre">the</span> <span class="pre">library's</span> <span class="pre">short</span> <span class="pre">name</span> <span class="pre">(e.g.</span> <span class="pre">https://circulation.librarysimplified.org/NYNYPL/),</span> <span class="pre">even</span> <span class="pre">if</span> <span class="pre">it</span> <span class="pre">is</span> <span class="pre">the</span> <span class="pre">only</span> <span class="pre">library</span> <span class="pre">on</span> <span class="pre">the</span> <span class="pre">circulation</span> <span class="pre">manager.',</span> <span class="pre">'type':</span> <span class="pre">'list',</span> <span class="pre">'format':</span> <span class="pre">'url'},</span> <span class="pre">{'key':</span> <span class="pre">'ebook_loan_duration',</span> <span class="pre">'label':</span> <span class="pre">l'Ebook</span> <span class="pre">Loan</span> <span class="pre">Duration</span> <span class="pre">for</span> <span class="pre">libraries</span> <span class="pre">on</span> <span class="pre">other</span> <span class="pre">circulation</span> <span class="pre">managers</span> <span class="pre">(in</span> <span class="pre">Days)',</span> <span class="pre">'default':</span> <span class="pre">21,</span> <span class="pre">'description':</span> <span class="pre">l'When</span> <span class="pre">a</span> <span class="pre">patron</span> <span class="pre">from</span> <span class="pre">another</span> <span class="pre">library</span> <span class="pre">borrows</span> <span class="pre">an</span> <span class="pre">ebook</span> <span class="pre">from</span> <span class="pre">this</span> <span class="pre">collection,</span> <span class="pre">the</span> <span class="pre">circulation</span> <span class="pre">manager</span> <span class="pre">will</span> <span class="pre">ask</span> <span class="pre">for</span> <span class="pre">a</span> <span class="pre">loan</span> <span class="pre">that</span> <span class="pre">lasts</span> <span class="pre">this</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">days.</span> <span class="pre">This</span> <span class="pre">must</span> <span class="pre">be</span> <span class="pre">equal</span> <span class="pre">to</span> <span class="pre">or</span> <span class="pre">less</span> <span class="pre">than</span> <span class="pre">the</span> <span class="pre">maximum</span> <span class="pre">loan</span> <span class="pre">duration</span> <span class="pre">negotiated</span> <span class="pre">with</span> <span class="pre">the</span> <span class="pre">distributor.',</span> <span class="pre">'type':</span> <span class="pre">'number'}]</span></em><a class="headerlink" href="#api.shared_collection.BaseSharedCollectionAPI.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.shared_collection.BaseSharedCollectionAPI.checkin_from_external_library">
<span class="sig-name descname"><span class="pre">checkin_from_external_library</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loan</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/shared_collection.html#BaseSharedCollectionAPI.checkin_from_external_library"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.shared_collection.BaseSharedCollectionAPI.checkin_from_external_library" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.shared_collection.BaseSharedCollectionAPI.checkout_to_external_library">
<span class="sig-name descname"><span class="pre">checkout_to_external_library</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/shared_collection.html#BaseSharedCollectionAPI.checkout_to_external_library"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.shared_collection.BaseSharedCollectionAPI.checkout_to_external_library" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.shared_collection.BaseSharedCollectionAPI.fulfill_for_external_library">
<span class="sig-name descname"><span class="pre">fulfill_for_external_library</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mechanism</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/shared_collection.html#BaseSharedCollectionAPI.fulfill_for_external_library"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.shared_collection.BaseSharedCollectionAPI.fulfill_for_external_library" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.shared_collection.BaseSharedCollectionAPI.release_hold_from_external_library">
<span class="sig-name descname"><span class="pre">release_hold_from_external_library</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hold</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/shared_collection.html#BaseSharedCollectionAPI.release_hold_from_external_library"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.shared_collection.BaseSharedCollectionAPI.release_hold_from_external_library" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.shared_collection.SharedCollectionAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.shared_collection.</span></span><span class="sig-name descname"><span class="pre">SharedCollectionAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">_db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">api_map</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/shared_collection.html#SharedCollectionAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.shared_collection.SharedCollectionAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Logic for circulating books to patrons of libraries on other
circulation managers. This can be used for something like ODL where the
circulation manager is responsible for managing loans and holds rather
than the distributor, or potentially for inter-library loans for other
collection types.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.shared_collection.SharedCollectionAPI.api">
<span class="sig-name descname"><span class="pre">api</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/shared_collection.html#SharedCollectionAPI.api"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.shared_collection.SharedCollectionAPI.api" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the API to use for the given collection, and raise an exception
if there isn’t one.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.shared_collection.SharedCollectionAPI.api_for_licensepool">
<span class="sig-name descname"><span class="pre">api_for_licensepool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">pool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/shared_collection.html#SharedCollectionAPI.api_for_licensepool"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.shared_collection.SharedCollectionAPI.api_for_licensepool" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the API to use for the given license pool.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.shared_collection.SharedCollectionAPI.borrow">
<span class="sig-name descname"><span class="pre">borrow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/shared_collection.html#SharedCollectionAPI.borrow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.shared_collection.SharedCollectionAPI.borrow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.shared_collection.SharedCollectionAPI.check_client_authorization">
<span class="sig-name descname"><span class="pre">check_client_authorization</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/shared_collection.html#SharedCollectionAPI.check_client_authorization"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.shared_collection.SharedCollectionAPI.check_client_authorization" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify that an IntegrationClient is whitelisted for access to the collection.</p>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.shared_collection.SharedCollectionAPI.default_api_map">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">default_api_map</span></span><a class="headerlink" href="#api.shared_collection.SharedCollectionAPI.default_api_map" title="Permalink to this definition">¶</a></dt>
<dd><p>When you see a Collection that implements protocol X, instantiate
API class Y to handle that collection.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.shared_collection.SharedCollectionAPI.fulfill">
<span class="sig-name descname"><span class="pre">fulfill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mechanism</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/shared_collection.html#SharedCollectionAPI.fulfill"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.shared_collection.SharedCollectionAPI.fulfill" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.shared_collection.SharedCollectionAPI.register">
<span class="sig-name descname"><span class="pre">register</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">auth_document_url</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">do_get=&lt;bound</span> <span class="pre">method</span> <span class="pre">HTTP.get_with_timeout</span> <span class="pre">of</span> <span class="pre">&lt;class</span> <span class="pre">'core.util.http.HTTP'&gt;&gt;</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/shared_collection.html#SharedCollectionAPI.register"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.shared_collection.SharedCollectionAPI.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a library on an external circulation manager for access to this
collection. The library’s auth document url must be whitelisted in the
collection’s settings.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.shared_collection.SharedCollectionAPI.revoke_hold">
<span class="sig-name descname"><span class="pre">revoke_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hold</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/shared_collection.html#SharedCollectionAPI.revoke_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.shared_collection.SharedCollectionAPI.revoke_hold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.shared_collection.SharedCollectionAPI.revoke_loan">
<span class="sig-name descname"><span class="pre">revoke_loan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loan</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/shared_collection.html#SharedCollectionAPI.revoke_loan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.shared_collection.SharedCollectionAPI.revoke_loan" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-api.simple_authentication">
<span id="api-simple-authentication-module"></span><h2>api.simple_authentication module<a class="headerlink" href="#module-api.simple_authentication" title="Permalink to this heading">¶</a></h2>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.simple_authentication.AuthenticationProvider">
<span class="sig-prename descclassname"><span class="pre">api.simple_authentication.</span></span><span class="sig-name descname"><span class="pre">AuthenticationProvider</span></span><a class="headerlink" href="#api.simple_authentication.AuthenticationProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#api.simple_authentication.SimpleAuthenticationProvider" title="api.simple_authentication.SimpleAuthenticationProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">SimpleAuthenticationProvider</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.simple_authentication.SimpleAuthenticationProvider">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.simple_authentication.</span></span><span class="sig-name descname"><span class="pre">SimpleAuthenticationProvider</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">integration</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analytics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/simple_authentication.html#SimpleAuthenticationProvider"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.simple_authentication.SimpleAuthenticationProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.authenticator.BasicAuthenticationProvider" title="api.authenticator.BasicAuthenticationProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">BasicAuthenticationProvider</span></code></a></p>
<p>An authentication provider that authenticates a single patron.</p>
<p>This serves only one purpose: to set up a working circulation
manager before connecting it to an ILS.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.simple_authentication.SimpleAuthenticationProvider.ADDITIONAL_TEST_IDENTIFIERS">
<span class="sig-name descname"><span class="pre">ADDITIONAL_TEST_IDENTIFIERS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'additional_test_identifiers'</span></em><a class="headerlink" href="#api.simple_authentication.SimpleAuthenticationProvider.ADDITIONAL_TEST_IDENTIFIERS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.simple_authentication.SimpleAuthenticationProvider.DESCRIPTION">
<span class="sig-name descname"><span class="pre">DESCRIPTION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">An</span> <span class="pre">internal</span> <span class="pre">authentication</span> <span class="pre">service</span> <span class="pre">that</span> <span class="pre">authenticates</span> <span class="pre">a</span> <span class="pre">single</span> <span class="pre">patron.</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">This</span> <span class="pre">is</span> <span class="pre">useful</span> <span class="pre">for</span> <span class="pre">testing</span> <span class="pre">a</span> <span class="pre">circulation</span> <span class="pre">manager</span> <span class="pre">before</span> <span class="pre">connecting</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">it</span> <span class="pre">to</span> <span class="pre">an</span> <span class="pre">ILS.'</span></em><a class="headerlink" href="#api.simple_authentication.SimpleAuthenticationProvider.DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.simple_authentication.SimpleAuthenticationProvider.NAME">
<span class="sig-name descname"><span class="pre">NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'Simple</span> <span class="pre">Authentication</span> <span class="pre">Provider'</span></em><a class="headerlink" href="#api.simple_authentication.SimpleAuthenticationProvider.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.simple_authentication.SimpleAuthenticationProvider.SETTINGS">
<span class="sig-name descname"><span class="pre">SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'test_identifier',</span> <span class="pre">'label':</span> <span class="pre">l'Test</span> <span class="pre">Identifier',</span> <span class="pre">'description':</span> <span class="pre">l'A</span> <span class="pre">valid</span> <span class="pre">identifier</span> <span class="pre">that</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">used</span> <span class="pre">to</span> <span class="pre">test</span> <span class="pre">that</span> <span class="pre">patron</span> <span class="pre">authentication</span> <span class="pre">is</span> <span class="pre">working.',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'test_password',</span> <span class="pre">'label':</span> <span class="pre">l'Test</span> <span class="pre">Password',</span> <span class="pre">'description':</span> <span class="pre">l'The</span> <span class="pre">password</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">Test</span> <span class="pre">Identifier.',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_barcode_format',</span> <span class="pre">'label':</span> <span class="pre">l'Patron</span> <span class="pre">identifier</span> <span class="pre">barcode</span> <span class="pre">format',</span> <span class="pre">'description':</span> <span class="pre">l'Many</span> <span class="pre">libraries</span> <span class="pre">render</span> <span class="pre">patron</span> <span class="pre">identifiers</span> <span class="pre">as</span> <span class="pre">barcodes</span> <span class="pre">on</span> <span class="pre">physical</span> <span class="pre">library</span> <span class="pre">cards.</span> <span class="pre">If</span> <span class="pre">you</span> <span class="pre">specify</span> <span class="pre">the</span> <span class="pre">barcode</span> <span class="pre">format,</span> <span class="pre">patrons</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">able</span> <span class="pre">to</span> <span class="pre">scan</span> <span class="pre">their</span> <span class="pre">library</span> <span class="pre">cards</span> <span class="pre">with</span> <span class="pre">a</span> <span class="pre">camera</span> <span class="pre">instead</span> <span class="pre">of</span> <span class="pre">manually</span> <span class="pre">typing</span> <span class="pre">in</span> <span class="pre">their</span> <span class="pre">identifiers.',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'Codabar',</span> <span class="pre">'label':</span> <span class="pre">l'Patron</span> <span class="pre">identifiers</span> <span class="pre">are</span> <span class="pre">are</span> <span class="pre">rendered</span> <span class="pre">as</span> <span class="pre">barcodes</span> <span class="pre">in</span> <span class="pre">Codabar</span> <span class="pre">format'},</span> <span class="pre">{'key':</span> <span class="pre">'',</span> <span class="pre">'label':</span> <span class="pre">l'Patron</span> <span class="pre">identifiers</span> <span class="pre">are</span> <span class="pre">not</span> <span class="pre">rendered</span> <span class="pre">as</span> <span class="pre">barcodes'}],</span> <span class="pre">'default':</span> <span class="pre">'',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_regular_expression',</span> <span class="pre">'label':</span> <span class="pre">l'Identifier</span> <span class="pre">Regular</span> <span class="pre">Expression',</span> <span class="pre">'description':</span> <span class="pre">l'A</span> <span class="pre">patron's</span> <span class="pre">identifier</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">immediately</span> <span class="pre">rejected</span> <span class="pre">if</span> <span class="pre">it</span> <span class="pre">doesn't</span> <span class="pre">match</span> <span class="pre">this</span> <span class="pre">regular</span> <span class="pre">expression.'},</span> <span class="pre">{'key':</span> <span class="pre">'password_regular_expression',</span> <span class="pre">'label':</span> <span class="pre">l'Password</span> <span class="pre">Regular</span> <span class="pre">Expression',</span> <span class="pre">'description':</span> <span class="pre">l'A</span> <span class="pre">patron's</span> <span class="pre">password</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">immediately</span> <span class="pre">rejected</span> <span class="pre">if</span> <span class="pre">it</span> <span class="pre">doesn't</span> <span class="pre">match</span> <span class="pre">this</span> <span class="pre">regular</span> <span class="pre">expression.'},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_keyboard',</span> <span class="pre">'label':</span> <span class="pre">l'Keyboard</span> <span class="pre">for</span> <span class="pre">identifier</span> <span class="pre">entry',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'Default',</span> <span class="pre">'label':</span> <span class="pre">l'System</span> <span class="pre">default'},</span> <span class="pre">{'key':</span> <span class="pre">'Email</span> <span class="pre">address',</span> <span class="pre">'label':</span> <span class="pre">l'Email</span> <span class="pre">address</span> <span class="pre">entry'},</span> <span class="pre">{'key':</span> <span class="pre">'Number</span> <span class="pre">pad',</span> <span class="pre">'label':</span> <span class="pre">l'Number</span> <span class="pre">pad'}],</span> <span class="pre">'default':</span> <span class="pre">'Default',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'password_keyboard',</span> <span class="pre">'label':</span> <span class="pre">l'Keyboard</span> <span class="pre">for</span> <span class="pre">password</span> <span class="pre">entry',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'Default',</span> <span class="pre">'label':</span> <span class="pre">l'System</span> <span class="pre">default'},</span> <span class="pre">{'key':</span> <span class="pre">'Number</span> <span class="pre">pad',</span> <span class="pre">'label':</span> <span class="pre">l'Number</span> <span class="pre">pad'},</span> <span class="pre">{'key':</span> <span class="pre">'No</span> <span class="pre">input',</span> <span class="pre">'label':</span> <span class="pre">l'Patrons</span> <span class="pre">have</span> <span class="pre">no</span> <span class="pre">password</span> <span class="pre">and</span> <span class="pre">should</span> <span class="pre">not</span> <span class="pre">be</span> <span class="pre">prompted</span> <span class="pre">for</span> <span class="pre">one.'}],</span> <span class="pre">'default':</span> <span class="pre">'Default'},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_maximum_length',</span> <span class="pre">'label':</span> <span class="pre">l'Maximum</span> <span class="pre">identifier</span> <span class="pre">length',</span> <span class="pre">'type':</span> <span class="pre">'number'},</span> <span class="pre">{'key':</span> <span class="pre">'password_maximum_length',</span> <span class="pre">'label':</span> <span class="pre">l'Maximum</span> <span class="pre">password</span> <span class="pre">length',</span> <span class="pre">'type':</span> <span class="pre">'number'},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_label',</span> <span class="pre">'label':</span> <span class="pre">l'Label</span> <span class="pre">for</span> <span class="pre">identifier</span> <span class="pre">entry'},</span> <span class="pre">{'key':</span> <span class="pre">'password_label',</span> <span class="pre">'label':</span> <span class="pre">l'Label</span> <span class="pre">for</span> <span class="pre">password</span> <span class="pre">entry'},</span> <span class="pre">{'key':</span> <span class="pre">'additional_test_identifiers',</span> <span class="pre">'label':</span> <span class="pre">l'Additional</span> <span class="pre">test</span> <span class="pre">identifiers',</span> <span class="pre">'type':</span> <span class="pre">'list',</span> <span class="pre">'description':</span> <span class="pre">l'Identifiers</span> <span class="pre">for</span> <span class="pre">additional</span> <span class="pre">patrons</span> <span class="pre">to</span> <span class="pre">use</span> <span class="pre">in</span> <span class="pre">testing.</span> <span class="pre">The</span> <span class="pre">identifiers</span> <span class="pre">will</span> <span class="pre">all</span> <span class="pre">use</span> <span class="pre">the</span> <span class="pre">same</span> <span class="pre">test</span> <span class="pre">password</span> <span class="pre">as</span> <span class="pre">the</span> <span class="pre">first</span> <span class="pre">identifier.'},</span> <span class="pre">{'key':</span> <span class="pre">'neighborhood',</span> <span class="pre">'label':</span> <span class="pre">l'Test</span> <span class="pre">neighborhood',</span> <span class="pre">'description':</span> <span class="pre">l'For</span> <span class="pre">analytics</span> <span class="pre">purposes,</span> <span class="pre">all</span> <span class="pre">patrons</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">'from'</span> <span class="pre">this</span> <span class="pre">neighborhood.'}]</span></em><a class="headerlink" href="#api.simple_authentication.SimpleAuthenticationProvider.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.simple_authentication.SimpleAuthenticationProvider.TEST_NEIGHBORHOOD">
<span class="sig-name descname"><span class="pre">TEST_NEIGHBORHOOD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'neighborhood'</span></em><a class="headerlink" href="#api.simple_authentication.SimpleAuthenticationProvider.TEST_NEIGHBORHOOD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.simple_authentication.SimpleAuthenticationProvider.basic_settings">
<span class="sig-name descname"><span class="pre">basic_settings</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'test_identifier',</span> <span class="pre">'label':</span> <span class="pre">l'Test</span> <span class="pre">Identifier',</span> <span class="pre">'description':</span> <span class="pre">l'A</span> <span class="pre">valid</span> <span class="pre">identifier</span> <span class="pre">that</span> <span class="pre">can</span> <span class="pre">be</span> <span class="pre">used</span> <span class="pre">to</span> <span class="pre">test</span> <span class="pre">that</span> <span class="pre">patron</span> <span class="pre">authentication</span> <span class="pre">is</span> <span class="pre">working.',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'test_password',</span> <span class="pre">'label':</span> <span class="pre">l'Test</span> <span class="pre">Password',</span> <span class="pre">'description':</span> <span class="pre">l'The</span> <span class="pre">password</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">Test</span> <span class="pre">Identifier.',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_barcode_format',</span> <span class="pre">'label':</span> <span class="pre">l'Patron</span> <span class="pre">identifier</span> <span class="pre">barcode</span> <span class="pre">format',</span> <span class="pre">'description':</span> <span class="pre">l'Many</span> <span class="pre">libraries</span> <span class="pre">render</span> <span class="pre">patron</span> <span class="pre">identifiers</span> <span class="pre">as</span> <span class="pre">barcodes</span> <span class="pre">on</span> <span class="pre">physical</span> <span class="pre">library</span> <span class="pre">cards.</span> <span class="pre">If</span> <span class="pre">you</span> <span class="pre">specify</span> <span class="pre">the</span> <span class="pre">barcode</span> <span class="pre">format,</span> <span class="pre">patrons</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">able</span> <span class="pre">to</span> <span class="pre">scan</span> <span class="pre">their</span> <span class="pre">library</span> <span class="pre">cards</span> <span class="pre">with</span> <span class="pre">a</span> <span class="pre">camera</span> <span class="pre">instead</span> <span class="pre">of</span> <span class="pre">manually</span> <span class="pre">typing</span> <span class="pre">in</span> <span class="pre">their</span> <span class="pre">identifiers.',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'Codabar',</span> <span class="pre">'label':</span> <span class="pre">l'Patron</span> <span class="pre">identifiers</span> <span class="pre">are</span> <span class="pre">are</span> <span class="pre">rendered</span> <span class="pre">as</span> <span class="pre">barcodes</span> <span class="pre">in</span> <span class="pre">Codabar</span> <span class="pre">format'},</span> <span class="pre">{'key':</span> <span class="pre">'',</span> <span class="pre">'label':</span> <span class="pre">l'Patron</span> <span class="pre">identifiers</span> <span class="pre">are</span> <span class="pre">not</span> <span class="pre">rendered</span> <span class="pre">as</span> <span class="pre">barcodes'}],</span> <span class="pre">'default':</span> <span class="pre">'',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_regular_expression',</span> <span class="pre">'label':</span> <span class="pre">l'Identifier</span> <span class="pre">Regular</span> <span class="pre">Expression',</span> <span class="pre">'description':</span> <span class="pre">l'A</span> <span class="pre">patron's</span> <span class="pre">identifier</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">immediately</span> <span class="pre">rejected</span> <span class="pre">if</span> <span class="pre">it</span> <span class="pre">doesn't</span> <span class="pre">match</span> <span class="pre">this</span> <span class="pre">regular</span> <span class="pre">expression.'},</span> <span class="pre">{'key':</span> <span class="pre">'password_regular_expression',</span> <span class="pre">'label':</span> <span class="pre">l'Password</span> <span class="pre">Regular</span> <span class="pre">Expression',</span> <span class="pre">'description':</span> <span class="pre">l'A</span> <span class="pre">patron's</span> <span class="pre">password</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">immediately</span> <span class="pre">rejected</span> <span class="pre">if</span> <span class="pre">it</span> <span class="pre">doesn't</span> <span class="pre">match</span> <span class="pre">this</span> <span class="pre">regular</span> <span class="pre">expression.'},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_keyboard',</span> <span class="pre">'label':</span> <span class="pre">l'Keyboard</span> <span class="pre">for</span> <span class="pre">identifier</span> <span class="pre">entry',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'Default',</span> <span class="pre">'label':</span> <span class="pre">l'System</span> <span class="pre">default'},</span> <span class="pre">{'key':</span> <span class="pre">'Email</span> <span class="pre">address',</span> <span class="pre">'label':</span> <span class="pre">l'Email</span> <span class="pre">address</span> <span class="pre">entry'},</span> <span class="pre">{'key':</span> <span class="pre">'Number</span> <span class="pre">pad',</span> <span class="pre">'label':</span> <span class="pre">l'Number</span> <span class="pre">pad'}],</span> <span class="pre">'default':</span> <span class="pre">'Default',</span> <span class="pre">'required':</span> <span class="pre">True},</span> <span class="pre">{'key':</span> <span class="pre">'password_keyboard',</span> <span class="pre">'label':</span> <span class="pre">l'Keyboard</span> <span class="pre">for</span> <span class="pre">password</span> <span class="pre">entry',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'Default',</span> <span class="pre">'label':</span> <span class="pre">l'System</span> <span class="pre">default'},</span> <span class="pre">{'key':</span> <span class="pre">'Number</span> <span class="pre">pad',</span> <span class="pre">'label':</span> <span class="pre">l'Number</span> <span class="pre">pad'},</span> <span class="pre">{'key':</span> <span class="pre">'No</span> <span class="pre">input',</span> <span class="pre">'label':</span> <span class="pre">l'Patrons</span> <span class="pre">have</span> <span class="pre">no</span> <span class="pre">password</span> <span class="pre">and</span> <span class="pre">should</span> <span class="pre">not</span> <span class="pre">be</span> <span class="pre">prompted</span> <span class="pre">for</span> <span class="pre">one.'}],</span> <span class="pre">'default':</span> <span class="pre">'Default'},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_maximum_length',</span> <span class="pre">'label':</span> <span class="pre">l'Maximum</span> <span class="pre">identifier</span> <span class="pre">length',</span> <span class="pre">'type':</span> <span class="pre">'number'},</span> <span class="pre">{'key':</span> <span class="pre">'password_maximum_length',</span> <span class="pre">'label':</span> <span class="pre">l'Maximum</span> <span class="pre">password</span> <span class="pre">length',</span> <span class="pre">'type':</span> <span class="pre">'number'},</span> <span class="pre">{'key':</span> <span class="pre">'identifier_label',</span> <span class="pre">'label':</span> <span class="pre">l'Label</span> <span class="pre">for</span> <span class="pre">identifier</span> <span class="pre">entry'},</span> <span class="pre">{'key':</span> <span class="pre">'password_label',</span> <span class="pre">'label':</span> <span class="pre">l'Label</span> <span class="pre">for</span> <span class="pre">password</span> <span class="pre">entry'}]</span></em><a class="headerlink" href="#api.simple_authentication.SimpleAuthenticationProvider.basic_settings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.simple_authentication.SimpleAuthenticationProvider.generate_patrondata">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">generate_patrondata</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">authorization_identifier</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">neighborhood</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/simple_authentication.html#SimpleAuthenticationProvider.generate_patrondata"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.simple_authentication.SimpleAuthenticationProvider.generate_patrondata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.simple_authentication.SimpleAuthenticationProvider.i">
<span class="sig-name descname"><span class="pre">i</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">10</span></em><a class="headerlink" href="#api.simple_authentication.SimpleAuthenticationProvider.i" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.simple_authentication.SimpleAuthenticationProvider.remote_authenticate">
<span class="sig-name descname"><span class="pre">remote_authenticate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">username</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/simple_authentication.html#SimpleAuthenticationProvider.remote_authenticate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.simple_authentication.SimpleAuthenticationProvider.remote_authenticate" title="Permalink to this definition">¶</a></dt>
<dd><p>Fake ‘remote’ authentication.</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.simple_authentication.SimpleAuthenticationProvider.s">
<span class="sig-name descname"><span class="pre">s</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'description':</span> <span class="pre">l'The</span> <span class="pre">password</span> <span class="pre">for</span> <span class="pre">the</span> <span class="pre">Test</span> <span class="pre">Identifier.',</span> <span class="pre">'key':</span> <span class="pre">'test_password',</span> <span class="pre">'label':</span> <span class="pre">l'Test</span> <span class="pre">Password',</span> <span class="pre">'required':</span> <span class="pre">True}</span></em><a class="headerlink" href="#api.simple_authentication.SimpleAuthenticationProvider.s" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.simple_authentication.SimpleAuthenticationProvider.setting">
<span class="sig-name descname"><span class="pre">setting</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'key':</span> <span class="pre">'password_label',</span> <span class="pre">'label':</span> <span class="pre">l'Label</span> <span class="pre">for</span> <span class="pre">password</span> <span class="pre">entry'}</span></em><a class="headerlink" href="#api.simple_authentication.SimpleAuthenticationProvider.setting" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.simple_authentication.SimpleAuthenticationProvider.valid_patron">
<span class="sig-name descname"><span class="pre">valid_patron</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">username</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">password</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/simple_authentication.html#SimpleAuthenticationProvider.valid_patron"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.simple_authentication.SimpleAuthenticationProvider.valid_patron" title="Permalink to this definition">¶</a></dt>
<dd><p>Is this patron associated with the given password in
the given dictionary?</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-api.testing">
<span id="api-testing-module"></span><h2>api.testing module<a class="headerlink" href="#module-api.testing" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.testing.AnnouncementTest">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.testing.</span></span><span class="sig-name descname"><span class="pre">AnnouncementTest</span></span><a class="reference internal" href="_modules/api/testing.html#AnnouncementTest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.AnnouncementTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A test that needs to create announcements.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.testing.AnnouncementTest.a_week_ago">
<span class="sig-name descname"><span class="pre">a_week_ago</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'2023-05-11'</span></em><a class="headerlink" href="#api.testing.AnnouncementTest.a_week_ago" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.testing.AnnouncementTest.active">
<span class="sig-name descname"><span class="pre">active</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'content':</span> <span class="pre">'A</span> <span class="pre">sample</span> <span class="pre">announcement.',</span> <span class="pre">'finish':</span> <span class="pre">'2023-05-19',</span> <span class="pre">'id':</span> <span class="pre">'active',</span> <span class="pre">'start':</span> <span class="pre">'2023-05-18'}</span></em><a class="headerlink" href="#api.testing.AnnouncementTest.active" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.testing.AnnouncementTest.expired">
<span class="sig-name descname"><span class="pre">expired</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'content':</span> <span class="pre">'A</span> <span class="pre">sample</span> <span class="pre">announcement.',</span> <span class="pre">'finish':</span> <span class="pre">'2023-05-17',</span> <span class="pre">'id':</span> <span class="pre">'expired',</span> <span class="pre">'start':</span> <span class="pre">'2023-05-11'}</span></em><a class="headerlink" href="#api.testing.AnnouncementTest.expired" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.testing.AnnouncementTest.format">
<span class="sig-name descname"><span class="pre">format</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'%Y-%m-%d'</span></em><a class="headerlink" href="#api.testing.AnnouncementTest.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.testing.AnnouncementTest.forthcoming">
<span class="sig-name descname"><span class="pre">forthcoming</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">{'content':</span> <span class="pre">'A</span> <span class="pre">sample</span> <span class="pre">announcement.',</span> <span class="pre">'finish':</span> <span class="pre">'2023-05-25',</span> <span class="pre">'id':</span> <span class="pre">'forthcoming',</span> <span class="pre">'start':</span> <span class="pre">'2023-05-19'}</span></em><a class="headerlink" href="#api.testing.AnnouncementTest.forthcoming" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.testing.AnnouncementTest.in_a_week">
<span class="sig-name descname"><span class="pre">in_a_week</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'2023-05-25'</span></em><a class="headerlink" href="#api.testing.AnnouncementTest.in_a_week" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.testing.AnnouncementTest.today">
<span class="sig-name descname"><span class="pre">today</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'2023-05-18'</span></em><a class="headerlink" href="#api.testing.AnnouncementTest.today" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.testing.AnnouncementTest.tomorrow">
<span class="sig-name descname"><span class="pre">tomorrow</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'2023-05-19'</span></em><a class="headerlink" href="#api.testing.AnnouncementTest.tomorrow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.testing.AnnouncementTest.yesterday">
<span class="sig-name descname"><span class="pre">yesterday</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'2023-05-17'</span></em><a class="headerlink" href="#api.testing.AnnouncementTest.yesterday" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.testing.MockCirculationAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.testing.</span></span><span class="sig-name descname"><span class="pre">MockCirculationAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockCirculationAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockCirculationAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation.CirculationAPI" title="api.circulation.CirculationAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">CirculationAPI</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.testing.MockCirculationAPI.add_remote_hold">
<span class="sig-name descname"><span class="pre">add_remote_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockCirculationAPI.add_remote_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockCirculationAPI.add_remote_hold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.testing.MockCirculationAPI.add_remote_loan">
<span class="sig-name descname"><span class="pre">add_remote_loan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockCirculationAPI.add_remote_loan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockCirculationAPI.add_remote_loan" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.testing.MockCirculationAPI.api_for_license_pool">
<span class="sig-name descname"><span class="pre">api_for_license_pool</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockCirculationAPI.api_for_license_pool"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockCirculationAPI.api_for_license_pool" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the API to use for the given license pool.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.testing.MockCirculationAPI.local_holds">
<span class="sig-name descname"><span class="pre">local_holds</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockCirculationAPI.local_holds"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockCirculationAPI.local_holds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.testing.MockCirculationAPI.local_loans">
<span class="sig-name descname"><span class="pre">local_loans</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockCirculationAPI.local_loans"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockCirculationAPI.local_loans" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.testing.MockCirculationAPI.patron_activity">
<span class="sig-name descname"><span class="pre">patron_activity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockCirculationAPI.patron_activity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockCirculationAPI.patron_activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a 3-tuple (loans, holds, completeness).</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.testing.MockCirculationAPI.queue_checkin">
<span class="sig-name descname"><span class="pre">queue_checkin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockCirculationAPI.queue_checkin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockCirculationAPI.queue_checkin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.testing.MockCirculationAPI.queue_checkout">
<span class="sig-name descname"><span class="pre">queue_checkout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockCirculationAPI.queue_checkout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockCirculationAPI.queue_checkout" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.testing.MockCirculationAPI.queue_fulfill">
<span class="sig-name descname"><span class="pre">queue_fulfill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockCirculationAPI.queue_fulfill"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockCirculationAPI.queue_fulfill" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.testing.MockCirculationAPI.queue_hold">
<span class="sig-name descname"><span class="pre">queue_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockCirculationAPI.queue_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockCirculationAPI.queue_hold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.testing.MockCirculationAPI.queue_release_hold">
<span class="sig-name descname"><span class="pre">queue_release_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockCirculationAPI.queue_release_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockCirculationAPI.queue_release_hold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.testing.MockRemoteAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.testing.</span></span><span class="sig-name descname"><span class="pre">MockRemoteAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">set_delivery_mechanism_at</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">can_revoke_hold_when_reserved</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockRemoteAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockRemoteAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation.BaseCirculationAPI" title="api.circulation.BaseCirculationAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseCirculationAPI</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.testing.MockRemoteAPI.checkin">
<span class="sig-name descname"><span class="pre">checkin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockRemoteAPI.checkin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockRemoteAPI.checkin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a book early.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patron</strong> – a Patron object for the patron who wants to check out the book.</p></li>
<li><p><strong>pin</strong> – The patron’s alleged password.</p></li>
<li><p><strong>licensepool</strong> – Contains lending info as well as link to parent Identifier.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.testing.MockRemoteAPI.checkout">
<span class="sig-name descname"><span class="pre">checkout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron_obj</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patron_password</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">delivery_mechanism</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockRemoteAPI.checkout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockRemoteAPI.checkout" title="Permalink to this definition">¶</a></dt>
<dd><p>Check out a book on behalf of a patron.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patron</strong> – a Patron object for the patron who wants to check out the book.</p></li>
<li><p><strong>pin</strong> – The patron’s alleged password.</p></li>
<li><p><strong>licensepool</strong> – Contains lending info as well as link to parent Identifier.</p></li>
<li><p><strong>internal_format</strong> – Represents the patron’s desired book format.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a LoanInfo object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.testing.MockRemoteAPI.fulfill">
<span class="sig-name descname"><span class="pre">fulfill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">part</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fulfill_part_url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockRemoteAPI.fulfill"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockRemoteAPI.fulfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the actual resource file to the patron.</p>
<p>Implementations are encouraged to define <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code> as a container
for vendor-specific arguments, so that they don’t have to change
as new arguments are added.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>internal_format</strong> – A vendor-specific name indicating
the format requested by the patron.</p></li>
<li><p><strong>part</strong> – A vendor-specific identifier indicating that the
patron wants to fulfill one specific part of the book
(e.g. one chapter of an audiobook), not the whole thing.</p></li>
<li><p><strong>fulfill_part_url</strong> – A function that takes one argument (a
vendor-specific part identifier) and returns the URL to use
when fulfilling that part.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>a FulfillmentInfo object.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.testing.MockRemoteAPI.internal_format">
<span class="sig-name descname"><span class="pre">internal_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delivery_mechanism</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockRemoteAPI.internal_format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockRemoteAPI.internal_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up the internal format for this delivery mechanism or
raise an exception.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>delivery_mechanism</strong> – A LicensePoolDeliveryMechanism</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.testing.MockRemoteAPI.place_hold">
<span class="sig-name descname"><span class="pre">place_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hold_notification_email</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockRemoteAPI.place_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockRemoteAPI.place_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Place a book on hold.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A HoldInfo object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.testing.MockRemoteAPI.queue_checkin">
<span class="sig-name descname"><span class="pre">queue_checkin</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockRemoteAPI.queue_checkin"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockRemoteAPI.queue_checkin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.testing.MockRemoteAPI.queue_checkout">
<span class="sig-name descname"><span class="pre">queue_checkout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockRemoteAPI.queue_checkout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockRemoteAPI.queue_checkout" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.testing.MockRemoteAPI.queue_fulfill">
<span class="sig-name descname"><span class="pre">queue_fulfill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockRemoteAPI.queue_fulfill"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockRemoteAPI.queue_fulfill" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.testing.MockRemoteAPI.queue_hold">
<span class="sig-name descname"><span class="pre">queue_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockRemoteAPI.queue_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockRemoteAPI.queue_hold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.testing.MockRemoteAPI.queue_release_hold">
<span class="sig-name descname"><span class="pre">queue_release_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockRemoteAPI.queue_release_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockRemoteAPI.queue_release_hold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.testing.MockRemoteAPI.release_hold">
<span class="sig-name descname"><span class="pre">release_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockRemoteAPI.release_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockRemoteAPI.release_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Release a patron’s hold on a book.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#api.circulation_exceptions.CannotReleaseHold" title="api.circulation_exceptions.CannotReleaseHold"><strong>CannotReleaseHold</strong></a> – If there is an error communicating
with the provider, or the provider refuses to release the hold for
any reason.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.testing.MockRemoteAPI.update_availability">
<span class="sig-name descname"><span class="pre">update_availability</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockRemoteAPI.update_availability"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockRemoteAPI.update_availability" title="Permalink to this definition">¶</a></dt>
<dd><p>Simply record the fact that update_availability was called.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.testing.MockRemoteAPI.update_loan">
<span class="sig-name descname"><span class="pre">update_loan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">loan</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">status_doc</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockRemoteAPI.update_loan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockRemoteAPI.update_loan" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.testing.MockSharedCollectionAPI">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.testing.</span></span><span class="sig-name descname"><span class="pre">MockSharedCollectionAPI</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockSharedCollectionAPI"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockSharedCollectionAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.shared_collection.SharedCollectionAPI" title="api.shared_collection.SharedCollectionAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">SharedCollectionAPI</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="api.testing.MockSharedCollectionAPI.borrow">
<span class="sig-name descname"><span class="pre">borrow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hold</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockSharedCollectionAPI.borrow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockSharedCollectionAPI.borrow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.testing.MockSharedCollectionAPI.fulfill">
<span class="sig-name descname"><span class="pre">fulfill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">part</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fulfill_part_url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockSharedCollectionAPI.fulfill"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockSharedCollectionAPI.fulfill" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.testing.MockSharedCollectionAPI.queue_borrow">
<span class="sig-name descname"><span class="pre">queue_borrow</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockSharedCollectionAPI.queue_borrow"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockSharedCollectionAPI.queue_borrow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.testing.MockSharedCollectionAPI.queue_fulfill">
<span class="sig-name descname"><span class="pre">queue_fulfill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockSharedCollectionAPI.queue_fulfill"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockSharedCollectionAPI.queue_fulfill" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.testing.MockSharedCollectionAPI.queue_register">
<span class="sig-name descname"><span class="pre">queue_register</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockSharedCollectionAPI.queue_register"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockSharedCollectionAPI.queue_register" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.testing.MockSharedCollectionAPI.queue_revoke_hold">
<span class="sig-name descname"><span class="pre">queue_revoke_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockSharedCollectionAPI.queue_revoke_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockSharedCollectionAPI.queue_revoke_hold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.testing.MockSharedCollectionAPI.queue_revoke_loan">
<span class="sig-name descname"><span class="pre">queue_revoke_loan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockSharedCollectionAPI.queue_revoke_loan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockSharedCollectionAPI.queue_revoke_loan" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.testing.MockSharedCollectionAPI.register">
<span class="sig-name descname"><span class="pre">register</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">url</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockSharedCollectionAPI.register"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockSharedCollectionAPI.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a library on an external circulation manager for access to this
collection. The library’s auth document url must be whitelisted in the
collection’s settings.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.testing.MockSharedCollectionAPI.revoke_hold">
<span class="sig-name descname"><span class="pre">revoke_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hold</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockSharedCollectionAPI.revoke_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockSharedCollectionAPI.revoke_hold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.testing.MockSharedCollectionAPI.revoke_loan">
<span class="sig-name descname"><span class="pre">revoke_loan</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">client</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">loan</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockSharedCollectionAPI.revoke_loan"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MockSharedCollectionAPI.revoke_loan" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.testing.MonitorTest">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.testing.</span></span><span class="sig-name descname"><span class="pre">MonitorTest</span></span><a class="reference internal" href="_modules/api/testing.html#MonitorTest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.MonitorTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.testing.DatabaseTest" title="core.testing.DatabaseTest"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatabaseTest</span></code></a></p>
<dl class="py property">
<dt class="sig sig-object py" id="api.testing.MonitorTest.ts">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">ts</span></span><a class="headerlink" href="#api.testing.MonitorTest.ts" title="Permalink to this definition">¶</a></dt>
<dd><p>Make the timestamp used by run() when calling run_once().</p>
<p>This makes it easier to test run_once() in isolation.</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.testing.VendorIDTest">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.testing.</span></span><span class="sig-name descname"><span class="pre">VendorIDTest</span></span><a class="reference internal" href="_modules/api/testing.html#VendorIDTest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.VendorIDTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.testing.DatabaseTest" title="core.testing.DatabaseTest"><code class="xref py py-class docutils literal notranslate"><span class="pre">DatabaseTest</span></code></a></p>
<p>A DatabaseTest that knows how to set up an Adobe Vendor ID
integration.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.testing.VendorIDTest.TEST_NODE_VALUE">
<span class="sig-name descname"><span class="pre">TEST_NODE_VALUE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">114740953091845</span></em><a class="headerlink" href="#api.testing.VendorIDTest.TEST_NODE_VALUE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.testing.VendorIDTest.TEST_VENDOR_ID">
<span class="sig-name descname"><span class="pre">TEST_VENDOR_ID</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'vendor</span> <span class="pre">id'</span></em><a class="headerlink" href="#api.testing.VendorIDTest.TEST_VENDOR_ID" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.testing.VendorIDTest.initialize_adobe">
<span class="sig-name descname"><span class="pre">initialize_adobe</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">vendor_id_library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">short_token_libraries</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#VendorIDTest.initialize_adobe"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.testing.VendorIDTest.initialize_adobe" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize an Adobe Vendor ID integration and a
Short Client Token integration with a number of libraries.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>vendor_id_library</strong> – The Library that should have an
Adobe Vendor ID integration.</p></li>
<li><p><strong>short_token_libraries</strong> – The Libraries that should have a
Short Client Token integration.</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-api.web_publication_manifest">
<span id="api-web-publication-manifest-module"></span><h2>api.web_publication_manifest module<a class="headerlink" href="#module-api.web_publication_manifest" title="Permalink to this heading">¶</a></h2>
<p>Vendor-specific variants of the standard Web Publication Manifest classes.</p>
<dl class="py class">
<dt class="sig sig-object py" id="api.web_publication_manifest.FindawayManifest">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.web_publication_manifest.</span></span><span class="sig-name descname"><span class="pre">FindawayManifest</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">license_pool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">accountId</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">checkoutId</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fulfillmentId</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licenseId</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sessionKey</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">spine_items</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">[]</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/web_publication_manifest.html#FindawayManifest"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.web_publication_manifest.FindawayManifest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.util.html#core.util.web_publication_manifest.AudiobookManifest" title="core.util.web_publication_manifest.AudiobookManifest"><code class="xref py py-class docutils literal notranslate"><span class="pre">AudiobookManifest</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.web_publication_manifest.FindawayManifest.FINDAWAY_EXTENSION_CONTEXT">
<span class="sig-name descname"><span class="pre">FINDAWAY_EXTENSION_CONTEXT</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'http://librarysimplified.org/terms/third-parties/findaway.com/'</span></em><a class="headerlink" href="#api.web_publication_manifest.FindawayManifest.FINDAWAY_EXTENSION_CONTEXT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.web_publication_manifest.FindawayManifest.MEDIA_TYPE">
<span class="sig-name descname"><span class="pre">MEDIA_TYPE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'application/vnd.librarysimplified.findaway.license+json'</span></em><a class="headerlink" href="#api.web_publication_manifest.FindawayManifest.MEDIA_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.web_publication_manifest.SpineItem">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.web_publication_manifest.</span></span><span class="sig-name descname"><span class="pre">SpineItem</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">title</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duration</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">part</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">sequence</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">media_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">'audio/mpeg'</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/web_publication_manifest.html#SpineItem"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.web_publication_manifest.SpineItem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Metadata about a piece of playable audio from an audiobook.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.web_publication_manifest.SpineItem.sort_key">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">sort_key</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">o</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/web_publication_manifest.html#SpineItem.sort_key"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.web_publication_manifest.SpineItem.sort_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to sort a list of SpineItem objects in reading
order.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-api">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-api" title="Permalink to this heading">¶</a></h2>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Library Simplified Circulation Manager</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">circulation</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">api package</a></li>
<li class="toctree-l2"><a class="reference internal" href="app.html">app module</a></li>
<li class="toctree-l2"><a class="reference internal" href="core.html">core package</a></li>
<li class="toctree-l2"><a class="reference internal" href="scripts.html">scripts module</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="modules.html">circulation</a><ul>
      <li>Previous: <a href="modules.html" title="previous chapter">circulation</a></li>
      <li>Next: <a href="api.admin.html" title="next chapter">api.admin package</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, The New York Public Library, Astor, Lenox, and Tilden Foundations.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.0.0b1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="_sources/api.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>