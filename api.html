
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>api package &#8212; Library Simplified Circulation Manager  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="api.admin package" href="api.admin.html" />
    <link rel="prev" title="circulation" href="modules.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="api-package">
<h1>api package<a class="headerlink" href="#api-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="api.admin.html">api.admin package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api.admin.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api.admin.controller.html">api.admin.controller package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.admin_auth_services">api.admin.controller.admin_auth_services module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.analytics_services">api.admin.controller.analytics_services module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.catalog_services">api.admin.controller.catalog_services module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.cdn_services">api.admin.controller.cdn_services module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.collection_library_registrations">api.admin.controller.collection_library_registrations module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.collection_self_tests">api.admin.controller.collection_self_tests module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.collection_settings">api.admin.controller.collection_settings module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.discovery_service_library_registrations">api.admin.controller.discovery_service_library_registrations module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.discovery_services">api.admin.controller.discovery_services module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.individual_admin_settings">api.admin.controller.individual_admin_settings module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.library_settings">api.admin.controller.library_settings module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.metadata_service_self_tests">api.admin.controller.metadata_service_self_tests module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.metadata_services">api.admin.controller.metadata_services module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.patron_auth_service_self_tests">api.admin.controller.patron_auth_service_self_tests module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.patron_auth_services">api.admin.controller.patron_auth_services module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.search_service_self_tests">api.admin.controller.search_service_self_tests module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.self_tests">api.admin.controller.self_tests module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.sitewide_services">api.admin.controller.sitewide_services module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.sitewide_settings">api.admin.controller.sitewide_settings module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.storage_services">api.admin.controller.storage_services module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller.work_editor">api.admin.controller.work_editor module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.admin.controller.html#module-api.admin.controller">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api.admin.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.admin.html#module-api.admin.admin_authentication_provider">api.admin.admin_authentication_provider module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.admin.html#module-api.admin.exceptions">api.admin.exceptions module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.admin.html#module-api.admin.geographic_validator">api.admin.geographic_validator module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.admin.html#module-api.admin.google_oauth_admin_authentication_provider">api.admin.google_oauth_admin_authentication_provider module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.admin.html#module-api.admin.opds">api.admin.opds module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.admin.html#module-api.admin.password_admin_authentication_provider">api.admin.password_admin_authentication_provider module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.admin.html#module-api.admin.problem_details">api.admin.problem_details module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.admin.html#module-api.admin.routes">api.admin.routes module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.admin.html#module-api.admin.template_styles">api.admin.template_styles module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.admin.html#module-api.admin.templates">api.admin.templates module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.admin.html#module-api.admin.validator">api.admin.validator module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.admin.html#module-api.admin">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.clever.html">api.clever package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api.clever.html#module-api.clever">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.sip.html">api.sip package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api.sip.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.sip.html#module-api.sip.client">api.sip.client module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.sip.html#module-api.sip.dialect">api.sip.dialect module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.sip.html#module-api.sip">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.util.html">api.util package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api.util.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.util.html#module-api.util.patron">api.util.patron module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.util.html#module-api.util">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-api.adobe_vendor_id">
<span id="api-adobe-vendor-id-module"></span><h2>api.adobe_vendor_id module<a class="headerlink" href="#module-api.adobe_vendor_id" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="api.adobe_vendor_id.AdobeAccountInfoRequestParser">
<em class="property">class </em><code class="descclassname">api.adobe_vendor_id.</code><code class="descname">AdobeAccountInfoRequestParser</code><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AdobeAccountInfoRequestParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AdobeAccountInfoRequestParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.adobe_vendor_id.AdobeRequestParser" title="api.adobe_vendor_id.AdobeRequestParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.adobe_vendor_id.AdobeRequestParser</span></code></a></p>
<dl class="attribute">
<dt id="api.adobe_vendor_id.AdobeAccountInfoRequestParser.REQUEST_XPATH">
<code class="descname">REQUEST_XPATH</code><em class="property"> = '/adept:accountInfoRequest'</em><a class="headerlink" href="#api.adobe_vendor_id.AdobeAccountInfoRequestParser.REQUEST_XPATH" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.adobe_vendor_id.AdobeAccountInfoRequestParser.process_one">
<code class="descname">process_one</code><span class="sig-paren">(</span><em>tag</em>, <em>namespaces</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AdobeAccountInfoRequestParser.process_one"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AdobeAccountInfoRequestParser.process_one" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.adobe_vendor_id.AdobeRequestParser">
<em class="property">class </em><code class="descclassname">api.adobe_vendor_id.</code><code class="descname">AdobeRequestParser</code><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AdobeRequestParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AdobeRequestParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.util.html#core.util.xmlparser.XMLParser" title="core.util.xmlparser.XMLParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.util.xmlparser.XMLParser</span></code></a></p>
<dl class="attribute">
<dt id="api.adobe_vendor_id.AdobeRequestParser.NAMESPACES">
<code class="descname">NAMESPACES</code><em class="property"> = {'adept': 'http://ns.adobe.com/adept'}</em><a class="headerlink" href="#api.adobe_vendor_id.AdobeRequestParser.NAMESPACES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.adobe_vendor_id.AdobeRequestParser.process">
<code class="descname">process</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AdobeRequestParser.process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AdobeRequestParser.process" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.adobe_vendor_id.AdobeSignInRequestParser">
<em class="property">class </em><code class="descclassname">api.adobe_vendor_id.</code><code class="descname">AdobeSignInRequestParser</code><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AdobeSignInRequestParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AdobeSignInRequestParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.adobe_vendor_id.AdobeRequestParser" title="api.adobe_vendor_id.AdobeRequestParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.adobe_vendor_id.AdobeRequestParser</span></code></a></p>
<dl class="attribute">
<dt id="api.adobe_vendor_id.AdobeSignInRequestParser.AUTH_DATA">
<code class="descname">AUTH_DATA</code><em class="property"> = 'authData'</em><a class="headerlink" href="#api.adobe_vendor_id.AdobeSignInRequestParser.AUTH_DATA" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.adobe_vendor_id.AdobeSignInRequestParser.REQUEST_XPATH">
<code class="descname">REQUEST_XPATH</code><em class="property"> = '/adept:signInRequest'</em><a class="headerlink" href="#api.adobe_vendor_id.AdobeSignInRequestParser.REQUEST_XPATH" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.adobe_vendor_id.AdobeSignInRequestParser.STANDARD">
<code class="descname">STANDARD</code><em class="property"> = 'standard'</em><a class="headerlink" href="#api.adobe_vendor_id.AdobeSignInRequestParser.STANDARD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.adobe_vendor_id.AdobeSignInRequestParser.process_one">
<code class="descname">process_one</code><span class="sig-paren">(</span><em>tag</em>, <em>namespaces</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AdobeSignInRequestParser.process_one"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AdobeSignInRequestParser.process_one" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.adobe_vendor_id.AdobeVendorIDController">
<em class="property">class </em><code class="descclassname">api.adobe_vendor_id.</code><code class="descname">AdobeVendorIDController</code><span class="sig-paren">(</span><em>_db</em>, <em>library</em>, <em>vendor_id</em>, <em>node_value</em>, <em>authenticator</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AdobeVendorIDController"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AdobeVendorIDController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Flask controllers that implement the Account Service and
Authorization Service portions of the Adobe Vendor ID protocol.</p>
<dl class="method">
<dt id="api.adobe_vendor_id.AdobeVendorIDController.create_authdata_handler">
<code class="descname">create_authdata_handler</code><span class="sig-paren">(</span><em>patron</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AdobeVendorIDController.create_authdata_handler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AdobeVendorIDController.create_authdata_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an authdata token for the given patron.</p>
<p>This controller method exists only for backwards compatibility
with older client applications. Newer applications are
expected to understand the DRM Extensions for OPDS.</p>
</dd></dl>

<dl class="method">
<dt id="api.adobe_vendor_id.AdobeVendorIDController.signin_handler">
<code class="descname">signin_handler</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AdobeVendorIDController.signin_handler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AdobeVendorIDController.signin_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Process an incoming signInRequest document.</p>
</dd></dl>

<dl class="method">
<dt id="api.adobe_vendor_id.AdobeVendorIDController.status_handler">
<code class="descname">status_handler</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AdobeVendorIDController.status_handler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AdobeVendorIDController.status_handler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.adobe_vendor_id.AdobeVendorIDController.userinfo_handler">
<code class="descname">userinfo_handler</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AdobeVendorIDController.userinfo_handler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AdobeVendorIDController.userinfo_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Process an incoming userInfoRequest document.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.adobe_vendor_id.AdobeVendorIDModel">
<em class="property">class </em><code class="descclassname">api.adobe_vendor_id.</code><code class="descname">AdobeVendorIDModel</code><span class="sig-paren">(</span><em>_db</em>, <em>library</em>, <em>authenticator</em>, <em>node_value</em>, <em>temporary_token_duration=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AdobeVendorIDModel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AdobeVendorIDModel" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Implement Adobe Vendor ID within the Simplified database
model.</p>
<dl class="attribute">
<dt id="api.adobe_vendor_id.AdobeVendorIDModel.AUTHDATA_TOKEN_TYPE">
<code class="descname">AUTHDATA_TOKEN_TYPE</code><em class="property"> = 'Authdata for Adobe Vendor ID'</em><a class="headerlink" href="#api.adobe_vendor_id.AdobeVendorIDModel.AUTHDATA_TOKEN_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.adobe_vendor_id.AdobeVendorIDModel.VENDOR_ID_UUID_TOKEN_TYPE">
<code class="descname">VENDOR_ID_UUID_TOKEN_TYPE</code><em class="property"> = 'Vendor ID UUID'</em><a class="headerlink" href="#api.adobe_vendor_id.AdobeVendorIDModel.VENDOR_ID_UUID_TOKEN_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.adobe_vendor_id.AdobeVendorIDModel.authdata_lookup">
<code class="descname">authdata_lookup</code><span class="sig-paren">(</span><em>authdata</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AdobeVendorIDModel.authdata_lookup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AdobeVendorIDModel.authdata_lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn an authdata string into a Vendor ID UUID and a human-readable
label.</p>
<p>Generally we do this by decoding the authdata as a JWT and
looking up or creating an appropriate
DelegatedPatronIdentifier.</p>
<p>However, for backwards compatibility purposes, if the authdata
cannot be decoded as a JWT, we will try the old method of
treating it as a Credential that identifies a Patron, and
finding the DelegatedPatronIdentifier that way.</p>
</dd></dl>

<dl class="method">
<dt id="api.adobe_vendor_id.AdobeVendorIDModel.create_authdata">
<code class="descname">create_authdata</code><span class="sig-paren">(</span><em>patron</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AdobeVendorIDModel.create_authdata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AdobeVendorIDModel.create_authdata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.adobe_vendor_id.AdobeVendorIDModel.data_source">
<code class="descname">data_source</code><a class="headerlink" href="#api.adobe_vendor_id.AdobeVendorIDModel.data_source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.adobe_vendor_id.AdobeVendorIDModel.get_or_create_patron_identifier_credential">
<em class="property">classmethod </em><code class="descname">get_or_create_patron_identifier_credential</code><span class="sig-paren">(</span><em>patron</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AdobeVendorIDModel.get_or_create_patron_identifier_credential"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AdobeVendorIDModel.get_or_create_patron_identifier_credential" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.adobe_vendor_id.AdobeVendorIDModel.patron_from_authdata_lookup">
<code class="descname">patron_from_authdata_lookup</code><span class="sig-paren">(</span><em>authdata</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AdobeVendorIDModel.patron_from_authdata_lookup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AdobeVendorIDModel.patron_from_authdata_lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up a patron by their persistent authdata token.</p>
</dd></dl>

<dl class="method">
<dt id="api.adobe_vendor_id.AdobeVendorIDModel.short_client_token_lookup">
<code class="descname">short_client_token_lookup</code><span class="sig-paren">(</span><em>token</em>, <em>signature</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AdobeVendorIDModel.short_client_token_lookup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AdobeVendorIDModel.short_client_token_lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Validate a short client token that came in as username/password.</p>
</dd></dl>

<dl class="method">
<dt id="api.adobe_vendor_id.AdobeVendorIDModel.standard_lookup">
<code class="descname">standard_lookup</code><span class="sig-paren">(</span><em>authorization_data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AdobeVendorIDModel.standard_lookup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AdobeVendorIDModel.standard_lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up a patron by authorization header. Return their Vendor ID
UUID and their human-readable label, creating a Credential
object to hold the UUID if necessary.</p>
</dd></dl>

<dl class="method">
<dt id="api.adobe_vendor_id.AdobeVendorIDModel.to_delegated_patron_identifier_uuid">
<code class="descname">to_delegated_patron_identifier_uuid</code><span class="sig-paren">(</span><em>library_uri</em>, <em>foreign_patron_identifier</em>, <em>value_generator=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AdobeVendorIDModel.to_delegated_patron_identifier_uuid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AdobeVendorIDModel.to_delegated_patron_identifier_uuid" title="Permalink to this definition">¶</a></dt>
<dd><p>Create or lookup a DelegatedPatronIdentifier containing an Adobe
account ID for the given library and foreign patron ID.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A 2-tuple (UUID, label)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.adobe_vendor_id.AdobeVendorIDModel.urn_to_label">
<code class="descname">urn_to_label</code><span class="sig-paren">(</span><em>urn</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AdobeVendorIDModel.urn_to_label"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AdobeVendorIDModel.urn_to_label" title="Permalink to this definition">¶</a></dt>
<dd><p>We have no information about patrons, so labels are sparse.</p>
</dd></dl>

<dl class="method">
<dt id="api.adobe_vendor_id.AdobeVendorIDModel.uuid">
<code class="descname">uuid</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AdobeVendorIDModel.uuid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AdobeVendorIDModel.uuid" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new UUID URN compatible with the Vendor ID system.</p>
</dd></dl>

<dl class="method">
<dt id="api.adobe_vendor_id.AdobeVendorIDModel.uuid_and_label">
<code class="descname">uuid_and_label</code><span class="sig-paren">(</span><em>patron</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AdobeVendorIDModel.uuid_and_label"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AdobeVendorIDModel.uuid_and_label" title="Permalink to this definition">¶</a></dt>
<dd><p>Create or retrieve a Vendor ID UUID and human-readable Vendor ID
label for the given patron.</p>
<p>This code is semi-deprecated, which accounts for the varying
paths and the code that tries to migrate patrons to the new
system. In the future everyone will send JWTs as authdata and
we will always go from the JWT to a DelegatedPatronIdentifier.
This code always ends up at a DelegatedPatronIdentifier, but
it might pick up the final value from somewhere else along the way.</p>
<p>The _reason_ this code is semi-deprecated is that it only
works for a library that has its own Adobe Vendor ID.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.adobe_vendor_id.AdobeVendorIDRequestHandler">
<em class="property">class </em><code class="descclassname">api.adobe_vendor_id.</code><code class="descname">AdobeVendorIDRequestHandler</code><span class="sig-paren">(</span><em>vendor_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AdobeVendorIDRequestHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AdobeVendorIDRequestHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Standalone class that can be tested without bringing in Flask or
the database schema.</p>
<dl class="attribute">
<dt id="api.adobe_vendor_id.AdobeVendorIDRequestHandler.ACCOUNT_INFO_ERROR_TYPE">
<code class="descname">ACCOUNT_INFO_ERROR_TYPE</code><em class="property"> = 'ACCOUNT_INFO'</em><a class="headerlink" href="#api.adobe_vendor_id.AdobeVendorIDRequestHandler.ACCOUNT_INFO_ERROR_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.adobe_vendor_id.AdobeVendorIDRequestHandler.ACCOUNT_INFO_RESPONSE_TEMPLATE">
<code class="descname">ACCOUNT_INFO_RESPONSE_TEMPLATE</code><em class="property"> = '&lt;accountInfoResponse xmlns=&quot;http://ns.adobe.com/adept&quot;&gt;\n&lt;label&gt;%(label)s&lt;/label&gt;\n&lt;/accountInfoResponse&gt;'</em><a class="headerlink" href="#api.adobe_vendor_id.AdobeVendorIDRequestHandler.ACCOUNT_INFO_RESPONSE_TEMPLATE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.adobe_vendor_id.AdobeVendorIDRequestHandler.AUTHENTICATION_FAILURE">
<code class="descname">AUTHENTICATION_FAILURE</code><em class="property"> = 'Incorrect barcode or PIN.'</em><a class="headerlink" href="#api.adobe_vendor_id.AdobeVendorIDRequestHandler.AUTHENTICATION_FAILURE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.adobe_vendor_id.AdobeVendorIDRequestHandler.AUTH_ERROR_TYPE">
<code class="descname">AUTH_ERROR_TYPE</code><em class="property"> = 'AUTH'</em><a class="headerlink" href="#api.adobe_vendor_id.AdobeVendorIDRequestHandler.AUTH_ERROR_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.adobe_vendor_id.AdobeVendorIDRequestHandler.ERROR_RESPONSE_TEMPLATE">
<code class="descname">ERROR_RESPONSE_TEMPLATE</code><em class="property"> = '&lt;error xmlns=&quot;http://ns.adobe.com/adept&quot; data=&quot;E_%(vendor_id)s_%(type)s %(message)s&quot;/&gt;'</em><a class="headerlink" href="#api.adobe_vendor_id.AdobeVendorIDRequestHandler.ERROR_RESPONSE_TEMPLATE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.adobe_vendor_id.AdobeVendorIDRequestHandler.SIGN_IN_RESPONSE_TEMPLATE">
<code class="descname">SIGN_IN_RESPONSE_TEMPLATE</code><em class="property"> = '&lt;signInResponse xmlns=&quot;http://ns.adobe.com/adept&quot;&gt;\n&lt;user&gt;%(user)s&lt;/user&gt;\n&lt;label&gt;%(label)s&lt;/label&gt;\n&lt;/signInResponse&gt;'</em><a class="headerlink" href="#api.adobe_vendor_id.AdobeVendorIDRequestHandler.SIGN_IN_RESPONSE_TEMPLATE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.adobe_vendor_id.AdobeVendorIDRequestHandler.TOKEN_FAILURE">
<code class="descname">TOKEN_FAILURE</code><em class="property"> = 'Incorrect token.'</em><a class="headerlink" href="#api.adobe_vendor_id.AdobeVendorIDRequestHandler.TOKEN_FAILURE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.adobe_vendor_id.AdobeVendorIDRequestHandler.URN_LOOKUP_FAILURE">
<code class="descname">URN_LOOKUP_FAILURE</code><em class="property"> = &quot;Could not identify patron from '%s'.&quot;</em><a class="headerlink" href="#api.adobe_vendor_id.AdobeVendorIDRequestHandler.URN_LOOKUP_FAILURE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.adobe_vendor_id.AdobeVendorIDRequestHandler.error_document">
<code class="descname">error_document</code><span class="sig-paren">(</span><em>type</em>, <em>message</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AdobeVendorIDRequestHandler.error_document"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AdobeVendorIDRequestHandler.error_document" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.adobe_vendor_id.AdobeVendorIDRequestHandler.handle_accountinfo_request">
<code class="descname">handle_accountinfo_request</code><span class="sig-paren">(</span><em>data</em>, <em>urn_to_label</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AdobeVendorIDRequestHandler.handle_accountinfo_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AdobeVendorIDRequestHandler.handle_accountinfo_request" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.adobe_vendor_id.AdobeVendorIDRequestHandler.handle_signin_request">
<code class="descname">handle_signin_request</code><span class="sig-paren">(</span><em>data</em>, <em>standard_lookup</em>, <em>authdata_lookup</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AdobeVendorIDRequestHandler.handle_signin_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AdobeVendorIDRequestHandler.handle_signin_request" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.adobe_vendor_id.AuthdataUtility">
<em class="property">class </em><code class="descclassname">api.adobe_vendor_id.</code><code class="descname">AuthdataUtility</code><span class="sig-paren">(</span><em>vendor_id</em>, <em>library_uri</em>, <em>library_short_name</em>, <em>secret</em>, <em>other_libraries={}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AuthdataUtility"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AuthdataUtility" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Generate authdata JWTs as per the Vendor ID Service spec:
<a class="reference external" href="https://docs.google.com/document/d/1j8nWPVmy95pJ_iU4UTC-QgHK2QhDUSdQ0OQTFR2NE_0">https://docs.google.com/document/d/1j8nWPVmy95pJ_iU4UTC-QgHK2QhDUSdQ0OQTFR2NE_0</a></p>
<p>Capable of encoding JWTs (for this library), and decoding them
(from this library and potentially others).</p>
<p>Also generates and decodes JWT-like strings used to get around
Adobe’s lack of support for authdata in deactivation.</p>
<dl class="attribute">
<dt id="api.adobe_vendor_id.AuthdataUtility.ADOBE_ACCOUNT_ID_PATRON_IDENTIFIER">
<code class="descname">ADOBE_ACCOUNT_ID_PATRON_IDENTIFIER</code><em class="property"> = 'Identifier for Adobe account ID purposes'</em><a class="headerlink" href="#api.adobe_vendor_id.AuthdataUtility.ADOBE_ACCOUNT_ID_PATRON_IDENTIFIER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.adobe_vendor_id.AuthdataUtility.ALGORITHM">
<code class="descname">ALGORITHM</code><em class="property"> = 'HS256'</em><a class="headerlink" href="#api.adobe_vendor_id.AuthdataUtility.ALGORITHM" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.adobe_vendor_id.AuthdataUtility.EPOCH">
<code class="descname">EPOCH</code><em class="property"> = datetime.datetime(1970, 1, 1, 0, 0)</em><a class="headerlink" href="#api.adobe_vendor_id.AuthdataUtility.EPOCH" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.adobe_vendor_id.AuthdataUtility.OTHER_LIBRARIES_KEY">
<code class="descname">OTHER_LIBRARIES_KEY</code><em class="property"> = u'other_libraries'</em><a class="headerlink" href="#api.adobe_vendor_id.AuthdataUtility.OTHER_LIBRARIES_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.adobe_vendor_id.AuthdataUtility.VENDOR_ID_KEY">
<code class="descname">VENDOR_ID_KEY</code><em class="property"> = u'vendor_id'</em><a class="headerlink" href="#api.adobe_vendor_id.AuthdataUtility.VENDOR_ID_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.adobe_vendor_id.AuthdataUtility.adobe_base64_decode">
<em class="property">classmethod </em><code class="descname">adobe_base64_decode</code><span class="sig-paren">(</span><em>str</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AuthdataUtility.adobe_base64_decode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AuthdataUtility.adobe_base64_decode" title="Permalink to this definition">¶</a></dt>
<dd><p>Undoes adobe_base64_encode.</p>
</dd></dl>

<dl class="classmethod">
<dt id="api.adobe_vendor_id.AuthdataUtility.adobe_base64_encode">
<em class="property">classmethod </em><code class="descname">adobe_base64_encode</code><span class="sig-paren">(</span><em>str</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AuthdataUtility.adobe_base64_encode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AuthdataUtility.adobe_base64_encode" title="Permalink to this definition">¶</a></dt>
<dd><p>A modified base64 encoding that avoids triggering an Adobe bug.</p>
<p>The bug seems to happen when the ‘password’ portion of a
username/password pair contains a + character. So we replace +
with :. We also replace / (another “suspicious” character)
with ;. and strip newlines.</p>
</dd></dl>

<dl class="classmethod">
<dt id="api.adobe_vendor_id.AuthdataUtility.adobe_relevant_credentials">
<em class="property">classmethod </em><code class="descname">adobe_relevant_credentials</code><span class="sig-paren">(</span><em>patron</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AuthdataUtility.adobe_relevant_credentials"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AuthdataUtility.adobe_relevant_credentials" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all Adobe-relevant Credential objects for the given
patron.</p>
<p>This includes the patron’s identifier for Adobe ID purposes,
and (less likely) any Adobe IDs directly associated with the
Patron.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A SQLAlchemy query</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.adobe_vendor_id.AuthdataUtility.decode">
<code class="descname">decode</code><span class="sig-paren">(</span><em>authdata</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AuthdataUtility.decode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AuthdataUtility.decode" title="Permalink to this definition">¶</a></dt>
<dd><p>Decode and verify an authdata JWT from one of the libraries managed
by <cite>secrets_by_library</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a 2-tuple (library_uri, patron_identifier)</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>jwt.exceptions.DecodeError</strong> – When the JWT is not valid
for any reason.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.adobe_vendor_id.AuthdataUtility.decode_short_client_token">
<code class="descname">decode_short_client_token</code><span class="sig-paren">(</span><em>token</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AuthdataUtility.decode_short_client_token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AuthdataUtility.decode_short_client_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempt to interpret a ‘username’ and ‘password’ as a short
client token identifying a patron of a specific library.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a 2-tuple (library_uri, patron_identifier)</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><strong>ValueError</strong> – When the token is not valid for any reason.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.adobe_vendor_id.AuthdataUtility.decode_two_part_short_client_token">
<code class="descname">decode_two_part_short_client_token</code><span class="sig-paren">(</span><em>username</em>, <em>password</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AuthdataUtility.decode_two_part_short_client_token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AuthdataUtility.decode_two_part_short_client_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Decode a short client token that has already been split into
two parts.</p>
</dd></dl>

<dl class="method">
<dt id="api.adobe_vendor_id.AuthdataUtility.encode">
<code class="descname">encode</code><span class="sig-paren">(</span><em>patron_identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AuthdataUtility.encode"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AuthdataUtility.encode" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate an authdata JWT suitable for putting in an OPDS feed, where
it can be picked up by a client and sent to the delegation
authority to look up an Adobe ID.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A 2-tuple (vendor ID, authdata)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.adobe_vendor_id.AuthdataUtility.encode_short_client_token">
<code class="descname">encode_short_client_token</code><span class="sig-paren">(</span><em>patron_identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AuthdataUtility.encode_short_client_token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AuthdataUtility.encode_short_client_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a short client token suitable for putting in an OPDS feed,
where it can be picked up by a client and sent to the
delegation authority to look up an Adobe ID.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A 2-tuple (vendor ID, token)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="api.adobe_vendor_id.AuthdataUtility.from_config">
<em class="property">classmethod </em><code class="descname">from_config</code><span class="sig-paren">(</span><em>library</em>, <em>_db=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AuthdataUtility.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AuthdataUtility.from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize an AuthdataUtility from site configuration.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">An AuthdataUtility if one is configured; otherwise None.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="core.html#core.config.CannotLoadConfiguration" title="core.config.CannotLoadConfiguration"><strong>CannotLoadConfiguration</strong></a> – If an AuthdataUtility is
incompletely configured.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.adobe_vendor_id.AuthdataUtility.migrate_adobe_id">
<code class="descname">migrate_adobe_id</code><span class="sig-paren">(</span><em>patron</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AuthdataUtility.migrate_adobe_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AuthdataUtility.migrate_adobe_id" title="Permalink to this definition">¶</a></dt>
<dd><p>If the given patron has an Adobe ID stored as a Credential, also
store it as a DelegatedPatronIdentifier.</p>
<p>This method and its test should be removed once all instances have
run the migration script
20161102-adobe-id-is-delegated-patron-identifier.py.</p>
</dd></dl>

<dl class="classmethod">
<dt id="api.adobe_vendor_id.AuthdataUtility.numericdate">
<em class="property">classmethod </em><code class="descname">numericdate</code><span class="sig-paren">(</span><em>d</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AuthdataUtility.numericdate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AuthdataUtility.numericdate" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn a datetime object into a NumericDate as per RFC 7519.</p>
</dd></dl>

<dl class="method">
<dt id="api.adobe_vendor_id.AuthdataUtility.short_client_token_for_patron">
<code class="descname">short_client_token_for_patron</code><span class="sig-paren">(</span><em>patron_information</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#AuthdataUtility.short_client_token_for_patron"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.AuthdataUtility.short_client_token_for_patron" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate short client token for patron, or for a patron’s identifier
for Adobe ID purposes</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.adobe_vendor_id.DeviceManagementProtocolController">
<em class="property">class </em><code class="descclassname">api.adobe_vendor_id.</code><code class="descname">DeviceManagementProtocolController</code><span class="sig-paren">(</span><em>manager</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#DeviceManagementProtocolController"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.DeviceManagementProtocolController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.base_controller.BaseCirculationManagerController" title="api.base_controller.BaseCirculationManagerController"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.base_controller.BaseCirculationManagerController</span></code></a></p>
<p>Implementation of the DRM Device ID Management Protocol.</p>
<p>The code that does the actual work is in DeviceManagementRequestHandler.</p>
<dl class="attribute">
<dt id="api.adobe_vendor_id.DeviceManagementProtocolController.DEVICE_ID_LIST_MEDIA_TYPE">
<code class="descname">DEVICE_ID_LIST_MEDIA_TYPE</code><em class="property"> = 'vnd.librarysimplified/drm-device-id-list'</em><a class="headerlink" href="#api.adobe_vendor_id.DeviceManagementProtocolController.DEVICE_ID_LIST_MEDIA_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.adobe_vendor_id.DeviceManagementProtocolController.PLAIN_TEXT_HEADERS">
<code class="descname">PLAIN_TEXT_HEADERS</code><em class="property"> = {'Content-Type': 'text/plain'}</em><a class="headerlink" href="#api.adobe_vendor_id.DeviceManagementProtocolController.PLAIN_TEXT_HEADERS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.adobe_vendor_id.DeviceManagementProtocolController.device_id_handler">
<code class="descname">device_id_handler</code><span class="sig-paren">(</span><em>device_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#DeviceManagementProtocolController.device_id_handler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.DeviceManagementProtocolController.device_id_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Manage one of the device IDs associated with an Adobe ID.</p>
</dd></dl>

<dl class="method">
<dt id="api.adobe_vendor_id.DeviceManagementProtocolController.device_id_list_handler">
<code class="descname">device_id_list_handler</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#DeviceManagementProtocolController.device_id_list_handler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.DeviceManagementProtocolController.device_id_list_handler" title="Permalink to this definition">¶</a></dt>
<dd><p>Manage the list of device IDs associated with an Adobe ID.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.adobe_vendor_id.DeviceManagementProtocolController.link_template_header">
<code class="descname">link_template_header</code><a class="headerlink" href="#api.adobe_vendor_id.DeviceManagementProtocolController.link_template_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the Link Template that explains how to deregister
a specific DRM device ID.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.adobe_vendor_id.DeviceManagementRequestHandler">
<em class="property">class </em><code class="descclassname">api.adobe_vendor_id.</code><code class="descname">DeviceManagementRequestHandler</code><span class="sig-paren">(</span><em>credential</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#DeviceManagementRequestHandler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.DeviceManagementRequestHandler" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Handle incoming requests for the DRM Device Management Protocol.</p>
<dl class="method">
<dt id="api.adobe_vendor_id.DeviceManagementRequestHandler.deregister_device">
<code class="descname">deregister_device</code><span class="sig-paren">(</span><em>device_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#DeviceManagementRequestHandler.deregister_device"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.DeviceManagementRequestHandler.deregister_device" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.adobe_vendor_id.DeviceManagementRequestHandler.device_list">
<code class="descname">device_list</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#DeviceManagementRequestHandler.device_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.DeviceManagementRequestHandler.device_list" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.adobe_vendor_id.DeviceManagementRequestHandler.register_device">
<code class="descname">register_device</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#DeviceManagementRequestHandler.register_device"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.DeviceManagementRequestHandler.register_device" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.adobe_vendor_id.ShortClientTokenLibraryConfigurationScript">
<em class="property">class </em><code class="descclassname">api.adobe_vendor_id.</code><code class="descname">ShortClientTokenLibraryConfigurationScript</code><span class="sig-paren">(</span><em>_db=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#ShortClientTokenLibraryConfigurationScript"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.ShortClientTokenLibraryConfigurationScript" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.scripts.Script" title="core.scripts.Script"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.scripts.Script</span></code></a></p>
<dl class="classmethod">
<dt id="api.adobe_vendor_id.ShortClientTokenLibraryConfigurationScript.arg_parser">
<em class="property">classmethod </em><code class="descname">arg_parser</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#ShortClientTokenLibraryConfigurationScript.arg_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.ShortClientTokenLibraryConfigurationScript.arg_parser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.adobe_vendor_id.ShortClientTokenLibraryConfigurationScript.do_run">
<code class="descname">do_run</code><span class="sig-paren">(</span><em>_db=None</em>, <em>cmd_args=None</em>, <em>output=&lt;open file '&lt;stdout&gt;'</em>, <em>mode 'w'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#ShortClientTokenLibraryConfigurationScript.do_run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.ShortClientTokenLibraryConfigurationScript.do_run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.adobe_vendor_id.ShortClientTokenLibraryConfigurationScript.set_secret">
<code class="descname">set_secret</code><span class="sig-paren">(</span><em>_db</em>, <em>website_url</em>, <em>vendor_id</em>, <em>short_name</em>, <em>secret</em>, <em>output</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#ShortClientTokenLibraryConfigurationScript.set_secret"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.ShortClientTokenLibraryConfigurationScript.set_secret" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.adobe_vendor_id.VendorIDLibraryConfigurationScript">
<em class="property">class </em><code class="descclassname">api.adobe_vendor_id.</code><code class="descname">VendorIDLibraryConfigurationScript</code><span class="sig-paren">(</span><em>_db=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#VendorIDLibraryConfigurationScript"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.VendorIDLibraryConfigurationScript" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.scripts.Script" title="core.scripts.Script"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.scripts.Script</span></code></a></p>
<dl class="classmethod">
<dt id="api.adobe_vendor_id.VendorIDLibraryConfigurationScript.arg_parser">
<em class="property">classmethod </em><code class="descname">arg_parser</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#VendorIDLibraryConfigurationScript.arg_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.VendorIDLibraryConfigurationScript.arg_parser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.adobe_vendor_id.VendorIDLibraryConfigurationScript.do_run">
<code class="descname">do_run</code><span class="sig-paren">(</span><em>_db=None</em>, <em>cmd_args=None</em>, <em>output=&lt;open file '&lt;stdout&gt;'</em>, <em>mode 'w'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#VendorIDLibraryConfigurationScript.do_run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.VendorIDLibraryConfigurationScript.do_run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.adobe_vendor_id.VendorIDLibraryConfigurationScript.explain">
<code class="descname">explain</code><span class="sig-paren">(</span><em>output</em>, <em>libraries</em>, <em>website</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/adobe_vendor_id.html#VendorIDLibraryConfigurationScript.explain"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.adobe_vendor_id.VendorIDLibraryConfigurationScript.explain" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api.annotations">
<span id="api-annotations-module"></span><h2>api.annotations module<a class="headerlink" href="#module-api.annotations" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="api.annotations.AnnotationParser">
<em class="property">class </em><code class="descclassname">api.annotations.</code><code class="descname">AnnotationParser</code><a class="reference internal" href="_modules/api/annotations.html#AnnotationParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.annotations.AnnotationParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="classmethod">
<dt id="api.annotations.AnnotationParser.parse">
<em class="property">classmethod </em><code class="descname">parse</code><span class="sig-paren">(</span><em>_db</em>, <em>data</em>, <em>patron</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/annotations.html#AnnotationParser.parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.annotations.AnnotationParser.parse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.annotations.AnnotationWriter">
<em class="property">class </em><code class="descclassname">api.annotations.</code><code class="descname">AnnotationWriter</code><a class="reference internal" href="_modules/api/annotations.html#AnnotationWriter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.annotations.AnnotationWriter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="attribute">
<dt id="api.annotations.AnnotationWriter.CONTENT_TYPE">
<code class="descname">CONTENT_TYPE</code><em class="property"> = 'application/ld+json; profile=&quot;http://www.w3.org/ns/anno.jsonld&quot;'</em><a class="headerlink" href="#api.annotations.AnnotationWriter.CONTENT_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.annotations.AnnotationWriter.JSONLD_CONTEXT">
<code class="descname">JSONLD_CONTEXT</code><em class="property"> = 'http://www.w3.org/ns/anno.jsonld'</em><a class="headerlink" href="#api.annotations.AnnotationWriter.JSONLD_CONTEXT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.annotations.AnnotationWriter.LDP_CONTEXT">
<code class="descname">LDP_CONTEXT</code><em class="property"> = 'http://www.w3.org/ns/ldp.jsonld'</em><a class="headerlink" href="#api.annotations.AnnotationWriter.LDP_CONTEXT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.annotations.AnnotationWriter.annotation_container_for">
<em class="property">classmethod </em><code class="descname">annotation_container_for</code><span class="sig-paren">(</span><em>patron</em>, <em>identifier=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/annotations.html#AnnotationWriter.annotation_container_for"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.annotations.AnnotationWriter.annotation_container_for" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.annotations.AnnotationWriter.annotation_page_for">
<em class="property">classmethod </em><code class="descname">annotation_page_for</code><span class="sig-paren">(</span><em>patron</em>, <em>identifier=None</em>, <em>with_context=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/annotations.html#AnnotationWriter.annotation_page_for"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.annotations.AnnotationWriter.annotation_page_for" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.annotations.AnnotationWriter.annotations_for">
<em class="property">classmethod </em><code class="descname">annotations_for</code><span class="sig-paren">(</span><em>patron</em>, <em>identifier=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/annotations.html#AnnotationWriter.annotations_for"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.annotations.AnnotationWriter.annotations_for" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.annotations.AnnotationWriter.detail">
<em class="property">classmethod </em><code class="descname">detail</code><span class="sig-paren">(</span><em>annotation</em>, <em>with_context=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/annotations.html#AnnotationWriter.detail"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.annotations.AnnotationWriter.detail" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="api.annotations.load_document">
<code class="descclassname">api.annotations.</code><code class="descname">load_document</code><span class="sig-paren">(</span><em>url</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/annotations.html#load_document"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.annotations.load_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves JSON-LD for the given URL from a local
file if available, and falls back to the network.</p>
</dd></dl>

</div>
<div class="section" id="module-api.app">
<span id="api-app-module"></span><h2>api.app module<a class="headerlink" href="#module-api.app" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="api.app.initialize_database">
<code class="descclassname">api.app.</code><code class="descname">initialize_database</code><span class="sig-paren">(</span><em>autoinitialize=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/app.html#initialize_database"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.app.initialize_database" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.app.run">
<code class="descclassname">api.app.</code><code class="descname">run</code><span class="sig-paren">(</span><em>url=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/app.html#run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.app.run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-api.authenticator">
<span id="api-authenticator-module"></span><h2>api.authenticator module<a class="headerlink" href="#module-api.authenticator" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="api.authenticator.AuthenticationProvider">
<em class="property">class </em><code class="descclassname">api.authenticator.</code><code class="descname">AuthenticationProvider</code><span class="sig-paren">(</span><em>library</em>, <em>integration</em>, <em>analytics=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#AuthenticationProvider"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.AuthenticationProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.util.html#core.util.authentication_for_opds.OPDSAuthenticationFlow" title="core.util.authentication_for_opds.OPDSAuthenticationFlow"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.util.authentication_for_opds.OPDSAuthenticationFlow</span></code></a></p>
<p>Handle a specific patron authentication scheme.</p>
<dl class="attribute">
<dt id="api.authenticator.AuthenticationProvider.DESCRIPTION">
<code class="descname">DESCRIPTION</code><em class="property"> = ''</em><a class="headerlink" href="#api.authenticator.AuthenticationProvider.DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.AuthenticationProvider.EXTERNAL_TYPE_REGULAR_EXPRESSION">
<code class="descname">EXTERNAL_TYPE_REGULAR_EXPRESSION</code><em class="property"> = 'external_type_regular_expression'</em><a class="headerlink" href="#api.authenticator.AuthenticationProvider.EXTERNAL_TYPE_REGULAR_EXPRESSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.AuthenticationProvider.FLOW_TYPE">
<code class="descname">FLOW_TYPE</code><em class="property"> = None</em><a class="headerlink" href="#api.authenticator.AuthenticationProvider.FLOW_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.AuthenticationProvider.IDENTIFIES_INDIVIDUALS">
<code class="descname">IDENTIFIES_INDIVIDUALS</code><em class="property"> = True</em><a class="headerlink" href="#api.authenticator.AuthenticationProvider.IDENTIFIES_INDIVIDUALS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.AuthenticationProvider.INSTITUTION_ID">
<code class="descname">INSTITUTION_ID</code><em class="property"> = 'institution_id'</em><a class="headerlink" href="#api.authenticator.AuthenticationProvider.INSTITUTION_ID" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_FIELD">
<code class="descname">LIBRARY_IDENTIFIER_FIELD</code><em class="property"> = 'library_identifier_field'</em><a class="headerlink" href="#api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_RESTRICTION">
<code class="descname">LIBRARY_IDENTIFIER_RESTRICTION</code><em class="property"> = 'library_identifier_restriction'</em><a class="headerlink" href="#api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_RESTRICTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_RESTRICTION_BARCODE">
<code class="descname">LIBRARY_IDENTIFIER_RESTRICTION_BARCODE</code><em class="property"> = 'barcode'</em><a class="headerlink" href="#api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_RESTRICTION_BARCODE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_RESTRICTION_TYPE">
<code class="descname">LIBRARY_IDENTIFIER_RESTRICTION_TYPE</code><em class="property"> = 'library_identifier_restriction_type'</em><a class="headerlink" href="#api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_RESTRICTION_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_RESTRICTION_TYPE_LIST">
<code class="descname">LIBRARY_IDENTIFIER_RESTRICTION_TYPE_LIST</code><em class="property"> = 'list'</em><a class="headerlink" href="#api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_RESTRICTION_TYPE_LIST" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_RESTRICTION_TYPE_NONE">
<code class="descname">LIBRARY_IDENTIFIER_RESTRICTION_TYPE_NONE</code><em class="property"> = 'none'</em><a class="headerlink" href="#api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_RESTRICTION_TYPE_NONE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_RESTRICTION_TYPE_PREFIX">
<code class="descname">LIBRARY_IDENTIFIER_RESTRICTION_TYPE_PREFIX</code><em class="property"> = 'prefix'</em><a class="headerlink" href="#api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_RESTRICTION_TYPE_PREFIX" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_RESTRICTION_TYPE_REGEX">
<code class="descname">LIBRARY_IDENTIFIER_RESTRICTION_TYPE_REGEX</code><em class="property"> = 'regex'</em><a class="headerlink" href="#api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_RESTRICTION_TYPE_REGEX" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_RESTRICTION_TYPE_STRING">
<code class="descname">LIBRARY_IDENTIFIER_RESTRICTION_TYPE_STRING</code><em class="property"> = 'string'</em><a class="headerlink" href="#api.authenticator.AuthenticationProvider.LIBRARY_IDENTIFIER_RESTRICTION_TYPE_STRING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.AuthenticationProvider.LIBRARY_SETTINGS">
<code class="descname">LIBRARY_SETTINGS</code><em class="property"> = [{'description': l'Derive a patron's type from their identifier.', 'key': 'external_type_regular_expression', 'label': l'External Type Regular Expression'}, {'description': l'When multiple libraries share an ILS, a person may be able to authenticate with the ILS but not be considered a patron of &lt;em&gt;this&lt;/em&gt; library. This setting contains the rule for determining whether an identifier is valid for this specific library. &lt;p/&gt; If this setting it set to 'No Restriction' then the values for &lt;em&gt;Library Identifier Field&lt;/em&gt; and &lt;em&gt;Library Identifier Restriction&lt;/em&gt; will not be used.', 'default': 'none', 'label': l'Library Identifier Restriction Type', 'key': 'library_identifier_restriction_type', 'type': 'select', 'options': [{'key': 'none', 'label': l'No restriction'}, {'key': 'prefix', 'label': l'Prefix Match'}, {'key': 'string', 'label': l'Exact Match'}, {'key': 'regex', 'label': l'Regex Match'}, {'key': 'list', 'label': l'Exact Match, comma separated list'}]}, {'description': l'This is the field on the patron record that the &lt;em&gt;Library Identifier Restriction Type&lt;/em&gt; is applied to, different patron authentication methods provide different values here. This value is not used if &lt;em&gt;Library Identifier Restriction Type&lt;/em&gt; is set to 'No restriction'.', 'default': 'barcode', 'label': l'Library Identifier Field', 'key': 'library_identifier_field', 'type': 'select', 'options': [{'key': 'barcode', 'label': l'Barcode'}]}, {'description': l'This is the restriction applied to the &lt;em&gt;Library Identifier Field&lt;/em&gt; using the method chosen in &lt;em&gt;Library Identifier Restriction Type&lt;/em&gt;. This value is not used if &lt;em&gt;Library Identifier Restriction Type&lt;/em&gt; is set to 'No restriction'.', 'key': 'library_identifier_restriction', 'label': l'Library Identifier Restriction'}, {'description': l'A specific identifier for the library or branch, if used in patron authentication', 'key': 'institution_id', 'label': l'Institution ID'}]</em><a class="headerlink" href="#api.authenticator.AuthenticationProvider.LIBRARY_SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.AuthenticationProvider.LOGIN_BUTTON_IMAGE">
<code class="descname">LOGIN_BUTTON_IMAGE</code><em class="property"> = None</em><a class="headerlink" href="#api.authenticator.AuthenticationProvider.LOGIN_BUTTON_IMAGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.AuthenticationProvider.SETTINGS">
<code class="descname">SETTINGS</code><em class="property"> = []</em><a class="headerlink" href="#api.authenticator.AuthenticationProvider.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.authenticator.AuthenticationProvider.authenticate">
<code class="descname">authenticate</code><span class="sig-paren">(</span><em>_db</em>, <em>header</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#AuthenticationProvider.authenticate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.AuthenticationProvider.authenticate" title="Permalink to this definition">¶</a></dt>
<dd><p>Authenticate a patron based on a WWW-Authenticate header
(or equivalent).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A Patron if one can be authenticated; a ProblemDetail if an
error occurs; None if the credentials are missing or wrong.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.authenticator.AuthenticationProvider.authenticated_patron">
<code class="descname">authenticated_patron</code><span class="sig-paren">(</span><em>_db</em>, <em>header</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#AuthenticationProvider.authenticated_patron"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.AuthenticationProvider.authenticated_patron" title="Permalink to this definition">¶</a></dt>
<dd><p>Go from a WWW-Authenticate header (or equivalent) to a Patron object.</p>
<p>If the Patron needs to have their metadata updated, it happens
transparently at this point.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A Patron if one can be authenticated; a ProblemDetail
if an error occurs; None if the credentials are missing or wrong.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.authenticator.AuthenticationProvider.enforce_library_identifier_restriction">
<code class="descname">enforce_library_identifier_restriction</code><span class="sig-paren">(</span><em>identifier</em>, <em>patrondata</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#AuthenticationProvider.enforce_library_identifier_restriction"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.AuthenticationProvider.enforce_library_identifier_restriction" title="Permalink to this definition">¶</a></dt>
<dd><p>Does the given patron match the configured library identifier restriction?</p>
</dd></dl>

<dl class="method">
<dt id="api.authenticator.AuthenticationProvider.external_integration">
<code class="descname">external_integration</code><span class="sig-paren">(</span><em>_db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#AuthenticationProvider.external_integration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.AuthenticationProvider.external_integration" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.authenticator.AuthenticationProvider.get_credential_from_header">
<code class="descname">get_credential_from_header</code><span class="sig-paren">(</span><em>header</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#AuthenticationProvider.get_credential_from_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.AuthenticationProvider.get_credential_from_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract a password credential from a WWW-Authenticate header
(or equivalent).</p>
<p>This is used to pass on a patron’s credential to a content provider,
such as Overdrive, which performs independent validation of
a patron’s credentials.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The patron’s password, or None if not available.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.authenticator.AuthenticationProvider.library">
<code class="descname">library</code><span class="sig-paren">(</span><em>_db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#AuthenticationProvider.library"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.AuthenticationProvider.library" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.authenticator.AuthenticationProvider.remote_patron_lookup">
<code class="descname">remote_patron_lookup</code><span class="sig-paren">(</span><em>patron_or_patrondata</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#AuthenticationProvider.remote_patron_lookup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.AuthenticationProvider.remote_patron_lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Ask the remote for detailed information about a patron’s account.</p>
<p>This may be called in the course of authenticating a patron,
or it may be called when the patron isn’t around, for purposes
of learning some personal information (primarily email
address) that can’t be stored in the database.</p>
<p>The default implementation assumes there is no special
lookup functionality, and returns exactly the information
present in the object that was passed in.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>patron_or_patrondata</strong> – Either a Patron object, a PatronData
object, or None (if no further information could be provided).</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">An updated PatronData object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.authenticator.AuthenticationProvider.update_patron_external_type">
<code class="descname">update_patron_external_type</code><span class="sig-paren">(</span><em>patron</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#AuthenticationProvider.update_patron_external_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.AuthenticationProvider.update_patron_external_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure the patron’s external type reflects
what external_type_regular_expression says.</p>
</dd></dl>

<dl class="method">
<dt id="api.authenticator.AuthenticationProvider.update_patron_metadata">
<code class="descname">update_patron_metadata</code><span class="sig-paren">(</span><em>patron</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#AuthenticationProvider.update_patron_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.AuthenticationProvider.update_patron_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Refresh our local record of this patron’s account information.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>patron</strong> – A Patron object.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.authenticator.Authenticator">
<em class="property">class </em><code class="descclassname">api.authenticator.</code><code class="descname">Authenticator</code><span class="sig-paren">(</span><em>_db</em>, <em>analytics=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#Authenticator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.Authenticator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Route requests to the appropriate LibraryAuthenticator.</p>
<dl class="method">
<dt id="api.authenticator.Authenticator.authenticated_patron">
<code class="descname">authenticated_patron</code><span class="sig-paren">(</span><em>_db</em>, <em>header</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#Authenticator.authenticated_patron"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.Authenticator.authenticated_patron" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.authenticator.Authenticator.create_authentication_document">
<code class="descname">create_authentication_document</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#Authenticator.create_authentication_document"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.Authenticator.create_authentication_document" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.authenticator.Authenticator.create_authentication_headers">
<code class="descname">create_authentication_headers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#Authenticator.create_authentication_headers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.Authenticator.create_authentication_headers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.authenticator.Authenticator.create_bearer_token">
<code class="descname">create_bearer_token</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#Authenticator.create_bearer_token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.Authenticator.create_bearer_token" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.Authenticator.current_library_short_name">
<code class="descname">current_library_short_name</code><a class="headerlink" href="#api.authenticator.Authenticator.current_library_short_name" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.authenticator.Authenticator.decode_bearer_token">
<code class="descname">decode_bearer_token</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#Authenticator.decode_bearer_token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.Authenticator.decode_bearer_token" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.authenticator.Authenticator.get_credential_from_header">
<code class="descname">get_credential_from_header</code><span class="sig-paren">(</span><em>header</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#Authenticator.get_credential_from_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.Authenticator.get_credential_from_header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.authenticator.Authenticator.invoke_authenticator_method">
<code class="descname">invoke_authenticator_method</code><span class="sig-paren">(</span><em>method_name</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#Authenticator.invoke_authenticator_method"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.Authenticator.invoke_authenticator_method" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.authenticator.Authenticator.oauth_provider_lookup">
<code class="descname">oauth_provider_lookup</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#Authenticator.oauth_provider_lookup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.Authenticator.oauth_provider_lookup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.authenticator.Authenticator.populate_authenticators">
<code class="descname">populate_authenticators</code><span class="sig-paren">(</span><em>_db</em>, <em>analytics</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#Authenticator.populate_authenticators"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.Authenticator.populate_authenticators" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.authenticator.BasicAuthenticationProvider">
<em class="property">class </em><code class="descclassname">api.authenticator.</code><code class="descname">BasicAuthenticationProvider</code><span class="sig-paren">(</span><em>library</em>, <em>integration</em>, <em>analytics=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#BasicAuthenticationProvider"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.authenticator.AuthenticationProvider" title="api.authenticator.AuthenticationProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.authenticator.AuthenticationProvider</span></code></a>, <a class="reference internal" href="core.html#core.selftest.HasSelfTests" title="core.selftest.HasSelfTests"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.selftest.HasSelfTests</span></code></a></p>
<p>Verify a username/password, obtained through HTTP Basic Auth, with
a remote source of truth.</p>
<dl class="attribute">
<dt id="api.authenticator.BasicAuthenticationProvider.AUTHENTICATION_REALM">
<code class="descname">AUTHENTICATION_REALM</code><em class="property"> = l'Library card'</em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.AUTHENTICATION_REALM" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.BasicAuthenticationProvider.BARCODE_FORMAT_CODABAR">
<code class="descname">BARCODE_FORMAT_CODABAR</code><em class="property"> = 'Codabar'</em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.BARCODE_FORMAT_CODABAR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.BasicAuthenticationProvider.BARCODE_FORMAT_NONE">
<code class="descname">BARCODE_FORMAT_NONE</code><em class="property"> = ''</em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.BARCODE_FORMAT_NONE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.BasicAuthenticationProvider.COMMON_IDENTIFIER_LABELS">
<code class="descname">COMMON_IDENTIFIER_LABELS</code><em class="property"> = {u'Barcode': l'Barcode', u'Card Number': l'Card Number', u'Email Address': l'Email Address', u'Library Card': l'Library Card', u'Username': l'Username'}</em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.COMMON_IDENTIFIER_LABELS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.BasicAuthenticationProvider.COMMON_PASSWORD_LABELS">
<code class="descname">COMMON_PASSWORD_LABELS</code><em class="property"> = {u'PIN': l'PIN', u'Password': l'Password'}</em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.COMMON_PASSWORD_LABELS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.BasicAuthenticationProvider.DEFAULT_IDENTIFIER_LABEL">
<code class="descname">DEFAULT_IDENTIFIER_LABEL</code><em class="property"> = u'Barcode'</em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.DEFAULT_IDENTIFIER_LABEL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.BasicAuthenticationProvider.DEFAULT_IDENTIFIER_REGULAR_EXPRESSION">
<code class="descname">DEFAULT_IDENTIFIER_REGULAR_EXPRESSION</code><em class="property"> = &lt;_sre.SRE_Pattern object&gt;</em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.DEFAULT_IDENTIFIER_REGULAR_EXPRESSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.BasicAuthenticationProvider.DEFAULT_KEYBOARD">
<code class="descname">DEFAULT_KEYBOARD</code><em class="property"> = u'Default'</em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.DEFAULT_KEYBOARD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.BasicAuthenticationProvider.DEFAULT_PASSWORD_LABEL">
<code class="descname">DEFAULT_PASSWORD_LABEL</code><em class="property"> = u'PIN'</em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.DEFAULT_PASSWORD_LABEL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.BasicAuthenticationProvider.DEFAULT_PASSWORD_REGULAR_EXPRESSION">
<code class="descname">DEFAULT_PASSWORD_REGULAR_EXPRESSION</code><em class="property"> = None</em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.DEFAULT_PASSWORD_REGULAR_EXPRESSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.BasicAuthenticationProvider.DISPLAY_NAME">
<code class="descname">DISPLAY_NAME</code><em class="property"> = l'Library Barcode'</em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.DISPLAY_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.BasicAuthenticationProvider.EMAIL_ADDRESS_KEYBOARD">
<code class="descname">EMAIL_ADDRESS_KEYBOARD</code><em class="property"> = u'Email address'</em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.EMAIL_ADDRESS_KEYBOARD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.BasicAuthenticationProvider.FLOW_TYPE">
<code class="descname">FLOW_TYPE</code><em class="property"> = 'http://opds-spec.org/auth/basic'</em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.FLOW_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.BasicAuthenticationProvider.IDENTIFIER_BARCODE_FORMAT">
<code class="descname">IDENTIFIER_BARCODE_FORMAT</code><em class="property"> = 'identifier_barcode_format'</em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.IDENTIFIER_BARCODE_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.BasicAuthenticationProvider.IDENTIFIER_KEYBOARD">
<code class="descname">IDENTIFIER_KEYBOARD</code><em class="property"> = u'identifier_keyboard'</em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.IDENTIFIER_KEYBOARD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.BasicAuthenticationProvider.IDENTIFIER_LABEL">
<code class="descname">IDENTIFIER_LABEL</code><em class="property"> = u'identifier_label'</em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.IDENTIFIER_LABEL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.BasicAuthenticationProvider.IDENTIFIER_MAXIMUM_LENGTH">
<code class="descname">IDENTIFIER_MAXIMUM_LENGTH</code><em class="property"> = u'identifier_maximum_length'</em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.IDENTIFIER_MAXIMUM_LENGTH" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.BasicAuthenticationProvider.IDENTIFIER_REGULAR_EXPRESSION">
<code class="descname">IDENTIFIER_REGULAR_EXPRESSION</code><em class="property"> = u'identifier_regular_expression'</em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.IDENTIFIER_REGULAR_EXPRESSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.BasicAuthenticationProvider.NAME">
<code class="descname">NAME</code><em class="property"> = 'Generic Basic Authentication provider'</em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.BasicAuthenticationProvider.NULL_KEYBOARD">
<code class="descname">NULL_KEYBOARD</code><em class="property"> = u'No input'</em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.NULL_KEYBOARD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.BasicAuthenticationProvider.NUMBER_PAD">
<code class="descname">NUMBER_PAD</code><em class="property"> = u'Number pad'</em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.NUMBER_PAD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.BasicAuthenticationProvider.PASSWORD_KEYBOARD">
<code class="descname">PASSWORD_KEYBOARD</code><em class="property"> = u'password_keyboard'</em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.PASSWORD_KEYBOARD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.BasicAuthenticationProvider.PASSWORD_LABEL">
<code class="descname">PASSWORD_LABEL</code><em class="property"> = u'password_label'</em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.PASSWORD_LABEL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.BasicAuthenticationProvider.PASSWORD_MAXIMUM_LENGTH">
<code class="descname">PASSWORD_MAXIMUM_LENGTH</code><em class="property"> = u'password_maximum_length'</em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.PASSWORD_MAXIMUM_LENGTH" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.BasicAuthenticationProvider.PASSWORD_REGULAR_EXPRESSION">
<code class="descname">PASSWORD_REGULAR_EXPRESSION</code><em class="property"> = u'password_regular_expression'</em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.PASSWORD_REGULAR_EXPRESSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.BasicAuthenticationProvider.SETTINGS">
<code class="descname">SETTINGS</code><em class="property"> = [{'required': True, 'description': l'A valid identifier that can be used to test that patron authentication is working.', 'key': 'test_identifier', 'label': l'Test Identifier'}, {'description': l'The password for the test identifier.', 'key': 'test_password', 'label': l'Test Password'}, {'description': l'Many libraries render patron identifiers as barcodes on physical library cards. If you specify the barcode format, patrons will be able to scan their library cards with a camera instead of manually typing in their identifiers.', 'default': '', 'required': True, 'label': l'Patron identifier barcode format', 'key': 'identifier_barcode_format', 'type': 'select', 'options': [{'key': 'Codabar', 'label': l'Patron identifiers are are rendered as barcodes in Codabar format'}, {'key': '', 'label': l'Patron identifiers are not rendered as barcodes'}]}, {'description': l'A patron's identifier will be immediately rejected if it doesn't match this regular expression.', 'key': u'identifier_regular_expression', 'label': l'Identifier Regular Expression'}, {'description': l'A patron's password will be immediately rejected if it doesn't match this regular expression.', 'key': u'password_regular_expression', 'label': l'Password Regular Expression'}, {'default': u'Default', 'required': True, 'label': l'Keyboard for identifier entry', 'key': u'identifier_keyboard', 'type': 'select', 'options': [{'key': u'Default', 'label': l'System default'}, {'key': u'Email address', 'label': l'Email address entry'}, {'key': u'Number pad', 'label': l'Number pad'}]}, {'default': u'Default', 'type': 'select', 'options': [{'key': u'Default', 'label': l'System default'}, {'key': u'Number pad', 'label': l'Number pad'}, {'key': u'No input', 'label': l'Patrons have no password and should not be prompted for one.'}], 'key': u'password_keyboard', 'label': l'Keyboard for password entry'}, {'type': 'number', 'key': u'identifier_maximum_length', 'label': l'Maximum identifier length'}, {'type': 'number', 'key': u'password_maximum_length', 'label': l'Maximum password length'}, {'key': u'identifier_label', 'label': l'Label for identifier entry'}, {'key': u'password_label', 'label': l'Label for password entry'}]</em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.BasicAuthenticationProvider.TEST_IDENTIFIER">
<code class="descname">TEST_IDENTIFIER</code><em class="property"> = 'test_identifier'</em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.TEST_IDENTIFIER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.BasicAuthenticationProvider.TEST_PASSWORD">
<code class="descname">TEST_PASSWORD</code><em class="property"> = 'test_password'</em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.TEST_PASSWORD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.BasicAuthenticationProvider.alphanumerics_plus">
<code class="descname">alphanumerics_plus</code><em class="property"> = &lt;_sre.SRE_Pattern object&gt;</em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.alphanumerics_plus" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.authenticator.BasicAuthenticationProvider.apply_patrondata">
<code class="descname">apply_patrondata</code><span class="sig-paren">(</span><em>patrondata</em>, <em>patron</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#BasicAuthenticationProvider.apply_patrondata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.apply_patrondata" title="Permalink to this definition">¶</a></dt>
<dd><p>Apply a PatronData object to the given patron and make sure
any fields that need to be updated as a result of new data
are updated.</p>
</dd></dl>

<dl class="method">
<dt id="api.authenticator.BasicAuthenticationProvider.authenticate">
<code class="descname">authenticate</code><span class="sig-paren">(</span><em>_db</em>, <em>credentials</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#BasicAuthenticationProvider.authenticate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.authenticate" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn a set of credentials into a Patron object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>credentials</strong> – A dictionary with keys <cite>username</cite> and <cite>password</cite>.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A Patron if one can be authenticated; a ProblemDetail
if an error occurs; None if the credentials are missing or wrong.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="api.authenticator.BasicAuthenticationProvider.authentication_header">
<code class="descname">authentication_header</code><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.authentication_header" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.BasicAuthenticationProvider.class_default">
<code class="descname">class_default</code><em class="property"> = &lt;object object&gt;</em><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.class_default" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.BasicAuthenticationProvider.collects_password">
<code class="descname">collects_password</code><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.collects_password" title="Permalink to this definition">¶</a></dt>
<dd><p>Does this BasicAuthenticationProvider expect a username
and a password, or just a username?</p>
</dd></dl>

<dl class="method">
<dt id="api.authenticator.BasicAuthenticationProvider.get_credential_from_header">
<code class="descname">get_credential_from_header</code><span class="sig-paren">(</span><em>header</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#BasicAuthenticationProvider.get_credential_from_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.get_credential_from_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract a password credential from a WWW-Authenticate header
(or equivalent).</p>
<p>This is used to pass on a patron’s credential to a content provider,
such as Overdrive, which performs independent validation of
a patron’s credentials.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>header</strong> – A dictionary with keys <cite>username</cite> and <cite>password</cite>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.authenticator.BasicAuthenticationProvider.local_patron_lookup">
<code class="descname">local_patron_lookup</code><span class="sig-paren">(</span><em>_db</em>, <em>username</em>, <em>patrondata</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#BasicAuthenticationProvider.local_patron_lookup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.local_patron_lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to find a Patron object in the local database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>username</strong> – An HTTP Basic Auth username. May or may not
correspond to the <cite>Patron.username</cite> field.</li>
<li><strong>patrondata</strong> – A PatronData object recently obtained from
the source of truth, possibly as a side effect of validating
the username and password. This may make it possible to
identify the patron more precisely. Or it may be None, in
which case it’s no help at all.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.authenticator.BasicAuthenticationProvider.remote_authenticate">
<code class="descname">remote_authenticate</code><span class="sig-paren">(</span><em>username</em>, <em>password</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#BasicAuthenticationProvider.remote_authenticate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.remote_authenticate" title="Permalink to this definition">¶</a></dt>
<dd><p>Does the source of truth approve of these credentials?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">If the credentials are valid, but nothing more is
known about the patron, return True.</td>
</tr>
</tbody>
</table>
<p>If the credentials are valid, _and_ enough information came
back in the request to also create a PatronInfo object, you
may create that object and return it to save a
remote patron lookup later.</p>
<p>If the credentials are invalid, return False or None.</p>
</dd></dl>

<dl class="method">
<dt id="api.authenticator.BasicAuthenticationProvider.remote_patron_lookup">
<code class="descname">remote_patron_lookup</code><span class="sig-paren">(</span><em>patron_or_patrondata</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#BasicAuthenticationProvider.remote_patron_lookup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.remote_patron_lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Ask the remote for information about this patron, and then make sure
the patron belongs to the library associated with thie BasicAuthenticationProvider.</p>
</dd></dl>

<dl class="method">
<dt id="api.authenticator.BasicAuthenticationProvider.server_side_validation">
<code class="descname">server_side_validation</code><span class="sig-paren">(</span><em>username</em>, <em>password</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#BasicAuthenticationProvider.server_side_validation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.server_side_validation" title="Permalink to this definition">¶</a></dt>
<dd><p>Do these credentials even look right?</p>
<p>Sometimes egregious problems can be caught without needing to
check with the ILS.</p>
</dd></dl>

<dl class="method">
<dt id="api.authenticator.BasicAuthenticationProvider.testing_patron">
<code class="descname">testing_patron</code><span class="sig-paren">(</span><em>_db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#BasicAuthenticationProvider.testing_patron"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.testing_patron" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up a Patron object reserved for testing purposes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A 2-tuple (Patron, password)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.authenticator.BasicAuthenticationProvider.testing_patron_or_bust">
<code class="descname">testing_patron_or_bust</code><span class="sig-paren">(</span><em>_db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#BasicAuthenticationProvider.testing_patron_or_bust"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.BasicAuthenticationProvider.testing_patron_or_bust" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up the Patron object reserved for testing purposes,
raising CannotLoadConfiguration if none is configured.</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.authenticator.CannotCreateLocalPatron">
<em class="property">exception </em><code class="descclassname">api.authenticator.</code><code class="descname">CannotCreateLocalPatron</code><a class="reference internal" href="_modules/api/authenticator.html#CannotCreateLocalPatron"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.CannotCreateLocalPatron" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">exceptions.Exception</span></code></p>
<p>A remote system provided information about a patron, but we could
not put it into our database schema.</p>
<p>Probably because it was too vague.</p>
</dd></dl>

<dl class="class">
<dt id="api.authenticator.CirculationPatronProfileStorage">
<em class="property">class </em><code class="descclassname">api.authenticator.</code><code class="descname">CirculationPatronProfileStorage</code><span class="sig-paren">(</span><em>patron</em>, <em>url_for=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#CirculationPatronProfileStorage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.CirculationPatronProfileStorage" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.model.html#core.model.patron.PatronProfileStorage" title="core.model.patron.PatronProfileStorage"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.model.patron.PatronProfileStorage</span></code></a></p>
<p>A patron profile storage that can also provide short client tokens</p>
<dl class="attribute">
<dt id="api.authenticator.CirculationPatronProfileStorage.profile_document">
<code class="descname">profile_document</code><a class="headerlink" href="#api.authenticator.CirculationPatronProfileStorage.profile_document" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.authenticator.LibraryAuthenticator">
<em class="property">class </em><code class="descclassname">api.authenticator.</code><code class="descname">LibraryAuthenticator</code><span class="sig-paren">(</span><em>_db</em>, <em>library</em>, <em>basic_auth_provider=None</em>, <em>oauth_providers=None</em>, <em>bearer_token_signing_secret=None</em>, <em>authentication_document_annotator=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#LibraryAuthenticator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.LibraryAuthenticator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Use the registered AuthenticationProviders to turn incoming
credentials into Patron objects.</p>
<dl class="method">
<dt id="api.authenticator.LibraryAuthenticator.assert_ready_for_oauth">
<code class="descname">assert_ready_for_oauth</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#LibraryAuthenticator.assert_ready_for_oauth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.assert_ready_for_oauth" title="Permalink to this definition">¶</a></dt>
<dd><p>If this LibraryAuthenticator has OAuth providers, ensure that it
also has a secret it can use to sign bearer tokens.</p>
</dd></dl>

<dl class="method">
<dt id="api.authenticator.LibraryAuthenticator.authenticated_patron">
<code class="descname">authenticated_patron</code><span class="sig-paren">(</span><em>_db</em>, <em>header</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#LibraryAuthenticator.authenticated_patron"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.authenticated_patron" title="Permalink to this definition">¶</a></dt>
<dd><p>Go from an Authorization header value to a Patron object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>header</strong> – If Basic Auth is in use, this is a dictionary
with ‘user’ and ‘password’ components, derived from the HTTP
header <cite>Authorization</cite>. Otherwise, this is the literal value
of the <cite>Authorization</cite> HTTP header.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A Patron, if one can be authenticated. None, if the
credentials do not authenticate any particular patron. A
ProblemDetail if an error occurs.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.authenticator.LibraryAuthenticator.authentication_document_url">
<code class="descname">authentication_document_url</code><span class="sig-paren">(</span><em>library</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#LibraryAuthenticator.authentication_document_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.authentication_document_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the URL of the authentication document for the
given library.</p>
</dd></dl>

<dl class="method">
<dt id="api.authenticator.LibraryAuthenticator.create_authentication_document">
<code class="descname">create_authentication_document</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#LibraryAuthenticator.create_authentication_document"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.create_authentication_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the Authentication For OPDS document to be used when
a request comes in with no authentication.</p>
</dd></dl>

<dl class="method">
<dt id="api.authenticator.LibraryAuthenticator.create_authentication_headers">
<code class="descname">create_authentication_headers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#LibraryAuthenticator.create_authentication_headers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.create_authentication_headers" title="Permalink to this definition">¶</a></dt>
<dd><p>Create the HTTP headers to return with the OPDS
authentication document.</p>
</dd></dl>

<dl class="method">
<dt id="api.authenticator.LibraryAuthenticator.create_bearer_token">
<code class="descname">create_bearer_token</code><span class="sig-paren">(</span><em>provider_name</em>, <em>provider_token</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#LibraryAuthenticator.create_bearer_token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.create_bearer_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a JSON web token with the given provider name and access
token.</p>
<p>The patron will use this as a bearer token in lieu of the
token we got from their OAuth provider. The big advantage of
this token is that it tells us _which_ OAuth provider the
patron authenticated against.</p>
<p>When the patron uses the bearer token in the Authenticate header,
it will be decoded with <cite>decode_bearer_token_from_header</cite>.</p>
</dd></dl>

<dl class="method">
<dt id="api.authenticator.LibraryAuthenticator.decode_bearer_token">
<code class="descname">decode_bearer_token</code><span class="sig-paren">(</span><em>token</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#LibraryAuthenticator.decode_bearer_token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.decode_bearer_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract auth provider name and access token from JSON web token.</p>
</dd></dl>

<dl class="method">
<dt id="api.authenticator.LibraryAuthenticator.decode_bearer_token_from_header">
<code class="descname">decode_bearer_token_from_header</code><span class="sig-paren">(</span><em>header</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#LibraryAuthenticator.decode_bearer_token_from_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.decode_bearer_token_from_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract auth provider name and access token from an Authenticate
header value.</p>
</dd></dl>

<dl class="classmethod">
<dt id="api.authenticator.LibraryAuthenticator.from_config">
<em class="property">classmethod </em><code class="descname">from_config</code><span class="sig-paren">(</span><em>_db</em>, <em>library</em>, <em>analytics=None</em>, <em>custom_catalog_source=&lt;class 'api.custom_patron_catalog.CustomPatronCatalog'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#LibraryAuthenticator.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.from_config" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize an Authenticator for the given Library based on its
configured ExternalIntegrations.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>custom_catalog_source</strong> – The lookup class for CustomPatronCatalogs.
Intended for mocking during tests.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.authenticator.LibraryAuthenticator.get_credential_from_header">
<code class="descname">get_credential_from_header</code><span class="sig-paren">(</span><em>header</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#LibraryAuthenticator.get_credential_from_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.get_credential_from_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract a password credential from a WWW-Authenticate header
(or equivalent).</p>
<p>This is used to pass on a patron’s credential to a content provider,
such as Overdrive, which performs independent validation of
a patron’s credentials.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The patron’s password, or None if not available.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="api.authenticator.LibraryAuthenticator.identifies_individuals">
<code class="descname">identifies_individuals</code><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.identifies_individuals" title="Permalink to this definition">¶</a></dt>
<dd><p>Does this library require that individual patrons be identified?</p>
<p>Most libraries require authentication as an individual. Some
libraries don’t identify patrons at all; others may have a way
of identifying the patron population without identifying
individuals, such as an IP gate.</p>
<p>If some of a library’s authentication mechanisms identify individuals,
and others do not, the library does not identify individuals.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.authenticator.LibraryAuthenticator.key_pair">
<code class="descname">key_pair</code><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.key_pair" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up or create a public/private key pair for use by this library.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.authenticator.LibraryAuthenticator.library">
<code class="descname">library</code><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.library" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.authenticator.LibraryAuthenticator.oauth_provider_lookup">
<code class="descname">oauth_provider_lookup</code><span class="sig-paren">(</span><em>provider_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#LibraryAuthenticator.oauth_provider_lookup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.oauth_provider_lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up the OAuthAuthenticationProvider with the given name. If that
doesn’t work, return an appropriate ProblemDetail.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.authenticator.LibraryAuthenticator.providers">
<code class="descname">providers</code><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.providers" title="Permalink to this definition">¶</a></dt>
<dd><p>An iterator over all registered AuthenticationProviders.</p>
</dd></dl>

<dl class="method">
<dt id="api.authenticator.LibraryAuthenticator.register_basic_auth_provider">
<code class="descname">register_basic_auth_provider</code><span class="sig-paren">(</span><em>provider</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#LibraryAuthenticator.register_basic_auth_provider"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.register_basic_auth_provider" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.authenticator.LibraryAuthenticator.register_oauth_provider">
<code class="descname">register_oauth_provider</code><span class="sig-paren">(</span><em>provider</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#LibraryAuthenticator.register_oauth_provider"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.register_oauth_provider" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.authenticator.LibraryAuthenticator.register_provider">
<code class="descname">register_provider</code><span class="sig-paren">(</span><em>integration</em>, <em>analytics=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#LibraryAuthenticator.register_provider"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.register_provider" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn an ExternalIntegration object into an AuthenticationProvider
object, and register it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>integration</strong> – An ExternalIntegration that configures
a way of authenticating patrons.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="api.authenticator.LibraryAuthenticator.supports_patron_authentication">
<code class="descname">supports_patron_authentication</code><a class="headerlink" href="#api.authenticator.LibraryAuthenticator.supports_patron_authentication" title="Permalink to this definition">¶</a></dt>
<dd><p>Does this library have any way of authenticating patrons at all?</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.authenticator.OAuthAuthenticationProvider">
<em class="property">class </em><code class="descclassname">api.authenticator.</code><code class="descname">OAuthAuthenticationProvider</code><span class="sig-paren">(</span><em>library</em>, <em>integration</em>, <em>analytics=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#OAuthAuthenticationProvider"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.OAuthAuthenticationProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.authenticator.AuthenticationProvider" title="api.authenticator.AuthenticationProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.authenticator.AuthenticationProvider</span></code></a></p>
<dl class="attribute">
<dt id="api.authenticator.OAuthAuthenticationProvider.BEARER_TOKEN_SIGNING_SECRET">
<code class="descname">BEARER_TOKEN_SIGNING_SECRET</code><em class="property"> = 'bearer_token_signing_secret'</em><a class="headerlink" href="#api.authenticator.OAuthAuthenticationProvider.BEARER_TOKEN_SIGNING_SECRET" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.OAuthAuthenticationProvider.DEFAULT_TOKEN_EXPIRATION_DAYS">
<code class="descname">DEFAULT_TOKEN_EXPIRATION_DAYS</code><em class="property"> = 42</em><a class="headerlink" href="#api.authenticator.OAuthAuthenticationProvider.DEFAULT_TOKEN_EXPIRATION_DAYS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.OAuthAuthenticationProvider.FLOW_TYPE">
<code class="descname">FLOW_TYPE</code><em class="property"> = 'http://librarysimplified.org/authtype/OAuth-with-intermediary'</em><a class="headerlink" href="#api.authenticator.OAuthAuthenticationProvider.FLOW_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.OAuthAuthenticationProvider.OAUTH_TOKEN_EXPIRATION_DAYS">
<code class="descname">OAUTH_TOKEN_EXPIRATION_DAYS</code><em class="property"> = 'token_expiration_days'</em><a class="headerlink" href="#api.authenticator.OAuthAuthenticationProvider.OAUTH_TOKEN_EXPIRATION_DAYS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.OAuthAuthenticationProvider.SETTINGS">
<code class="descname">SETTINGS</code><em class="property"> = [{'type': 'number', 'key': 'token_expiration_days', 'label': l'Days until OAuth token expires'}]</em><a class="headerlink" href="#api.authenticator.OAuthAuthenticationProvider.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.authenticator.OAuthAuthenticationProvider.authenticated_patron">
<code class="descname">authenticated_patron</code><span class="sig-paren">(</span><em>_db</em>, <em>token</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#OAuthAuthenticationProvider.authenticated_patron"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.OAuthAuthenticationProvider.authenticated_patron" title="Permalink to this definition">¶</a></dt>
<dd><p>Go from an OAuth provider token to an authenticated Patron.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>token</strong> – The provider token extracted from the Authorization
header. This is _not_ the bearer token found in
the Authorization header; it’s the provider-specific token
embedded in that token.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A Patron, if one can be authenticated. None, if the
credentials do not authenticate any particular patron. A
ProblemDetail if an error occurs.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="api.authenticator.OAuthAuthenticationProvider.bearer_token_signing_secret">
<em class="property">classmethod </em><code class="descname">bearer_token_signing_secret</code><span class="sig-paren">(</span><em>_db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#OAuthAuthenticationProvider.bearer_token_signing_secret"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.OAuthAuthenticationProvider.bearer_token_signing_secret" title="Permalink to this definition">¶</a></dt>
<dd><p>Find or generate the site-wide bearer token signing secret.</p>
</dd></dl>

<dl class="method">
<dt id="api.authenticator.OAuthAuthenticationProvider.create_token">
<code class="descname">create_token</code><span class="sig-paren">(</span><em>_db</em>, <em>patron</em>, <em>token</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#OAuthAuthenticationProvider.create_token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.OAuthAuthenticationProvider.create_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Credential object that ties the given patron to the
given provider token.</p>
</dd></dl>

<dl class="method">
<dt id="api.authenticator.OAuthAuthenticationProvider.external_authenticate_url">
<code class="descname">external_authenticate_url</code><span class="sig-paren">(</span><em>state</em>, <em>_db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#OAuthAuthenticationProvider.external_authenticate_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.OAuthAuthenticationProvider.external_authenticate_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate the URL provided by the OAuth provider which will present
the patron with a login form.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>state</strong> – A state variable to be propagated through to the OAuth
callback.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.authenticator.OAuthAuthenticationProvider.external_authenticate_url_parameters">
<code class="descname">external_authenticate_url_parameters</code><span class="sig-paren">(</span><em>state</em>, <em>_db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#OAuthAuthenticationProvider.external_authenticate_url_parameters"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.OAuthAuthenticationProvider.external_authenticate_url_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Arguments used to fill in the template EXTERNAL_AUTHENTICATE_URL.</p>
</dd></dl>

<dl class="method">
<dt id="api.authenticator.OAuthAuthenticationProvider.oauth_callback">
<code class="descname">oauth_callback</code><span class="sig-paren">(</span><em>_db</em>, <em>code</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#OAuthAuthenticationProvider.oauth_callback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.OAuthAuthenticationProvider.oauth_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify the incoming parameters with the OAuth provider. Exchange
the authorization code for an access token. Create or look up
appropriate database records.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>code</strong> – The authorization code generated by the
authorization server, as per section 4.1.2 of RFC 6749. This
method will exchange the authorization code for an access token.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A ProblemDetail if there’s a problem. Otherwise, a
3-tuple (Credential, Patron, PatronData). The Credential
contains the access token provided by the OAuth provider. The
Patron object represents the authenticated Patron, and the
PatronData object includes information about the patron
obtained from the OAuth provider which cannot be stored in the
circulation manager’s database, but which should be passed on
to the client.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.authenticator.OAuthAuthenticationProvider.remote_exchange_authorization_code_for_access_token">
<code class="descname">remote_exchange_authorization_code_for_access_token</code><span class="sig-paren">(</span><em>_db</em>, <em>code</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#OAuthAuthenticationProvider.remote_exchange_authorization_code_for_access_token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.OAuthAuthenticationProvider.remote_exchange_authorization_code_for_access_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Ask the OAuth provider to convert a code (passed in to the OAuth
callback) into a bearer token.</p>
<p>We can use the bearer token to act on behalf of a specific
patron. It also gives us confidence that the patron
authenticated correctly with the OAuth provider.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A ProblemDetail if there’s a problem; otherwise, the
bearer token.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.authenticator.OAuthAuthenticationProvider.remote_patron_lookup">
<code class="descname">remote_patron_lookup</code><span class="sig-paren">(</span><em>access_token</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#OAuthAuthenticationProvider.remote_patron_lookup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.OAuthAuthenticationProvider.remote_patron_lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Use a bearer token to look up as much information as possible about
a patron.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A ProblemDetail if there’s a problem. Otherwise, a PatronData.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.authenticator.OAuthAuthenticationProvider.token_data_source">
<code class="descname">token_data_source</code><span class="sig-paren">(</span><em>_db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#OAuthAuthenticationProvider.token_data_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.OAuthAuthenticationProvider.token_data_source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.authenticator.OAuthController">
<em class="property">class </em><code class="descclassname">api.authenticator.</code><code class="descname">OAuthController</code><span class="sig-paren">(</span><em>authenticator</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#OAuthController"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.OAuthController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A controller for handling requests that are part of the OAuth
credential dance.</p>
<dl class="method">
<dt id="api.authenticator.OAuthController.oauth_authentication_callback">
<code class="descname">oauth_authentication_callback</code><span class="sig-paren">(</span><em>_db</em>, <em>params</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#OAuthController.oauth_authentication_callback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.OAuthController.oauth_authentication_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Patron object and a bearer token for a patron who has just
authenticated with one of our OAuth providers.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A redirect to the <cite>redirect_uri</cite> kept in
<cite>params[‘state’]</cite>, with the bearer token encoded into the
fragment identifier as <cite>access_token</cite> and useful information
about the patron encoded into the fragment identifier as
<cite>patron_info</cite>. For example, if params is<p>dict(state=”<a class="reference external" href="http://oauthprovider.org/success">http://oauthprovider.org/success</a>”)</p>
</td>
</tr>
</tbody>
</table>
<p>Then the redirect URI might be:</p>
<blockquote>
<div><a class="reference external" href="http://oauthprovider.org/success#access_token=1234&amp;patron_info=%7B%22name%22%3A+%22Mary+Shell%22%7D">http://oauthprovider.org/success#access_token=1234&amp;patron_info=%7B%22name%22%3A+%22Mary+Shell%22%7D</a></div></blockquote>
<p>It’s the client’s responsibility to extract the access_token,
start using it as a bearer token, and make sense of the
patron_info.</p>
</dd></dl>

<dl class="classmethod">
<dt id="api.authenticator.OAuthController.oauth_authentication_callback_url">
<em class="property">classmethod </em><code class="descname">oauth_authentication_callback_url</code><span class="sig-paren">(</span><em>library_short_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#OAuthController.oauth_authentication_callback_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.OAuthController.oauth_authentication_callback_url" title="Permalink to this definition">¶</a></dt>
<dd><p>The URL to the oauth_authentication_callback controller.</p>
<p>This is its own method because sometimes an
OAuthAuthenticationProvider needs to send it to the OAuth
provider to demonstrate that it knows which URL a patron was
redirected to.</p>
</dd></dl>

<dl class="method">
<dt id="api.authenticator.OAuthController.oauth_authentication_redirect">
<code class="descname">oauth_authentication_redirect</code><span class="sig-paren">(</span><em>params</em>, <em>_db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#OAuthController.oauth_authentication_redirect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.OAuthController.oauth_authentication_redirect" title="Permalink to this definition">¶</a></dt>
<dd><p>Redirect an unauthenticated patron to the authentication URL of the
appropriate OAuth provider.</p>
<p>Over on that other site, the patron will authenticate and be
redirected back to the circulation manager, ending up in
oauth_authentication_callback.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.authenticator.PatronData">
<em class="property">class </em><code class="descclassname">api.authenticator.</code><code class="descname">PatronData</code><span class="sig-paren">(</span><em>permanent_id=None</em>, <em>authorization_identifier=None</em>, <em>username=None</em>, <em>personal_name=None</em>, <em>email_address=None</em>, <em>authorization_expires=None</em>, <em>external_type=None</em>, <em>fines=None</em>, <em>block_reason=None</em>, <em>library_identifier=None</em>, <em>neighborhood=None</em>, <em>cached_neighborhood=None</em>, <em>complete=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#PatronData"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.PatronData" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A container for basic information about a patron.</p>
<p>Like Metadata and CirculationData, this offers a layer of
abstraction between various account managment systems and the
circulation manager database. Unlike with those classes, some of
this data cannot be written to the database for data retention
reasons. But it can be passed from the account management system
to the client application.</p>
<dl class="attribute">
<dt id="api.authenticator.PatronData.CARD_REPORTED_LOST">
<code class="descname">CARD_REPORTED_LOST</code><em class="property"> = 'card reported lost'</em><a class="headerlink" href="#api.authenticator.PatronData.CARD_REPORTED_LOST" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.PatronData.EXCESSIVE_FEES">
<code class="descname">EXCESSIVE_FEES</code><em class="property"> = 'excessive fees'</em><a class="headerlink" href="#api.authenticator.PatronData.EXCESSIVE_FEES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.PatronData.EXCESSIVE_FINES">
<code class="descname">EXCESSIVE_FINES</code><em class="property"> = 'excessive fines'</em><a class="headerlink" href="#api.authenticator.PatronData.EXCESSIVE_FINES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.PatronData.NO_BORROWING_PRIVILEGES">
<code class="descname">NO_BORROWING_PRIVILEGES</code><em class="property"> = 'no borrowing privileges'</em><a class="headerlink" href="#api.authenticator.PatronData.NO_BORROWING_PRIVILEGES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.PatronData.NO_VALUE">
<code class="descname">NO_VALUE</code><em class="property"> = &lt;api.authenticator.NoValue object&gt;</em><a class="headerlink" href="#api.authenticator.PatronData.NO_VALUE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="class">
<dt id="api.authenticator.PatronData.NoValue">
<em class="property">class </em><code class="descname">NoValue</code><a class="reference internal" href="_modules/api/authenticator.html#PatronData.NoValue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.PatronData.NoValue" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="attribute">
<dt id="api.authenticator.PatronData.RECALL_OVERDUE">
<code class="descname">RECALL_OVERDUE</code><em class="property"> = 'recall overdue'</em><a class="headerlink" href="#api.authenticator.PatronData.RECALL_OVERDUE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.PatronData.TOO_MANY_ITEMS_BILLED">
<code class="descname">TOO_MANY_ITEMS_BILLED</code><em class="property"> = 'too many items billed'</em><a class="headerlink" href="#api.authenticator.PatronData.TOO_MANY_ITEMS_BILLED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.PatronData.TOO_MANY_LOANS">
<code class="descname">TOO_MANY_LOANS</code><em class="property"> = 'too many active loans'</em><a class="headerlink" href="#api.authenticator.PatronData.TOO_MANY_LOANS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.PatronData.TOO_MANY_LOST">
<code class="descname">TOO_MANY_LOST</code><em class="property"> = 'too many items lost'</em><a class="headerlink" href="#api.authenticator.PatronData.TOO_MANY_LOST" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.PatronData.TOO_MANY_OVERDUE">
<code class="descname">TOO_MANY_OVERDUE</code><em class="property"> = 'too many items overdue'</em><a class="headerlink" href="#api.authenticator.PatronData.TOO_MANY_OVERDUE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.PatronData.TOO_MANY_RENEWALS">
<code class="descname">TOO_MANY_RENEWALS</code><em class="property"> = 'too many renewals'</em><a class="headerlink" href="#api.authenticator.PatronData.TOO_MANY_RENEWALS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.PatronData.UNKNOWN_BLOCK">
<code class="descname">UNKNOWN_BLOCK</code><em class="property"> = 'unknown'</em><a class="headerlink" href="#api.authenticator.PatronData.UNKNOWN_BLOCK" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.authenticator.PatronData.apply">
<code class="descname">apply</code><span class="sig-paren">(</span><em>patron</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#PatronData.apply"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.PatronData.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>Take the portion of this data that can be stored in the database
and write it to the given Patron record.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.authenticator.PatronData.fines">
<code class="descname">fines</code><a class="headerlink" href="#api.authenticator.PatronData.fines" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.authenticator.PatronData.get_or_create_patron">
<code class="descname">get_or_create_patron</code><span class="sig-paren">(</span><em>_db</em>, <em>library_id</em>, <em>analytics=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#PatronData.get_or_create_patron"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.PatronData.get_or_create_patron" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Patron with this information.</p>
<p>TODO: I’m concerned in the general case with race
conditions. It’s theoretically possible that two newly created
patrons could have the same username or authorization
identifier, violating a uniqueness constraint. This could
happen if one was identified by permanent ID and the other had
no permanent ID and was identified by username. (This would
only come up if the authentication provider has permanent IDs
for some patrons but not others.)</p>
<p>Something similar can happen if the authentication provider
provides username and authorization identifier, but not
permanent ID, and the patron’s authorization identifier (but
not their username) changes while two different circulation
manager authentication requests are pending.</p>
<p>When these race conditions do happen, I think the worst that
will happen is the second request will fail. But it’s very
important that authorization providers give some unique,
preferably unchanging way of identifying patrons.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>library_id</strong> – Database ID of the Library with which this
patron is associated.</li>
<li><strong>analytics</strong> – Analytics instance to track the new patron
creation event.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.authenticator.PatronData.set_authorization_identifier">
<code class="descname">set_authorization_identifier</code><span class="sig-paren">(</span><em>authorization_identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#PatronData.set_authorization_identifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.PatronData.set_authorization_identifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Helper method to set both .authorization_identifier
and .authorization_identifiers appropriately.</p>
</dd></dl>

<dl class="method">
<dt id="api.authenticator.PatronData.set_value">
<code class="descname">set_value</code><span class="sig-paren">(</span><em>patron</em>, <em>field_name</em>, <em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/authenticator.html#PatronData.set_value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.authenticator.PatronData.set_value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.authenticator.PatronData.to_dict">
<code class="descname">to_dict</code><a class="headerlink" href="#api.authenticator.PatronData.to_dict" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the information in this PatronData to a dictionary
which can be converted to JSON and sent out to a client.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.authenticator.PatronData.to_response_parameters">
<code class="descname">to_response_parameters</code><a class="headerlink" href="#api.authenticator.PatronData.to_response_parameters" title="Permalink to this definition">¶</a></dt>
<dd><p>Return information about this patron which the client might
find useful.</p>
<p>This information will be sent to the client immediately after
a patron’s credentials are verified by an OAuth provider.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api.axis">
<span id="api-axis-module"></span><h2>api.axis module<a class="headerlink" href="#module-api.axis" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="api.axis.AudiobookFulfillmentInfo">
<em class="property">class </em><code class="descclassname">api.axis.</code><code class="descname">AudiobookFulfillmentInfo</code><span class="sig-paren">(</span><em>api</em>, <em>data_source_name</em>, <em>identifier_type</em>, <em>identifier</em>, <em>key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#AudiobookFulfillmentInfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.AudiobookFulfillmentInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation.APIAwareFulfillmentInfo" title="api.circulation.APIAwareFulfillmentInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation.APIAwareFulfillmentInfo</span></code></a></p>
<p>An Axis 360-specific FulfillmentInfo implementation for audiobooks.</p>
<p>We use these instead of real FulfillmentInfo objects because
generating a real FulfillmentInfo object would require two extra
HTTP requests, and there’s often no need to make those requests.</p>
<dl class="method">
<dt id="api.axis.AudiobookFulfillmentInfo.do_fetch">
<code class="descname">do_fetch</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#AudiobookFulfillmentInfo.do_fetch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.AudiobookFulfillmentInfo.do_fetch" title="Permalink to this definition">¶</a></dt>
<dd><p>Actually make the API request.</p>
<p>When implemented, this method must set values for some or all
of _content_link, _content_type, _content, and
_content_expires.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.axis.AudiobookFulfillmentInfoResponseParser">
<em class="property">class </em><code class="descclassname">api.axis.</code><code class="descname">AudiobookFulfillmentInfoResponseParser</code><span class="sig-paren">(</span><em>api</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#AudiobookFulfillmentInfoResponseParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.AudiobookFulfillmentInfoResponseParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.axis.JSONResponseParser" title="api.axis.JSONResponseParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.axis.JSONResponseParser</span></code></a></p>
<p>Parse JSON documents into Findaway audiobook manifests.</p>
</dd></dl>

<dl class="class">
<dt id="api.axis.AudiobookMetadataParser">
<em class="property">class </em><code class="descclassname">api.axis.</code><code class="descname">AudiobookMetadataParser</code><span class="sig-paren">(</span><em>collection</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#AudiobookMetadataParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.AudiobookMetadataParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.axis.JSONResponseParser" title="api.axis.JSONResponseParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.axis.JSONResponseParser</span></code></a></p>
<p>Parse the results of Axis 360’s audiobook metadata API call.</p>
</dd></dl>

<dl class="class">
<dt id="api.axis.AvailabilityResponseParser">
<em class="property">class </em><code class="descclassname">api.axis.</code><code class="descname">AvailabilityResponseParser</code><span class="sig-paren">(</span><em>api</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#AvailabilityResponseParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.AvailabilityResponseParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.axis.ResponseParser" title="api.axis.ResponseParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.axis.ResponseParser</span></code></a></p>
<dl class="method">
<dt id="api.axis.AvailabilityResponseParser.process_all">
<code class="descname">process_all</code><span class="sig-paren">(</span><em>string</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#AvailabilityResponseParser.process_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.AvailabilityResponseParser.process_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.axis.AvailabilityResponseParser.process_one">
<code class="descname">process_one</code><span class="sig-paren">(</span><em>e</em>, <em>ns</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#AvailabilityResponseParser.process_one"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.AvailabilityResponseParser.process_one" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.axis.Axis360API">
<em class="property">class </em><code class="descclassname">api.axis.</code><code class="descname">Axis360API</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.Axis360API" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.authenticator.Authenticator" title="api.authenticator.Authenticator"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.authenticator.Authenticator</span></code></a>, <a class="reference internal" href="#api.circulation.BaseCirculationAPI" title="api.circulation.BaseCirculationAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation.BaseCirculationAPI</span></code></a>, <a class="reference internal" href="#api.selftest.HasCollectionSelfTests" title="api.selftest.HasCollectionSelfTests"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.selftest.HasCollectionSelfTests</span></code></a></p>
<dl class="attribute">
<dt id="api.axis.Axis360API.DATE_FORMAT">
<code class="descname">DATE_FORMAT</code><em class="property"> = '%m-%d-%Y %H:%M:%S'</em><a class="headerlink" href="#api.axis.Axis360API.DATE_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.axis.Axis360API.LIBRARY_SETTINGS">
<code class="descname">LIBRARY_SETTINGS</code><em class="property"> = [{'default': 21, 'type': 'number', 'description': l'Until it hears otherwise from the distributor, this server will assume that any given loan for this library from this collection will last this number of days. This number is usually a negotiated value between the library and the distributor. This only affects estimates&amp;mdash;it cannot affect the actual length of loans.', 'key': 'ebook_loan_duration', 'label': l'Default Loan Period (in Days)'}]</em><a class="headerlink" href="#api.axis.Axis360API.LIBRARY_SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.axis.Axis360API.NAME">
<code class="descname">NAME</code><em class="property"> = u'Axis 360'</em><a class="headerlink" href="#api.axis.Axis360API.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.axis.Axis360API.PRODUCTION_BASE_URL">
<code class="descname">PRODUCTION_BASE_URL</code><em class="property"> = 'https://axis360api.baker-taylor.com/Services/VendorAPI/'</em><a class="headerlink" href="#api.axis.Axis360API.PRODUCTION_BASE_URL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.axis.Axis360API.QA_BASE_URL">
<code class="descname">QA_BASE_URL</code><em class="property"> = 'http://axis360apiqa.baker-taylor.com/Services/VendorAPI/'</em><a class="headerlink" href="#api.axis.Axis360API.QA_BASE_URL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.axis.Axis360API.SERVER_NICKNAMES">
<code class="descname">SERVER_NICKNAMES</code><em class="property"> = {'production': 'https://axis360api.baker-taylor.com/Services/VendorAPI/', 'qa': 'http://axis360apiqa.baker-taylor.com/Services/VendorAPI/'}</em><a class="headerlink" href="#api.axis.Axis360API.SERVER_NICKNAMES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.axis.Axis360API.SERVICE_NAME">
<code class="descname">SERVICE_NAME</code><em class="property"> = 'Axis 360'</em><a class="headerlink" href="#api.axis.Axis360API.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.axis.Axis360API.SETTINGS">
<code class="descname">SETTINGS</code><em class="property"> = [{'required': True, 'key': u'username', 'label': l'Username'}, {'required': True, 'key': u'password', 'label': l'Password'}, {'required': True, 'key': u'external_account_id', 'label': l'Library ID'}, {'format': 'url', 'default': 'https://axis360api.baker-taylor.com/Services/VendorAPI/', 'required': True, 'label': l'Server', 'key': u'url', 'allowed': ['qa', 'production']}]</em><a class="headerlink" href="#api.axis.Axis360API.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.axis.Axis360API.SET_DELIVERY_MECHANISM_AT">
<code class="descname">SET_DELIVERY_MECHANISM_AT</code><em class="property"> = 'borrow'</em><a class="headerlink" href="#api.axis.Axis360API.SET_DELIVERY_MECHANISM_AT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.axis.Axis360API.access_token_endpoint">
<code class="descname">access_token_endpoint</code><em class="property"> = 'accesstoken'</em><a class="headerlink" href="#api.axis.Axis360API.access_token_endpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.axis.Axis360API.adobe_drm">
<code class="descname">adobe_drm</code><em class="property"> = u'application/vnd.adobe.adept+xml'</em><a class="headerlink" href="#api.axis.Axis360API.adobe_drm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.axis.Axis360API.audiobook_metadata_endpoint">
<code class="descname">audiobook_metadata_endpoint</code><em class="property"> = 'getaudiobookmetadata/v2'</em><a class="headerlink" href="#api.axis.Axis360API.audiobook_metadata_endpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.axis.Axis360API.authorization_headers">
<code class="descname">authorization_headers</code><a class="headerlink" href="#api.axis.Axis360API.authorization_headers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.axis.Axis360API.availability">
<code class="descname">availability</code><span class="sig-paren">(</span><em>patron_id=None</em>, <em>since=None</em>, <em>title_ids=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.availability"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.Axis360API.availability" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.axis.Axis360API.availability_endpoint">
<code class="descname">availability_endpoint</code><em class="property"> = 'availability/v2'</em><a class="headerlink" href="#api.axis.Axis360API.availability_endpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.axis.Axis360API.checkin">
<code class="descname">checkin</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.checkin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.Axis360API.checkin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a book early.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>patron</strong> – a Patron object for the patron who wants to check out the book.</li>
<li><strong>pin</strong> – The patron’s alleged password.</li>
<li><strong>licensepool</strong> – Contains lending info as well as link to parent Identifier.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.axis.Axis360API.checkout">
<code class="descname">checkout</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>internal_format</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.checkout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.Axis360API.checkout" title="Permalink to this definition">¶</a></dt>
<dd><p>Check out a book on behalf of a patron.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>patron</strong> – a Patron object for the patron who wants to check out the book.</li>
<li><strong>pin</strong> – The patron’s alleged password.</li>
<li><strong>licensepool</strong> – Contains lending info as well as link to parent Identifier.</li>
<li><strong>internal_format</strong> – Represents the patron’s desired book format.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a LoanInfo object.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="api.axis.Axis360API.collection">
<code class="descname">collection</code><a class="headerlink" href="#api.axis.Axis360API.collection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.axis.Axis360API.create_identifier_strings">
<em class="property">classmethod </em><code class="descname">create_identifier_strings</code><span class="sig-paren">(</span><em>identifiers</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.create_identifier_strings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.Axis360API.create_identifier_strings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.axis.Axis360API.delivery_mechanism_to_internal_format">
<code class="descname">delivery_mechanism_to_internal_format</code><em class="property"> = {(None, u'application/vnd.librarysimplified.findaway.license+json'): 'Acoustik', (u'application/epub+zip', None): 'ePub', (u'application/epub+zip', u'application/vnd.adobe.adept+xml'): 'ePub', (u'application/pdf', None): 'PDF', (u'application/pdf', u'application/vnd.adobe.adept+xml'): 'PDF'}</em><a class="headerlink" href="#api.axis.Axis360API.delivery_mechanism_to_internal_format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.axis.Axis360API.epub">
<code class="descname">epub</code><em class="property"> = u'application/epub+zip'</em><a class="headerlink" href="#api.axis.Axis360API.epub" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.axis.Axis360API.external_integration">
<code class="descname">external_integration</code><span class="sig-paren">(</span><em>_db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.external_integration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.Axis360API.external_integration" title="Permalink to this definition">¶</a></dt>
<dd><p>Locate the ExternalIntegration associated with this object.
The status of the self-tests will be stored as a ConfigurationSetting
on this ExternalIntegration.</p>
<p>By default, there is no way to get from an object to its
ExternalIntegration, and self-test status will not be stored.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.axis.Axis360API.findaway_drm">
<code class="descname">findaway_drm</code><em class="property"> = u'application/vnd.librarysimplified.findaway.license+json'</em><a class="headerlink" href="#api.axis.Axis360API.findaway_drm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.axis.Axis360API.fulfill">
<code class="descname">fulfill</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.fulfill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.Axis360API.fulfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Fulfill a patron’s request for a specific book.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kwargs</strong> – A container for arguments to fulfill()
which are not relevant to this vendor.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a FulfillmentInfo object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="api.axis.Axis360API.fulfillment_endpoint">
<code class="descname">fulfillment_endpoint</code><em class="property"> = 'getfullfillmentInfo/v2'</em><a class="headerlink" href="#api.axis.Axis360API.fulfillment_endpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.axis.Axis360API.get_audiobook_metadata">
<code class="descname">get_audiobook_metadata</code><span class="sig-paren">(</span><em>findaway_content_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.get_audiobook_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.Axis360API.get_audiobook_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a call to the getaudiobookmetadata endpoint.</p>
</dd></dl>

<dl class="method">
<dt id="api.axis.Axis360API.get_fulfillment_info">
<code class="descname">get_fulfillment_info</code><span class="sig-paren">(</span><em>transaction_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.get_fulfillment_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.Axis360API.get_fulfillment_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Make a call to the getFulfillmentInfoAPI.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.axis.Axis360API.log">
<code class="descname">log</code><em class="property"> = &lt;logging.Logger object&gt;</em><a class="headerlink" href="#api.axis.Axis360API.log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.axis.Axis360API.no_drm">
<code class="descname">no_drm</code><em class="property"> = None</em><a class="headerlink" href="#api.axis.Axis360API.no_drm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.axis.Axis360API.parse_token">
<em class="property">classmethod </em><code class="descname">parse_token</code><span class="sig-paren">(</span><em>token</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.parse_token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.Axis360API.parse_token" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.axis.Axis360API.patron_activity">
<code class="descname">patron_activity</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>identifier=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.patron_activity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.Axis360API.patron_activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a patron’s current checkouts and holds.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.axis.Axis360API.pdf">
<code class="descname">pdf</code><em class="property"> = u'application/pdf'</em><a class="headerlink" href="#api.axis.Axis360API.pdf" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.axis.Axis360API.place_hold">
<code class="descname">place_hold</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>hold_notification_email</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.place_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.Axis360API.place_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Place a book on hold.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A HoldInfo object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.axis.Axis360API.recent_activity">
<code class="descname">recent_activity</code><span class="sig-paren">(</span><em>since</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.recent_activity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.Axis360API.recent_activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Find books that have had recent activity.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Yield:</th><td class="field-body">A sequence of (Metadata, CirculationData) 2-tuples</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.axis.Axis360API.refresh_bearer_token">
<code class="descname">refresh_bearer_token</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.refresh_bearer_token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.Axis360API.refresh_bearer_token" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.axis.Axis360API.release_hold">
<code class="descname">release_hold</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.release_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.Axis360API.release_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Release a patron’s hold on a book.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="#api.circulation_exceptions.CannotReleaseHold" title="api.circulation_exceptions.CannotReleaseHold"><strong>CannotReleaseHold</strong></a> – If there is an error communicating
with the provider, or the provider refuses to release the hold for
any reason.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.axis.Axis360API.request">
<code class="descname">request</code><span class="sig-paren">(</span><em>url</em>, <em>method='get'</em>, <em>extra_headers={}</em>, <em>data=None</em>, <em>params=None</em>, <em>exception_on_401=False</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.Axis360API.request" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an HTTP request, acquiring/refreshing a bearer token
if necessary.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.axis.Axis360API.source">
<code class="descname">source</code><a class="headerlink" href="#api.axis.Axis360API.source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.axis.Axis360API.update_availability">
<code class="descname">update_availability</code><span class="sig-paren">(</span><em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.update_availability"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.Axis360API.update_availability" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the availability information for a single LicensePool.</p>
<p>Part of the CirculationAPI interface.</p>
</dd></dl>

<dl class="method">
<dt id="api.axis.Axis360API.update_book">
<code class="descname">update_book</code><span class="sig-paren">(</span><em>bibliographic</em>, <em>availability</em>, <em>analytics=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.update_book"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.Axis360API.update_book" title="Permalink to this definition">¶</a></dt>
<dd><p>Create or update a single book based on bibliographic
and availability data from the Axis 360 API.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>bibliographic</strong> – A Metadata object containing
bibliographic data about this title.</li>
<li><strong>availability</strong> – A CirculationData object containing
availability data about this title.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.axis.Axis360API.update_licensepools_for_identifiers">
<code class="descname">update_licensepools_for_identifiers</code><span class="sig-paren">(</span><em>identifiers</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360API.update_licensepools_for_identifiers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.Axis360API.update_licensepools_for_identifiers" title="Permalink to this definition">¶</a></dt>
<dd><p>Update availability and bibliographic information for
a list of books.</p>
<p>If the book has never been seen before, a new LicensePool
will be created for the book.</p>
<p>The book’s LicensePool will be updated with current
circulation information.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.axis.Axis360BibliographicCoverageProvider">
<em class="property">class </em><code class="descclassname">api.axis.</code><code class="descname">Axis360BibliographicCoverageProvider</code><span class="sig-paren">(</span><em>collection</em>, <em>api_class=&lt;class 'api.axis.Axis360API'&gt;</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360BibliographicCoverageProvider"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.Axis360BibliographicCoverageProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.coverage.BibliographicCoverageProvider" title="core.coverage.BibliographicCoverageProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.coverage.BibliographicCoverageProvider</span></code></a></p>
<p>Fill in bibliographic metadata for Axis 360 records.</p>
<p>Currently this is only used by BibliographicRefreshScript. It’s
not normally necessary because the Axis 360 API combines
bibliographic and availability data. We rely on Monitors to fetch
availability data and fill in the bibliographic data as necessary.</p>
<dl class="attribute">
<dt id="api.axis.Axis360BibliographicCoverageProvider.DATA_SOURCE_NAME">
<code class="descname">DATA_SOURCE_NAME</code><em class="property"> = u'Axis 360'</em><a class="headerlink" href="#api.axis.Axis360BibliographicCoverageProvider.DATA_SOURCE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.axis.Axis360BibliographicCoverageProvider.DEFAULT_BATCH_SIZE">
<code class="descname">DEFAULT_BATCH_SIZE</code><em class="property"> = 25</em><a class="headerlink" href="#api.axis.Axis360BibliographicCoverageProvider.DEFAULT_BATCH_SIZE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.axis.Axis360BibliographicCoverageProvider.INPUT_IDENTIFIER_TYPES">
<code class="descname">INPUT_IDENTIFIER_TYPES</code><em class="property"> = u'Axis 360 ID'</em><a class="headerlink" href="#api.axis.Axis360BibliographicCoverageProvider.INPUT_IDENTIFIER_TYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.axis.Axis360BibliographicCoverageProvider.PROTOCOL">
<code class="descname">PROTOCOL</code><em class="property"> = u'Axis 360'</em><a class="headerlink" href="#api.axis.Axis360BibliographicCoverageProvider.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.axis.Axis360BibliographicCoverageProvider.SERVICE_NAME">
<code class="descname">SERVICE_NAME</code><em class="property"> = 'Axis 360 Bibliographic Coverage Provider'</em><a class="headerlink" href="#api.axis.Axis360BibliographicCoverageProvider.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.axis.Axis360BibliographicCoverageProvider.handle_success">
<code class="descname">handle_success</code><span class="sig-paren">(</span><em>identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360BibliographicCoverageProvider.handle_success"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.Axis360BibliographicCoverageProvider.handle_success" title="Permalink to this definition">¶</a></dt>
<dd><p>Once a book has bibliographic coverage, it can be given a
work and made presentation ready.</p>
</dd></dl>

<dl class="method">
<dt id="api.axis.Axis360BibliographicCoverageProvider.process_batch">
<code class="descname">process_batch</code><span class="sig-paren">(</span><em>identifiers</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360BibliographicCoverageProvider.process_batch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.Axis360BibliographicCoverageProvider.process_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Do what it takes to give coverage records to a batch of
items.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A mixed list of coverage records and CoverageFailures.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.axis.Axis360BibliographicCoverageProvider.process_item">
<code class="descname">process_item</code><span class="sig-paren">(</span><em>identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360BibliographicCoverageProvider.process_item"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.Axis360BibliographicCoverageProvider.process_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Do the work necessary to give coverage to one specific item.</p>
<p>Since this is where the actual work happens, this is not
implemented in IdentifierCoverageProvider or
WorkCoverageProvider, and must be handled in a subclass.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.axis.Axis360CirculationMonitor">
<em class="property">class </em><code class="descclassname">api.axis.</code><code class="descname">Axis360CirculationMonitor</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>api_class=&lt;class 'api.axis.Axis360API'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360CirculationMonitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.Axis360CirculationMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.monitor.CollectionMonitor" title="core.monitor.CollectionMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.monitor.CollectionMonitor</span></code></a>, <a class="reference internal" href="core.html#core.monitor.TimelineMonitor" title="core.monitor.TimelineMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.monitor.TimelineMonitor</span></code></a></p>
<p>Maintain LicensePools for Axis 360 titles.</p>
<dl class="attribute">
<dt id="api.axis.Axis360CirculationMonitor.DEFAULT_BATCH_SIZE">
<code class="descname">DEFAULT_BATCH_SIZE</code><em class="property"> = 50</em><a class="headerlink" href="#api.axis.Axis360CirculationMonitor.DEFAULT_BATCH_SIZE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.axis.Axis360CirculationMonitor.DEFAULT_START_TIME">
<code class="descname">DEFAULT_START_TIME</code><em class="property"> = datetime.datetime(1970, 1, 1, 0, 0)</em><a class="headerlink" href="#api.axis.Axis360CirculationMonitor.DEFAULT_START_TIME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.axis.Axis360CirculationMonitor.INTERVAL_SECONDS">
<code class="descname">INTERVAL_SECONDS</code><em class="property"> = 60</em><a class="headerlink" href="#api.axis.Axis360CirculationMonitor.INTERVAL_SECONDS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.axis.Axis360CirculationMonitor.PROTOCOL">
<code class="descname">PROTOCOL</code><em class="property"> = u'Axis 360'</em><a class="headerlink" href="#api.axis.Axis360CirculationMonitor.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.axis.Axis360CirculationMonitor.SERVICE_NAME">
<code class="descname">SERVICE_NAME</code><em class="property"> = 'Axis 360 Circulation Monitor'</em><a class="headerlink" href="#api.axis.Axis360CirculationMonitor.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.axis.Axis360CirculationMonitor.catch_up_from">
<code class="descname">catch_up_from</code><span class="sig-paren">(</span><em>start</em>, <em>cutoff</em>, <em>progress</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360CirculationMonitor.catch_up_from"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.Axis360CirculationMonitor.catch_up_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Find Axis 360 books that changed recently.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Progress:</th><td class="field-body">A TimestampData representing the time previously
covered by this Monitor.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.axis.Axis360CirculationMonitor.process_book">
<code class="descname">process_book</code><span class="sig-paren">(</span><em>bibliographic</em>, <em>circulation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#Axis360CirculationMonitor.process_book"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.Axis360CirculationMonitor.process_book" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.axis.Axis360Parser">
<em class="property">class </em><code class="descclassname">api.axis.</code><code class="descname">Axis360Parser</code><a class="reference internal" href="_modules/api/axis.html#Axis360Parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.Axis360Parser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.util.html#core.util.xmlparser.XMLParser" title="core.util.xmlparser.XMLParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.util.xmlparser.XMLParser</span></code></a></p>
<dl class="attribute">
<dt id="api.axis.Axis360Parser.FULL_DATE_FORMAT">
<code class="descname">FULL_DATE_FORMAT</code><em class="property"> = '%m/%d/%Y %I:%M:%S %p +00:00'</em><a class="headerlink" href="#api.axis.Axis360Parser.FULL_DATE_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.axis.Axis360Parser.FULL_DATE_FORMAT_IMPLICIT_UTC">
<code class="descname">FULL_DATE_FORMAT_IMPLICIT_UTC</code><em class="property"> = '%m/%d/%Y %I:%M:%S %p'</em><a class="headerlink" href="#api.axis.Axis360Parser.FULL_DATE_FORMAT_IMPLICIT_UTC" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.axis.Axis360Parser.NS">
<code class="descname">NS</code><em class="property"> = {'axis': 'http://axis360api.baker-taylor.com/vendorAPI'}</em><a class="headerlink" href="#api.axis.Axis360Parser.NS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.axis.Axis360Parser.SHORT_DATE_FORMAT">
<code class="descname">SHORT_DATE_FORMAT</code><em class="property"> = '%m/%d/%Y'</em><a class="headerlink" href="#api.axis.Axis360Parser.SHORT_DATE_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.axis.AxisCollectionReaper">
<em class="property">class </em><code class="descclassname">api.axis.</code><code class="descname">AxisCollectionReaper</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>api_class=&lt;class 'api.axis.Axis360API'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#AxisCollectionReaper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.AxisCollectionReaper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.monitor.IdentifierSweepMonitor" title="core.monitor.IdentifierSweepMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.monitor.IdentifierSweepMonitor</span></code></a></p>
<p>Check for books that are in the local collection but have left our
Axis 360 collection.</p>
<dl class="attribute">
<dt id="api.axis.AxisCollectionReaper.INTERVAL_SECONDS">
<code class="descname">INTERVAL_SECONDS</code><em class="property"> = 43200</em><a class="headerlink" href="#api.axis.AxisCollectionReaper.INTERVAL_SECONDS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.axis.AxisCollectionReaper.PROTOCOL">
<code class="descname">PROTOCOL</code><em class="property"> = u'Axis 360'</em><a class="headerlink" href="#api.axis.AxisCollectionReaper.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.axis.AxisCollectionReaper.SERVICE_NAME">
<code class="descname">SERVICE_NAME</code><em class="property"> = 'Axis Collection Reaper'</em><a class="headerlink" href="#api.axis.AxisCollectionReaper.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.axis.AxisCollectionReaper.process_items">
<code class="descname">process_items</code><span class="sig-paren">(</span><em>identifiers</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#AxisCollectionReaper.process_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.AxisCollectionReaper.process_items" title="Permalink to this definition">¶</a></dt>
<dd><p>Process a list of items.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.axis.BibliographicParser">
<em class="property">class </em><code class="descclassname">api.axis.</code><code class="descname">BibliographicParser</code><span class="sig-paren">(</span><em>include_availability=True</em>, <em>include_bibliographic=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#BibliographicParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.BibliographicParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.axis.Axis360Parser" title="api.axis.Axis360Parser"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.axis.Axis360Parser</span></code></a></p>
<dl class="attribute">
<dt id="api.axis.BibliographicParser.DELIVERY_DATA_FOR_AXIS_FORMAT">
<code class="descname">DELIVERY_DATA_FOR_AXIS_FORMAT</code><em class="property"> = {'Acoustik': (None, u'application/vnd.librarysimplified.findaway.license+json'), 'AxisNow': None, 'Blio': None, 'PDF': (u'application/pdf', u'application/vnd.adobe.adept+xml'), 'ePub': (u'application/epub+zip', u'application/vnd.adobe.adept+xml')}</em><a class="headerlink" href="#api.axis.BibliographicParser.DELIVERY_DATA_FOR_AXIS_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.axis.BibliographicParser.extract_availability">
<code class="descname">extract_availability</code><span class="sig-paren">(</span><em>circulation_data</em>, <em>element</em>, <em>ns</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#BibliographicParser.extract_availability"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.BibliographicParser.extract_availability" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.axis.BibliographicParser.extract_bibliographic">
<code class="descname">extract_bibliographic</code><span class="sig-paren">(</span><em>element</em>, <em>ns</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#BibliographicParser.extract_bibliographic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.BibliographicParser.extract_bibliographic" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn bibliographic metadata into a Metadata and a CirculationData objects,
and return them as a tuple.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.axis.BibliographicParser.generic_author">
<code class="descname">generic_author</code><em class="property"> = &lt;object object&gt;</em><a class="headerlink" href="#api.axis.BibliographicParser.generic_author" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.axis.BibliographicParser.log">
<code class="descname">log</code><em class="property"> = &lt;logging.Logger object&gt;</em><a class="headerlink" href="#api.axis.BibliographicParser.log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.axis.BibliographicParser.parse_contributor">
<em class="property">classmethod </em><code class="descname">parse_contributor</code><span class="sig-paren">(</span><em>author</em>, <em>primary_author_found=False</em>, <em>force_role=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#BibliographicParser.parse_contributor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.BibliographicParser.parse_contributor" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse an Axis 360 contributor string.</p>
<p>The contributor string looks like “Butler, Octavia” or “Walt
Disney Pictures (COR)” or “Rex, Adam (ILT)”. The optional
three-letter code describes the contributor’s role in the
book.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>author</strong> – The string to parse.</li>
<li><strong>primary_author_found</strong> – If this is false, then a
contributor with no three-letter code will be treated as
the primary author. If this is true, then a contributor
with no three-letter code will be treated as just a
regular author.</li>
<li><strong>force_role</strong> – If this is set, the contributor will be
assigned this role, no matter what. This takes precedence
over the value implied by primary_author_found.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="api.axis.BibliographicParser.parse_list">
<em class="property">classmethod </em><code class="descname">parse_list</code><span class="sig-paren">(</span><em>l</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#BibliographicParser.parse_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.BibliographicParser.parse_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn strings like this into lists:</p>
<p>FICTION / Thrillers; FICTION / Suspense; FICTION / General
Ursu, Anne ; Fortune, Eric (ILT)</p>
</dd></dl>

<dl class="method">
<dt id="api.axis.BibliographicParser.process_all">
<code class="descname">process_all</code><span class="sig-paren">(</span><em>string</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#BibliographicParser.process_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.BibliographicParser.process_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.axis.BibliographicParser.process_one">
<code class="descname">process_one</code><span class="sig-paren">(</span><em>element</em>, <em>ns</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#BibliographicParser.process_one"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.BibliographicParser.process_one" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.axis.BibliographicParser.role_abbreviation">
<code class="descname">role_abbreviation</code><em class="property"> = &lt;_sre.SRE_Pattern object&gt;</em><a class="headerlink" href="#api.axis.BibliographicParser.role_abbreviation" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.axis.BibliographicParser.role_abbreviation_to_role">
<code class="descname">role_abbreviation_to_role</code><em class="property"> = {'ADP': &lt;object object&gt;, 'COR': &lt;object object&gt;, 'EDT': u'Editor', 'FRW': u'Foreword Author', 'ILT': u'Illustrator', 'INT': u'Introduction Author', 'PHT': u'Photographer', 'TRN': u'Translator'}</em><a class="headerlink" href="#api.axis.BibliographicParser.role_abbreviation_to_role" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.axis.CheckoutResponseParser">
<em class="property">class </em><code class="descclassname">api.axis.</code><code class="descname">CheckoutResponseParser</code><span class="sig-paren">(</span><em>collection</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#CheckoutResponseParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.CheckoutResponseParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.axis.ResponseParser" title="api.axis.ResponseParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.axis.ResponseParser</span></code></a></p>
<dl class="method">
<dt id="api.axis.CheckoutResponseParser.process_all">
<code class="descname">process_all</code><span class="sig-paren">(</span><em>string</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#CheckoutResponseParser.process_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.CheckoutResponseParser.process_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.axis.CheckoutResponseParser.process_one">
<code class="descname">process_one</code><span class="sig-paren">(</span><em>e</em>, <em>namespaces</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#CheckoutResponseParser.process_one"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.CheckoutResponseParser.process_one" title="Permalink to this definition">¶</a></dt>
<dd><p>Either turn the given document into a LoanInfo
object, or raise an appropriate exception.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.axis.HoldReleaseResponseParser">
<em class="property">class </em><code class="descclassname">api.axis.</code><code class="descname">HoldReleaseResponseParser</code><span class="sig-paren">(</span><em>collection</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#HoldReleaseResponseParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.HoldReleaseResponseParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.axis.ResponseParser" title="api.axis.ResponseParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.axis.ResponseParser</span></code></a></p>
<dl class="method">
<dt id="api.axis.HoldReleaseResponseParser.post_process">
<code class="descname">post_process</code><span class="sig-paren">(</span><em>i</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#HoldReleaseResponseParser.post_process"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.HoldReleaseResponseParser.post_process" title="Permalink to this definition">¶</a></dt>
<dd><p>Unlike other ResponseParser subclasses, we don’t return any type of
*Info object, so there’s no need to do any post-processing.</p>
</dd></dl>

<dl class="method">
<dt id="api.axis.HoldReleaseResponseParser.process_all">
<code class="descname">process_all</code><span class="sig-paren">(</span><em>string</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#HoldReleaseResponseParser.process_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.HoldReleaseResponseParser.process_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.axis.HoldReleaseResponseParser.process_one">
<code class="descname">process_one</code><span class="sig-paren">(</span><em>e</em>, <em>namespaces</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#HoldReleaseResponseParser.process_one"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.HoldReleaseResponseParser.process_one" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.axis.HoldResponseParser">
<em class="property">class </em><code class="descclassname">api.axis.</code><code class="descname">HoldResponseParser</code><span class="sig-paren">(</span><em>collection</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#HoldResponseParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.HoldResponseParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.axis.ResponseParser" title="api.axis.ResponseParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.axis.ResponseParser</span></code></a></p>
<dl class="method">
<dt id="api.axis.HoldResponseParser.process_all">
<code class="descname">process_all</code><span class="sig-paren">(</span><em>string</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#HoldResponseParser.process_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.HoldResponseParser.process_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.axis.HoldResponseParser.process_one">
<code class="descname">process_one</code><span class="sig-paren">(</span><em>e</em>, <em>namespaces</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#HoldResponseParser.process_one"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.HoldResponseParser.process_one" title="Permalink to this definition">¶</a></dt>
<dd><p>Either turn the given document into a HoldInfo
object, or raise an appropriate exception.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.axis.JSONResponseParser">
<em class="property">class </em><code class="descclassname">api.axis.</code><code class="descname">JSONResponseParser</code><span class="sig-paren">(</span><em>collection</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#JSONResponseParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.JSONResponseParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.axis.ResponseParser" title="api.axis.ResponseParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.axis.ResponseParser</span></code></a></p>
<p>Most ResponseParsers parse XML documents; subclasses of
JSONResponseParser parse JSON documents.</p>
<p>This only subclasses ResponseParser so it can reuse
_raise_exception_on_error.</p>
<dl class="method">
<dt id="api.axis.JSONResponseParser.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>data</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#JSONResponseParser.parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.JSONResponseParser.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse a JSON document.</p>
</dd></dl>

<dl class="classmethod">
<dt id="api.axis.JSONResponseParser.verify_status_code">
<em class="property">classmethod </em><code class="descname">verify_status_code</code><span class="sig-paren">(</span><em>parsed</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#JSONResponseParser.verify_status_code"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.JSONResponseParser.verify_status_code" title="Permalink to this definition">¶</a></dt>
<dd><p>Assert that the incoming JSON document represents a successful
response.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.axis.MockAxis360API">
<em class="property">class </em><code class="descclassname">api.axis.</code><code class="descname">MockAxis360API</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>with_token=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#MockAxis360API"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.MockAxis360API" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.axis.Axis360API" title="api.axis.Axis360API"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.axis.Axis360API</span></code></a></p>
<dl class="classmethod">
<dt id="api.axis.MockAxis360API.mock_collection">
<em class="property">classmethod </em><code class="descname">mock_collection</code><span class="sig-paren">(</span><em>_db</em>, <em>name='Test Axis 360 Collection'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#MockAxis360API.mock_collection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.MockAxis360API.mock_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a mock Axis 360 collection for use in tests.</p>
</dd></dl>

<dl class="method">
<dt id="api.axis.MockAxis360API.queue_response">
<code class="descname">queue_response</code><span class="sig-paren">(</span><em>status_code</em>, <em>headers={}</em>, <em>content=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#MockAxis360API.queue_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.MockAxis360API.queue_response" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.axis.ResponseParser">
<em class="property">class </em><code class="descclassname">api.axis.</code><code class="descname">ResponseParser</code><span class="sig-paren">(</span><em>collection</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#ResponseParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.ResponseParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.axis.Axis360Parser" title="api.axis.Axis360Parser"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.axis.Axis360Parser</span></code></a></p>
<dl class="attribute">
<dt id="api.axis.ResponseParser.SERVICE_NAME">
<code class="descname">SERVICE_NAME</code><em class="property"> = 'Axis 360'</em><a class="headerlink" href="#api.axis.ResponseParser.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.axis.ResponseParser.code_to_exception">
<code class="descname">code_to_exception</code><em class="property"> = {315: &lt;class 'api.circulation_exceptions.InvalidInputException'&gt;, 316: &lt;class 'api.circulation_exceptions.InvalidInputException'&gt;, 1000: &lt;class 'api.circulation_exceptions.PatronAuthorizationFailedException'&gt;, 1001: &lt;class 'api.circulation_exceptions.PatronAuthorizationFailedException'&gt;, 1002: &lt;class 'api.circulation_exceptions.PatronAuthorizationFailedException'&gt;, 1003: &lt;class 'api.circulation_exceptions.PatronAuthorizationFailedException'&gt;, 2000: &lt;class 'api.circulation_exceptions.LibraryAuthorizationFailedException'&gt;, 2001: &lt;class 'api.circulation_exceptions.LibraryAuthorizationFailedException'&gt;, 2002: &lt;class 'api.circulation_exceptions.LibraryAuthorizationFailedException'&gt;, 2003: &lt;class 'api.circulation_exceptions.LibraryAuthorizationFailedException'&gt;, 2004: &lt;class 'api.circulation_exceptions.LibraryAuthorizationFailedException'&gt;, 2005: &lt;class 'api.circulation_exceptions.LibraryAuthorizationFailedException'&gt;, 2007: &lt;class 'api.circulation_exceptions.LibraryAuthorizationFailedException'&gt;, 2008: &lt;class 'api.circulation_exceptions.LibraryAuthorizationFailedException'&gt;, 3100: &lt;class 'api.circulation_exceptions.LibraryInvalidInputException'&gt;, 3101: &lt;class 'api.circulation_exceptions.LibraryInvalidInputException'&gt;, 3102: &lt;class 'api.circulation_exceptions.LibraryInvalidInputException'&gt;, 3103: &lt;class 'api.circulation_exceptions.NotFoundOnRemote'&gt;, 3104: &lt;class 'api.circulation_exceptions.LibraryInvalidInputException'&gt;, 3105: &lt;class 'api.circulation_exceptions.PatronAuthorizationFailedException'&gt;, 3106: &lt;class 'api.circulation_exceptions.InvalidInputException'&gt;, 3108: &lt;class 'api.circulation_exceptions.InvalidInputException'&gt;, 3109: &lt;class 'api.circulation_exceptions.InvalidInputException'&gt;, 3110: &lt;class 'api.circulation_exceptions.AlreadyCheckedOut'&gt;, 3111: &lt;class 'api.circulation_exceptions.CurrentlyAvailable'&gt;, 3112: &lt;class 'api.circulation_exceptions.CannotFulfill'&gt;, 3113: &lt;class 'api.circulation_exceptions.CannotLoan'&gt;, 3114: &lt;class 'api.circulation_exceptions.PatronLoanLimitReached'&gt;, 3115: &lt;class 'api.circulation_exceptions.LibraryInvalidInputException'&gt;, 3117: &lt;class 'api.circulation_exceptions.LibraryInvalidInputException'&gt;, 3118: &lt;class 'api.circulation_exceptions.LibraryInvalidInputException'&gt;, 3119: &lt;class 'api.circulation_exceptions.LibraryAuthorizationFailedException'&gt;, 3120: &lt;class 'api.circulation_exceptions.LibraryAuthorizationFailedException'&gt;, 3123: &lt;class 'api.circulation_exceptions.PatronAuthorizationFailedException'&gt;, 3126: &lt;class 'api.circulation_exceptions.LibraryInvalidInputException'&gt;, 3127: &lt;class 'api.circulation_exceptions.InvalidInputException'&gt;, 3128: &lt;class 'api.circulation_exceptions.InvalidInputException'&gt;, 3130: &lt;class 'api.circulation_exceptions.LibraryInvalidInputException'&gt;, 3131: &lt;class 'api.circulation_exceptions.RemoteInitiatedServerError'&gt;, 3132: &lt;class 'api.circulation_exceptions.LibraryInvalidInputException'&gt;, 3134: &lt;class 'api.circulation_exceptions.LibraryInvalidInputException'&gt;, 3135: &lt;class 'api.circulation_exceptions.NoAcceptableFormat'&gt;, 3136: &lt;class 'api.circulation_exceptions.LibraryInvalidInputException'&gt;, 5000: &lt;class 'api.circulation_exceptions.RemoteInitiatedServerError'&gt;, 5003: &lt;class 'api.circulation_exceptions.LibraryInvalidInputException'&gt;, 5004: &lt;class 'api.circulation_exceptions.LibraryInvalidInputException'&gt;, (3113, 'Title ID is not available for checkout'): &lt;class 'api.circulation_exceptions.NoAvailableCopies'&gt;}</em><a class="headerlink" href="#api.axis.ResponseParser.code_to_exception" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.axis.ResponseParser.id_type">
<code class="descname">id_type</code><em class="property"> = u'Axis 360 ID'</em><a class="headerlink" href="#api.axis.ResponseParser.id_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.axis.ResponseParser.raise_exception_on_error">
<code class="descname">raise_exception_on_error</code><span class="sig-paren">(</span><em>e</em>, <em>ns</em>, <em>custom_error_classes={}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/axis.html#ResponseParser.raise_exception_on_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.axis.ResponseParser.raise_exception_on_error" title="Permalink to this definition">¶</a></dt>
<dd><p>Raise an error if the given lxml node represents an Axis 360 error
condition.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api.base_controller">
<span id="api-base-controller-module"></span><h2>api.base_controller module<a class="headerlink" href="#module-api.base_controller" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="api.base_controller.BaseCirculationManagerController">
<em class="property">class </em><code class="descclassname">api.base_controller.</code><code class="descname">BaseCirculationManagerController</code><span class="sig-paren">(</span><em>manager</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/base_controller.html#BaseCirculationManagerController"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.base_controller.BaseCirculationManagerController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Define minimal standards for a circulation manager controller,
mainly around authentication.</p>
<dl class="method">
<dt id="api.base_controller.BaseCirculationManagerController.authenticate">
<code class="descname">authenticate</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/base_controller.html#BaseCirculationManagerController.authenticate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.base_controller.BaseCirculationManagerController.authenticate" title="Permalink to this definition">¶</a></dt>
<dd><p>Sends a 401 response that demands authentication.</p>
</dd></dl>

<dl class="method">
<dt id="api.base_controller.BaseCirculationManagerController.authenticated_patron">
<code class="descname">authenticated_patron</code><span class="sig-paren">(</span><em>authorization_header</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/base_controller.html#BaseCirculationManagerController.authenticated_patron"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.base_controller.BaseCirculationManagerController.authenticated_patron" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up the patron authenticated by the given authorization header.</p>
<p>The header could contain a barcode and pin or a token for an
external service.</p>
<p>If there’s a problem, return a Problem Detail Document.</p>
<p>If there’s no problem, return a Patron object.</p>
</dd></dl>

<dl class="method">
<dt id="api.base_controller.BaseCirculationManagerController.authenticated_patron_from_request">
<code class="descname">authenticated_patron_from_request</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/base_controller.html#BaseCirculationManagerController.authenticated_patron_from_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.base_controller.BaseCirculationManagerController.authenticated_patron_from_request" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.base_controller.BaseCirculationManagerController.authorization_header">
<code class="descname">authorization_header</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/base_controller.html#BaseCirculationManagerController.authorization_header"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.base_controller.BaseCirculationManagerController.authorization_header" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the authentication header.</p>
</dd></dl>

<dl class="method">
<dt id="api.base_controller.BaseCirculationManagerController.library_for_request">
<code class="descname">library_for_request</code><span class="sig-paren">(</span><em>library_short_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/base_controller.html#BaseCirculationManagerController.library_for_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.base_controller.BaseCirculationManagerController.library_for_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up the library the user is trying to access.</p>
<p>Since this is called on pretty much every request, it’s also
an appropriate time to check whether the site configuration
has been changed and needs to be updated.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api.bibliotheca">
<span id="api-bibliotheca-module"></span><h2>api.bibliotheca module<a class="headerlink" href="#module-api.bibliotheca" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="api.bibliotheca.BibliothecaAPI">
<em class="property">class </em><code class="descclassname">api.bibliotheca.</code><code class="descname">BibliothecaAPI</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation.BaseCirculationAPI" title="api.circulation.BaseCirculationAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation.BaseCirculationAPI</span></code></a>, <a class="reference internal" href="#api.selftest.HasSelfTests" title="api.selftest.HasSelfTests"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.selftest.HasSelfTests</span></code></a></p>
<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaAPI.ARGUMENT_TIME_FORMAT">
<code class="descname">ARGUMENT_TIME_FORMAT</code><em class="property"> = '%Y-%m-%dT%H:%M:%S'</em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.ARGUMENT_TIME_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaAPI.AUTHORIZATION_FORMAT">
<code class="descname">AUTHORIZATION_FORMAT</code><em class="property"> = '3MCLAUTH %s:%s'</em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.AUTHORIZATION_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaAPI.AUTHORIZATION_HEADER">
<code class="descname">AUTHORIZATION_HEADER</code><em class="property"> = '3mcl-Authorization'</em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.AUTHORIZATION_HEADER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaAPI.AUTH_TIME_FORMAT">
<code class="descname">AUTH_TIME_FORMAT</code><em class="property"> = '%a, %d %b %Y %H:%M:%S GMT'</em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.AUTH_TIME_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaAPI.CAN_REVOKE_HOLD_WHEN_RESERVED">
<code class="descname">CAN_REVOKE_HOLD_WHEN_RESERVED</code><em class="property"> = False</em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.CAN_REVOKE_HOLD_WHEN_RESERVED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaAPI.DATETIME_HEADER">
<code class="descname">DATETIME_HEADER</code><em class="property"> = '3mcl-Datetime'</em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.DATETIME_HEADER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaAPI.DEFAULT_BASE_URL">
<code class="descname">DEFAULT_BASE_URL</code><em class="property"> = 'https://partner.yourcloudlibrary.com/'</em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.DEFAULT_BASE_URL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaAPI.DEFAULT_VERSION">
<code class="descname">DEFAULT_VERSION</code><em class="property"> = '2.0'</em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.DEFAULT_VERSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaAPI.LIBRARY_SETTINGS">
<code class="descname">LIBRARY_SETTINGS</code><em class="property"> = [{'default': 21, 'type': 'number', 'description': l'Until it hears otherwise from the distributor, this server will assume that any given loan for this library from this collection will last this number of days. This number is usually a negotiated value between the library and the distributor. This only affects estimates&amp;mdash;it cannot affect the actual length of loans.', 'key': 'ebook_loan_duration', 'label': l'Default Loan Period (in Days)'}]</em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.LIBRARY_SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaAPI.MAX_AGE">
<code class="descname">MAX_AGE</code><em class="property"> = 0</em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.MAX_AGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaAPI.NAME">
<code class="descname">NAME</code><em class="property"> = u'Bibliotheca'</em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaAPI.SERVICE_NAME">
<code class="descname">SERVICE_NAME</code><em class="property"> = 'Bibliotheca'</em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaAPI.SETTINGS">
<code class="descname">SETTINGS</code><em class="property"> = [{'required': True, 'key': u'username', 'label': l'Account ID'}, {'required': True, 'key': u'password', 'label': l'Account Key'}, {'required': True, 'key': u'external_account_id', 'label': l'Library ID'}]</em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaAPI.SET_DELIVERY_MECHANISM_AT">
<code class="descname">SET_DELIVERY_MECHANISM_AT</code><em class="property"> = None</em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.SET_DELIVERY_MECHANISM_AT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaAPI.TEMPLATE">
<code class="descname">TEMPLATE</code><em class="property"> = '&lt;%(request_type)s&gt;&lt;ItemId&gt;%(item_id)s&lt;/ItemId&gt;&lt;PatronId&gt;%(patron_id)s&lt;/PatronId&gt;&lt;/%(request_type)s&gt;'</em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.TEMPLATE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaAPI.VERSION_HEADER">
<code class="descname">VERSION_HEADER</code><em class="property"> = '3mcl-Version'</em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.VERSION_HEADER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaAPI.adobe_drm">
<code class="descname">adobe_drm</code><em class="property"> = u'application/vnd.adobe.adept+xml'</em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.adobe_drm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.bibliotheca.BibliothecaAPI.authorization">
<code class="descname">authorization</code><span class="sig-paren">(</span><em>method</em>, <em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.authorization"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.authorization" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.bibliotheca.BibliothecaAPI.bibliographic_lookup">
<code class="descname">bibliographic_lookup</code><span class="sig-paren">(</span><em>identifiers</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.bibliographic_lookup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.bibliographic_lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up current bibliographic and circulation information for the
given <cite>identifiers</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>identifiers</strong> – A list containing either Identifier
objects or Bibliotheca identifier strings.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.bibliotheca.BibliothecaAPI.bibliographic_lookup_request">
<code class="descname">bibliographic_lookup_request</code><span class="sig-paren">(</span><em>identifiers</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.bibliographic_lookup_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.bibliographic_lookup_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an HTTP request to look up current bibliographic and
circulation information for the given <cite>identifiers</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>identifiers</strong> – Strings containing Bibliotheca identifiers.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A string containing an XML document, or None if there was
an error not handled as an exception.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.bibliotheca.BibliothecaAPI.checkin">
<code class="descname">checkin</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.checkin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.checkin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a book early.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>patron</strong> – a Patron object for the patron who wants to check out the book.</li>
<li><strong>pin</strong> – The patron’s alleged password.</li>
<li><strong>licensepool</strong> – Contains lending info as well as link to parent Identifier.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.bibliotheca.BibliothecaAPI.checkout">
<code class="descname">checkout</code><span class="sig-paren">(</span><em>patron_obj</em>, <em>patron_password</em>, <em>licensepool</em>, <em>delivery_mechanism</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.checkout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.checkout" title="Permalink to this definition">¶</a></dt>
<dd><p>Check out a book on behalf of a patron.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>patron_obj</strong> – a Patron object for the patron who wants
to check out the book.</li>
<li><strong>patron_password</strong> – The patron’s alleged password.  Not used here
since Bibliotheca trusts Simplified to do the check ahead of time.</li>
<li><strong>licensepool</strong> – LicensePool for the book to be checked out.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a LoanInfo object</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaAPI.collection">
<code class="descname">collection</code><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.collection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaAPI.delivery_mechanism_to_internal_format">
<code class="descname">delivery_mechanism_to_internal_format</code><em class="property"> = {(None, u'application/vnd.librarysimplified.findaway.license+json'): 'MP3', (u'application/epub+zip', u'application/vnd.adobe.adept+xml'): 'ePub', (u'application/pdf', u'application/vnd.adobe.adept+xml'): 'PDF'}</em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.delivery_mechanism_to_internal_format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.bibliotheca.BibliothecaAPI.external_integration">
<code class="descname">external_integration</code><span class="sig-paren">(</span><em>_db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.external_integration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.external_integration" title="Permalink to this definition">¶</a></dt>
<dd><p>Locate the ExternalIntegration associated with this object.
The status of the self-tests will be stored as a ConfigurationSetting
on this ExternalIntegration.</p>
<p>By default, there is no way to get from an object to its
ExternalIntegration, and self-test status will not be stored.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaAPI.findaway_drm">
<code class="descname">findaway_drm</code><em class="property"> = u'application/vnd.librarysimplified.findaway.license+json'</em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.findaway_drm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.bibliotheca.BibliothecaAPI.findaway_license_to_webpub_manifest">
<em class="property">classmethod </em><code class="descname">findaway_license_to_webpub_manifest</code><span class="sig-paren">(</span><em>license_pool</em>, <em>findaway_license</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.findaway_license_to_webpub_manifest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.findaway_license_to_webpub_manifest" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a Bibliotheca license document to a FindawayManifest
suitable for serving to a mobile client.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>license_pool</strong> – A LicensePool for the title in question.
This will be used to fill in basic bibliographic information.</li>
<li><strong>findaway_license</strong> – A string containing a Findaway
license document via Bibliotheca, or a dictionary
representing such a document loaded into JSON form.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.bibliotheca.BibliothecaAPI.fulfill">
<code class="descname">fulfill</code><span class="sig-paren">(</span><em>patron</em>, <em>password</em>, <em>pool</em>, <em>internal_format</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.fulfill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.fulfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the actual resource file to the patron.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kwargs</strong> – A container for standard arguments to fulfill()
which are not relevant to this implementation.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a FulfillmentInfo object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.bibliotheca.BibliothecaAPI.full_path">
<code class="descname">full_path</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.full_path"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.full_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.bibliotheca.BibliothecaAPI.full_url">
<code class="descname">full_url</code><span class="sig-paren">(</span><em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.full_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.full_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.bibliotheca.BibliothecaAPI.get_audio_fulfillment_file">
<code class="descname">get_audio_fulfillment_file</code><span class="sig-paren">(</span><em>patron_id</em>, <em>bibliotheca_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.get_audio_fulfillment_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.get_audio_fulfillment_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.bibliotheca.BibliothecaAPI.get_bibliographic_info_for">
<code class="descname">get_bibliographic_info_for</code><span class="sig-paren">(</span><em>editions</em>, <em>max_age=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.get_bibliographic_info_for"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.get_bibliographic_info_for" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.bibliotheca.BibliothecaAPI.get_events_between">
<code class="descname">get_events_between</code><span class="sig-paren">(</span><em>start</em>, <em>end</em>, <em>cache_result=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.get_events_between"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.get_events_between" title="Permalink to this definition">¶</a></dt>
<dd><p>Return event objects for events between the given times.</p>
</dd></dl>

<dl class="method">
<dt id="api.bibliotheca.BibliothecaAPI.get_fulfillment_file">
<code class="descname">get_fulfillment_file</code><span class="sig-paren">(</span><em>patron_id</em>, <em>bibliotheca_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.get_fulfillment_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.get_fulfillment_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaAPI.internal_format_to_delivery_mechanism">
<code class="descname">internal_format_to_delivery_mechanism</code><em class="property"> = {'MP3': (None, u'application/vnd.librarysimplified.findaway.license+json'), 'PDF': (u'application/pdf', u'application/vnd.adobe.adept+xml'), 'ePub': (u'application/epub+zip', u'application/vnd.adobe.adept+xml')}</em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.internal_format_to_delivery_mechanism" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaAPI.log">
<code class="descname">log</code><em class="property"> = &lt;logging.Logger object&gt;</em><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.bibliotheca.BibliothecaAPI.now">
<code class="descname">now</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.now"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.now" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the current GMT time in the format 3M expects.</p>
</dd></dl>

<dl class="method">
<dt id="api.bibliotheca.BibliothecaAPI.patron_activity">
<code class="descname">patron_activity</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.patron_activity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.patron_activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a patron’s current checkouts and holds.</p>
</dd></dl>

<dl class="method">
<dt id="api.bibliotheca.BibliothecaAPI.place_hold">
<code class="descname">place_hold</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>hold_notification_email=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.place_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.place_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Place a hold.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a HoldInfo object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.bibliotheca.BibliothecaAPI.release_hold">
<code class="descname">release_hold</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.release_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.release_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Release a patron’s hold on a book.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="#api.circulation_exceptions.CannotReleaseHold" title="api.circulation_exceptions.CannotReleaseHold"><strong>CannotReleaseHold</strong></a> – If there is an error communicating
with the provider, or the provider refuses to release the hold for
any reason.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="api.bibliotheca.BibliothecaAPI.replacement_policy">
<em class="property">classmethod </em><code class="descname">replacement_policy</code><span class="sig-paren">(</span><em>_db</em>, <em>analytics=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.replacement_policy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.replacement_policy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.bibliotheca.BibliothecaAPI.request">
<code class="descname">request</code><span class="sig-paren">(</span><em>path</em>, <em>body=None</em>, <em>method='GET'</em>, <em>identifier=None</em>, <em>max_age=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.request" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.bibliotheca.BibliothecaAPI.sign">
<code class="descname">sign</code><span class="sig-paren">(</span><em>method</em>, <em>headers</em>, <em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.sign"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.sign" title="Permalink to this definition">¶</a></dt>
<dd><p>Add appropriate headers to a request.</p>
</dd></dl>

<dl class="method">
<dt id="api.bibliotheca.BibliothecaAPI.signature">
<code class="descname">signature</code><span class="sig-paren">(</span><em>method</em>, <em>path</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.signature"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.signature" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaAPI.source">
<code class="descname">source</code><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.bibliotheca.BibliothecaAPI.update_availability">
<code class="descname">update_availability</code><span class="sig-paren">(</span><em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaAPI.update_availability"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaAPI.update_availability" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the availability information for a single LicensePool.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.bibliotheca.BibliothecaBibliographicCoverageProvider">
<em class="property">class </em><code class="descclassname">api.bibliotheca.</code><code class="descname">BibliothecaBibliographicCoverageProvider</code><span class="sig-paren">(</span><em>collection</em>, <em>api_class=&lt;class 'api.bibliotheca.BibliothecaAPI'&gt;</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaBibliographicCoverageProvider"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaBibliographicCoverageProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.coverage.BibliographicCoverageProvider" title="core.coverage.BibliographicCoverageProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.coverage.BibliographicCoverageProvider</span></code></a></p>
<p>Fill in bibliographic metadata for Bibliotheca records.</p>
<p>This will occasionally fill in some availability information for a
single Collection, but we rely on Monitors to keep availability
information up to date for all Collections.</p>
<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaBibliographicCoverageProvider.DATA_SOURCE_NAME">
<code class="descname">DATA_SOURCE_NAME</code><em class="property"> = u'Bibliotheca'</em><a class="headerlink" href="#api.bibliotheca.BibliothecaBibliographicCoverageProvider.DATA_SOURCE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaBibliographicCoverageProvider.DEFAULT_BATCH_SIZE">
<code class="descname">DEFAULT_BATCH_SIZE</code><em class="property"> = 25</em><a class="headerlink" href="#api.bibliotheca.BibliothecaBibliographicCoverageProvider.DEFAULT_BATCH_SIZE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaBibliographicCoverageProvider.INPUT_IDENTIFIER_TYPES">
<code class="descname">INPUT_IDENTIFIER_TYPES</code><em class="property"> = u'Bibliotheca ID'</em><a class="headerlink" href="#api.bibliotheca.BibliothecaBibliographicCoverageProvider.INPUT_IDENTIFIER_TYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaBibliographicCoverageProvider.PROTOCOL">
<code class="descname">PROTOCOL</code><em class="property"> = u'Bibliotheca'</em><a class="headerlink" href="#api.bibliotheca.BibliothecaBibliographicCoverageProvider.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaBibliographicCoverageProvider.SERVICE_NAME">
<code class="descname">SERVICE_NAME</code><em class="property"> = 'Bibliotheca Bibliographic Coverage Provider'</em><a class="headerlink" href="#api.bibliotheca.BibliothecaBibliographicCoverageProvider.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.bibliotheca.BibliothecaBibliographicCoverageProvider.process_item">
<code class="descname">process_item</code><span class="sig-paren">(</span><em>identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaBibliographicCoverageProvider.process_item"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaBibliographicCoverageProvider.process_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Do the work necessary to give coverage to one specific item.</p>
<p>Since this is where the actual work happens, this is not
implemented in IdentifierCoverageProvider or
WorkCoverageProvider, and must be handled in a subclass.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.bibliotheca.BibliothecaCirculationSweep">
<em class="property">class </em><code class="descclassname">api.bibliotheca.</code><code class="descname">BibliothecaCirculationSweep</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>api_class=&lt;class 'api.bibliotheca.BibliothecaAPI'&gt;</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaCirculationSweep"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaCirculationSweep" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.monitor.IdentifierSweepMonitor" title="core.monitor.IdentifierSweepMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.monitor.IdentifierSweepMonitor</span></code></a></p>
<p>Check on the current circulation status of each Bibliotheca book in our
collection.</p>
<p>In some cases this will lead to duplicate events being logged,
because this monitor and the main Bibliotheca circulation monitor will
count the same event.  However it will greatly improve our current
view of our Bibliotheca circulation, which is more important.</p>
<p>If Bibliotheca has updated its metadata for a book, that update will
also take effect during the circulation sweep.</p>
<p>If a Bibliotheca license has expired, and we didn’t hear about it for
whatever reason, we’ll find out about it here, because Bibliotheca
will act like they never heard of it.</p>
<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaCirculationSweep.DEFAULT_BATCH_SIZE">
<code class="descname">DEFAULT_BATCH_SIZE</code><em class="property"> = 25</em><a class="headerlink" href="#api.bibliotheca.BibliothecaCirculationSweep.DEFAULT_BATCH_SIZE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaCirculationSweep.PROTOCOL">
<code class="descname">PROTOCOL</code><em class="property"> = u'Bibliotheca'</em><a class="headerlink" href="#api.bibliotheca.BibliothecaCirculationSweep.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaCirculationSweep.SERVICE_NAME">
<code class="descname">SERVICE_NAME</code><em class="property"> = 'Bibliotheca Circulation Sweep'</em><a class="headerlink" href="#api.bibliotheca.BibliothecaCirculationSweep.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.bibliotheca.BibliothecaCirculationSweep.process_items">
<code class="descname">process_items</code><span class="sig-paren">(</span><em>identifiers</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaCirculationSweep.process_items"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaCirculationSweep.process_items" title="Permalink to this definition">¶</a></dt>
<dd><p>Process a list of items.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.bibliotheca.BibliothecaEventMonitor">
<em class="property">class </em><code class="descclassname">api.bibliotheca.</code><code class="descname">BibliothecaEventMonitor</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>api_class=&lt;class 'api.bibliotheca.BibliothecaAPI'&gt;</em>, <em>cli_date=None</em>, <em>analytics=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaEventMonitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaEventMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.monitor.CollectionMonitor" title="core.monitor.CollectionMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.monitor.CollectionMonitor</span></code></a>, <a class="reference internal" href="core.html#core.monitor.TimelineMonitor" title="core.monitor.TimelineMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.monitor.TimelineMonitor</span></code></a></p>
<p>Register CirculationEvents for Bibliotheca titles.</p>
<p>Most of the time we will just be finding out that someone checked
in or checked out a copy of a book we already knew about.</p>
<p>But when a new book comes on the scene, this is where we first
find out about it. When this happens, we create a LicensePool and
immediately ensure that we get coverage from the
BibliothecaBibliographicCoverageProvider.</p>
<p>But getting up-to-date circulation data for that new book requires
either that we process further events, or that we encounter it in
the BibliothecaCirculationSweep.</p>
<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaEventMonitor.DEFAULT_START_TIME">
<code class="descname">DEFAULT_START_TIME</code><em class="property"> = datetime.timedelta(1095)</em><a class="headerlink" href="#api.bibliotheca.BibliothecaEventMonitor.DEFAULT_START_TIME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaEventMonitor.PROTOCOL">
<code class="descname">PROTOCOL</code><em class="property"> = u'Bibliotheca'</em><a class="headerlink" href="#api.bibliotheca.BibliothecaEventMonitor.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaEventMonitor.SERVICE_NAME">
<code class="descname">SERVICE_NAME</code><em class="property"> = 'Bibliotheca Event Monitor'</em><a class="headerlink" href="#api.bibliotheca.BibliothecaEventMonitor.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.bibliotheca.BibliothecaEventMonitor.catch_up_from">
<code class="descname">catch_up_from</code><span class="sig-paren">(</span><em>start</em>, <em>cutoff</em>, <em>progress</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaEventMonitor.catch_up_from"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaEventMonitor.catch_up_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure all events between <cite>start</cite> and <cite>cutoff</cite> are covered.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>start</strong> – Start looking for events that happened at this
time.</li>
<li><strong>cutoff</strong> – You’re not responsible for events that happened
after this time.</li>
<li><strong>progress</strong> – A TimestampData representing the progress so
far. Unlike with run_once(), you are encouraged to can
modify this in place, for instance to set .achievements.
However, you cannot change .start and .finish – any
changes will be overwritten by run_once().</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.bibliotheca.BibliothecaEventMonitor.create_default_start_time">
<code class="descname">create_default_start_time</code><span class="sig-paren">(</span><em>_db</em>, <em>cli_date</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaEventMonitor.create_default_start_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaEventMonitor.create_default_start_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the default start time if it’s passed as an argument.</p>
<p>The command line date argument should have the format YYYY-MM-DD.</p>
</dd></dl>

<dl class="method">
<dt id="api.bibliotheca.BibliothecaEventMonitor.handle_event">
<code class="descname">handle_event</code><span class="sig-paren">(</span><em>bibliotheca_id</em>, <em>isbn</em>, <em>foreign_patron_id</em>, <em>start_time</em>, <em>end_time</em>, <em>internal_event_type</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaEventMonitor.handle_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaEventMonitor.handle_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.bibliotheca.BibliothecaException">
<em class="property">exception </em><code class="descclassname">api.bibliotheca.</code><code class="descname">BibliothecaException</code><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">exceptions.Exception</span></code></p>
</dd></dl>

<dl class="class">
<dt id="api.bibliotheca.BibliothecaParser">
<em class="property">class </em><code class="descclassname">api.bibliotheca.</code><code class="descname">BibliothecaParser</code><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.util.html#core.util.xmlparser.XMLParser" title="core.util.xmlparser.XMLParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.util.xmlparser.XMLParser</span></code></a></p>
<dl class="attribute">
<dt id="api.bibliotheca.BibliothecaParser.INPUT_TIME_FORMAT">
<code class="descname">INPUT_TIME_FORMAT</code><em class="property"> = '%Y-%m-%dT%H:%M:%S'</em><a class="headerlink" href="#api.bibliotheca.BibliothecaParser.INPUT_TIME_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.bibliotheca.BibliothecaParser.date_from_subtag">
<code class="descname">date_from_subtag</code><span class="sig-paren">(</span><em>tag</em>, <em>key</em>, <em>required=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaParser.date_from_subtag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaParser.date_from_subtag" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.bibliotheca.BibliothecaParser.parse_date">
<code class="descname">parse_date</code><span class="sig-paren">(</span><em>value</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#BibliothecaParser.parse_date"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.BibliothecaParser.parse_date" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the string Bibliotheca sends as a date.</p>
<p>Usually this is a string in INPUT_TIME_FORMAT, but it might be None.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.bibliotheca.CheckoutResponseParser">
<em class="property">class </em><code class="descclassname">api.bibliotheca.</code><code class="descname">CheckoutResponseParser</code><a class="reference internal" href="_modules/api/bibliotheca.html#CheckoutResponseParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.CheckoutResponseParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.bibliotheca.DateResponseParser" title="api.bibliotheca.DateResponseParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.bibliotheca.DateResponseParser</span></code></a></p>
<p>Extract due date from a checkout response.</p>
<dl class="attribute">
<dt id="api.bibliotheca.CheckoutResponseParser.DATE_TAG_NAME">
<code class="descname">DATE_TAG_NAME</code><em class="property"> = 'DueDateInUTC'</em><a class="headerlink" href="#api.bibliotheca.CheckoutResponseParser.DATE_TAG_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.CheckoutResponseParser.RESULT_TAG_NAME">
<code class="descname">RESULT_TAG_NAME</code><em class="property"> = 'CheckoutResult'</em><a class="headerlink" href="#api.bibliotheca.CheckoutResponseParser.RESULT_TAG_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.bibliotheca.DateResponseParser">
<em class="property">class </em><code class="descclassname">api.bibliotheca.</code><code class="descname">DateResponseParser</code><a class="reference internal" href="_modules/api/bibliotheca.html#DateResponseParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.DateResponseParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.bibliotheca.BibliothecaParser" title="api.bibliotheca.BibliothecaParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.bibliotheca.BibliothecaParser</span></code></a></p>
<p>Extract a date from a response.</p>
<dl class="attribute">
<dt id="api.bibliotheca.DateResponseParser.DATE_TAG_NAME">
<code class="descname">DATE_TAG_NAME</code><em class="property"> = None</em><a class="headerlink" href="#api.bibliotheca.DateResponseParser.DATE_TAG_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.DateResponseParser.RESULT_TAG_NAME">
<code class="descname">RESULT_TAG_NAME</code><em class="property"> = None</em><a class="headerlink" href="#api.bibliotheca.DateResponseParser.RESULT_TAG_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.bibliotheca.DateResponseParser.process_all">
<code class="descname">process_all</code><span class="sig-paren">(</span><em>string</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#DateResponseParser.process_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.DateResponseParser.process_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.bibliotheca.DummyBibliothecaAPIResponse">
<em class="property">class </em><code class="descclassname">api.bibliotheca.</code><code class="descname">DummyBibliothecaAPIResponse</code><span class="sig-paren">(</span><em>response_code</em>, <em>headers</em>, <em>content</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#DummyBibliothecaAPIResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.DummyBibliothecaAPIResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

<dl class="class">
<dt id="api.bibliotheca.ErrorParser">
<em class="property">class </em><code class="descclassname">api.bibliotheca.</code><code class="descname">ErrorParser</code><a class="reference internal" href="_modules/api/bibliotheca.html#ErrorParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.ErrorParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.bibliotheca.BibliothecaParser" title="api.bibliotheca.BibliothecaParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.bibliotheca.BibliothecaParser</span></code></a></p>
<p>Turn an error document from the Bibliotheca web service into a CheckoutException</p>
<dl class="attribute">
<dt id="api.bibliotheca.ErrorParser.error_mapping">
<code class="descname">error_mapping</code><em class="property"> = {'The patron does not have the book on hold': &lt;class 'api.circulation_exceptions.NotOnHold'&gt;, 'The patron has no eBooks checked out': &lt;class 'api.circulation_exceptions.NotCheckedOut'&gt;}</em><a class="headerlink" href="#api.bibliotheca.ErrorParser.error_mapping" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.ErrorParser.hold_limit_reached">
<code class="descname">hold_limit_reached</code><em class="property"> = &lt;_sre.SRE_Pattern object at 0x516f4f0&gt;</em><a class="headerlink" href="#api.bibliotheca.ErrorParser.hold_limit_reached" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.ErrorParser.loan_limit_reached">
<code class="descname">loan_limit_reached</code><em class="property"> = &lt;_sre.SRE_Pattern object at 0x4f28660&gt;</em><a class="headerlink" href="#api.bibliotheca.ErrorParser.loan_limit_reached" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.bibliotheca.ErrorParser.process_all">
<code class="descname">process_all</code><span class="sig-paren">(</span><em>string</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#ErrorParser.process_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.ErrorParser.process_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.bibliotheca.ErrorParser.process_one">
<code class="descname">process_one</code><span class="sig-paren">(</span><em>error_tag</em>, <em>namespaces</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#ErrorParser.process_one"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.ErrorParser.process_one" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.ErrorParser.wrong_status">
<code class="descname">wrong_status</code><em class="property"> = &lt;_sre.SRE_Pattern object at 0x51631e0&gt;</em><a class="headerlink" href="#api.bibliotheca.ErrorParser.wrong_status" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.bibliotheca.EventParser">
<em class="property">class </em><code class="descclassname">api.bibliotheca.</code><code class="descname">EventParser</code><a class="reference internal" href="_modules/api/bibliotheca.html#EventParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.EventParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.bibliotheca.BibliothecaParser" title="api.bibliotheca.BibliothecaParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.bibliotheca.BibliothecaParser</span></code></a></p>
<p>Parse Bibliotheca’s event file format into our native event objects.</p>
<dl class="attribute">
<dt id="api.bibliotheca.EventParser.EVENT_NAMES">
<code class="descname">EVENT_NAMES</code><em class="property"> = {'CHECKIN': u'distributor_check_in', 'CHECKOUT': u'distributor_check_out', 'HOLD': u'distributor_hold_place', 'PURCHASE': u'distributor_license_add', 'REMOVED': u'distributor_license_remove', 'RESERVED': u'distributor_availability_notify'}</em><a class="headerlink" href="#api.bibliotheca.EventParser.EVENT_NAMES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.EventParser.EVENT_SOURCE">
<code class="descname">EVENT_SOURCE</code><em class="property"> = 'Bibliotheca'</em><a class="headerlink" href="#api.bibliotheca.EventParser.EVENT_SOURCE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.EventParser.SET_DELIVERY_MECHANISM_AT">
<code class="descname">SET_DELIVERY_MECHANISM_AT</code><em class="property"> = 'borrow'</em><a class="headerlink" href="#api.bibliotheca.EventParser.SET_DELIVERY_MECHANISM_AT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.bibliotheca.EventParser.process_all">
<code class="descname">process_all</code><span class="sig-paren">(</span><em>string</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#EventParser.process_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.EventParser.process_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.bibliotheca.EventParser.process_one">
<code class="descname">process_one</code><span class="sig-paren">(</span><em>tag</em>, <em>namespaces</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#EventParser.process_one"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.EventParser.process_one" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.bibliotheca.HoldResponseParser">
<em class="property">class </em><code class="descclassname">api.bibliotheca.</code><code class="descname">HoldResponseParser</code><a class="reference internal" href="_modules/api/bibliotheca.html#HoldResponseParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.HoldResponseParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.bibliotheca.DateResponseParser" title="api.bibliotheca.DateResponseParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.bibliotheca.DateResponseParser</span></code></a></p>
<p>Extract availability date from a hold response.</p>
<dl class="attribute">
<dt id="api.bibliotheca.HoldResponseParser.DATE_TAG_NAME">
<code class="descname">DATE_TAG_NAME</code><em class="property"> = 'AvailabilityDateInUTC'</em><a class="headerlink" href="#api.bibliotheca.HoldResponseParser.DATE_TAG_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.HoldResponseParser.RESULT_TAG_NAME">
<code class="descname">RESULT_TAG_NAME</code><em class="property"> = 'PlaceHoldResult'</em><a class="headerlink" href="#api.bibliotheca.HoldResponseParser.RESULT_TAG_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.bibliotheca.ItemListParser">
<em class="property">class </em><code class="descclassname">api.bibliotheca.</code><code class="descname">ItemListParser</code><a class="reference internal" href="_modules/api/bibliotheca.html#ItemListParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.ItemListParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.util.html#core.util.xmlparser.XMLParser" title="core.util.xmlparser.XMLParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.util.xmlparser.XMLParser</span></code></a></p>
<dl class="attribute">
<dt id="api.bibliotheca.ItemListParser.DATE_FORMAT">
<code class="descname">DATE_FORMAT</code><em class="property"> = '%Y-%m-%d'</em><a class="headerlink" href="#api.bibliotheca.ItemListParser.DATE_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.ItemListParser.NAMESPACES">
<code class="descname">NAMESPACES</code><em class="property"> = {}</em><a class="headerlink" href="#api.bibliotheca.ItemListParser.NAMESPACES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.ItemListParser.YEAR_FORMAT">
<code class="descname">YEAR_FORMAT</code><em class="property"> = '%Y'</em><a class="headerlink" href="#api.bibliotheca.ItemListParser.YEAR_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.bibliotheca.ItemListParser.contributors_from_string">
<em class="property">classmethod </em><code class="descname">contributors_from_string</code><span class="sig-paren">(</span><em>string</em>, <em>role=u'Author'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#ItemListParser.contributors_from_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.ItemListParser.contributors_from_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.ItemListParser.format_data_for_bibliotheca_format">
<code class="descname">format_data_for_bibliotheca_format</code><em class="property"> = {'EPUB': (u'application/epub+zip', u'application/vnd.adobe.adept+xml'), 'EPUB3': (u'application/epub+zip', u'application/vnd.adobe.adept+xml'), 'MP3': (None, u'application/vnd.librarysimplified.findaway.license+json'), 'PDF': (u'application/pdf', u'application/vnd.adobe.adept+xml')}</em><a class="headerlink" href="#api.bibliotheca.ItemListParser.format_data_for_bibliotheca_format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.bibliotheca.ItemListParser.internal_formats">
<em class="property">classmethod </em><code class="descname">internal_formats</code><span class="sig-paren">(</span><em>book_format</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#ItemListParser.internal_formats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.ItemListParser.internal_formats" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert the term Bibliotheca uses to refer to a book
format into a (medium [formats]) 2-tuple.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.bibliotheca.ItemListParser.parenthetical">
<code class="descname">parenthetical</code><em class="property"> = &lt;_sre.SRE_Pattern object&gt;</em><a class="headerlink" href="#api.bibliotheca.ItemListParser.parenthetical" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.bibliotheca.ItemListParser.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>xml</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#ItemListParser.parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.ItemListParser.parse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.bibliotheca.ItemListParser.parse_genre_string">
<em class="property">classmethod </em><code class="descname">parse_genre_string</code><span class="sig-paren">(</span><em>s</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#ItemListParser.parse_genre_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.ItemListParser.parse_genre_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.bibliotheca.ItemListParser.process_one">
<code class="descname">process_one</code><span class="sig-paren">(</span><em>tag</em>, <em>namespaces</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#ItemListParser.process_one"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.ItemListParser.process_one" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn an &lt;item&gt; tag into a Metadata and an encompassed CirculationData
objects, and return the Metadata.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.bibliotheca.MockBibliothecaAPI">
<em class="property">class </em><code class="descclassname">api.bibliotheca.</code><code class="descname">MockBibliothecaAPI</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#MockBibliothecaAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.MockBibliothecaAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.bibliotheca.BibliothecaAPI" title="api.bibliotheca.BibliothecaAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.bibliotheca.BibliothecaAPI</span></code></a></p>
<dl class="classmethod">
<dt id="api.bibliotheca.MockBibliothecaAPI.mock_collection">
<em class="property">classmethod </em><code class="descname">mock_collection</code><span class="sig-paren">(</span><em>_db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#MockBibliothecaAPI.mock_collection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.MockBibliothecaAPI.mock_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a mock Bibliotheca collection for use in tests.</p>
</dd></dl>

<dl class="method">
<dt id="api.bibliotheca.MockBibliothecaAPI.now">
<code class="descname">now</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#MockBibliothecaAPI.now"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.MockBibliothecaAPI.now" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an unvarying time in the format Bibliotheca expects.</p>
</dd></dl>

<dl class="method">
<dt id="api.bibliotheca.MockBibliothecaAPI.queue_response">
<code class="descname">queue_response</code><span class="sig-paren">(</span><em>status_code</em>, <em>headers={}</em>, <em>content=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#MockBibliothecaAPI.queue_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.MockBibliothecaAPI.queue_response" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.bibliotheca.PatronCirculationParser">
<em class="property">class </em><code class="descclassname">api.bibliotheca.</code><code class="descname">PatronCirculationParser</code><span class="sig-paren">(</span><em>collection</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#PatronCirculationParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.PatronCirculationParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.bibliotheca.BibliothecaParser" title="api.bibliotheca.BibliothecaParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.bibliotheca.BibliothecaParser</span></code></a></p>
<p>Parse Bibliotheca’s patron circulation status document into a list of
LoanInfo and HoldInfo objects.</p>
<dl class="attribute">
<dt id="api.bibliotheca.PatronCirculationParser.id_type">
<code class="descname">id_type</code><em class="property"> = u'Bibliotheca ID'</em><a class="headerlink" href="#api.bibliotheca.PatronCirculationParser.id_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.bibliotheca.PatronCirculationParser.process_all">
<code class="descname">process_all</code><span class="sig-paren">(</span><em>string</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#PatronCirculationParser.process_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.PatronCirculationParser.process_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.bibliotheca.PatronCirculationParser.process_one">
<code class="descname">process_one</code><span class="sig-paren">(</span><em>tag</em>, <em>namespaces</em>, <em>source_class</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#PatronCirculationParser.process_one"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.PatronCirculationParser.process_one" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.bibliotheca.PatronCirculationParser.process_one_hold">
<code class="descname">process_one_hold</code><span class="sig-paren">(</span><em>tag</em>, <em>namespaces</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#PatronCirculationParser.process_one_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.PatronCirculationParser.process_one_hold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.bibliotheca.PatronCirculationParser.process_one_loan">
<code class="descname">process_one_loan</code><span class="sig-paren">(</span><em>tag</em>, <em>namespaces</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#PatronCirculationParser.process_one_loan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.PatronCirculationParser.process_one_loan" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.bibliotheca.PatronCirculationParser.process_one_reserve">
<code class="descname">process_one_reserve</code><span class="sig-paren">(</span><em>tag</em>, <em>namespaces</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#PatronCirculationParser.process_one_reserve"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.PatronCirculationParser.process_one_reserve" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.bibliotheca.WorkflowException">
<em class="property">exception </em><code class="descclassname">api.bibliotheca.</code><code class="descname">WorkflowException</code><span class="sig-paren">(</span><em>actual_status</em>, <em>statuses_that_would_work</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/bibliotheca.html#WorkflowException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.bibliotheca.WorkflowException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.bibliotheca.BibliothecaException" title="api.bibliotheca.BibliothecaException"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.bibliotheca.BibliothecaException</span></code></a></p>
</dd></dl>

</div>
<div class="section" id="module-api.circulation">
<span id="api-circulation-module"></span><h2>api.circulation module<a class="headerlink" href="#module-api.circulation" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="api.circulation.APIAwareFulfillmentInfo">
<em class="property">class </em><code class="descclassname">api.circulation.</code><code class="descname">APIAwareFulfillmentInfo</code><span class="sig-paren">(</span><em>api</em>, <em>data_source_name</em>, <em>identifier_type</em>, <em>identifier</em>, <em>key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#APIAwareFulfillmentInfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.APIAwareFulfillmentInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation.FulfillmentInfo" title="api.circulation.FulfillmentInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation.FulfillmentInfo</span></code></a></p>
<p>This that acts like FulfillmentInfo but is prepared to make an API
request on demand to get data, rather than having all the data
ready right now.</p>
<p>This class is useful in situations where generating a full
FulfillmentInfo object would be costly. We only want to incur that
cost when the patron wants to fulfill this title and is not just
looking at their loans.</p>
<dl class="attribute">
<dt id="api.circulation.APIAwareFulfillmentInfo.content">
<code class="descname">content</code><a class="headerlink" href="#api.circulation.APIAwareFulfillmentInfo.content" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.circulation.APIAwareFulfillmentInfo.content_expires">
<code class="descname">content_expires</code><a class="headerlink" href="#api.circulation.APIAwareFulfillmentInfo.content_expires" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.circulation.APIAwareFulfillmentInfo.content_link">
<code class="descname">content_link</code><a class="headerlink" href="#api.circulation.APIAwareFulfillmentInfo.content_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.circulation.APIAwareFulfillmentInfo.content_type">
<code class="descname">content_type</code><a class="headerlink" href="#api.circulation.APIAwareFulfillmentInfo.content_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.circulation.APIAwareFulfillmentInfo.do_fetch">
<code class="descname">do_fetch</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#APIAwareFulfillmentInfo.do_fetch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.APIAwareFulfillmentInfo.do_fetch" title="Permalink to this definition">¶</a></dt>
<dd><p>Actually make the API request.</p>
<p>When implemented, this method must set values for some or all
of _content_link, _content_type, _content, and
_content_expires.</p>
</dd></dl>

<dl class="method">
<dt id="api.circulation.APIAwareFulfillmentInfo.fetch">
<code class="descname">fetch</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#APIAwareFulfillmentInfo.fetch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.APIAwareFulfillmentInfo.fetch" title="Permalink to this definition">¶</a></dt>
<dd><p>It’s time to tell the API that we want to fulfill this book.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.circulation.BaseCirculationAPI">
<em class="property">class </em><code class="descclassname">api.circulation.</code><code class="descname">BaseCirculationAPI</code><a class="reference internal" href="_modules/api/circulation.html#BaseCirculationAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.BaseCirculationAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Encapsulates logic common to all circulation APIs.</p>
<dl class="attribute">
<dt id="api.circulation.BaseCirculationAPI.AUDIOBOOK_LOAN_DURATION_SETTING">
<code class="descname">AUDIOBOOK_LOAN_DURATION_SETTING</code><em class="property"> = {'default': 21, 'description': l'When a patron uses SimplyE to borrow an audiobook from this collection, SimplyE will ask for a loan that lasts this number of days. This must be equal to or less than the maximum loan duration negotiated with the distributor.', 'key': 'audio_loan_duration', 'label': l'Audiobook Loan Duration (in Days)', 'type': 'number'}</em><a class="headerlink" href="#api.circulation.BaseCirculationAPI.AUDIOBOOK_LOAN_DURATION_SETTING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.circulation.BaseCirculationAPI.BORROW_STEP">
<code class="descname">BORROW_STEP</code><em class="property"> = 'borrow'</em><a class="headerlink" href="#api.circulation.BaseCirculationAPI.BORROW_STEP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.circulation.BaseCirculationAPI.CAN_REVOKE_HOLD_WHEN_RESERVED">
<code class="descname">CAN_REVOKE_HOLD_WHEN_RESERVED</code><em class="property"> = True</em><a class="headerlink" href="#api.circulation.BaseCirculationAPI.CAN_REVOKE_HOLD_WHEN_RESERVED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.circulation.BaseCirculationAPI.DEFAULT_LOAN_DURATION_SETTING">
<code class="descname">DEFAULT_LOAN_DURATION_SETTING</code><em class="property"> = {'default': 21, 'description': l'Until it hears otherwise from the distributor, this server will assume that any given loan for this library from this collection will last this number of days. This number is usually a negotiated value between the library and the distributor. This only affects estimates&amp;mdash;it cannot affect the actual length of loans.', 'key': 'ebook_loan_duration', 'label': l'Default Loan Period (in Days)', 'type': 'number'}</em><a class="headerlink" href="#api.circulation.BaseCirculationAPI.DEFAULT_LOAN_DURATION_SETTING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.circulation.BaseCirculationAPI.EBOOK_LOAN_DURATION_SETTING">
<code class="descname">EBOOK_LOAN_DURATION_SETTING</code><em class="property"> = {'default': 21, 'description': l'When a patron uses SimplyE to borrow an ebook from this collection, SimplyE will ask for a loan that lasts this number of days. This must be equal to or less than the maximum loan duration negotiated with the distributor.', 'key': 'ebook_loan_duration', 'label': l'Ebook Loan Duration (in Days)', 'type': 'number'}</em><a class="headerlink" href="#api.circulation.BaseCirculationAPI.EBOOK_LOAN_DURATION_SETTING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.circulation.BaseCirculationAPI.FULFILL_STEP">
<code class="descname">FULFILL_STEP</code><em class="property"> = 'fulfill'</em><a class="headerlink" href="#api.circulation.BaseCirculationAPI.FULFILL_STEP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.circulation.BaseCirculationAPI.LIBRARY_SETTINGS">
<code class="descname">LIBRARY_SETTINGS</code><em class="property"> = []</em><a class="headerlink" href="#api.circulation.BaseCirculationAPI.LIBRARY_SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.circulation.BaseCirculationAPI.SETTINGS">
<code class="descname">SETTINGS</code><em class="property"> = []</em><a class="headerlink" href="#api.circulation.BaseCirculationAPI.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.circulation.BaseCirculationAPI.SET_DELIVERY_MECHANISM_AT">
<code class="descname">SET_DELIVERY_MECHANISM_AT</code><em class="property"> = 'fulfill'</em><a class="headerlink" href="#api.circulation.BaseCirculationAPI.SET_DELIVERY_MECHANISM_AT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.circulation.BaseCirculationAPI.can_fulfill_without_loan">
<code class="descname">can_fulfill_without_loan</code><span class="sig-paren">(</span><em>patron</em>, <em>pool</em>, <em>lpdm</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#BaseCirculationAPI.can_fulfill_without_loan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.BaseCirculationAPI.can_fulfill_without_loan" title="Permalink to this definition">¶</a></dt>
<dd><p>In general, you can’t fulfill a book without a loan.</p>
</dd></dl>

<dl class="method">
<dt id="api.circulation.BaseCirculationAPI.checkin">
<code class="descname">checkin</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#BaseCirculationAPI.checkin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.BaseCirculationAPI.checkin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a book early.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>patron</strong> – a Patron object for the patron who wants to check out the book.</li>
<li><strong>pin</strong> – The patron’s alleged password.</li>
<li><strong>licensepool</strong> – Contains lending info as well as link to parent Identifier.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.circulation.BaseCirculationAPI.checkout">
<code class="descname">checkout</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>internal_format</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#BaseCirculationAPI.checkout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.BaseCirculationAPI.checkout" title="Permalink to this definition">¶</a></dt>
<dd><p>Check out a book on behalf of a patron.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>patron</strong> – a Patron object for the patron who wants to check out the book.</li>
<li><strong>pin</strong> – The patron’s alleged password.</li>
<li><strong>licensepool</strong> – Contains lending info as well as link to parent Identifier.</li>
<li><strong>internal_format</strong> – Represents the patron’s desired book format.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a LoanInfo object.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="api.circulation.BaseCirculationAPI.default_notification_email_address">
<em class="property">classmethod </em><code class="descname">default_notification_email_address</code><span class="sig-paren">(</span><em>library_or_patron</em>, <em>pin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#BaseCirculationAPI.default_notification_email_address"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.BaseCirculationAPI.default_notification_email_address" title="Permalink to this definition">¶</a></dt>
<dd><p>What email address should be used to notify this library’s
patrons of changes?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>library_or_patron</strong> – A Library or a Patron.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="api.circulation.BaseCirculationAPI.delivery_mechanism_to_internal_format">
<code class="descname">delivery_mechanism_to_internal_format</code><em class="property"> = {}</em><a class="headerlink" href="#api.circulation.BaseCirculationAPI.delivery_mechanism_to_internal_format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.circulation.BaseCirculationAPI.fulfill">
<code class="descname">fulfill</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>internal_format=None</em>, <em>part=None</em>, <em>fulfill_part_url=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#BaseCirculationAPI.fulfill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.BaseCirculationAPI.fulfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the actual resource file to the patron.</p>
<p>Implementations are encouraged to define <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code> as a container
for vendor-specific arguments, so that they don’t have to change
as new arguments are added.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>internal_format</strong> – A vendor-specific name indicating
the format requested by the patron.</li>
<li><strong>part</strong> – A vendor-specific identifier indicating that the
patron wants to fulfill one specific part of the book
(e.g. one chapter of an audiobook), not the whole thing.</li>
<li><strong>fulfill_part_url</strong> – A function that takes one argument (a
vendor-specific part identifier) and returns the URL to use
when fulfilling that part.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a FulfillmentInfo object.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.circulation.BaseCirculationAPI.internal_format">
<code class="descname">internal_format</code><span class="sig-paren">(</span><em>delivery_mechanism</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#BaseCirculationAPI.internal_format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.BaseCirculationAPI.internal_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up the internal format for this delivery mechanism or
raise an exception.</p>
</dd></dl>

<dl class="method">
<dt id="api.circulation.BaseCirculationAPI.patron_activity">
<code class="descname">patron_activity</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#BaseCirculationAPI.patron_activity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.BaseCirculationAPI.patron_activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a patron’s current checkouts and holds.</p>
</dd></dl>

<dl class="method">
<dt id="api.circulation.BaseCirculationAPI.patron_email_address">
<code class="descname">patron_email_address</code><span class="sig-paren">(</span><em>patron</em>, <em>library_authenticator=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#BaseCirculationAPI.patron_email_address"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.BaseCirculationAPI.patron_email_address" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up the email address that the given Patron shared
with their library.</p>
<p>We do not store this information, but some API integrations
need it, so we give the ability to look it up as needed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>patron</strong> – A Patron.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The patron’s email address. None if the patron never
shared their email address with their library, or if the
authentication technique will not share that information
with us.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.circulation.BaseCirculationAPI.place_hold">
<code class="descname">place_hold</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>notification_email_address</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#BaseCirculationAPI.place_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.BaseCirculationAPI.place_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Place a book on hold.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A HoldInfo object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.circulation.BaseCirculationAPI.release_hold">
<code class="descname">release_hold</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#BaseCirculationAPI.release_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.BaseCirculationAPI.release_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Release a patron’s hold on a book.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="#api.circulation_exceptions.CannotReleaseHold" title="api.circulation_exceptions.CannotReleaseHold"><strong>CannotReleaseHold</strong></a> – If there is an error communicating
with the provider, or the provider refuses to release the hold for
any reason.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.circulation.BaseCirculationAPI.update_availability">
<code class="descname">update_availability</code><span class="sig-paren">(</span><em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#BaseCirculationAPI.update_availability"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.BaseCirculationAPI.update_availability" title="Permalink to this definition">¶</a></dt>
<dd><p>Update availability information for a book.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.circulation.CirculationAPI">
<em class="property">class </em><code class="descclassname">api.circulation.</code><code class="descname">CirculationAPI</code><span class="sig-paren">(</span><em>_db</em>, <em>library</em>, <em>analytics=None</em>, <em>api_map=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.CirculationAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Implement basic circulation logic and abstract away the details
between different circulation APIs behind generic operations like
‘borrow’.</p>
<dl class="method">
<dt id="api.circulation.CirculationAPI.api_for_license_pool">
<code class="descname">api_for_license_pool</code><span class="sig-paren">(</span><em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationAPI.api_for_license_pool"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.CirculationAPI.api_for_license_pool" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the API to use for the given license pool.</p>
</dd></dl>

<dl class="method">
<dt id="api.circulation.CirculationAPI.borrow">
<code class="descname">borrow</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>delivery_mechanism</em>, <em>hold_notification_email=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationAPI.borrow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.CirculationAPI.borrow" title="Permalink to this definition">¶</a></dt>
<dd><p>Either borrow a book or put it on hold. Don’t worry about fulfilling
the loan yet.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A 3-tuple (<cite>Loan</cite>, <cite>Hold</cite>, <cite>is_new</cite>). Either <cite>Loan</cite>
or <cite>Hold</cite> must be None, but not both.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.circulation.CirculationAPI.can_fulfill_without_loan">
<code class="descname">can_fulfill_without_loan</code><span class="sig-paren">(</span><em>patron</em>, <em>pool</em>, <em>lpdm</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationAPI.can_fulfill_without_loan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.CirculationAPI.can_fulfill_without_loan" title="Permalink to this definition">¶</a></dt>
<dd><p>Can we deliver the given book in the given format to the given
patron, even though the patron has no active loan for that
book?</p>
<p>In general this is not possible, but there are some
exceptions, managed in subclasses of BaseCirculationAPI.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>patron</strong> – A Patron. This is probably None, indicating
that someone is trying to fulfill a book without identifying
themselves.</li>
<li><strong>delivery_mechanism</strong> – The LicensePoolDeliveryMechanism
representing a format for a specific title.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.circulation.CirculationAPI.can_revoke_hold">
<code class="descname">can_revoke_hold</code><span class="sig-paren">(</span><em>licensepool</em>, <em>hold</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationAPI.can_revoke_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.CirculationAPI.can_revoke_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Some circulation providers allow you to cancel a hold
when the book is reserved to you. Others only allow you to cancel
a hold while you’re in the hold queue.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.circulation.CirculationAPI.default_api_map">
<code class="descname">default_api_map</code><a class="headerlink" href="#api.circulation.CirculationAPI.default_api_map" title="Permalink to this definition">¶</a></dt>
<dd><p>When you see a Collection that implements protocol X, instantiate
API class Y to handle that collection.</p>
</dd></dl>

<dl class="method">
<dt id="api.circulation.CirculationAPI.fulfill">
<code class="descname">fulfill</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>delivery_mechanism</em>, <em>part=None</em>, <em>fulfill_part_url=None</em>, <em>sync_on_failure=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationAPI.fulfill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.CirculationAPI.fulfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Fulfil a book that a patron has previously checked out.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>delivery_mechanism</strong> – A LicensePoolDeliveryMechanism
explaining how the patron wants the book to be delivered. If
the book has previously been delivered through some other
mechanism, this parameter is ignored and the previously used
mechanism takes precedence.</li>
<li><strong>part</strong> – A vendor-specific identifier indicating that the
patron wants to fulfill one specific part of the book
(e.g. one chapter of an audiobook), not the whole thing.</li>
<li><strong>fulfill_part_url</strong> – A function that takes one argument (a
vendor-specific part identifier) and returns the URL to use
when fulfilling that part.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A FulfillmentInfo object.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.circulation.CirculationAPI.fulfill_open_access">
<code class="descname">fulfill_open_access</code><span class="sig-paren">(</span><em>licensepool</em>, <em>delivery_mechanism</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationAPI.fulfill_open_access"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.CirculationAPI.fulfill_open_access" title="Permalink to this definition">¶</a></dt>
<dd><p>Fulfill an open-access LicensePool through the requested
DeliveryMechanism.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>licensepool</strong> – The title to be fulfilled.</li>
<li><strong>delivery_mechanism</strong> – A DeliveryMechanism.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="api.circulation.CirculationAPI.library">
<code class="descname">library</code><a class="headerlink" href="#api.circulation.CirculationAPI.library" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.circulation.CirculationAPI.local_holds">
<code class="descname">local_holds</code><span class="sig-paren">(</span><em>patron</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationAPI.local_holds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.CirculationAPI.local_holds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.circulation.CirculationAPI.local_loans">
<code class="descname">local_loans</code><span class="sig-paren">(</span><em>patron</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationAPI.local_loans"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.CirculationAPI.local_loans" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.circulation.CirculationAPI.patron_activity">
<code class="descname">patron_activity</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationAPI.patron_activity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.CirculationAPI.patron_activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a record of the patron’s current activity
vis-a-vis all relevant external loan sources.</p>
<p>We check each source in a separate thread for speed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A 2-tuple (loans, holds) containing <cite>HoldInfo</cite> and
<cite>LoanInfo</cite> objects.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.circulation.CirculationAPI.release_hold">
<code class="descname">release_hold</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationAPI.release_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.CirculationAPI.release_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a patron’s hold on a book.</p>
</dd></dl>

<dl class="method">
<dt id="api.circulation.CirculationAPI.revoke_loan">
<code class="descname">revoke_loan</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationAPI.revoke_loan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.CirculationAPI.revoke_loan" title="Permalink to this definition">¶</a></dt>
<dd><p>Revoke a patron’s loan for a book.</p>
</dd></dl>

<dl class="method">
<dt id="api.circulation.CirculationAPI.sync_bookshelf">
<code class="descname">sync_bookshelf</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationAPI.sync_bookshelf"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.CirculationAPI.sync_bookshelf" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.circulation.CirculationInfo">
<em class="property">class </em><code class="descclassname">api.circulation.</code><code class="descname">CirculationInfo</code><span class="sig-paren">(</span><em>collection</em>, <em>data_source_name</em>, <em>identifier_type</em>, <em>identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationInfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.CirculationInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="api.circulation.CirculationInfo.collection">
<code class="descname">collection</code><span class="sig-paren">(</span><em>_db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationInfo.collection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.CirculationInfo.collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the Collection to which this object belongs.</p>
</dd></dl>

<dl class="method">
<dt id="api.circulation.CirculationInfo.fd">
<code class="descname">fd</code><span class="sig-paren">(</span><em>d</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationInfo.fd"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.CirculationInfo.fd" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.circulation.CirculationInfo.license_pool">
<code class="descname">license_pool</code><span class="sig-paren">(</span><em>_db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#CirculationInfo.license_pool"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.CirculationInfo.license_pool" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the LicensePool model object corresponding to this object.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.circulation.DeliveryMechanismInfo">
<em class="property">class </em><code class="descclassname">api.circulation.</code><code class="descname">DeliveryMechanismInfo</code><span class="sig-paren">(</span><em>content_type</em>, <em>drm_scheme</em>, <em>rights_uri=u'http://librarysimplified.org/terms/rights-status/in-copyright'</em>, <em>resource=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#DeliveryMechanismInfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.DeliveryMechanismInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation.CirculationInfo" title="api.circulation.CirculationInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation.CirculationInfo</span></code></a></p>
<p>A record of a technique that must be (but is not, currently, being)
used to fulfill a certain loan.</p>
<p>Although this class is similar to <cite>FormatInfo</cite> in
core/metadata.py, usage here is strictly limited to recording
which <cite>LicensePoolDeliveryMechanism</cite> a specific loan is currently
locked to.</p>
<p>If, in the course of investigating a patron’s loans, you discover
general facts about a LicensePool’s availability or formats, that
information needs to be stored in a <cite>CirculationData</cite> and applied to
the LicensePool separately.</p>
<dl class="method">
<dt id="api.circulation.DeliveryMechanismInfo.apply">
<code class="descname">apply</code><span class="sig-paren">(</span><em>loan</em>, <em>autocommit=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#DeliveryMechanismInfo.apply"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.DeliveryMechanismInfo.apply" title="Permalink to this definition">¶</a></dt>
<dd><p>Set an appropriate LicensePoolDeliveryMechanism on the given
<cite>Loan</cite>, creating a DeliveryMechanism if necessary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>loan</strong> – A Loan object.</li>
<li><strong>autocommit</strong> – Set this to false if you are in the middle
of a nested transaction.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A LicensePoolDeliveryMechanism if one could be set on the
given Loan; None otherwise.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.circulation.FulfillmentInfo">
<em class="property">class </em><code class="descclassname">api.circulation.</code><code class="descname">FulfillmentInfo</code><span class="sig-paren">(</span><em>collection</em>, <em>data_source_name</em>, <em>identifier_type</em>, <em>identifier</em>, <em>content_link</em>, <em>content_type</em>, <em>content</em>, <em>content_expires</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#FulfillmentInfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.FulfillmentInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation.CirculationInfo" title="api.circulation.CirculationInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation.CirculationInfo</span></code></a></p>
<p>A record of a technique that can be used <em>right now</em> to fulfill
a loan.</p>
</dd></dl>

<dl class="class">
<dt id="api.circulation.HoldInfo">
<em class="property">class </em><code class="descclassname">api.circulation.</code><code class="descname">HoldInfo</code><span class="sig-paren">(</span><em>collection</em>, <em>data_source_name</em>, <em>identifier_type</em>, <em>identifier</em>, <em>start_date</em>, <em>end_date</em>, <em>hold_position</em>, <em>external_identifier=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#HoldInfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.HoldInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation.CirculationInfo" title="api.circulation.CirculationInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation.CirculationInfo</span></code></a></p>
<p>A record of a hold.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>identifier_type</strong> – Ex. Identifier.RBDIGITAL_ID.</li>
<li><strong>identifier</strong> – Expected to be the unicode string of the isbn, etc.</li>
<li><strong>start_date</strong> – When the patron made the reservation.</li>
<li><strong>end_date</strong> – When reserved book is expected to become available.
Expected to be passed in date, not unicode format.</li>
<li><strong>hold_position</strong> – Patron’s place in the hold line. When not available,
default to be passed is None, which is equivalent to “first in line”.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="class">
<dt id="api.circulation.LoanInfo">
<em class="property">class </em><code class="descclassname">api.circulation.</code><code class="descname">LoanInfo</code><span class="sig-paren">(</span><em>collection</em>, <em>data_source_name</em>, <em>identifier_type</em>, <em>identifier</em>, <em>start_date</em>, <em>end_date</em>, <em>fulfillment_info=None</em>, <em>external_identifier=None</em>, <em>locked_to=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation.html#LoanInfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation.LoanInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation.CirculationInfo" title="api.circulation.CirculationInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation.CirculationInfo</span></code></a></p>
<p>A record of a loan.</p>
</dd></dl>

</div>
<div class="section" id="module-api.circulation_exceptions">
<span id="api-circulation-exceptions-module"></span><h2>api.circulation_exceptions module<a class="headerlink" href="#module-api.circulation_exceptions" title="Permalink to this headline">¶</a></h2>
<dl class="exception">
<dt id="api.circulation_exceptions.AlreadyCheckedOut">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">AlreadyCheckedOut</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#AlreadyCheckedOut"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.AlreadyCheckedOut" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CannotLoan" title="api.circulation_exceptions.CannotLoan"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.CannotLoan</span></code></a></p>
<p>The patron can’t put check this book out because they already have
it checked out.</p>
<dl class="attribute">
<dt id="api.circulation_exceptions.AlreadyCheckedOut.status_code">
<code class="descname">status_code</code><em class="property"> = 400</em><a class="headerlink" href="#api.circulation_exceptions.AlreadyCheckedOut.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.AlreadyOnHold">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">AlreadyOnHold</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#AlreadyOnHold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.AlreadyOnHold" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CannotHold" title="api.circulation_exceptions.CannotHold"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.CannotHold</span></code></a></p>
<p>The patron can’t put this book on hold because they already have
it on hold.</p>
<dl class="attribute">
<dt id="api.circulation_exceptions.AlreadyOnHold.status_code">
<code class="descname">status_code</code><em class="property"> = 400</em><a class="headerlink" href="#api.circulation_exceptions.AlreadyOnHold.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.AuthorizationBlocked">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">AuthorizationBlocked</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#AuthorizationBlocked"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.AuthorizationBlocked" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CannotLoan" title="api.circulation_exceptions.CannotLoan"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.CannotLoan</span></code></a></p>
<p>The patron’s authorization is blocked for some reason other than
fines or an expired card.</p>
<p>For instance, the patron has been banned from the library.</p>
<dl class="method">
<dt id="api.circulation_exceptions.AuthorizationBlocked.as_problem_detail_document">
<code class="descname">as_problem_detail_document</code><span class="sig-paren">(</span><em>debug=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#AuthorizationBlocked.as_problem_detail_document"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.AuthorizationBlocked.as_problem_detail_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a suitable problem detail document.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.circulation_exceptions.AuthorizationBlocked.status_code">
<code class="descname">status_code</code><em class="property"> = 403</em><a class="headerlink" href="#api.circulation_exceptions.AuthorizationBlocked.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.AuthorizationExpired">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">AuthorizationExpired</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#AuthorizationExpired"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.AuthorizationExpired" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CannotLoan" title="api.circulation_exceptions.CannotLoan"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.CannotLoan</span></code></a></p>
<p>The patron’s authorization has expired.</p>
<dl class="method">
<dt id="api.circulation_exceptions.AuthorizationExpired.as_problem_detail_document">
<code class="descname">as_problem_detail_document</code><span class="sig-paren">(</span><em>debug=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#AuthorizationExpired.as_problem_detail_document"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.AuthorizationExpired.as_problem_detail_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a suitable problem detail document.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.circulation_exceptions.AuthorizationExpired.status_code">
<code class="descname">status_code</code><em class="property"> = 403</em><a class="headerlink" href="#api.circulation_exceptions.AuthorizationExpired.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.AuthorizationFailedException">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">AuthorizationFailedException</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#AuthorizationFailedException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.AuthorizationFailedException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CirculationException" title="api.circulation_exceptions.CirculationException"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.CirculationException</span></code></a></p>
<dl class="attribute">
<dt id="api.circulation_exceptions.AuthorizationFailedException.status_code">
<code class="descname">status_code</code><em class="property"> = 401</em><a class="headerlink" href="#api.circulation_exceptions.AuthorizationFailedException.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.CannotFulfill">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">CannotFulfill</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#CannotFulfill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.CannotFulfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CirculationException" title="api.circulation_exceptions.CirculationException"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.CirculationException</span></code></a></p>
<dl class="attribute">
<dt id="api.circulation_exceptions.CannotFulfill.status_code">
<code class="descname">status_code</code><em class="property"> = 500</em><a class="headerlink" href="#api.circulation_exceptions.CannotFulfill.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.CannotHold">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">CannotHold</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#CannotHold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.CannotHold" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CirculationException" title="api.circulation_exceptions.CirculationException"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.CirculationException</span></code></a></p>
<dl class="attribute">
<dt id="api.circulation_exceptions.CannotHold.status_code">
<code class="descname">status_code</code><em class="property"> = 500</em><a class="headerlink" href="#api.circulation_exceptions.CannotHold.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.CannotLoan">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">CannotLoan</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#CannotLoan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.CannotLoan" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CirculationException" title="api.circulation_exceptions.CirculationException"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.CirculationException</span></code></a></p>
<dl class="attribute">
<dt id="api.circulation_exceptions.CannotLoan.status_code">
<code class="descname">status_code</code><em class="property"> = 500</em><a class="headerlink" href="#api.circulation_exceptions.CannotLoan.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.CannotPartiallyFulfill">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">CannotPartiallyFulfill</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#CannotPartiallyFulfill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.CannotPartiallyFulfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CannotFulfill" title="api.circulation_exceptions.CannotFulfill"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.CannotFulfill</span></code></a></p>
<dl class="attribute">
<dt id="api.circulation_exceptions.CannotPartiallyFulfill.status_code">
<code class="descname">status_code</code><em class="property"> = 400</em><a class="headerlink" href="#api.circulation_exceptions.CannotPartiallyFulfill.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.CannotReleaseHold">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">CannotReleaseHold</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#CannotReleaseHold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.CannotReleaseHold" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CirculationException" title="api.circulation_exceptions.CirculationException"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.CirculationException</span></code></a></p>
<dl class="attribute">
<dt id="api.circulation_exceptions.CannotReleaseHold.status_code">
<code class="descname">status_code</code><em class="property"> = 500</em><a class="headerlink" href="#api.circulation_exceptions.CannotReleaseHold.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.CannotRenew">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">CannotRenew</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#CannotRenew"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.CannotRenew" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CirculationException" title="api.circulation_exceptions.CirculationException"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.CirculationException</span></code></a></p>
<p>The patron can’t renew their loan on this book.</p>
<p>Probably because it’s not available for renewal.</p>
<dl class="attribute">
<dt id="api.circulation_exceptions.CannotRenew.status_code">
<code class="descname">status_code</code><em class="property"> = 400</em><a class="headerlink" href="#api.circulation_exceptions.CannotRenew.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.CannotReturn">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">CannotReturn</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#CannotReturn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.CannotReturn" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CirculationException" title="api.circulation_exceptions.CirculationException"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.CirculationException</span></code></a></p>
<dl class="attribute">
<dt id="api.circulation_exceptions.CannotReturn.status_code">
<code class="descname">status_code</code><em class="property"> = 500</em><a class="headerlink" href="#api.circulation_exceptions.CannotReturn.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.CirculationException">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">CirculationException</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#CirculationException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.CirculationException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.util.html#core.util.http.IntegrationException" title="core.util.http.IntegrationException"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.util.http.IntegrationException</span></code></a></p>
<p>An exception occured when carrying out a circulation operation.</p>
<p><cite>status_code</cite> is the status code that should be returned to the patron.</p>
<dl class="attribute">
<dt id="api.circulation_exceptions.CirculationException.status_code">
<code class="descname">status_code</code><em class="property"> = 400</em><a class="headerlink" href="#api.circulation_exceptions.CirculationException.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.CurrentlyAvailable">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">CurrentlyAvailable</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#CurrentlyAvailable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.CurrentlyAvailable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CannotHold" title="api.circulation_exceptions.CannotHold"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.CannotHold</span></code></a></p>
<p>The patron can’t put this book on hold because it’s available now.</p>
<dl class="attribute">
<dt id="api.circulation_exceptions.CurrentlyAvailable.status_code">
<code class="descname">status_code</code><em class="property"> = 400</em><a class="headerlink" href="#api.circulation_exceptions.CurrentlyAvailable.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.DeliveryMechanismConflict">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">DeliveryMechanismConflict</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#DeliveryMechanismConflict"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.DeliveryMechanismConflict" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.DeliveryMechanismError" title="api.circulation_exceptions.DeliveryMechanismError"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.DeliveryMechanismError</span></code></a></p>
<p>The patron specified a delivery mechanism that conflicted with
one already set in stone.</p>
</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.DeliveryMechanismError">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">DeliveryMechanismError</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#DeliveryMechanismError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.DeliveryMechanismError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.InvalidInputException" title="api.circulation_exceptions.InvalidInputException"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.InvalidInputException</span></code></a></p>
<dl class="attribute">
<dt id="api.circulation_exceptions.DeliveryMechanismError.status_code">
<code class="descname">status_code</code><em class="property"> = 400</em><a class="headerlink" href="#api.circulation_exceptions.DeliveryMechanismError.status_code" title="Permalink to this definition">¶</a></dt>
<dd><p>The patron broke the rules about delivery mechanisms.</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.DeliveryMechanismMissing">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">DeliveryMechanismMissing</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#DeliveryMechanismMissing"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.DeliveryMechanismMissing" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.DeliveryMechanismError" title="api.circulation_exceptions.DeliveryMechanismError"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.DeliveryMechanismError</span></code></a></p>
<p>The patron needed to specify a delivery mechanism and didn’t.</p>
</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.FormatNotAvailable">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">FormatNotAvailable</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#FormatNotAvailable"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.FormatNotAvailable" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CannotFulfill" title="api.circulation_exceptions.CannotFulfill"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.CannotFulfill</span></code></a></p>
<p>Our format information for this book was outdated, and it’s
no longer available in the requested format.</p>
<dl class="attribute">
<dt id="api.circulation_exceptions.FormatNotAvailable.status_code">
<code class="descname">status_code</code><em class="property"> = 502</em><a class="headerlink" href="#api.circulation_exceptions.FormatNotAvailable.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.FulfilledOnIncompatiblePlatform">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">FulfilledOnIncompatiblePlatform</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#FulfilledOnIncompatiblePlatform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.FulfilledOnIncompatiblePlatform" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CannotFulfill" title="api.circulation_exceptions.CannotFulfill"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.CannotFulfill</span></code></a></p>
<p>We can’t fulfill the patron’s loan because the loan was already
fulfilled on an incompatible platform (i.e. Kindle) in a way that’s
exclusive to that platform.</p>
<dl class="attribute">
<dt id="api.circulation_exceptions.FulfilledOnIncompatiblePlatform.status_code">
<code class="descname">status_code</code><em class="property"> = 451</em><a class="headerlink" href="#api.circulation_exceptions.FulfilledOnIncompatiblePlatform.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.InternalServerError">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">InternalServerError</code><span class="sig-paren">(</span><em>message</em>, <em>debug_message=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#InternalServerError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.InternalServerError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.util.html#core.util.http.IntegrationException" title="core.util.http.IntegrationException"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.util.http.IntegrationException</span></code></a></p>
<dl class="method">
<dt id="api.circulation_exceptions.InternalServerError.as_problem_detail_document">
<code class="descname">as_problem_detail_document</code><span class="sig-paren">(</span><em>debug=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#InternalServerError.as_problem_detail_document"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.InternalServerError.as_problem_detail_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a suitable problem detail document.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.circulation_exceptions.InternalServerError.status_code">
<code class="descname">status_code</code><em class="property"> = 500</em><a class="headerlink" href="#api.circulation_exceptions.InternalServerError.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.InvalidInputException">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">InvalidInputException</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#InvalidInputException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.InvalidInputException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CirculationException" title="api.circulation_exceptions.CirculationException"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.CirculationException</span></code></a></p>
<p>The patron gave invalid input to the library.</p>
<dl class="attribute">
<dt id="api.circulation_exceptions.InvalidInputException.status_code">
<code class="descname">status_code</code><em class="property"> = 400</em><a class="headerlink" href="#api.circulation_exceptions.InvalidInputException.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.LibraryAuthorizationFailedException">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">LibraryAuthorizationFailedException</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#LibraryAuthorizationFailedException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.LibraryAuthorizationFailedException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CirculationException" title="api.circulation_exceptions.CirculationException"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.CirculationException</span></code></a></p>
<dl class="attribute">
<dt id="api.circulation_exceptions.LibraryAuthorizationFailedException.status_code">
<code class="descname">status_code</code><em class="property"> = 500</em><a class="headerlink" href="#api.circulation_exceptions.LibraryAuthorizationFailedException.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.LibraryInvalidInputException">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">LibraryInvalidInputException</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#LibraryInvalidInputException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.LibraryInvalidInputException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.InvalidInputException" title="api.circulation_exceptions.InvalidInputException"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.InvalidInputException</span></code></a></p>
<p>The library gave invalid input to the book provider.</p>
<dl class="attribute">
<dt id="api.circulation_exceptions.LibraryInvalidInputException.status_code">
<code class="descname">status_code</code><em class="property"> = 500</em><a class="headerlink" href="#api.circulation_exceptions.LibraryInvalidInputException.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.NoAcceptableFormat">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">NoAcceptableFormat</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#NoAcceptableFormat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.NoAcceptableFormat" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CannotFulfill" title="api.circulation_exceptions.CannotFulfill"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.CannotFulfill</span></code></a></p>
<p>We can’t fulfill the patron’s loan because the book is not available
in an acceptable format.</p>
<dl class="attribute">
<dt id="api.circulation_exceptions.NoAcceptableFormat.status_code">
<code class="descname">status_code</code><em class="property"> = 400</em><a class="headerlink" href="#api.circulation_exceptions.NoAcceptableFormat.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.NoActiveLoan">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">NoActiveLoan</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#NoActiveLoan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.NoActiveLoan" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CannotFulfill" title="api.circulation_exceptions.CannotFulfill"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.CannotFulfill</span></code></a></p>
<p>We can’t fulfill the patron’s loan because they don’t have an
active loan.</p>
<dl class="attribute">
<dt id="api.circulation_exceptions.NoActiveLoan.status_code">
<code class="descname">status_code</code><em class="property"> = 400</em><a class="headerlink" href="#api.circulation_exceptions.NoActiveLoan.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.NoAvailableCopies">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">NoAvailableCopies</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#NoAvailableCopies"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.NoAvailableCopies" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CannotLoan" title="api.circulation_exceptions.CannotLoan"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.CannotLoan</span></code></a></p>
<p>The patron can’t check this book out because all available
copies are already checked out.</p>
<dl class="attribute">
<dt id="api.circulation_exceptions.NoAvailableCopies.status_code">
<code class="descname">status_code</code><em class="property"> = 400</em><a class="headerlink" href="#api.circulation_exceptions.NoAvailableCopies.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.NoLicenses">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">NoLicenses</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#NoLicenses"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.NoLicenses" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.NotFoundOnRemote" title="api.circulation_exceptions.NotFoundOnRemote"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.NotFoundOnRemote</span></code></a></p>
<p>The library no longer has licenses for this book.</p>
<dl class="method">
<dt id="api.circulation_exceptions.NoLicenses.as_problem_detail_document">
<code class="descname">as_problem_detail_document</code><span class="sig-paren">(</span><em>debug=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#NoLicenses.as_problem_detail_document"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.NoLicenses.as_problem_detail_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a suitable problem detail document.</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.NoOpenAccessDownload">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">NoOpenAccessDownload</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#NoOpenAccessDownload"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.NoOpenAccessDownload" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CirculationException" title="api.circulation_exceptions.CirculationException"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.CirculationException</span></code></a></p>
<p>We expected a book to have an open-access download, but it didn’t.</p>
<dl class="attribute">
<dt id="api.circulation_exceptions.NoOpenAccessDownload.status_code">
<code class="descname">status_code</code><em class="property"> = 500</em><a class="headerlink" href="#api.circulation_exceptions.NoOpenAccessDownload.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.NotCheckedOut">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">NotCheckedOut</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#NotCheckedOut"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.NotCheckedOut" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CannotReturn" title="api.circulation_exceptions.CannotReturn"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.CannotReturn</span></code></a></p>
<p>The patron can’t return this book because they don’t
have it checked out in the first place.</p>
<dl class="attribute">
<dt id="api.circulation_exceptions.NotCheckedOut.status_code">
<code class="descname">status_code</code><em class="property"> = 400</em><a class="headerlink" href="#api.circulation_exceptions.NotCheckedOut.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.NotFoundOnRemote">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">NotFoundOnRemote</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#NotFoundOnRemote"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.NotFoundOnRemote" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CirculationException" title="api.circulation_exceptions.CirculationException"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.CirculationException</span></code></a></p>
<p>We know about this book but the remote site doesn’t seem to.</p>
<dl class="attribute">
<dt id="api.circulation_exceptions.NotFoundOnRemote.status_code">
<code class="descname">status_code</code><em class="property"> = 404</em><a class="headerlink" href="#api.circulation_exceptions.NotFoundOnRemote.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.NotOnHold">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">NotOnHold</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#NotOnHold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.NotOnHold" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CannotReleaseHold" title="api.circulation_exceptions.CannotReleaseHold"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.CannotReleaseHold</span></code></a></p>
<p>The patron can’t release a hold for this book because they don’t
have it on hold in the first place.</p>
<dl class="attribute">
<dt id="api.circulation_exceptions.NotOnHold.status_code">
<code class="descname">status_code</code><em class="property"> = 400</em><a class="headerlink" href="#api.circulation_exceptions.NotOnHold.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.OutstandingFines">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">OutstandingFines</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#OutstandingFines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.OutstandingFines" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CannotLoan" title="api.circulation_exceptions.CannotLoan"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.CannotLoan</span></code></a></p>
<p>The patron has outstanding fines above the limit in the library’s
policy.</p>
<dl class="attribute">
<dt id="api.circulation_exceptions.OutstandingFines.status_code">
<code class="descname">status_code</code><em class="property"> = 403</em><a class="headerlink" href="#api.circulation_exceptions.OutstandingFines.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.PatronAuthorizationFailedException">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">PatronAuthorizationFailedException</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#PatronAuthorizationFailedException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.PatronAuthorizationFailedException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.AuthorizationFailedException" title="api.circulation_exceptions.AuthorizationFailedException"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.AuthorizationFailedException</span></code></a></p>
<dl class="attribute">
<dt id="api.circulation_exceptions.PatronAuthorizationFailedException.status_code">
<code class="descname">status_code</code><em class="property"> = 400</em><a class="headerlink" href="#api.circulation_exceptions.PatronAuthorizationFailedException.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.PatronHoldLimitReached">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">PatronHoldLimitReached</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#PatronHoldLimitReached"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.PatronHoldLimitReached" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CannotHold" title="api.circulation_exceptions.CannotHold"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.CannotHold</span></code></a></p>
<dl class="method">
<dt id="api.circulation_exceptions.PatronHoldLimitReached.as_problem_detail_document">
<code class="descname">as_problem_detail_document</code><span class="sig-paren">(</span><em>debug=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#PatronHoldLimitReached.as_problem_detail_document"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.PatronHoldLimitReached.as_problem_detail_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a suitable problem detail document.</p>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.PatronLoanLimitReached">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">PatronLoanLimitReached</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#PatronLoanLimitReached"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.PatronLoanLimitReached" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CannotLoan" title="api.circulation_exceptions.CannotLoan"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.CannotLoan</span></code></a></p>
<dl class="attribute">
<dt id="api.circulation_exceptions.PatronLoanLimitReached.status_code">
<code class="descname">status_code</code><em class="property"> = 403</em><a class="headerlink" href="#api.circulation_exceptions.PatronLoanLimitReached.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.PatronNotFoundOnRemote">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">PatronNotFoundOnRemote</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#PatronNotFoundOnRemote"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.PatronNotFoundOnRemote" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.NotFoundOnRemote" title="api.circulation_exceptions.NotFoundOnRemote"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.NotFoundOnRemote</span></code></a></p>
<dl class="attribute">
<dt id="api.circulation_exceptions.PatronNotFoundOnRemote.status_code">
<code class="descname">status_code</code><em class="property"> = 404</em><a class="headerlink" href="#api.circulation_exceptions.PatronNotFoundOnRemote.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.RemoteInitiatedServerError">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">RemoteInitiatedServerError</code><span class="sig-paren">(</span><em>message</em>, <em>service_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#RemoteInitiatedServerError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.RemoteInitiatedServerError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.InternalServerError" title="api.circulation_exceptions.InternalServerError"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.InternalServerError</span></code></a></p>
<p>One of the servers we communicate with had an internal error.</p>
<dl class="method">
<dt id="api.circulation_exceptions.RemoteInitiatedServerError.as_problem_detail_document">
<code class="descname">as_problem_detail_document</code><span class="sig-paren">(</span><em>debug=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#RemoteInitiatedServerError.as_problem_detail_document"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.RemoteInitiatedServerError.as_problem_detail_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a suitable problem detail document.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.circulation_exceptions.RemoteInitiatedServerError.status_code">
<code class="descname">status_code</code><em class="property"> = 502</em><a class="headerlink" href="#api.circulation_exceptions.RemoteInitiatedServerError.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.RemotePatronCreationFailedException">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">RemotePatronCreationFailedException</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#RemotePatronCreationFailedException"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.RemotePatronCreationFailedException" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CirculationException" title="api.circulation_exceptions.CirculationException"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.CirculationException</span></code></a></p>
<dl class="attribute">
<dt id="api.circulation_exceptions.RemotePatronCreationFailedException.status_code">
<code class="descname">status_code</code><em class="property"> = 500</em><a class="headerlink" href="#api.circulation_exceptions.RemotePatronCreationFailedException.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.circulation_exceptions.RemoteRefusedReturn">
<em class="property">exception </em><code class="descclassname">api.circulation_exceptions.</code><code class="descname">RemoteRefusedReturn</code><span class="sig-paren">(</span><em>message=None</em>, <em>debug_info=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/circulation_exceptions.html#RemoteRefusedReturn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.circulation_exceptions.RemoteRefusedReturn" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation_exceptions.CannotReturn" title="api.circulation_exceptions.CannotReturn"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation_exceptions.CannotReturn</span></code></a></p>
<p>The remote refused to count this book as returned.</p>
<dl class="attribute">
<dt id="api.circulation_exceptions.RemoteRefusedReturn.status_code">
<code class="descname">status_code</code><em class="property"> = 500</em><a class="headerlink" href="#api.circulation_exceptions.RemoteRefusedReturn.status_code" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api.config">
<span id="api-config-module"></span><h2>api.config module<a class="headerlink" href="#module-api.config" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="api.config.Configuration">
<em class="property">class </em><code class="descclassname">api.config.</code><code class="descname">Configuration</code><a class="reference internal" href="_modules/api/config.html#Configuration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.config.Configuration" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.config.Configuration" title="core.config.Configuration"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.config.Configuration</span></code></a></p>
<dl class="attribute">
<dt id="api.config.Configuration.ABOUT">
<code class="descname">ABOUT</code><em class="property"> = 'about'</em><a class="headerlink" href="#api.config.Configuration.ABOUT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.AREA_INPUT_INSTRUCTIONS">
<code class="descname">AREA_INPUT_INSTRUCTIONS</code><em class="property"> = l'&lt;ol&gt;Accepted formats:             &lt;li&gt;US zipcode or Canadian FSA&lt;/li&gt;             &lt;li&gt;Two-letter US state abbreviation&lt;/li&gt;             &lt;li&gt;City, US state abbreviation&lt;i&gt;e.g. &quot;Boston, MA&quot;&lt;/i&gt;&lt;/li&gt;             &lt;li&gt;County, US state abbreviation&lt;i&gt;e.g. &quot;Litchfield County, CT&quot;&lt;/i&gt;&lt;/li&gt;             &lt;li&gt;Canadian province name or two-letter abbreviation&lt;/li&gt;             &lt;li&gt;City, Canadian province name/abbreviation&lt;i&gt;e.g. &quot;Stratford, Ontario&quot;/&quot;Stratford, ON&quot;&lt;/i&gt;&lt;/li&gt;         &lt;/ol&gt;'</em><a class="headerlink" href="#api.config.Configuration.AREA_INPUT_INSTRUCTIONS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.AUTHENTICATION_FOR_OPDS_LINKS">
<code class="descname">AUTHENTICATION_FOR_OPDS_LINKS</code><em class="property"> = ['register']</em><a class="headerlink" href="#api.config.Configuration.AUTHENTICATION_FOR_OPDS_LINKS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.BEARER_TOKEN_SIGNING_SECRET">
<code class="descname">BEARER_TOKEN_SIGNING_SECRET</code><em class="property"> = 'bearer_token_signing_secret'</em><a class="headerlink" href="#api.config.Configuration.BEARER_TOKEN_SIGNING_SECRET" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.COLOR_SCHEME">
<code class="descname">COLOR_SCHEME</code><em class="property"> = 'color_scheme'</em><a class="headerlink" href="#api.config.Configuration.COLOR_SCHEME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.CONFIGURATION_CONTACT_EMAIL">
<code class="descname">CONFIGURATION_CONTACT_EMAIL</code><em class="property"> = u'configuration_contact_email_address'</em><a class="headerlink" href="#api.config.Configuration.CONFIGURATION_CONTACT_EMAIL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.COPYRIGHT">
<code class="descname">COPYRIGHT</code><em class="property"> = 'copyright'</em><a class="headerlink" href="#api.config.Configuration.COPYRIGHT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.COPYRIGHT_DESIGNATED_AGENT_EMAIL">
<code class="descname">COPYRIGHT_DESIGNATED_AGENT_EMAIL</code><em class="property"> = u'copyright_designated_agent_email_address'</em><a class="headerlink" href="#api.config.Configuration.COPYRIGHT_DESIGNATED_AGENT_EMAIL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.COPYRIGHT_DESIGNATED_AGENT_REL">
<code class="descname">COPYRIGHT_DESIGNATED_AGENT_REL</code><em class="property"> = 'http://librarysimplified.org/rel/designated-agent/copyright'</em><a class="headerlink" href="#api.config.Configuration.COPYRIGHT_DESIGNATED_AGENT_REL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.CUSTOM_TOS_HREF">
<code class="descname">CUSTOM_TOS_HREF</code><em class="property"> = 'tos_href'</em><a class="headerlink" href="#api.config.Configuration.CUSTOM_TOS_HREF" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.CUSTOM_TOS_TEXT">
<code class="descname">CUSTOM_TOS_TEXT</code><em class="property"> = 'tos_text'</em><a class="headerlink" href="#api.config.Configuration.CUSTOM_TOS_TEXT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.DEFAULT_COLOR_SCHEME">
<code class="descname">DEFAULT_COLOR_SCHEME</code><em class="property"> = 'blue'</em><a class="headerlink" href="#api.config.Configuration.DEFAULT_COLOR_SCHEME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.DEFAULT_NOTIFICATION_EMAIL_ADDRESS">
<code class="descname">DEFAULT_NOTIFICATION_EMAIL_ADDRESS</code><em class="property"> = u'default_notification_email_address'</em><a class="headerlink" href="#api.config.Configuration.DEFAULT_NOTIFICATION_EMAIL_ADDRESS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.DEFAULT_OPDS_FORMAT">
<code class="descname">DEFAULT_OPDS_FORMAT</code><em class="property"> = 'simple_opds_entry'</em><a class="headerlink" href="#api.config.Configuration.DEFAULT_OPDS_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.DEFAULT_TOS_HREF">
<code class="descname">DEFAULT_TOS_HREF</code><em class="property"> = 'https://librarysimplified.org/simplyetermsofservice2/'</em><a class="headerlink" href="#api.config.Configuration.DEFAULT_TOS_HREF" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.DEFAULT_TOS_TEXT">
<code class="descname">DEFAULT_TOS_TEXT</code><em class="property"> = &quot;Terms of Service for presenting e-reading materials through NYPL's SimplyE mobile app&quot;</em><a class="headerlink" href="#api.config.Configuration.DEFAULT_TOS_TEXT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.DEFAULT_WEB_BACKGROUND_COLOR">
<code class="descname">DEFAULT_WEB_BACKGROUND_COLOR</code><em class="property"> = '#000000'</em><a class="headerlink" href="#api.config.Configuration.DEFAULT_WEB_BACKGROUND_COLOR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.DEFAULT_WEB_FOREGROUND_COLOR">
<code class="descname">DEFAULT_WEB_FOREGROUND_COLOR</code><em class="property"> = '#ffffff'</em><a class="headerlink" href="#api.config.Configuration.DEFAULT_WEB_FOREGROUND_COLOR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.HELP_EMAIL">
<code class="descname">HELP_EMAIL</code><em class="property"> = 'help-email'</em><a class="headerlink" href="#api.config.Configuration.HELP_EMAIL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.HELP_LINKS">
<code class="descname">HELP_LINKS</code><em class="property"> = ['help-email', 'help-web', 'help-uri']</em><a class="headerlink" href="#api.config.Configuration.HELP_LINKS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.HELP_URI">
<code class="descname">HELP_URI</code><em class="property"> = 'help-uri'</em><a class="headerlink" href="#api.config.Configuration.HELP_URI" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.HELP_WEB">
<code class="descname">HELP_WEB</code><em class="property"> = 'help-web'</em><a class="headerlink" href="#api.config.Configuration.HELP_WEB" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.HIDDEN_CONTENT_TYPES">
<code class="descname">HIDDEN_CONTENT_TYPES</code><em class="property"> = 'hidden_content_types'</em><a class="headerlink" href="#api.config.Configuration.HIDDEN_CONTENT_TYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.HOLD_LIMIT">
<code class="descname">HOLD_LIMIT</code><em class="property"> = u'hold_limit'</em><a class="headerlink" href="#api.config.Configuration.HOLD_LIMIT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.KEY_PAIR">
<code class="descname">KEY_PAIR</code><em class="property"> = 'key-pair'</em><a class="headerlink" href="#api.config.Configuration.KEY_PAIR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.LANGUAGE_DESCRIPTION">
<code class="descname">LANGUAGE_DESCRIPTION</code><em class="property"> = l'Each value can be either the full name of a language or an &lt;a href=&quot;https://www.loc.gov/standards/iso639-2/php/code_list.php&quot; target=&quot;_blank&quot;&gt;ISO-639-2&lt;/a&gt; language code.'</em><a class="headerlink" href="#api.config.Configuration.LANGUAGE_DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.LARGE_COLLECTION_CUTOFF">
<code class="descname">LARGE_COLLECTION_CUTOFF</code><em class="property"> = 10000</em><a class="headerlink" href="#api.config.Configuration.LARGE_COLLECTION_CUTOFF" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.LARGE_COLLECTION_LANGUAGES">
<code class="descname">LARGE_COLLECTION_LANGUAGES</code><em class="property"> = 'large_collections'</em><a class="headerlink" href="#api.config.Configuration.LARGE_COLLECTION_LANGUAGES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.LENDING_POLICY">
<code class="descname">LENDING_POLICY</code><em class="property"> = 'lending'</em><a class="headerlink" href="#api.config.Configuration.LENDING_POLICY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.LIBRARY_DESCRIPTION">
<code class="descname">LIBRARY_DESCRIPTION</code><em class="property"> = 'library_description'</em><a class="headerlink" href="#api.config.Configuration.LIBRARY_DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.LIBRARY_FOCUS_AREA">
<code class="descname">LIBRARY_FOCUS_AREA</code><em class="property"> = 'focus_area'</em><a class="headerlink" href="#api.config.Configuration.LIBRARY_FOCUS_AREA" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.LIBRARY_SERVICE_AREA">
<code class="descname">LIBRARY_SERVICE_AREA</code><em class="property"> = 'service_area'</em><a class="headerlink" href="#api.config.Configuration.LIBRARY_SERVICE_AREA" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.LIBRARY_SETTINGS">
<code class="descname">LIBRARY_SETTINGS</code><em class="property"> = [{'format': 'url', 'required': True, 'description': l'The library's main website, e.g. &quot;https://www.nypl.org/&quot; (not this Circulation Manager's URL).', 'key': u'website', 'label': l'URL of the library's website'}, {'category': 'Loans, Holds, &amp; Fines', 'default': 'true', 'label': l'Allow books to be put on hold', 'key': 'allow_holds', 'type': 'select', 'options': [{'key': 'true', 'label': l'Allow holds'}, {'key': 'false', 'label': l'Disable holds'}]}, {'category': 'Lanes &amp; Filters', 'readOnly': True, 'description': l'Patrons will see the selected entry points at the top level and in search results. &lt;p&gt;Currently supported audiobook vendors: Bibliotheca, Axis 360', 'key': 'enabled_entry_points', 'format': 'narrow', 'default': ['Book'], 'type': 'list', 'options': [{'key': 'All', 'label': 'All'}, {'key': 'Book', 'label': 'eBooks'}, {'key': 'Audio', 'label': 'Audiobooks'}], 'label': l'Enabled entry points'}, {'default': 15, 'category': 'Lanes &amp; Filters', 'type': 'number', 'key': 'featured_lane_size', 'label': l'Maximum number of books in the 'featured' lanes'}, {'category': 'Lanes &amp; Filters', 'description': l'Between 0 and 1.', 'default': 0.65, 'max': 1, 'label': l'Minimum quality for books that show up in 'featured' lanes', 'key': 'minimum_featured_quality', 'type': 'number'}, {'category': 'Lanes &amp; Filters', 'default': ['now', 'all', 'always'], 'label': l'Allow patrons to filter availability to', 'paired': 'facets_default_available', 'key': 'facets_enabled_available', 'type': 'list', 'options': [{'key': 'now', 'label': l'Available now'}, {'key': 'all', 'label': l'All'}, {'key': 'always', 'label': l'Yours to keep'}]}, {'category': 'Lanes &amp; Filters', 'default': ['title', 'author', 'added', 'random'], 'label': l'Allow patrons to sort by', 'paired': 'facets_default_order', 'key': 'facets_enabled_order', 'type': 'list', 'options': [{'key': 'title', 'label': l'Title'}, {'key': 'author', 'label': l'Author'}, {'key': 'added', 'label': l'Recently Added'}, {'key': 'random', 'label': l'Random'}]}, {'category': 'Lanes &amp; Filters', 'default': ['full', 'featured'], 'label': l'Allow patrons to filter collection to', 'paired': 'facets_default_collection', 'key': 'facets_enabled_collection', 'type': 'list', 'options': [{'key': 'full', 'label': l'Everything'}, {'key': 'featured', 'label': l'Popular Books'}]}, {'category': 'Lanes &amp; Filters', 'default': 'all', 'skip': True, 'label': l'Default Availability', 'key': 'facets_default_available', 'type': 'select', 'options': [{'key': 'now', 'label': l'Available now'}, {'key': 'all', 'label': l'All'}, {'key': 'always', 'label': l'Yours to keep'}]}, {'category': 'Lanes &amp; Filters', 'default': 'author', 'skip': True, 'label': l'Default Sort by', 'key': 'facets_default_order', 'type': 'select', 'options': [{'key': 'title', 'label': l'Title'}, {'key': 'author', 'label': l'Author'}, {'key': 'added', 'label': l'Recently Added'}, {'key': 'random', 'label': l'Random'}]}, {'category': 'Lanes &amp; Filters', 'default': 'full', 'skip': True, 'label': l'Default Collection', 'key': 'facets_default_collection', 'type': 'select', 'options': [{'key': 'full', 'label': l'Everything'}, {'key': 'featured', 'label': l'Popular Books'}]}, {'category': 'Basic Information', 'description': l'This will be shown to people who aren't sure they've chosen the right library.', 'key': 'library_description', 'label': l'A short description of this library'}, {'format': 'email', 'required': True, 'description': l'An email address a patron can use if they need help, e.g. 'simplyehelp&#64;yourlibrary.org'.', 'key': 'help-email', 'label': l'Patron support email address'}, {'category': 'Patron Support', 'format': 'url', 'description': l'A URL for patrons to get help.', 'key': 'help-web', 'label': l'Patron support web site'}, {'category': 'Patron Support', 'description': l'A custom help integration like Helpstack, e.g. 'helpstack:nypl.desk.com'.', 'key': 'help-uri', 'label': l'Patron support custom integration URI'}, {'category': 'Patron Support', 'format': 'email', 'description': l'Patrons of this library should use this email address to send a DMCA notification (or other copyright complaint) to the library.&lt;br/&gt;If no value is specified here, the general patron support address will be used.', 'key': u'copyright_designated_agent_email_address', 'label': l'Copyright designated agent email'}, {'category': 'Patron Support', 'format': 'email', 'description': l'This email address will be shared as part of integrations that you set up through this interface. It will not be shared with the general public. This gives the administrator of the remote integration a way to contact you about problems with this library's use of that integration.&lt;br/&gt;If no value is specified here, the general patron support address will be used.', 'key': u'configuration_contact_email_address', 'label': l'A point of contact for the organization reponsible for configuring this library'}, {'description': l'This address must trash all email sent to it. Vendor hold notifications contain sensitive patron information, but &lt;a href=&quot;https://confluence.nypl.org/display/SIM/About+Hold+Notifications&quot; target=&quot;_blank&quot;&gt;cannot be forwarded to patrons&lt;/a&gt; because they contain vendor-specific instructions.&lt;br/&gt;The default address will work, but for greater security, set up your own address that trashes all incoming email.', 'format': 'email', 'default': 'noreply&#64;librarysimplified.org', 'required': True, 'label': l'Write-only email address for vendor hold notifications', 'key': u'default_notification_email_address'}, {'category': 'Client Interface Customization', 'description': l'This tells mobile applications what color scheme to use when rendering this library's OPDS feed.', 'default': 'blue', 'label': l'Mobile color scheme', 'key': 'color_scheme', 'type': 'select', 'options': [{'key': 'amber', 'label': l'Amber'}, {'key': 'black', 'label': l'Black'}, {'key': 'blue', 'label': l'Blue'}, {'key': 'bluegray', 'label': l'Blue Gray'}, {'key': 'brown', 'label': l'Brown'}, {'key': 'cyan', 'label': l'Cyan'}, {'key': 'darkorange', 'label': l'Dark Orange'}, {'key': 'darkpurple', 'label': l'Dark Purple'}, {'key': 'green', 'label': l'Green'}, {'key': 'gray', 'label': l'Gray'}, {'key': 'indigo', 'label': l'Indigo'}, {'key': 'lightblue', 'label': l'Light Blue'}, {'key': 'orange', 'label': l'Orange'}, {'key': 'pink', 'label': l'Pink'}, {'key': 'purple', 'label': l'Purple'}, {'key': 'red', 'label': l'Red'}, {'key': 'teal', 'label': l'Teal'}]}, {'category': 'Client Interface Customization', 'description': l'This tells web applications what background color to use. Must have sufficient contrast with the foreground color.', 'default': '#000000', 'label': l'Web background color', 'key': 'web-background-color', 'type': 'color-picker'}, {'category': 'Client Interface Customization', 'description': l'This tells web applications what foreground color to use. Must have sufficient contrast with the background color.', 'default': '#ffffff', 'label': l'Web foreground color', 'key': 'web-foreground-color', 'type': 'color-picker'}, {'category': 'Client Interface Customization', 'format': 'url', 'description': l'Give web applications a CSS file to customize the catalog display.', 'key': 'web-css-file', 'label': l'Custom CSS file for web'}, {'category': 'Client Interface Customization', 'type': 'list', 'description': l'This gives web applications a list of links to display in the header. Specify labels for each link in the same order under 'Web header labels'.', 'key': 'web-header-links', 'label': l'Web header links'}, {'category': 'Client Interface Customization', 'type': 'list', 'description': l'Labels for each link under 'Web header links'.', 'key': 'web-header-labels', 'label': l'Web header labels'}, {'category': 'Client Interface Customization', 'type': 'image', 'description': l'The image must be in GIF, PNG, or JPG format, approximately square, no larger than 135x135 pixels, and look good on a white background.', 'key': 'logo', 'label': l'Logo image'}, {'category': 'Client Interface Customization', 'type': 'text', 'description': l'A list of content types to hide from all clients, e.g. &lt;code&gt;[&quot;application/pdf&quot;]&lt;/code&gt;. This can be left blank except to solve specific problems.', 'key': 'hidden_content_types', 'label': l'Hidden content types'}, {'category': 'Geographic Areas', 'description': l'The library focuses on serving patrons in this geographic area. In most cases this will be a city name like &lt;code&gt;Springfield, OR&lt;/code&gt;.', 'key': 'focus_area', 'format': 'geographic', 'capitalize': True, 'instructions': l'&lt;ol&gt;Accepted formats:             &lt;li&gt;US zipcode or Canadian FSA&lt;/li&gt;             &lt;li&gt;Two-letter US state abbreviation&lt;/li&gt;             &lt;li&gt;City, US state abbreviation&lt;i&gt;e.g. &quot;Boston, MA&quot;&lt;/i&gt;&lt;/li&gt;             &lt;li&gt;County, US state abbreviation&lt;i&gt;e.g. &quot;Litchfield County, CT&quot;&lt;/i&gt;&lt;/li&gt;             &lt;li&gt;Canadian province name or two-letter abbreviation&lt;/li&gt;             &lt;li&gt;City, Canadian province name/abbreviation&lt;i&gt;e.g. &quot;Stratford, Ontario&quot;/&quot;Stratford, ON&quot;&lt;/i&gt;&lt;/li&gt;         &lt;/ol&gt;', 'type': 'list', 'label': l'Focus area'}, {'category': 'Geographic Areas', 'description': l'The full geographic area served by this library. In most cases this is the same as the focus area and can be left blank, but it may be a larger area such as a US state (which should be indicated by its abbreviation, like &lt;code&gt;OR&lt;/code&gt;).', 'key': 'service_area', 'format': 'geographic', 'capitalize': True, 'instructions': l'&lt;ol&gt;Accepted formats:             &lt;li&gt;US zipcode or Canadian FSA&lt;/li&gt;             &lt;li&gt;Two-letter US state abbreviation&lt;/li&gt;             &lt;li&gt;City, US state abbreviation&lt;i&gt;e.g. &quot;Boston, MA&quot;&lt;/i&gt;&lt;/li&gt;             &lt;li&gt;County, US state abbreviation&lt;i&gt;e.g. &quot;Litchfield County, CT&quot;&lt;/i&gt;&lt;/li&gt;             &lt;li&gt;Canadian province name or two-letter abbreviation&lt;/li&gt;             &lt;li&gt;City, Canadian province name/abbreviation&lt;i&gt;e.g. &quot;Stratford, Ontario&quot;/&quot;Stratford, ON&quot;&lt;/i&gt;&lt;/li&gt;         &lt;/ol&gt;', 'type': 'list', 'label': l'Service area'}, {'category': 'Loans, Holds, &amp; Fines', 'type': 'number', 'key': u'max_outstanding_fines', 'label': l'Maximum amount in fines a patron can have before losing lending privileges'}, {'category': 'Loans, Holds, &amp; Fines', 'type': 'number', 'description': l'(Note: depending on distributor settings, a patron may be able to exceed the limit by checking out books directly from a distributor's app. They may also get a limit exceeded error before they reach these limits if a distributor has a smaller limit.)', 'key': u'loan_limit', 'label': l'Maximum number of books a patron can have on loan at once'}, {'category': 'Loans, Holds, &amp; Fines', 'type': 'number', 'description': l'(Note: depending on distributor settings, a patron may be able to exceed the limit by checking out books directly from a distributor's app. They may also get a limit exceeded error before they reach these limits if a distributor has a smaller limit.)', 'key': u'hold_limit', 'label': l'Maximum number of books a patron can have on hold at once'}, {'category': 'Links', 'format': 'url', 'key': 'terms-of-service', 'label': l'Terms of Service URL'}, {'category': 'Links', 'format': 'url', 'key': 'privacy-policy', 'label': l'Privacy Policy URL'}, {'category': 'Links', 'format': 'url', 'key': 'copyright', 'label': l'Copyright URL'}, {'category': 'Links', 'format': 'url', 'key': 'about', 'label': l'About URL'}, {'category': 'Links', 'format': 'url', 'key': 'license', 'label': l'License URL'}, {'category': 'Patron Support', 'format': 'url', 'description': l'A URL where someone who doesn't have a library card yet can sign up for one.', 'key': 'register', 'label': l'Patron registration URL'}, {'category': 'Languages', 'description': l'Each value can be either the full name of a language or an &lt;a href=&quot;https://www.loc.gov/standards/iso639-2/php/code_list.php&quot; target=&quot;_blank&quot;&gt;ISO-639-2&lt;/a&gt; language code.', 'format': 'language-code', 'type': 'list', 'label': l'The primary languages represented in this library's collection', 'key': 'large_collections', 'optional': True}, {'category': 'Languages', 'description': l'Each value can be either the full name of a language or an &lt;a href=&quot;https://www.loc.gov/standards/iso639-2/php/code_list.php&quot; target=&quot;_blank&quot;&gt;ISO-639-2&lt;/a&gt; language code.', 'format': 'language-code', 'type': 'list', 'label': l'Other major languages represented in this library's collection', 'key': 'small_collections', 'optional': True}, {'category': 'Languages', 'description': l'Each value can be either the full name of a language or an &lt;a href=&quot;https://www.loc.gov/standards/iso639-2/php/code_list.php&quot; target=&quot;_blank&quot;&gt;ISO-639-2&lt;/a&gt; language code.', 'format': 'language-code', 'type': 'list', 'label': l'Other languages in this library's collection', 'key': 'tiny_collections', 'optional': True}]</em><a class="headerlink" href="#api.config.Configuration.LIBRARY_SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.LICENSE">
<code class="descname">LICENSE</code><em class="property"> = 'license'</em><a class="headerlink" href="#api.config.Configuration.LICENSE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.LOAN_LIMIT">
<code class="descname">LOAN_LIMIT</code><em class="property"> = u'loan_limit'</em><a class="headerlink" href="#api.config.Configuration.LOAN_LIMIT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.LOGO">
<code class="descname">LOGO</code><em class="property"> = 'logo'</em><a class="headerlink" href="#api.config.Configuration.LOGO" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.MAX_OUTSTANDING_FINES">
<code class="descname">MAX_OUTSTANDING_FINES</code><em class="property"> = u'max_outstanding_fines'</em><a class="headerlink" href="#api.config.Configuration.MAX_OUTSTANDING_FINES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.PATRON_WEB_CLIENT_URL">
<code class="descname">PATRON_WEB_CLIENT_URL</code><em class="property"> = u'Patron Web Client'</em><a class="headerlink" href="#api.config.Configuration.PATRON_WEB_CLIENT_URL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.PRIVACY_POLICY">
<code class="descname">PRIVACY_POLICY</code><em class="property"> = 'privacy-policy'</em><a class="headerlink" href="#api.config.Configuration.PRIVACY_POLICY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.REGISTER">
<code class="descname">REGISTER</code><em class="property"> = 'register'</em><a class="headerlink" href="#api.config.Configuration.REGISTER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.RESERVATIONS_FEATURE">
<code class="descname">RESERVATIONS_FEATURE</code><em class="property"> = 'https://librarysimplified.org/rel/policy/reservations'</em><a class="headerlink" href="#api.config.Configuration.RESERVATIONS_FEATURE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.SECRET_KEY">
<code class="descname">SECRET_KEY</code><em class="property"> = u'secret_key'</em><a class="headerlink" href="#api.config.Configuration.SECRET_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.SITEWIDE_SETTINGS">
<code class="descname">SITEWIDE_SETTINGS</code><em class="property"> = [{'format': 'url', 'required': True, 'key': u'base_url', 'label': l'Base url of the application'}, {'default': 'INFO', 'type': 'select', 'options': [{'key': 'DEBUG', 'label': l'Debug'}, {'key': 'INFO', 'label': l'Info'}, {'key': 'WARN', 'label': l'Warn'}, {'key': 'ERROR', 'label': l'Error'}], 'key': 'log_level', 'label': l'Log Level'}, {'default': 'simplified', 'required': True, 'description': l'Log messages originating from this application will be tagged with this name. If you run multiple instances, giving each one a different application name will help you determine which instance is having problems.', 'key': 'log_app', 'label': l'Application name'}, {'description': l'Database logs are extremely verbose, so unless you're diagnosing a database-related problem, it's a good idea to set a higher log level for database messages.', 'default': 'WARN', 'label': l'Database Log Level', 'key': 'database_log_level', 'type': 'select', 'options': [{'key': 'DEBUG', 'label': l'Debug'}, {'key': 'INFO', 'label': l'Info'}, {'key': 'WARN', 'label': l'Warn'}, {'key': 'ERROR', 'label': l'Error'}]}, {'default': None, 'required': True, 'description': l'Audiobooks from these data sources will be hidden from the collection, even if they would otherwise show up as available.', 'key': 'excluded_audio_data_sources', 'label': l'Excluded audiobook sources'}, {'required': True, 'key': 'bearer_token_signing_secret', 'label': l'Internal signing secret for OAuth bearer tokens'}, {'required': True, 'key': u'secret_key', 'label': l'Internal secret key for admin interface cookies'}, {'description': l'You can set this to '*' in development, but you must use a real URL in production in order to prevent unauthorized CORS requests.', 'format': 'url', 'required': True, 'label': l'URL of the web catalog for patrons', 'key': u'Patron Web Client', 'allowed': ['*']}, {'required': True, 'type': 'number', 'key': u'static_file_cache_time', 'label': l'Cache time for static images and JS and CSS files (in seconds)'}, {'default': 'https://librarysimplified.org/simplyetermsofservice2/', 'required': False, 'description': l'If your inclusion in the SimplyE mobile app is governed by terms other than the default, put the URL to those terms in this link so that librarians will have access to them. This URL will be used for all libraries on this circulation manager.', 'key': 'tos_href', 'label': l'Custom Terms of Service link'}, {'default': &quot;Terms of Service for presenting e-reading materials through NYPL's SimplyE mobile app&quot;, 'required': False, 'description': l'Custom text for the Terms of Service link in the footer of these administrative interface pages. This is primarily useful if you're not connecting this circulation manager to the SimplyE mobile app. This text will be used for all libraries on this circulation manager.', 'key': 'tos_text', 'label': l'Custom Terms of Service link text'}]</em><a class="headerlink" href="#api.config.Configuration.SITEWIDE_SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.SMALL_COLLECTION_CUTOFF">
<code class="descname">SMALL_COLLECTION_CUTOFF</code><em class="property"> = 500</em><a class="headerlink" href="#api.config.Configuration.SMALL_COLLECTION_CUTOFF" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.SMALL_COLLECTION_LANGUAGES">
<code class="descname">SMALL_COLLECTION_LANGUAGES</code><em class="property"> = 'small_collections'</em><a class="headerlink" href="#api.config.Configuration.SMALL_COLLECTION_LANGUAGES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.STANDARD_NOREPLY_EMAIL_ADDRESS">
<code class="descname">STANDARD_NOREPLY_EMAIL_ADDRESS</code><em class="property"> = 'noreply&#64;librarysimplified.org'</em><a class="headerlink" href="#api.config.Configuration.STANDARD_NOREPLY_EMAIL_ADDRESS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.STATIC_FILE_CACHE_TIME">
<code class="descname">STATIC_FILE_CACHE_TIME</code><em class="property"> = u'static_file_cache_time'</em><a class="headerlink" href="#api.config.Configuration.STATIC_FILE_CACHE_TIME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.TERMS_OF_SERVICE">
<code class="descname">TERMS_OF_SERVICE</code><em class="property"> = 'terms-of-service'</em><a class="headerlink" href="#api.config.Configuration.TERMS_OF_SERVICE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.TINY_COLLECTION_LANGUAGES">
<code class="descname">TINY_COLLECTION_LANGUAGES</code><em class="property"> = 'tiny_collections'</em><a class="headerlink" href="#api.config.Configuration.TINY_COLLECTION_LANGUAGES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.WEB_BACKGROUND_COLOR">
<code class="descname">WEB_BACKGROUND_COLOR</code><em class="property"> = 'web-background-color'</em><a class="headerlink" href="#api.config.Configuration.WEB_BACKGROUND_COLOR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.WEB_CSS_FILE">
<code class="descname">WEB_CSS_FILE</code><em class="property"> = 'web-css-file'</em><a class="headerlink" href="#api.config.Configuration.WEB_CSS_FILE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.WEB_FOREGROUND_COLOR">
<code class="descname">WEB_FOREGROUND_COLOR</code><em class="property"> = 'web-foreground-color'</em><a class="headerlink" href="#api.config.Configuration.WEB_FOREGROUND_COLOR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.WEB_HEADER_LABELS">
<code class="descname">WEB_HEADER_LABELS</code><em class="property"> = 'web-header-labels'</em><a class="headerlink" href="#api.config.Configuration.WEB_HEADER_LABELS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.config.Configuration.WEB_HEADER_LINKS">
<code class="descname">WEB_HEADER_LINKS</code><em class="property"> = 'web-header-links'</em><a class="headerlink" href="#api.config.Configuration.WEB_HEADER_LINKS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.config.Configuration.cipher">
<em class="property">classmethod </em><code class="descname">cipher</code><span class="sig-paren">(</span><em>key</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/config.html#Configuration.cipher"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.config.Configuration.cipher" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a Cipher for a public or private key.</p>
<p>This just wraps some hard-to-remember Crypto code.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> – A string containing the key.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A Cipher object which will support either
encrypt() (public key) or decrypt() (private key).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="api.config.Configuration.classify_holdings">
<em class="property">classmethod </em><code class="descname">classify_holdings</code><span class="sig-paren">(</span><em>works_by_language</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/config.html#Configuration.classify_holdings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.config.Configuration.classify_holdings" title="Permalink to this definition">¶</a></dt>
<dd><p>Divide languages into ‘large’, ‘small’, and ‘tiny’ colletions based
on the number of works available for each.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>works_by_language</strong> – A Counter mapping languages to the
number of active works available for that language.  The
output of <cite>Library.estimated_holdings_by_language</cite> is a good
thing to pass in.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a 3-tuple of lists (large, small, tiny).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="api.config.Configuration.configuration_contact_uri">
<em class="property">classmethod </em><code class="descname">configuration_contact_uri</code><span class="sig-paren">(</span><em>library</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/config.html#Configuration.configuration_contact_uri"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.config.Configuration.configuration_contact_uri" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.config.Configuration.copyright_designated_agent_uri">
<em class="property">classmethod </em><code class="descname">copyright_designated_agent_uri</code><span class="sig-paren">(</span><em>library</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/config.html#Configuration.copyright_designated_agent_uri"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.config.Configuration.copyright_designated_agent_uri" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.config.Configuration.estimate_language_collections_for_library">
<em class="property">classmethod </em><code class="descname">estimate_language_collections_for_library</code><span class="sig-paren">(</span><em>library</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/config.html#Configuration.estimate_language_collections_for_library"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.config.Configuration.estimate_language_collections_for_library" title="Permalink to this definition">¶</a></dt>
<dd><p>Guess at appropriate values for the given library for
LARGE_COLLECTION_LANGUAGES, SMALL_COLLECTION_LANGUAGES, and
TINY_COLLECTION_LANGUAGES. Set configuration values
appropriately, overriding any previous values.</p>
</dd></dl>

<dl class="classmethod">
<dt id="api.config.Configuration.help_uris">
<em class="property">classmethod </em><code class="descname">help_uris</code><span class="sig-paren">(</span><em>library</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/config.html#Configuration.help_uris"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.config.Configuration.help_uris" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all the URIs that might help patrons get help from
this library.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Yield:</th><td class="field-body">A sequence of 2-tuples (media type, URL)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="api.config.Configuration.key_pair">
<em class="property">classmethod </em><code class="descname">key_pair</code><span class="sig-paren">(</span><em>setting</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/config.html#Configuration.key_pair"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.config.Configuration.key_pair" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up a public-private key pair in a ConfigurationSetting.</p>
<p>If the value is missing or incorrect, a new key pair is
created and stored.</p>
<p>TODO: This could go into ConfigurationSetting or core Configuration.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>public_setting</strong> – A ConfigurationSetting for the public key.</li>
<li><strong>private_setting</strong> – A ConfigurationSetting for the private key.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A 2-tuple (public key, private key)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="api.config.Configuration.large_collection_languages">
<em class="property">classmethod </em><code class="descname">large_collection_languages</code><span class="sig-paren">(</span><em>library</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/config.html#Configuration.large_collection_languages"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.config.Configuration.large_collection_languages" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.config.Configuration.lending_policy">
<em class="property">classmethod </em><code class="descname">lending_policy</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/config.html#Configuration.lending_policy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.config.Configuration.lending_policy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.config.Configuration.load">
<em class="property">classmethod </em><code class="descname">load</code><span class="sig-paren">(</span><em>_db=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/config.html#Configuration.load"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.config.Configuration.load" title="Permalink to this definition">¶</a></dt>
<dd><p>Load configuration information from the filesystem, and
(optionally) from the database.</p>
</dd></dl>

<dl class="classmethod">
<dt id="api.config.Configuration.max_outstanding_fines">
<em class="property">classmethod </em><code class="descname">max_outstanding_fines</code><span class="sig-paren">(</span><em>library</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/config.html#Configuration.max_outstanding_fines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.config.Configuration.max_outstanding_fines" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.config.Configuration.small_collection_languages">
<em class="property">classmethod </em><code class="descname">small_collection_languages</code><span class="sig-paren">(</span><em>library</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/config.html#Configuration.small_collection_languages"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.config.Configuration.small_collection_languages" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.config.Configuration.tiny_collection_languages">
<em class="property">classmethod </em><code class="descname">tiny_collection_languages</code><span class="sig-paren">(</span><em>library</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/config.html#Configuration.tiny_collection_languages"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.config.Configuration.tiny_collection_languages" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="api.config.empty_config">
<code class="descclassname">api.config.</code><code class="descname">empty_config</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/config.html#empty_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.config.empty_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.config.temp_config">
<code class="descclassname">api.config.</code><code class="descname">temp_config</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwds</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/config.html#temp_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.config.temp_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-api.controller">
<span id="api-controller-module"></span><h2>api.controller module<a class="headerlink" href="#module-api.controller" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="api.controller.AnalyticsController">
<em class="property">class </em><code class="descclassname">api.controller.</code><code class="descname">AnalyticsController</code><span class="sig-paren">(</span><em>manager</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#AnalyticsController"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.AnalyticsController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.controller.CirculationManagerController" title="api.controller.CirculationManagerController"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.controller.CirculationManagerController</span></code></a></p>
<dl class="method">
<dt id="api.controller.AnalyticsController.track_event">
<code class="descname">track_event</code><span class="sig-paren">(</span><em>identifier_type</em>, <em>identifier</em>, <em>event_type</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#AnalyticsController.track_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.AnalyticsController.track_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.controller.AnnotationController">
<em class="property">class </em><code class="descclassname">api.controller.</code><code class="descname">AnnotationController</code><span class="sig-paren">(</span><em>manager</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#AnnotationController"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.AnnotationController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.controller.CirculationManagerController" title="api.controller.CirculationManagerController"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.controller.CirculationManagerController</span></code></a></p>
<dl class="method">
<dt id="api.controller.AnnotationController.container">
<code class="descname">container</code><span class="sig-paren">(</span><em>identifier=None</em>, <em>accept_post=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#AnnotationController.container"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.AnnotationController.container" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.controller.AnnotationController.container_for_work">
<code class="descname">container_for_work</code><span class="sig-paren">(</span><em>identifier_type</em>, <em>identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#AnnotationController.container_for_work"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.AnnotationController.container_for_work" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.controller.AnnotationController.detail">
<code class="descname">detail</code><span class="sig-paren">(</span><em>annotation_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#AnnotationController.detail"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.AnnotationController.detail" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.controller.CirculationManager">
<em class="property">class </em><code class="descclassname">api.controller.</code><code class="descname">CirculationManager</code><span class="sig-paren">(</span><em>_db</em>, <em>testing=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.CirculationManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="api.controller.CirculationManager.annotator">
<code class="descname">annotator</code><span class="sig-paren">(</span><em>lane</em>, <em>facets=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManager.annotator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.CirculationManager.annotator" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an appropriate OPDS annotator for the given lane.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>lane</strong> – A Lane or WorkList.</li>
<li><strong>facets</strong> – A faceting object.</li>
<li><strong>annotator_class</strong> – Instantiate this annotator class if possible.
Intended for use in unit tests.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="api.controller.CirculationManager.authentication_for_opds_document">
<code class="descname">authentication_for_opds_document</code><a class="headerlink" href="#api.controller.CirculationManager.authentication_for_opds_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure the current request’s library has an Authentication For
OPDS document in the cache, then return the cached version.</p>
</dd></dl>

<dl class="method">
<dt id="api.controller.CirculationManager.cdn_url_for">
<code class="descname">cdn_url_for</code><span class="sig-paren">(</span><em>view</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManager.cdn_url_for"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.CirculationManager.cdn_url_for" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.controller.CirculationManager.external_search">
<code class="descname">external_search</code><a class="headerlink" href="#api.controller.CirculationManager.external_search" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve or create a connection to the search interface.</p>
<p>This is created lazily so that a failure to connect only
affects feeds that depend on the search engine, not the whole
circulation manager.</p>
</dd></dl>

<dl class="method">
<dt id="api.controller.CirculationManager.load_settings">
<code class="descname">load_settings</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManager.load_settings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.CirculationManager.load_settings" title="Permalink to this definition">¶</a></dt>
<dd><p>Load all necessary configuration settings and external
integrations from the database.</p>
<p>This is called once when the CirculationManager is
initialized.  It may also be called later to reload the site
configuration after changes are made in the administrative
interface.</p>
</dd></dl>

<dl class="method">
<dt id="api.controller.CirculationManager.log_lanes">
<code class="descname">log_lanes</code><span class="sig-paren">(</span><em>lanelist=None</em>, <em>level=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManager.log_lanes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.CirculationManager.log_lanes" title="Permalink to this definition">¶</a></dt>
<dd><p>Output information about the lane layout.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.controller.CirculationManager.public_key_integration_document">
<code class="descname">public_key_integration_document</code><a class="headerlink" href="#api.controller.CirculationManager.public_key_integration_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Serve a document with the sitewide public key.</p>
</dd></dl>

<dl class="method">
<dt id="api.controller.CirculationManager.reload_settings_if_changed">
<code class="descname">reload_settings_if_changed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManager.reload_settings_if_changed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.CirculationManager.reload_settings_if_changed" title="Permalink to this definition">¶</a></dt>
<dd><p>If the site configuration has been updated, reload the
CirculationManager’s configuration from the database.</p>
</dd></dl>

<dl class="method">
<dt id="api.controller.CirculationManager.setup_adobe_vendor_id">
<code class="descname">setup_adobe_vendor_id</code><span class="sig-paren">(</span><em>_db</em>, <em>library</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManager.setup_adobe_vendor_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.CirculationManager.setup_adobe_vendor_id" title="Permalink to this definition">¶</a></dt>
<dd><p>If this Library has an Adobe Vendor ID integration,
configure the controller for it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">An Authdata object for <cite>library</cite>, if one could be created.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.controller.CirculationManager.setup_circulation">
<code class="descname">setup_circulation</code><span class="sig-paren">(</span><em>library</em>, <em>analytics</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManager.setup_circulation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.CirculationManager.setup_circulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up the Circulation object.</p>
</dd></dl>

<dl class="method">
<dt id="api.controller.CirculationManager.setup_configuration_dependent_controllers">
<code class="descname">setup_configuration_dependent_controllers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManager.setup_configuration_dependent_controllers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.CirculationManager.setup_configuration_dependent_controllers" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up all the controllers that depend on the
current site configuration.</p>
<p>This method will be called fresh every time the site
configuration changes.</p>
</dd></dl>

<dl class="method">
<dt id="api.controller.CirculationManager.setup_external_search">
<code class="descname">setup_external_search</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManager.setup_external_search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.CirculationManager.setup_external_search" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.controller.CirculationManager.setup_one_time_controllers">
<code class="descname">setup_one_time_controllers</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManager.setup_one_time_controllers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.CirculationManager.setup_one_time_controllers" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up all the controllers that will be used by the web app.</p>
<p>This method will be called only once, no matter how many times the
site configuration changes.</p>
</dd></dl>

<dl class="method">
<dt id="api.controller.CirculationManager.setup_search">
<code class="descname">setup_search</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManager.setup_search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.CirculationManager.setup_search" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up a search client.</p>
</dd></dl>

<dl class="method">
<dt id="api.controller.CirculationManager.setup_shared_collection">
<code class="descname">setup_shared_collection</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManager.setup_shared_collection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.CirculationManager.setup_shared_collection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.controller.CirculationManager.sitewide_key_pair">
<code class="descname">sitewide_key_pair</code><a class="headerlink" href="#api.controller.CirculationManager.sitewide_key_pair" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up or create the sitewide public/private key pair.</p>
</dd></dl>

<dl class="method">
<dt id="api.controller.CirculationManager.url_for">
<code class="descname">url_for</code><span class="sig-paren">(</span><em>view</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManager.url_for"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.CirculationManager.url_for" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.controller.CirculationManagerController">
<em class="property">class </em><code class="descclassname">api.controller.</code><code class="descname">CirculationManagerController</code><span class="sig-paren">(</span><em>manager</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManagerController"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.CirculationManagerController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.base_controller.BaseCirculationManagerController" title="api.base_controller.BaseCirculationManagerController"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.base_controller.BaseCirculationManagerController</span></code></a></p>
<dl class="method">
<dt id="api.controller.CirculationManagerController.apply_borrowing_policy">
<code class="descname">apply_borrowing_policy</code><span class="sig-paren">(</span><em>patron</em>, <em>license_pool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManagerController.apply_borrowing_policy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.CirculationManagerController.apply_borrowing_policy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.controller.CirculationManagerController.circulation">
<code class="descname">circulation</code><a class="headerlink" href="#api.controller.CirculationManagerController.circulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the appropriate CirculationAPI for the request Library.</p>
</dd></dl>

<dl class="method">
<dt id="api.controller.CirculationManagerController.load_lane">
<code class="descname">load_lane</code><span class="sig-paren">(</span><em>lane_identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManagerController.load_lane"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.CirculationManagerController.load_lane" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn user input into a Lane object.</p>
</dd></dl>

<dl class="method">
<dt id="api.controller.CirculationManagerController.load_licensepool">
<code class="descname">load_licensepool</code><span class="sig-paren">(</span><em>license_pool_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManagerController.load_licensepool"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.CirculationManagerController.load_licensepool" title="Permalink to this definition">¶</a></dt>
<dd><p>Turns user input into a LicensePool</p>
</dd></dl>

<dl class="method">
<dt id="api.controller.CirculationManagerController.load_licensepooldelivery">
<code class="descname">load_licensepooldelivery</code><span class="sig-paren">(</span><em>pool</em>, <em>mechanism_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManagerController.load_licensepooldelivery"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.CirculationManagerController.load_licensepooldelivery" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn user input into a LicensePoolDeliveryMechanism object.</p>
</dd></dl>

<dl class="method">
<dt id="api.controller.CirculationManagerController.load_licensepools">
<code class="descname">load_licensepools</code><span class="sig-paren">(</span><em>library</em>, <em>identifier_type</em>, <em>identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManagerController.load_licensepools"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.CirculationManagerController.load_licensepools" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn user input into one or more LicensePool objects.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>library</strong> – The LicensePools must be associated with one of this
Library’s Collections.</li>
<li><strong>identifier_type</strong> – A type of identifier, e.g. “ISBN”</li>
<li><strong>identifier</strong> – An identifier string, used with <cite>identifier_type</cite>
to look up an Identifier.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.controller.CirculationManagerController.load_work">
<code class="descname">load_work</code><span class="sig-paren">(</span><em>library</em>, <em>identifier_type</em>, <em>identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#CirculationManagerController.load_work"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.CirculationManagerController.load_work" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.controller.CirculationManagerController.search_engine">
<code class="descname">search_engine</code><a class="headerlink" href="#api.controller.CirculationManagerController.search_engine" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the configured external search engine, or a
ProblemDetail if none is configured.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.controller.CirculationManagerController.shared_collection">
<code class="descname">shared_collection</code><a class="headerlink" href="#api.controller.CirculationManagerController.shared_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the appropriate SharedCollectionAPI for the request library.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.controller.IndexController">
<em class="property">class </em><code class="descclassname">api.controller.</code><code class="descname">IndexController</code><span class="sig-paren">(</span><em>manager</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#IndexController"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.IndexController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.controller.CirculationManagerController" title="api.controller.CirculationManagerController"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.controller.CirculationManagerController</span></code></a></p>
<p>Redirect the patron to the appropriate feed.</p>
<dl class="method">
<dt id="api.controller.IndexController.appropriate_index_for_patron_type">
<code class="descname">appropriate_index_for_patron_type</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#IndexController.appropriate_index_for_patron_type"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.IndexController.appropriate_index_for_patron_type" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.controller.IndexController.authenticated_patron_root_lane">
<code class="descname">authenticated_patron_root_lane</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#IndexController.authenticated_patron_root_lane"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.IndexController.authenticated_patron_root_lane" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.controller.IndexController.authentication_document">
<code class="descname">authentication_document</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#IndexController.authentication_document"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.IndexController.authentication_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Serve this library’s Authentication For OPDS document.</p>
</dd></dl>

<dl class="method">
<dt id="api.controller.IndexController.has_root_lanes">
<code class="descname">has_root_lanes</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#IndexController.has_root_lanes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.IndexController.has_root_lanes" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.controller.IndexController.public_key_document">
<code class="descname">public_key_document</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#IndexController.public_key_document"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.IndexController.public_key_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Serves a sitewide public key document</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.controller.LoanController">
<em class="property">class </em><code class="descclassname">api.controller.</code><code class="descname">LoanController</code><span class="sig-paren">(</span><em>manager</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#LoanController"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.LoanController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.controller.CirculationManagerController" title="api.controller.CirculationManagerController"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.controller.CirculationManagerController</span></code></a></p>
<dl class="method">
<dt id="api.controller.LoanController.best_lendable_pool">
<code class="descname">best_lendable_pool</code><span class="sig-paren">(</span><em>library</em>, <em>patron</em>, <em>identifier_type</em>, <em>identifier</em>, <em>mechanism_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#LoanController.best_lendable_pool"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.LoanController.best_lendable_pool" title="Permalink to this definition">¶</a></dt>
<dd><p>Of the available LicensePools for the given Identifier, return the
one that’s the best candidate for loaning out right now.</p>
</dd></dl>

<dl class="method">
<dt id="api.controller.LoanController.borrow">
<code class="descname">borrow</code><span class="sig-paren">(</span><em>identifier_type</em>, <em>identifier</em>, <em>mechanism_id=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#LoanController.borrow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.LoanController.borrow" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new loan or hold for a book.</p>
<p>Return an OPDS Acquisition feed that includes a link of rel
“<a class="reference external" href="http://opds-spec.org/acquisition">http://opds-spec.org/acquisition</a>”, which can be used to fetch the
book or the license file.</p>
</dd></dl>

<dl class="method">
<dt id="api.controller.LoanController.can_fulfill_without_loan">
<code class="descname">can_fulfill_without_loan</code><span class="sig-paren">(</span><em>library</em>, <em>patron</em>, <em>pool</em>, <em>lpdm</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#LoanController.can_fulfill_without_loan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.LoanController.can_fulfill_without_loan" title="Permalink to this definition">¶</a></dt>
<dd><p>Is it acceptable to fulfill the given LicensePoolDeliveryMechanism
for the given Patron without creating a Loan first?</p>
<p>This question is usually asked because no Patron has been
authenticated, and thus no Loan can be created, but somebody
wants a book anyway.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>library</strong> – A Library.</li>
<li><strong>patron</strong> – A Patron, probably None.</li>
<li><strong>lpdm</strong> – A LicensePoolDeliveryMechanism.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.controller.LoanController.detail">
<code class="descname">detail</code><span class="sig-paren">(</span><em>identifier_type</em>, <em>identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#LoanController.detail"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.LoanController.detail" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.controller.LoanController.fulfill">
<code class="descname">fulfill</code><span class="sig-paren">(</span><em>license_pool_id</em>, <em>mechanism_id=None</em>, <em>part=None</em>, <em>do_get=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#LoanController.fulfill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.LoanController.fulfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Fulfill a book that has already been checked out,
or which can be fulfilled with no active loan.</p>
<p>If successful, this will serve the patron a downloadable copy
of the book, a key (such as a DRM license file or bearer
token) which can be used to get the book, or an OPDS entry
containing a link to the book.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>license_pool_id</strong> – Database ID of a LicensePool.</li>
<li><strong>mechanism_id</strong> – Database ID of a DeliveryMechanism.</li>
<li><strong>part</strong> – Vendor-specific identifier used when fulfilling a
specific part of a book rather than the whole thing (e.g. a
single chapter of an audiobook).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.controller.LoanController.get_patron_circ_objects">
<code class="descname">get_patron_circ_objects</code><span class="sig-paren">(</span><em>object_class</em>, <em>patron</em>, <em>license_pools</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#LoanController.get_patron_circ_objects"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.LoanController.get_patron_circ_objects" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.controller.LoanController.get_patron_hold">
<code class="descname">get_patron_hold</code><span class="sig-paren">(</span><em>patron</em>, <em>license_pools</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#LoanController.get_patron_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.LoanController.get_patron_hold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.controller.LoanController.get_patron_loan">
<code class="descname">get_patron_loan</code><span class="sig-paren">(</span><em>patron</em>, <em>license_pools</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#LoanController.get_patron_loan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.LoanController.get_patron_loan" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.controller.LoanController.revoke">
<code class="descname">revoke</code><span class="sig-paren">(</span><em>license_pool_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#LoanController.revoke"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.LoanController.revoke" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.controller.LoanController.sync">
<code class="descname">sync</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#LoanController.sync"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.LoanController.sync" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.controller.MARCRecordController">
<em class="property">class </em><code class="descclassname">api.controller.</code><code class="descname">MARCRecordController</code><span class="sig-paren">(</span><em>manager</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#MARCRecordController"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.MARCRecordController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.controller.CirculationManagerController" title="api.controller.CirculationManagerController"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.controller.CirculationManagerController</span></code></a></p>
<dl class="attribute">
<dt id="api.controller.MARCRecordController.DOWNLOAD_TEMPLATE">
<code class="descname">DOWNLOAD_TEMPLATE</code><em class="property"> = '\n&lt;html lang=&quot;en&quot;&gt;\n&lt;head&gt;&lt;meta charset=&quot;utf8&quot;&gt;&lt;/head&gt;\n&lt;body&gt;\n%(body)s\n&lt;/body&gt;\n&lt;/html&gt;'</em><a class="headerlink" href="#api.controller.MARCRecordController.DOWNLOAD_TEMPLATE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.controller.MARCRecordController.download_page">
<code class="descname">download_page</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#MARCRecordController.download_page"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.MARCRecordController.download_page" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.controller.ODLNotificationController">
<em class="property">class </em><code class="descclassname">api.controller.</code><code class="descname">ODLNotificationController</code><span class="sig-paren">(</span><em>manager</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#ODLNotificationController"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.ODLNotificationController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.controller.CirculationManagerController" title="api.controller.CirculationManagerController"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.controller.CirculationManagerController</span></code></a></p>
<p>Receive notifications from an ODL distributor when the
status of a loan changes.</p>
<dl class="method">
<dt id="api.controller.ODLNotificationController.notify">
<code class="descname">notify</code><span class="sig-paren">(</span><em>loan_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#ODLNotificationController.notify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.ODLNotificationController.notify" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.controller.OPDSFeedController">
<em class="property">class </em><code class="descclassname">api.controller.</code><code class="descname">OPDSFeedController</code><span class="sig-paren">(</span><em>manager</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#OPDSFeedController"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.OPDSFeedController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.controller.CirculationManagerController" title="api.controller.CirculationManagerController"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.controller.CirculationManagerController</span></code></a></p>
<dl class="method">
<dt id="api.controller.OPDSFeedController.crawlable_collection_feed">
<code class="descname">crawlable_collection_feed</code><span class="sig-paren">(</span><em>collection_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#OPDSFeedController.crawlable_collection_feed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.OPDSFeedController.crawlable_collection_feed" title="Permalink to this definition">¶</a></dt>
<dd><p>Build or retrieve a crawlable acquisition feed for the
requested collection.</p>
</dd></dl>

<dl class="method">
<dt id="api.controller.OPDSFeedController.crawlable_library_feed">
<code class="descname">crawlable_library_feed</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#OPDSFeedController.crawlable_library_feed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.OPDSFeedController.crawlable_library_feed" title="Permalink to this definition">¶</a></dt>
<dd><p>Build or retrieve a crawlable acquisition feed for the
request library.</p>
</dd></dl>

<dl class="method">
<dt id="api.controller.OPDSFeedController.crawlable_list_feed">
<code class="descname">crawlable_list_feed</code><span class="sig-paren">(</span><em>list_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#OPDSFeedController.crawlable_list_feed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.OPDSFeedController.crawlable_list_feed" title="Permalink to this definition">¶</a></dt>
<dd><p>Build or retrieve a crawlable, paginated acquisition feed for the
named CustomList, sorted by update date.</p>
</dd></dl>

<dl class="method">
<dt id="api.controller.OPDSFeedController.feed">
<code class="descname">feed</code><span class="sig-paren">(</span><em>lane_identifier</em>, <em>feed_class=&lt;class 'core.opds.AcquisitionFeed'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#OPDSFeedController.feed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.OPDSFeedController.feed" title="Permalink to this definition">¶</a></dt>
<dd><p>Build or retrieve a paginated acquisition feed.</p>
</dd></dl>

<dl class="method">
<dt id="api.controller.OPDSFeedController.groups">
<code class="descname">groups</code><span class="sig-paren">(</span><em>lane_identifier</em>, <em>feed_class=&lt;class 'core.opds.AcquisitionFeed'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#OPDSFeedController.groups"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.OPDSFeedController.groups" title="Permalink to this definition">¶</a></dt>
<dd><p>Build or retrieve a grouped acquisition feed.</p>
</dd></dl>

<dl class="method">
<dt id="api.controller.OPDSFeedController.navigation">
<code class="descname">navigation</code><span class="sig-paren">(</span><em>lane_identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#OPDSFeedController.navigation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.OPDSFeedController.navigation" title="Permalink to this definition">¶</a></dt>
<dd><p>Build or retrieve a navigation feed, for clients that do not support groups.</p>
</dd></dl>

<dl class="method">
<dt id="api.controller.OPDSFeedController.search">
<code class="descname">search</code><span class="sig-paren">(</span><em>lane_identifier</em>, <em>feed_class=&lt;class 'core.opds.AcquisitionFeed'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#OPDSFeedController.search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.OPDSFeedController.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Search for books.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.controller.ProfileController">
<em class="property">class </em><code class="descclassname">api.controller.</code><code class="descname">ProfileController</code><span class="sig-paren">(</span><em>manager</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#ProfileController"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.ProfileController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.controller.CirculationManagerController" title="api.controller.CirculationManagerController"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.controller.CirculationManagerController</span></code></a></p>
<p>Implement the User Profile Management Protocol.</p>
<dl class="method">
<dt id="api.controller.ProfileController.protocol">
<code class="descname">protocol</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#ProfileController.protocol"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.ProfileController.protocol" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle a UPMP request.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.controller.SharedCollectionController">
<em class="property">class </em><code class="descclassname">api.controller.</code><code class="descname">SharedCollectionController</code><span class="sig-paren">(</span><em>manager</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#SharedCollectionController"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.SharedCollectionController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.controller.CirculationManagerController" title="api.controller.CirculationManagerController"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.controller.CirculationManagerController</span></code></a></p>
<p>Enable this circulation manager to share its collections with
libraries on other circulation managers, for collection types that
support it.</p>
<dl class="method">
<dt id="api.controller.SharedCollectionController.authenticated_client_from_request">
<code class="descname">authenticated_client_from_request</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#SharedCollectionController.authenticated_client_from_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.SharedCollectionController.authenticated_client_from_request" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.controller.SharedCollectionController.borrow">
<code class="descname">borrow</code><span class="sig-paren">(</span><em>collection_name</em>, <em>identifier_type</em>, <em>identifier</em>, <em>hold_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#SharedCollectionController.borrow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.SharedCollectionController.borrow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.controller.SharedCollectionController.fulfill">
<code class="descname">fulfill</code><span class="sig-paren">(</span><em>collection_name</em>, <em>loan_id</em>, <em>mechanism_id</em>, <em>do_get=&lt;bound method type.get_with_timeout of &lt;class 'core.util.http.HTTP'&gt;&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#SharedCollectionController.fulfill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.SharedCollectionController.fulfill" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.controller.SharedCollectionController.hold_info">
<code class="descname">hold_info</code><span class="sig-paren">(</span><em>collection_name</em>, <em>hold_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#SharedCollectionController.hold_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.SharedCollectionController.hold_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.controller.SharedCollectionController.info">
<code class="descname">info</code><span class="sig-paren">(</span><em>collection_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#SharedCollectionController.info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.SharedCollectionController.info" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an OPDS2 catalog-like document with a link to register.</p>
</dd></dl>

<dl class="method">
<dt id="api.controller.SharedCollectionController.load_collection">
<code class="descname">load_collection</code><span class="sig-paren">(</span><em>collection_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#SharedCollectionController.load_collection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.SharedCollectionController.load_collection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.controller.SharedCollectionController.loan_info">
<code class="descname">loan_info</code><span class="sig-paren">(</span><em>collection_name</em>, <em>loan_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#SharedCollectionController.loan_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.SharedCollectionController.loan_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.controller.SharedCollectionController.register">
<code class="descname">register</code><span class="sig-paren">(</span><em>collection_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#SharedCollectionController.register"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.SharedCollectionController.register" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.controller.SharedCollectionController.revoke_hold">
<code class="descname">revoke_hold</code><span class="sig-paren">(</span><em>collection_name</em>, <em>hold_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#SharedCollectionController.revoke_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.SharedCollectionController.revoke_hold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.controller.SharedCollectionController.revoke_loan">
<code class="descname">revoke_loan</code><span class="sig-paren">(</span><em>collection_name</em>, <em>loan_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#SharedCollectionController.revoke_loan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.SharedCollectionController.revoke_loan" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.controller.StaticFileController">
<em class="property">class </em><code class="descclassname">api.controller.</code><code class="descname">StaticFileController</code><span class="sig-paren">(</span><em>manager</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#StaticFileController"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.StaticFileController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.controller.CirculationManagerController" title="api.controller.CirculationManagerController"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.controller.CirculationManagerController</span></code></a></p>
<dl class="method">
<dt id="api.controller.StaticFileController.image">
<code class="descname">image</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#StaticFileController.image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.StaticFileController.image" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.controller.StaticFileController.static_file">
<code class="descname">static_file</code><span class="sig-paren">(</span><em>directory</em>, <em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#StaticFileController.static_file"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.StaticFileController.static_file" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.controller.URNLookupController">
<em class="property">class </em><code class="descclassname">api.controller.</code><code class="descname">URNLookupController</code><span class="sig-paren">(</span><em>manager</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#URNLookupController"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.URNLookupController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.app_server.URNLookupController" title="core.app_server.URNLookupController"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.app_server.URNLookupController</span></code></a></p>
<dl class="method">
<dt id="api.controller.URNLookupController.work_lookup">
<code class="descname">work_lookup</code><span class="sig-paren">(</span><em>route_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#URNLookupController.work_lookup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.URNLookupController.work_lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a CirculationManagerAnnotor based on the current library’s
top-level WorkList, and use it to generate an OPDS lookup
feed.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.controller.WorkController">
<em class="property">class </em><code class="descclassname">api.controller.</code><code class="descname">WorkController</code><span class="sig-paren">(</span><em>manager</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#WorkController"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.WorkController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.controller.CirculationManagerController" title="api.controller.CirculationManagerController"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.controller.CirculationManagerController</span></code></a></p>
<dl class="method">
<dt id="api.controller.WorkController.contributor">
<code class="descname">contributor</code><span class="sig-paren">(</span><em>contributor_name</em>, <em>languages</em>, <em>audiences</em>, <em>feed_class=&lt;class 'core.opds.AcquisitionFeed'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#WorkController.contributor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.WorkController.contributor" title="Permalink to this definition">¶</a></dt>
<dd><p>Serve a feed of books written by a particular author</p>
</dd></dl>

<dl class="method">
<dt id="api.controller.WorkController.permalink">
<code class="descname">permalink</code><span class="sig-paren">(</span><em>identifier_type</em>, <em>identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#WorkController.permalink"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.WorkController.permalink" title="Permalink to this definition">¶</a></dt>
<dd><p>Serve an entry for a single book.</p>
<p>This does not include any loan or hold-specific information for
the authenticated patron.</p>
<p>This is different from the /works lookup protocol, in that it
returns a single entry while the /works lookup protocol returns a
feed containing any number of entries.</p>
</dd></dl>

<dl class="method">
<dt id="api.controller.WorkController.recommendations">
<code class="descname">recommendations</code><span class="sig-paren">(</span><em>identifier_type</em>, <em>identifier</em>, <em>novelist_api=None</em>, <em>feed_class=&lt;class 'core.opds.AcquisitionFeed'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#WorkController.recommendations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.WorkController.recommendations" title="Permalink to this definition">¶</a></dt>
<dd><p>Serve a feed of recommendations related to a given book.</p>
</dd></dl>

<dl class="method">
<dt id="api.controller.WorkController.related">
<code class="descname">related</code><span class="sig-paren">(</span><em>identifier_type</em>, <em>identifier</em>, <em>novelist_api=None</em>, <em>feed_class=&lt;class 'core.opds.AcquisitionFeed'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#WorkController.related"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.WorkController.related" title="Permalink to this definition">¶</a></dt>
<dd><p>Serve a groups feed of books related to a given book.</p>
</dd></dl>

<dl class="method">
<dt id="api.controller.WorkController.report">
<code class="descname">report</code><span class="sig-paren">(</span><em>identifier_type</em>, <em>identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#WorkController.report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.WorkController.report" title="Permalink to this definition">¶</a></dt>
<dd><p>Report a problem with a book.</p>
</dd></dl>

<dl class="method">
<dt id="api.controller.WorkController.series">
<code class="descname">series</code><span class="sig-paren">(</span><em>series_name</em>, <em>languages</em>, <em>audiences</em>, <em>feed_class=&lt;class 'core.opds.AcquisitionFeed'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/controller.html#WorkController.series"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.controller.WorkController.series" title="Permalink to this definition">¶</a></dt>
<dd><p>Serve a feed of books in a given series.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api.coverage">
<span id="api-coverage-module"></span><h2>api.coverage module<a class="headerlink" href="#module-api.coverage" title="Permalink to this headline">¶</a></h2>
<p>Base classes for CoverageProviders.</p>
<p>The CoverageProviders themselves are in the file corresponding to the
service that needs coverage – overdrive.py, metadata_wrangler.py, and
so on.</p>
<dl class="class">
<dt id="api.coverage.MockOPDSImportCoverageProvider">
<em class="property">class </em><code class="descclassname">api.coverage.</code><code class="descname">MockOPDSImportCoverageProvider</code><span class="sig-paren">(</span><em>collection</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/coverage.html#MockOPDSImportCoverageProvider"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.coverage.MockOPDSImportCoverageProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.coverage.OPDSImportCoverageProvider" title="api.coverage.OPDSImportCoverageProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.coverage.OPDSImportCoverageProvider</span></code></a></p>
<dl class="attribute">
<dt id="api.coverage.MockOPDSImportCoverageProvider.DATA_SOURCE_NAME">
<code class="descname">DATA_SOURCE_NAME</code><em class="property"> = u'Library Simplified Open Access Content Server'</em><a class="headerlink" href="#api.coverage.MockOPDSImportCoverageProvider.DATA_SOURCE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.coverage.MockOPDSImportCoverageProvider.SERVICE_NAME">
<code class="descname">SERVICE_NAME</code><em class="property"> = 'Mock Provider'</em><a class="headerlink" href="#api.coverage.MockOPDSImportCoverageProvider.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.coverage.MockOPDSImportCoverageProvider.finalize_license_pool">
<code class="descname">finalize_license_pool</code><span class="sig-paren">(</span><em>license_pool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/coverage.html#MockOPDSImportCoverageProvider.finalize_license_pool"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.coverage.MockOPDSImportCoverageProvider.finalize_license_pool" title="Permalink to this definition">¶</a></dt>
<dd><p>An OPDS entry was matched with a LicensePool. Do something special
to mark the occasion.</p>
<p>By default, nothing happens.</p>
</dd></dl>

<dl class="method">
<dt id="api.coverage.MockOPDSImportCoverageProvider.lookup_and_import_batch">
<code class="descname">lookup_and_import_batch</code><span class="sig-paren">(</span><em>batch</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/coverage.html#MockOPDSImportCoverageProvider.lookup_and_import_batch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.coverage.MockOPDSImportCoverageProvider.lookup_and_import_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up a batch of identifiers and parse the resulting OPDS feed.</p>
<p>This method is overridden by MockOPDSImportCoverageProvider.</p>
</dd></dl>

<dl class="method">
<dt id="api.coverage.MockOPDSImportCoverageProvider.queue_import_results">
<code class="descname">queue_import_results</code><span class="sig-paren">(</span><em>editions</em>, <em>pools</em>, <em>works</em>, <em>messages_by_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/coverage.html#MockOPDSImportCoverageProvider.queue_import_results"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.coverage.MockOPDSImportCoverageProvider.queue_import_results" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.coverage.OPDSImportCoverageProvider">
<em class="property">class </em><code class="descclassname">api.coverage.</code><code class="descname">OPDSImportCoverageProvider</code><span class="sig-paren">(</span><em>collection</em>, <em>lookup_client</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/coverage.html#OPDSImportCoverageProvider"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.coverage.OPDSImportCoverageProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.coverage.CollectionCoverageProvider" title="core.coverage.CollectionCoverageProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.coverage.CollectionCoverageProvider</span></code></a></p>
<p>Provide coverage for identifiers by looking them up, in batches,
using the Simplified lookup protocol.</p>
<dl class="attribute">
<dt id="api.coverage.OPDSImportCoverageProvider.DEFAULT_BATCH_SIZE">
<code class="descname">DEFAULT_BATCH_SIZE</code><em class="property"> = 25</em><a class="headerlink" href="#api.coverage.OPDSImportCoverageProvider.DEFAULT_BATCH_SIZE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.coverage.OPDSImportCoverageProvider.OPDS_IMPORTER_CLASS">
<code class="descname">OPDS_IMPORTER_CLASS</code><a class="headerlink" href="#api.coverage.OPDSImportCoverageProvider.OPDS_IMPORTER_CLASS" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="core.html#core.opds_import.OPDSImporter" title="core.opds_import.OPDSImporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.opds_import.OPDSImporter</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="api.coverage.OPDSImportCoverageProvider.api_method">
<code class="descname">api_method</code><a class="headerlink" href="#api.coverage.OPDSImportCoverageProvider.api_method" title="Permalink to this definition">¶</a></dt>
<dd><p>The method to call to fetch an OPDS feed from the remote server.</p>
</dd></dl>

<dl class="method">
<dt id="api.coverage.OPDSImportCoverageProvider.create_identifier_mapping">
<code class="descname">create_identifier_mapping</code><span class="sig-paren">(</span><em>batch</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/coverage.html#OPDSImportCoverageProvider.create_identifier_mapping"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.coverage.OPDSImportCoverageProvider.create_identifier_mapping" title="Permalink to this definition">¶</a></dt>
<dd><p>Map the internal identifiers used for books to the corresponding
identifiers used by the lookup client.</p>
<p>By default, no identifier mapping is needed.</p>
</dd></dl>

<dl class="method">
<dt id="api.coverage.OPDSImportCoverageProvider.finalize_license_pool">
<code class="descname">finalize_license_pool</code><span class="sig-paren">(</span><em>pool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/coverage.html#OPDSImportCoverageProvider.finalize_license_pool"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.coverage.OPDSImportCoverageProvider.finalize_license_pool" title="Permalink to this definition">¶</a></dt>
<dd><p>An OPDS entry was matched with a LicensePool. Do something special
to mark the occasion.</p>
<p>By default, nothing happens.</p>
</dd></dl>

<dl class="method">
<dt id="api.coverage.OPDSImportCoverageProvider.import_feed_response">
<code class="descname">import_feed_response</code><span class="sig-paren">(</span><em>response</em>, <em>id_mapping</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/coverage.html#OPDSImportCoverageProvider.import_feed_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.coverage.OPDSImportCoverageProvider.import_feed_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Confirms OPDS feed response and imports feed through
the appropriate OPDSImporter subclass.</p>
</dd></dl>

<dl class="method">
<dt id="api.coverage.OPDSImportCoverageProvider.lookup_and_import_batch">
<code class="descname">lookup_and_import_batch</code><span class="sig-paren">(</span><em>batch</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/coverage.html#OPDSImportCoverageProvider.lookup_and_import_batch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.coverage.OPDSImportCoverageProvider.lookup_and_import_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up a batch of identifiers and parse the resulting OPDS feed.</p>
<p>This method is overridden by MockOPDSImportCoverageProvider.</p>
</dd></dl>

<dl class="method">
<dt id="api.coverage.OPDSImportCoverageProvider.process_batch">
<code class="descname">process_batch</code><span class="sig-paren">(</span><em>batch</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/coverage.html#OPDSImportCoverageProvider.process_batch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.coverage.OPDSImportCoverageProvider.process_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Perform a Simplified lookup and import the resulting OPDS feed.</p>
</dd></dl>

<dl class="method">
<dt id="api.coverage.OPDSImportCoverageProvider.process_item">
<code class="descname">process_item</code><span class="sig-paren">(</span><em>identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/coverage.html#OPDSImportCoverageProvider.process_item"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.coverage.OPDSImportCoverageProvider.process_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Handle an individual item (e.g. through ensure_coverage) as a very
small batch. Not efficient, but it works.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.coverage.ReaperImporter">
<em class="property">class </em><code class="descclassname">api.coverage.</code><code class="descname">ReaperImporter</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>data_source_name=None</em>, <em>identifier_mapping=None</em>, <em>http_get=None</em>, <em>metadata_client=None</em>, <em>content_modifier=None</em>, <em>map_from_collection=None</em>, <em>mirrors=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/coverage.html#ReaperImporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.coverage.ReaperImporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.opds_import.OPDSImporter" title="core.opds_import.OPDSImporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.opds_import.OPDSImporter</span></code></a></p>
<p>We are successful if the metadata wrangler acknowledges that an
identifier has been removed, and also if the identifier wasn’t in
the catalog in the first place.</p>
<dl class="attribute">
<dt id="api.coverage.ReaperImporter.SUCCESS_STATUS_CODES">
<code class="descname">SUCCESS_STATUS_CODES</code><em class="property"> = [200, 404]</em><a class="headerlink" href="#api.coverage.ReaperImporter.SUCCESS_STATUS_CODES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.coverage.RegistrarImporter">
<em class="property">class </em><code class="descclassname">api.coverage.</code><code class="descname">RegistrarImporter</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>data_source_name=None</em>, <em>identifier_mapping=None</em>, <em>http_get=None</em>, <em>metadata_client=None</em>, <em>content_modifier=None</em>, <em>map_from_collection=None</em>, <em>mirrors=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/coverage.html#RegistrarImporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.coverage.RegistrarImporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.opds_import.OPDSImporter" title="core.opds_import.OPDSImporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.opds_import.OPDSImporter</span></code></a></p>
<p>We are successful whenever the metadata wrangler puts an identifier
into the catalog, even if no metadata is immediately available.</p>
<dl class="attribute">
<dt id="api.coverage.RegistrarImporter.SUCCESS_STATUS_CODES">
<code class="descname">SUCCESS_STATUS_CODES</code><em class="property"> = [200, 201, 202]</em><a class="headerlink" href="#api.coverage.RegistrarImporter.SUCCESS_STATUS_CODES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api.custom_index">
<span id="api-custom-index-module"></span><h2>api.custom_index module<a class="headerlink" href="#module-api.custom_index" title="Permalink to this headline">¶</a></h2>
<p>A custom index view customizes a library’s ‘front page’ to serve
something other than the default.</p>
<p>This code is DEPRECATED; you probably want a CustomPatronCatalog instead.
We’re keeping it around because existing iOS versions of SimplyE need the
OPDS navigation feed it generates.</p>
<dl class="class">
<dt id="api.custom_index.COPPAGate">
<em class="property">class </em><code class="descclassname">api.custom_index.</code><code class="descname">COPPAGate</code><span class="sig-paren">(</span><em>library</em>, <em>integration</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/custom_index.html#COPPAGate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.custom_index.COPPAGate" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.custom_index.CustomIndexView" title="api.custom_index.CustomIndexView"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.custom_index.CustomIndexView</span></code></a></p>
<dl class="attribute">
<dt id="api.custom_index.COPPAGate.NO_CONTENT">
<code class="descname">NO_CONTENT</code><em class="property"> = l'Read children's books'</em><a class="headerlink" href="#api.custom_index.COPPAGate.NO_CONTENT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.custom_index.COPPAGate.NO_TITLE">
<code class="descname">NO_TITLE</code><em class="property"> = l'I'm Under 13'</em><a class="headerlink" href="#api.custom_index.COPPAGate.NO_TITLE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.custom_index.COPPAGate.PROTOCOL">
<code class="descname">PROTOCOL</code><em class="property"> = 'COPPA Age Gate'</em><a class="headerlink" href="#api.custom_index.COPPAGate.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.custom_index.COPPAGate.REQUIREMENT_MET_LANE">
<code class="descname">REQUIREMENT_MET_LANE</code><em class="property"> = 'requirement_met_lane'</em><a class="headerlink" href="#api.custom_index.COPPAGate.REQUIREMENT_MET_LANE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.custom_index.COPPAGate.REQUIREMENT_NOT_MET_LANE">
<code class="descname">REQUIREMENT_NOT_MET_LANE</code><em class="property"> = 'requirement_not_met_lane'</em><a class="headerlink" href="#api.custom_index.COPPAGate.REQUIREMENT_NOT_MET_LANE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.custom_index.COPPAGate.SETTINGS">
<code class="descname">SETTINGS</code><em class="property"> = [{'key': 'requirement_met_lane', 'label': l'ID of lane for patrons who are 13 or older'}, {'key': 'requirement_not_met_lane', 'label': l'ID of lane for patrons who are under 13'}]</em><a class="headerlink" href="#api.custom_index.COPPAGate.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.custom_index.COPPAGate.URI">
<code class="descname">URI</code><em class="property"> = 'http://librarysimplified.org/terms/restrictions/coppa'</em><a class="headerlink" href="#api.custom_index.COPPAGate.URI" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.custom_index.COPPAGate.YES_CONTENT">
<code class="descname">YES_CONTENT</code><em class="property"> = l'See the full collection'</em><a class="headerlink" href="#api.custom_index.COPPAGate.YES_CONTENT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.custom_index.COPPAGate.YES_TITLE">
<code class="descname">YES_TITLE</code><em class="property"> = l'I'm 13 or Older'</em><a class="headerlink" href="#api.custom_index.COPPAGate.YES_TITLE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.custom_index.COPPAGate.gate_tag">
<em class="property">classmethod </em><code class="descname">gate_tag</code><span class="sig-paren">(</span><em>restriction</em>, <em>met_url</em>, <em>not_met_url</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/custom_index.html#COPPAGate.gate_tag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.custom_index.COPPAGate.gate_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a simplified:gate tag explaining the boolean option
the client is faced with.</p>
</dd></dl>

<dl class="classmethod">
<dt id="api.custom_index.COPPAGate.navigation_entry">
<em class="property">classmethod </em><code class="descname">navigation_entry</code><span class="sig-paren">(</span><em>href</em>, <em>title</em>, <em>content</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/custom_index.html#COPPAGate.navigation_entry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.custom_index.COPPAGate.navigation_entry" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an &lt;entry&gt; that serves as navigation.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.custom_index.CustomIndexView">
<em class="property">class </em><code class="descclassname">api.custom_index.</code><code class="descname">CustomIndexView</code><span class="sig-paren">(</span><em>library</em>, <em>integration</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/custom_index.html#CustomIndexView"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.custom_index.CustomIndexView" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A custom view that replaces the default OPDS view for a
library.</p>
<p>Any subclass of this class must define PROTOCOL and must be
passed into a CustomIndexView.register() call after the class
definition is complete.</p>
<p>Subclasses of this class are loaded into the CirculationManager, so they
should not store any objects obtained from the database without
disconnecting them from their session.</p>
<dl class="attribute">
<dt id="api.custom_index.CustomIndexView.BY_PROTOCOL">
<code class="descname">BY_PROTOCOL</code><em class="property"> = {'COPPA Age Gate': &lt;class 'api.custom_index.COPPAGate'&gt;}</em><a class="headerlink" href="#api.custom_index.CustomIndexView.BY_PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.custom_index.CustomIndexView.GOAL">
<code class="descname">GOAL</code><em class="property"> = 'custom_index'</em><a class="headerlink" href="#api.custom_index.CustomIndexView.GOAL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.custom_index.CustomIndexView.for_library">
<em class="property">classmethod </em><code class="descname">for_library</code><span class="sig-paren">(</span><em>library</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/custom_index.html#CustomIndexView.for_library"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.custom_index.CustomIndexView.for_library" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the appropriate CustomIndexView for the given library.</p>
</dd></dl>

<dl class="classmethod">
<dt id="api.custom_index.CustomIndexView.register">
<em class="property">classmethod </em><code class="descname">register</code><span class="sig-paren">(</span><em>view_class</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/custom_index.html#CustomIndexView.register"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.custom_index.CustomIndexView.register" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.custom_index.CustomIndexView.unregister">
<em class="property">classmethod </em><code class="descname">unregister</code><span class="sig-paren">(</span><em>view_class</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/custom_index.html#CustomIndexView.unregister"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.custom_index.CustomIndexView.unregister" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a CustomIndexView from consideration.
Only used in tests.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api.custom_patron_catalog">
<span id="api-custom-patron-catalog-module"></span><h2>api.custom_patron_catalog module<a class="headerlink" href="#module-api.custom_patron_catalog" title="Permalink to this headline">¶</a></h2>
<p>A custom patron catalog annotates a library’s authentication
document to describe an unusual setup.</p>
<dl class="class">
<dt id="api.custom_patron_catalog.COPPAGate">
<em class="property">class </em><code class="descclassname">api.custom_patron_catalog.</code><code class="descname">COPPAGate</code><span class="sig-paren">(</span><em>library</em>, <em>integration</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/custom_patron_catalog.html#COPPAGate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.custom_patron_catalog.COPPAGate" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.custom_patron_catalog.CustomPatronCatalog" title="api.custom_patron_catalog.CustomPatronCatalog"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.custom_patron_catalog.CustomPatronCatalog</span></code></a></p>
<dl class="attribute">
<dt id="api.custom_patron_catalog.COPPAGate.AUTHENTICATION_NO_REL">
<code class="descname">AUTHENTICATION_NO_REL</code><em class="property"> = 'http://librarysimplified.org/terms/rel/authentication/restriction-not-met'</em><a class="headerlink" href="#api.custom_patron_catalog.COPPAGate.AUTHENTICATION_NO_REL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.custom_patron_catalog.COPPAGate.AUTHENTICATION_TYPE">
<code class="descname">AUTHENTICATION_TYPE</code><em class="property"> = 'http://librarysimplified.org/terms/authentication/gate/coppa'</em><a class="headerlink" href="#api.custom_patron_catalog.COPPAGate.AUTHENTICATION_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.custom_patron_catalog.COPPAGate.AUTHENTICATION_YES_REL">
<code class="descname">AUTHENTICATION_YES_REL</code><em class="property"> = 'http://librarysimplified.org/terms/rel/authentication/restriction-met'</em><a class="headerlink" href="#api.custom_patron_catalog.COPPAGate.AUTHENTICATION_YES_REL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.custom_patron_catalog.COPPAGate.PROTOCOL">
<code class="descname">PROTOCOL</code><em class="property"> = 'COPPA Age Gate'</em><a class="headerlink" href="#api.custom_patron_catalog.COPPAGate.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.custom_patron_catalog.COPPAGate.REQUIREMENT_MET_LANE">
<code class="descname">REQUIREMENT_MET_LANE</code><em class="property"> = 'requirement_met_lane'</em><a class="headerlink" href="#api.custom_patron_catalog.COPPAGate.REQUIREMENT_MET_LANE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.custom_patron_catalog.COPPAGate.REQUIREMENT_NOT_MET_LANE">
<code class="descname">REQUIREMENT_NOT_MET_LANE</code><em class="property"> = 'requirement_not_met_lane'</em><a class="headerlink" href="#api.custom_patron_catalog.COPPAGate.REQUIREMENT_NOT_MET_LANE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.custom_patron_catalog.COPPAGate.SETTINGS">
<code class="descname">SETTINGS</code><em class="property"> = [{'key': 'requirement_met_lane', 'label': l'ID of lane for patrons who are 13 or older'}, {'key': 'requirement_not_met_lane', 'label': l'ID of lane for patrons who are under 13'}]</em><a class="headerlink" href="#api.custom_patron_catalog.COPPAGate.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.custom_patron_catalog.COPPAGate.annotate_authentication_document">
<code class="descname">annotate_authentication_document</code><span class="sig-paren">(</span><em>library</em>, <em>doc</em>, <em>url_for</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/custom_patron_catalog.html#COPPAGate.annotate_authentication_document"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.custom_patron_catalog.COPPAGate.annotate_authentication_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace the ‘start’ link and add a custom authentication
mechanism.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.custom_patron_catalog.CustomPatronCatalog">
<em class="property">class </em><code class="descclassname">api.custom_patron_catalog.</code><code class="descname">CustomPatronCatalog</code><span class="sig-paren">(</span><em>library</em>, <em>integration</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/custom_patron_catalog.html#CustomPatronCatalog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.custom_patron_catalog.CustomPatronCatalog" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>An annotator for a library’s authentication document.</p>
<p>Any subclass of this class must define PROTOCOL and must be
passed into a CustomPatronCatalog.register() call after the class
definition is complete.</p>
<p>A subclass of this class will be stored in the
LibraryAuthenticator. CustomPatronCatalogs should not store
any objects obtained from the database without disconnecting them
from their session.</p>
<dl class="attribute">
<dt id="api.custom_patron_catalog.CustomPatronCatalog.BY_PROTOCOL">
<code class="descname">BY_PROTOCOL</code><em class="property"> = {'COPPA Age Gate': &lt;class 'api.custom_patron_catalog.COPPAGate'&gt;, 'Custom Root Lane': &lt;class 'api.custom_patron_catalog.CustomRootLane'&gt;}</em><a class="headerlink" href="#api.custom_patron_catalog.CustomPatronCatalog.BY_PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.custom_patron_catalog.CustomPatronCatalog.GOAL">
<code class="descname">GOAL</code><em class="property"> = 'custom_patron_catalog'</em><a class="headerlink" href="#api.custom_patron_catalog.CustomPatronCatalog.GOAL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.custom_patron_catalog.CustomPatronCatalog.annotate_authentication_document">
<code class="descname">annotate_authentication_document</code><span class="sig-paren">(</span><em>library</em>, <em>doc</em>, <em>url_for</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/custom_patron_catalog.html#CustomPatronCatalog.annotate_authentication_document"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.custom_patron_catalog.CustomPatronCatalog.annotate_authentication_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Modify the library’s authentication document.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>library</strong> – A Library</li>
<li><strong>doc</strong> – A dictionary representing the library’s
default authentication document.</li>
<li><strong>url_for</strong> – An implementation of Flask url_for,
used to generate URLs.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A dictionary representing the library’s
default authentication document. It’s okay to modify
<cite>doc</cite> and return the modified version.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="api.custom_patron_catalog.CustomPatronCatalog.for_library">
<em class="property">classmethod </em><code class="descname">for_library</code><span class="sig-paren">(</span><em>library</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/custom_patron_catalog.html#CustomPatronCatalog.for_library"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.custom_patron_catalog.CustomPatronCatalog.for_library" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the appropriate CustomPatronCatalog for the given library.</p>
</dd></dl>

<dl class="classmethod">
<dt id="api.custom_patron_catalog.CustomPatronCatalog.register">
<em class="property">classmethod </em><code class="descname">register</code><span class="sig-paren">(</span><em>view_class</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/custom_patron_catalog.html#CustomPatronCatalog.register"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.custom_patron_catalog.CustomPatronCatalog.register" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.custom_patron_catalog.CustomPatronCatalog.replace_link">
<em class="property">classmethod </em><code class="descname">replace_link</code><span class="sig-paren">(</span><em>doc</em>, <em>rel</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/custom_patron_catalog.html#CustomPatronCatalog.replace_link"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.custom_patron_catalog.CustomPatronCatalog.replace_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove all links with the given relation and replace them
with the given link.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>doc</strong> – An authentication document. Will be modified in place.</li>
<li><strong>rel</strong> – Remove links with this relation.</li>
<li><strong>kwargs</strong> – Add a new link with these attributes.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A modified authentication document.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="api.custom_patron_catalog.CustomPatronCatalog.unregister">
<em class="property">classmethod </em><code class="descname">unregister</code><span class="sig-paren">(</span><em>view_class</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/custom_patron_catalog.html#CustomPatronCatalog.unregister"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.custom_patron_catalog.CustomPatronCatalog.unregister" title="Permalink to this definition">¶</a></dt>
<dd><p>Remove a CustomPatronCatalog from consideration.
Only used in tests.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.custom_patron_catalog.CustomRootLane">
<em class="property">class </em><code class="descclassname">api.custom_patron_catalog.</code><code class="descname">CustomRootLane</code><span class="sig-paren">(</span><em>library</em>, <em>integration</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/custom_patron_catalog.html#CustomRootLane"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.custom_patron_catalog.CustomRootLane" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.custom_patron_catalog.CustomPatronCatalog" title="api.custom_patron_catalog.CustomPatronCatalog"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.custom_patron_catalog.CustomPatronCatalog</span></code></a></p>
<p>Send library patrons to a lane other than the root lane.</p>
<dl class="attribute">
<dt id="api.custom_patron_catalog.CustomRootLane.LANE">
<code class="descname">LANE</code><em class="property"> = 'lane'</em><a class="headerlink" href="#api.custom_patron_catalog.CustomRootLane.LANE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.custom_patron_catalog.CustomRootLane.PROTOCOL">
<code class="descname">PROTOCOL</code><em class="property"> = 'Custom Root Lane'</em><a class="headerlink" href="#api.custom_patron_catalog.CustomRootLane.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.custom_patron_catalog.CustomRootLane.SETTINGS">
<code class="descname">SETTINGS</code><em class="property"> = [{'key': 'lane', 'label': l'Send patrons to the lane with this ID.'}]</em><a class="headerlink" href="#api.custom_patron_catalog.CustomRootLane.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.custom_patron_catalog.CustomRootLane.annotate_authentication_document">
<code class="descname">annotate_authentication_document</code><span class="sig-paren">(</span><em>library</em>, <em>doc</em>, <em>url_for</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/custom_patron_catalog.html#CustomRootLane.annotate_authentication_document"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.custom_patron_catalog.CustomRootLane.annotate_authentication_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Replace the ‘start’ link with a link to the configured Lane.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api.enki">
<span id="api-enki-module"></span><h2>api.enki module<a class="headerlink" href="#module-api.enki" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="api.enki.BibliographicParser">
<em class="property">class </em><code class="descclassname">api.enki.</code><code class="descname">BibliographicParser</code><a class="reference internal" href="_modules/api/enki.html#BibliographicParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.enki.BibliographicParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Parses Enki’s representation of book information into
Metadata and CirculationData objects.</p>
<dl class="attribute">
<dt id="api.enki.BibliographicParser.LANGUAGE_CODES">
<code class="descname">LANGUAGE_CODES</code><em class="property"> = {'English': u'eng', 'French': u'fre', 'Spanish': u'spa'}</em><a class="headerlink" href="#api.enki.BibliographicParser.LANGUAGE_CODES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.enki.BibliographicParser.extract_bibliographic">
<code class="descname">extract_bibliographic</code><span class="sig-paren">(</span><em>element</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#BibliographicParser.extract_bibliographic"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.enki.BibliographicParser.extract_bibliographic" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract Metadata and CirculationData from a dictionary
of information from Enki.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A Metadata with attached CirculationData.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.enki.BibliographicParser.extract_circulation">
<code class="descname">extract_circulation</code><span class="sig-paren">(</span><em>primary_identifier</em>, <em>availability</em>, <em>formattype</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#BibliographicParser.extract_circulation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.enki.BibliographicParser.extract_circulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn the ‘availability’ portion of an Enki API response into
a CirculationData.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.enki.BibliographicParser.log">
<code class="descname">log</code><em class="property"> = &lt;logging.Logger object&gt;</em><a class="headerlink" href="#api.enki.BibliographicParser.log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.enki.BibliographicParser.process_all">
<code class="descname">process_all</code><span class="sig-paren">(</span><em>json_data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#BibliographicParser.process_all"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.enki.BibliographicParser.process_all" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.enki.EnkiAPI">
<em class="property">class </em><code class="descclassname">api.enki.</code><code class="descname">EnkiAPI</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.enki.EnkiAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation.BaseCirculationAPI" title="api.circulation.BaseCirculationAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation.BaseCirculationAPI</span></code></a>, <a class="reference internal" href="#api.selftest.HasSelfTests" title="api.selftest.HasSelfTests"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.selftest.HasSelfTests</span></code></a></p>
<dl class="attribute">
<dt id="api.enki.EnkiAPI.DESCRIPTION">
<code class="descname">DESCRIPTION</code><em class="property"> = l'Integrate an Enki collection.'</em><a class="headerlink" href="#api.enki.EnkiAPI.DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.enki.EnkiAPI.ENKI">
<code class="descname">ENKI</code><em class="property"> = u'Enki'</em><a class="headerlink" href="#api.enki.EnkiAPI.ENKI" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.enki.EnkiAPI.ENKI_EXTERNAL">
<code class="descname">ENKI_EXTERNAL</code><em class="property"> = u'Enki'</em><a class="headerlink" href="#api.enki.EnkiAPI.ENKI_EXTERNAL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.enki.EnkiAPI.ENKI_ID">
<code class="descname">ENKI_ID</code><em class="property"> = u'Enki ID'</em><a class="headerlink" href="#api.enki.EnkiAPI.ENKI_ID" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.enki.EnkiAPI.ENKI_LIBRARY_ID_KEY">
<code class="descname">ENKI_LIBRARY_ID_KEY</code><em class="property"> = u'enki_library_id'</em><a class="headerlink" href="#api.enki.EnkiAPI.ENKI_LIBRARY_ID_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.enki.EnkiAPI.ERROR_INDICATOR">
<code class="descname">ERROR_INDICATOR</code><em class="property"> = '&lt;h1&gt;Oops, an error occurred&lt;/h1&gt;'</em><a class="headerlink" href="#api.enki.EnkiAPI.ERROR_INDICATOR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.enki.EnkiAPI.LIBRARY_SETTINGS">
<code class="descname">LIBRARY_SETTINGS</code><em class="property"> = [{'required': True, 'key': u'enki_library_id', 'label': l'Library ID'}]</em><a class="headerlink" href="#api.enki.EnkiAPI.LIBRARY_SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.enki.EnkiAPI.NAME">
<code class="descname">NAME</code><em class="property"> = u'Enki'</em><a class="headerlink" href="#api.enki.EnkiAPI.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.enki.EnkiAPI.PRODUCTION_BASE_URL">
<code class="descname">PRODUCTION_BASE_URL</code><em class="property"> = 'https://enkilibrary.org/API/'</em><a class="headerlink" href="#api.enki.EnkiAPI.PRODUCTION_BASE_URL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.enki.EnkiAPI.SERVICE_NAME">
<code class="descname">SERVICE_NAME</code><em class="property"> = 'Enki'</em><a class="headerlink" href="#api.enki.EnkiAPI.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.enki.EnkiAPI.SETTINGS">
<code class="descname">SETTINGS</code><em class="property"> = [{'default': 'https://enkilibrary.org/API/', 'format': 'url', 'required': True, 'key': u'url', 'label': l'URL'}]</em><a class="headerlink" href="#api.enki.EnkiAPI.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.enki.EnkiAPI.SET_DELIVERY_MECHANISM_AT">
<code class="descname">SET_DELIVERY_MECHANISM_AT</code><em class="property"> = 'fulfill'</em><a class="headerlink" href="#api.enki.EnkiAPI.SET_DELIVERY_MECHANISM_AT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.enki.EnkiAPI.adobe_drm">
<code class="descname">adobe_drm</code><em class="property"> = u'application/vnd.adobe.adept+xml'</em><a class="headerlink" href="#api.enki.EnkiAPI.adobe_drm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.enki.EnkiAPI.checkout">
<code class="descname">checkout</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>internal_format</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI.checkout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.enki.EnkiAPI.checkout" title="Permalink to this definition">¶</a></dt>
<dd><p>Check out a book on behalf of a patron.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>patron</strong> – a Patron object for the patron who wants to check out the book.</li>
<li><strong>pin</strong> – The patron’s alleged password.</li>
<li><strong>licensepool</strong> – Contains lending info as well as link to parent Identifier.</li>
<li><strong>internal_format</strong> – Represents the patron’s desired book format.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a LoanInfo object.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="api.enki.EnkiAPI.collection">
<code class="descname">collection</code><a class="headerlink" href="#api.enki.EnkiAPI.collection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.enki.EnkiAPI.delivery_mechanism_to_internal_format">
<code class="descname">delivery_mechanism_to_internal_format</code><em class="property"> = {(u'application/epub+zip', None): 'free', (u'application/epub+zip', u'application/vnd.adobe.adept+xml'): 'acs'}</em><a class="headerlink" href="#api.enki.EnkiAPI.delivery_mechanism_to_internal_format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.enki.EnkiAPI.enki_library_id">
<code class="descname">enki_library_id</code><span class="sig-paren">(</span><em>library</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI.enki_library_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.enki.EnkiAPI.enki_library_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the Enki library ID for the given library.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.enki.EnkiAPI.epub">
<code class="descname">epub</code><em class="property"> = u'application/epub+zip'</em><a class="headerlink" href="#api.enki.EnkiAPI.epub" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.enki.EnkiAPI.external_integration">
<code class="descname">external_integration</code><span class="sig-paren">(</span><em>_db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI.external_integration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.enki.EnkiAPI.external_integration" title="Permalink to this definition">¶</a></dt>
<dd><p>Locate the ExternalIntegration associated with this object.
The status of the self-tests will be stored as a ConfigurationSetting
on this ExternalIntegration.</p>
<p>By default, there is no way to get from an object to its
ExternalIntegration, and self-test status will not be stored.</p>
</dd></dl>

<dl class="method">
<dt id="api.enki.EnkiAPI.fulfill">
<code class="descname">fulfill</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>internal_format</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI.fulfill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.enki.EnkiAPI.fulfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the actual resource file to the patron.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kwargs</strong> – A container for arguments to fulfill()
which are not relevant to this vendor.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a FulfillmentInfo object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.enki.EnkiAPI.get_all_titles">
<code class="descname">get_all_titles</code><span class="sig-paren">(</span><em>strt=0</em>, <em>qty=10</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI.get_all_titles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.enki.EnkiAPI.get_all_titles" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a single page of items from the Enki collection.</p>
<p>Iterating over the entire collection is very expensive and
should only happen during initial data population.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Yield:</th><td class="field-body">A sequence of Metadata objects, each with a
CirculationData attached.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.enki.EnkiAPI.get_item">
<code class="descname">get_item</code><span class="sig-paren">(</span><em>enki_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI.get_item"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.enki.EnkiAPI.get_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve bibliographic and availability information for
a specific title.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>enki_id</strong> – An Enki record ID.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">If the book is in the library’s collection, a
Metadata object with attached CirculationData. Otherwise, None.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="api.enki.EnkiAPI.item_endpoint">
<code class="descname">item_endpoint</code><em class="property"> = 'ItemAPI'</em><a class="headerlink" href="#api.enki.EnkiAPI.item_endpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.enki.EnkiAPI.list_endpoint">
<code class="descname">list_endpoint</code><em class="property"> = 'ListAPI'</em><a class="headerlink" href="#api.enki.EnkiAPI.list_endpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.enki.EnkiAPI.loan_request">
<code class="descname">loan_request</code><span class="sig-paren">(</span><em>barcode</em>, <em>pin</em>, <em>book_id</em>, <em>enki_library_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI.loan_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.enki.EnkiAPI.loan_request" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.enki.EnkiAPI.log">
<code class="descname">log</code><em class="property"> = &lt;logging.Logger object&gt;</em><a class="headerlink" href="#api.enki.EnkiAPI.log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.enki.EnkiAPI.no_drm">
<code class="descname">no_drm</code><em class="property"> = None</em><a class="headerlink" href="#api.enki.EnkiAPI.no_drm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.enki.EnkiAPI.parse_fulfill_result">
<code class="descname">parse_fulfill_result</code><span class="sig-paren">(</span><em>result</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI.parse_fulfill_result"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.enki.EnkiAPI.parse_fulfill_result" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.enki.EnkiAPI.parse_patron_holds">
<code class="descname">parse_patron_holds</code><span class="sig-paren">(</span><em>hold_data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI.parse_patron_holds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.enki.EnkiAPI.parse_patron_holds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.enki.EnkiAPI.parse_patron_loans">
<code class="descname">parse_patron_loans</code><span class="sig-paren">(</span><em>checkout_data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI.parse_patron_loans"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.enki.EnkiAPI.parse_patron_loans" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.enki.EnkiAPI.patron_activity">
<code class="descname">patron_activity</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI.patron_activity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.enki.EnkiAPI.patron_activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a patron’s current checkouts and holds.</p>
</dd></dl>

<dl class="method">
<dt id="api.enki.EnkiAPI.patron_request">
<code class="descname">patron_request</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>enki_library_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI.patron_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.enki.EnkiAPI.patron_request" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.enki.EnkiAPI.place_hold">
<code class="descname">place_hold</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>notification_email_address</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI.place_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.enki.EnkiAPI.place_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Place a book on hold.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A HoldInfo object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.enki.EnkiAPI.recent_activity">
<code class="descname">recent_activity</code><span class="sig-paren">(</span><em>start</em>, <em>end</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI.recent_activity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.enki.EnkiAPI.recent_activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Find circulation events from a certain timeframe that affected
loans or holds.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>start</strong> – A DateTime</td>
</tr>
<tr class="field-even field"><th class="field-name">Yield:</th><td class="field-body">A sequence of CirculationData objects.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.enki.EnkiAPI.release_hold">
<code class="descname">release_hold</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI.release_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.enki.EnkiAPI.release_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Release a patron’s hold on a book.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="#api.circulation_exceptions.CannotReleaseHold" title="api.circulation_exceptions.CannotReleaseHold"><strong>CannotReleaseHold</strong></a> – If there is an error communicating
with the provider, or the provider refuses to release the hold for
any reason.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.enki.EnkiAPI.request">
<code class="descname">request</code><span class="sig-paren">(</span><em>url</em>, <em>method='get'</em>, <em>extra_headers={}</em>, <em>data=None</em>, <em>params=None</em>, <em>retry_on_timeout=True</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI.request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.enki.EnkiAPI.request" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an HTTP request to the Enki API.</p>
</dd></dl>

<dl class="method">
<dt id="api.enki.EnkiAPI.updated_titles">
<code class="descname">updated_titles</code><span class="sig-paren">(</span><em>since</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiAPI.updated_titles"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.enki.EnkiAPI.updated_titles" title="Permalink to this definition">¶</a></dt>
<dd><p>Find recent changes to book metadata.</p>
<p>NOTE: getUpdateTitles will return a maximum of 1000 items, so
in theory this may need to be paginated. This shouldn’t be a
problem assuming the monitor is run regularly.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>since</strong> – A DateTime</td>
</tr>
<tr class="field-even field"><th class="field-name">Yield:</th><td class="field-body">A sequence of Metadata objects.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="api.enki.EnkiAPI.user_endpoint">
<code class="descname">user_endpoint</code><em class="property"> = 'UserAPI'</em><a class="headerlink" href="#api.enki.EnkiAPI.user_endpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.enki.EnkiCollectionReaper">
<em class="property">class </em><code class="descclassname">api.enki.</code><code class="descname">EnkiCollectionReaper</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>api_class=&lt;class 'api.enki.EnkiAPI'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiCollectionReaper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.enki.EnkiCollectionReaper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.monitor.IdentifierSweepMonitor" title="core.monitor.IdentifierSweepMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.monitor.IdentifierSweepMonitor</span></code></a></p>
<p>Check for books that are in the local collection but have left the Enki collection.</p>
<dl class="attribute">
<dt id="api.enki.EnkiCollectionReaper.INTERVAL_SECONDS">
<code class="descname">INTERVAL_SECONDS</code><em class="property"> = 14400</em><a class="headerlink" href="#api.enki.EnkiCollectionReaper.INTERVAL_SECONDS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.enki.EnkiCollectionReaper.PROTOCOL">
<code class="descname">PROTOCOL</code><em class="property"> = 'Enki'</em><a class="headerlink" href="#api.enki.EnkiCollectionReaper.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.enki.EnkiCollectionReaper.SERVICE_NAME">
<code class="descname">SERVICE_NAME</code><em class="property"> = 'Enki Collection Reaper'</em><a class="headerlink" href="#api.enki.EnkiCollectionReaper.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.enki.EnkiCollectionReaper.process_item">
<code class="descname">process_item</code><span class="sig-paren">(</span><em>identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiCollectionReaper.process_item"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.enki.EnkiCollectionReaper.process_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Do the work that needs to be done for a given item.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.enki.EnkiImport">
<em class="property">class </em><code class="descclassname">api.enki.</code><code class="descname">EnkiImport</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>api_class=&lt;class 'api.enki.EnkiAPI'&gt;</em>, <em>analytics=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiImport"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.enki.EnkiImport" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.monitor.CollectionMonitor" title="core.monitor.CollectionMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.monitor.CollectionMonitor</span></code></a>, <a class="reference internal" href="core.html#core.monitor.TimelineMonitor" title="core.monitor.TimelineMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.monitor.TimelineMonitor</span></code></a></p>
<p>Make sure our local collection is up-to-date with the remote
Enki collection.</p>
<dl class="attribute">
<dt id="api.enki.EnkiImport.DEFAULT_BATCH_SIZE">
<code class="descname">DEFAULT_BATCH_SIZE</code><em class="property"> = 10</em><a class="headerlink" href="#api.enki.EnkiImport.DEFAULT_BATCH_SIZE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.enki.EnkiImport.DEFAULT_START_TIME">
<code class="descname">DEFAULT_START_TIME</code><em class="property"> = &lt;object object&gt;</em><a class="headerlink" href="#api.enki.EnkiImport.DEFAULT_START_TIME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.enki.EnkiImport.FIVE_MINUTES">
<code class="descname">FIVE_MINUTES</code><em class="property"> = datetime.timedelta(0, 300)</em><a class="headerlink" href="#api.enki.EnkiImport.FIVE_MINUTES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.enki.EnkiImport.INTERVAL_SECONDS">
<code class="descname">INTERVAL_SECONDS</code><em class="property"> = 500</em><a class="headerlink" href="#api.enki.EnkiImport.INTERVAL_SECONDS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.enki.EnkiImport.PROTOCOL">
<code class="descname">PROTOCOL</code><em class="property"> = u'Enki'</em><a class="headerlink" href="#api.enki.EnkiImport.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.enki.EnkiImport.SERVICE_NAME">
<code class="descname">SERVICE_NAME</code><em class="property"> = 'Enki Circulation Monitor'</em><a class="headerlink" href="#api.enki.EnkiImport.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.enki.EnkiImport.catch_up_from">
<code class="descname">catch_up_from</code><span class="sig-paren">(</span><em>start</em>, <em>cutoff</em>, <em>progress</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiImport.catch_up_from"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.enki.EnkiImport.catch_up_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Find Enki books that changed recently.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>start</strong> – Find all books that changed since this date.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="api.enki.EnkiImport.collection">
<code class="descname">collection</code><a class="headerlink" href="#api.enki.EnkiImport.collection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.enki.EnkiImport.full_import">
<code class="descname">full_import</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiImport.full_import"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.enki.EnkiImport.full_import" title="Permalink to this definition">¶</a></dt>
<dd><p>Import the entire Enki collection, page by page.</p>
</dd></dl>

<dl class="method">
<dt id="api.enki.EnkiImport.incremental_import">
<code class="descname">incremental_import</code><span class="sig-paren">(</span><em>since</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiImport.incremental_import"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.enki.EnkiImport.incremental_import" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.enki.EnkiImport.process_book">
<code class="descname">process_book</code><span class="sig-paren">(</span><em>bibliographic</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiImport.process_book"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.enki.EnkiImport.process_book" title="Permalink to this definition">¶</a></dt>
<dd><p>Make the local database reflect the state of the remote Enki
collection for the given book.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>bibliographic</strong> – A Metadata object with attached CirculationData</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A 2-tuple (LicensePool, Edition). If possible, a
presentation-ready Work will be created for the LicensePool.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.enki.EnkiImport.update_circulation">
<code class="descname">update_circulation</code><span class="sig-paren">(</span><em>since</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#EnkiImport.update_circulation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.enki.EnkiImport.update_circulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Process circulation events that happened since <cite>since</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The total number of circulation events.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.enki.MockEnkiAPI">
<em class="property">class </em><code class="descclassname">api.enki.</code><code class="descname">MockEnkiAPI</code><span class="sig-paren">(</span><em>_db</em>, <em>collection=None</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#MockEnkiAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.enki.MockEnkiAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.enki.EnkiAPI" title="api.enki.EnkiAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.enki.EnkiAPI</span></code></a></p>
<dl class="method">
<dt id="api.enki.MockEnkiAPI.queue_response">
<code class="descname">queue_response</code><span class="sig-paren">(</span><em>status_code</em>, <em>headers={}</em>, <em>content=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/enki.html#MockEnkiAPI.queue_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.enki.MockEnkiAPI.queue_response" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api.feedbooks">
<span id="api-feedbooks-module"></span><h2>api.feedbooks module<a class="headerlink" href="#module-api.feedbooks" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="api.feedbooks.FeedbooksImportMonitor">
<em class="property">class </em><code class="descclassname">api.feedbooks.</code><code class="descname">FeedbooksImportMonitor</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>import_class</em>, <em>force_reimport=False</em>, <em>**import_class_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/feedbooks.html#FeedbooksImportMonitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.feedbooks.FeedbooksImportMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.opds_import.OPDSImportMonitor" title="core.opds_import.OPDSImportMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.opds_import.OPDSImportMonitor</span></code></a></p>
<p>The same as OPDSImportMonitor, but uses FeedbooksOPDSImporter
instead.</p>
<dl class="attribute">
<dt id="api.feedbooks.FeedbooksImportMonitor.PROTOCOL">
<code class="descname">PROTOCOL</code><em class="property"> = u'FeedBooks'</em><a class="headerlink" href="#api.feedbooks.FeedbooksImportMonitor.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.feedbooks.FeedbooksImportMonitor.data_source">
<code class="descname">data_source</code><span class="sig-paren">(</span><em>collection</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/feedbooks.html#FeedbooksImportMonitor.data_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.feedbooks.FeedbooksImportMonitor.data_source" title="Permalink to this definition">¶</a></dt>
<dd><p>The data source for all Feedbooks collections is Feedbooks.</p>
</dd></dl>

<dl class="method">
<dt id="api.feedbooks.FeedbooksImportMonitor.opds_url">
<code class="descname">opds_url</code><span class="sig-paren">(</span><em>collection</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/feedbooks.html#FeedbooksImportMonitor.opds_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.feedbooks.FeedbooksImportMonitor.opds_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the OPDS import URL for the given collection.</p>
<p>This is the base URL plus the language setting.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.feedbooks.FeedbooksOPDSImporter">
<em class="property">class </em><code class="descclassname">api.feedbooks.</code><code class="descname">FeedbooksOPDSImporter</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/feedbooks.html#FeedbooksOPDSImporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.feedbooks.FeedbooksOPDSImporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.opds_import.OPDSImporter" title="core.opds_import.OPDSImporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.opds_import.OPDSImporter</span></code></a></p>
<dl class="attribute">
<dt id="api.feedbooks.FeedbooksOPDSImporter.BASE_OPDS_URL">
<code class="descname">BASE_OPDS_URL</code><em class="property"> = u'http://www.feedbooks.com/books/recent.atom?lang=%(language)s'</em><a class="headerlink" href="#api.feedbooks.FeedbooksOPDSImporter.BASE_OPDS_URL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.feedbooks.FeedbooksOPDSImporter.DESCRIPTION">
<code class="descname">DESCRIPTION</code><em class="property"> = l'Import open-access books from FeedBooks.'</em><a class="headerlink" href="#api.feedbooks.FeedbooksOPDSImporter.DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.feedbooks.FeedbooksOPDSImporter.NAME">
<code class="descname">NAME</code><em class="property"> = u'FeedBooks'</em><a class="headerlink" href="#api.feedbooks.FeedbooksOPDSImporter.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.feedbooks.FeedbooksOPDSImporter.REALLY_IMPORT_KEY">
<code class="descname">REALLY_IMPORT_KEY</code><em class="property"> = 'really_import'</em><a class="headerlink" href="#api.feedbooks.FeedbooksOPDSImporter.REALLY_IMPORT_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.feedbooks.FeedbooksOPDSImporter.REPLACEMENT_CSS_KEY">
<code class="descname">REPLACEMENT_CSS_KEY</code><em class="property"> = 'replacement_css'</em><a class="headerlink" href="#api.feedbooks.FeedbooksOPDSImporter.REPLACEMENT_CSS_KEY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.feedbooks.FeedbooksOPDSImporter.SETTINGS">
<code class="descname">SETTINGS</code><em class="property"> = [{'description': l'Most libraries are better off importing free Feedbooks titles via an OPDS Import integration from NYPL's open-access content server or DPLA's Open Bookshelf. This setting makes sure you didn't create this collection by accident and really want to import directly from Feedbooks.', 'default': 'false', 'label': l'Really?', 'key': 'really_import', 'type': 'select', 'options': [{'key': 'false', 'label': l'Don't actually import directly from Feedbooks.'}, {'key': 'true', 'label': l'I know what I'm doing; import directly from Feedbooks.'}]}, {'description': l'Feedbooks offers separate feeds for different languages. Each one can be made into a separate collection.', 'default': 'en', 'label': l'Import books in this language', 'key': u'external_account_id', 'type': 'select', 'options': [{'key': 'en', 'label': l'English'}, {'key': 'es', 'label': l'Spanish'}, {'key': 'fr', 'label': l'French'}, {'key': 'it', 'label': l'Italian'}, {'key': 'de', 'label': l'German'}]}, {'default': 'http://www.daisy.org/z3986/2005/dtbook.2005.basic.css', 'description': l'If you are mirroring the Feedbooks titles, you may replace the Feedbooks stylesheet with an alternate stylesheet in the mirrored copies. The default value is an accessibility-focused stylesheet produced by the DAISY consortium. If you mirror Feedbooks titles but leave this empty, the Feedbooks titles will be mirrored as-is.', 'key': 'replacement_css', 'label': l'Replacement stylesheet'}]</em><a class="headerlink" href="#api.feedbooks.FeedbooksOPDSImporter.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.feedbooks.FeedbooksOPDSImporter.THIRTY_DAYS">
<code class="descname">THIRTY_DAYS</code><em class="property"> = datetime.timedelta(30)</em><a class="headerlink" href="#api.feedbooks.FeedbooksOPDSImporter.THIRTY_DAYS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.feedbooks.FeedbooksOPDSImporter.extract_feed_data">
<code class="descname">extract_feed_data</code><span class="sig-paren">(</span><em>feed</em>, <em>feed_url=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/feedbooks.html#FeedbooksOPDSImporter.extract_feed_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.feedbooks.FeedbooksOPDSImporter.extract_feed_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn an OPDS feed into lists of Metadata and CirculationData objects,
with associated messages and next_links.</p>
</dd></dl>

<dl class="method">
<dt id="api.feedbooks.FeedbooksOPDSImporter.improve_description">
<code class="descname">improve_description</code><span class="sig-paren">(</span><em>id</em>, <em>metadata</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/feedbooks.html#FeedbooksOPDSImporter.improve_description"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.feedbooks.FeedbooksOPDSImporter.improve_description" title="Permalink to this definition">¶</a></dt>
<dd><p>Improve the description associated with a book,
if possible.</p>
<p>This involves fetching an alternate OPDS entry that might
contain more detailed descriptions than those available in the
main feed.</p>
</dd></dl>

<dl class="classmethod">
<dt id="api.feedbooks.FeedbooksOPDSImporter.make_link_data">
<em class="property">classmethod </em><code class="descname">make_link_data</code><span class="sig-paren">(</span><em>rel</em>, <em>href=None</em>, <em>media_type=None</em>, <em>rights_uri=None</em>, <em>content=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/feedbooks.html#FeedbooksOPDSImporter.make_link_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.feedbooks.FeedbooksOPDSImporter.make_link_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn basic link information into a LinkData object.</p>
<p>FeedBooks puts open-access content behind generic
‘acquisition’ links. We want to treat the EPUBs as open-access
links and (at the request of FeedBooks) ignore the other
formats.</p>
</dd></dl>

<dl class="method">
<dt id="api.feedbooks.FeedbooksOPDSImporter.replace_css">
<code class="descname">replace_css</code><span class="sig-paren">(</span><em>representation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/feedbooks.html#FeedbooksOPDSImporter.replace_css"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.feedbooks.FeedbooksOPDSImporter.replace_css" title="Permalink to this definition">¶</a></dt>
<dd><p>This function will replace the content of every CSS file listed in an epub’s
manifest with the value in self.new_css. The rest of the file is not changed.</p>
</dd></dl>

<dl class="classmethod">
<dt id="api.feedbooks.FeedbooksOPDSImporter.rights_uri_from_entry_tag">
<em class="property">classmethod </em><code class="descname">rights_uri_from_entry_tag</code><span class="sig-paren">(</span><em>entry</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/feedbooks.html#FeedbooksOPDSImporter.rights_uri_from_entry_tag"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.feedbooks.FeedbooksOPDSImporter.rights_uri_from_entry_tag" title="Permalink to this definition">¶</a></dt>
<dd><p>Determine the URI that best encapsulates the rights
status of the downloads associated with this book.</p>
</dd></dl>

<dl class="classmethod">
<dt id="api.feedbooks.FeedbooksOPDSImporter.rights_uri_from_feedparser_entry">
<em class="property">classmethod </em><code class="descname">rights_uri_from_feedparser_entry</code><span class="sig-paren">(</span><em>entry</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/feedbooks.html#FeedbooksOPDSImporter.rights_uri_from_feedparser_entry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.feedbooks.FeedbooksOPDSImporter.rights_uri_from_feedparser_entry" title="Permalink to this definition">¶</a></dt>
<dd><p>(Refuse to) determine the URI that best encapsulates the rights
status of the downloads associated with this book.</p>
<p>We cannot answer this question from within feedparser code; we have
to wait until we enter elementtree code.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.feedbooks.RehostingPolicy">
<em class="property">class </em><code class="descclassname">api.feedbooks.</code><code class="descname">RehostingPolicy</code><a class="reference internal" href="_modules/api/feedbooks.html#RehostingPolicy"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.feedbooks.RehostingPolicy" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Determining the precise copyright status of the underlying text
is not directly useful, because Feedbooks has made derivative
works and relicensed under CC-BY-NC. So that’s going to be the
license: CC-BY-NC.</p>
<p>Except it’s not that simple. There are two complications.</p>
<p>1. Feedbooks is located in France, and the NYPL/DPLA content
servers are hosted in the US. We can’t host a CC-BY-NC book if
it’s derived from a work that’s still under US copyright. We must
decide whether or not to accept a book in the first place based on
the copyright status of the underlying text.</p>
<p>2. Some CC licenses are more restrictive (on the creators of
derivative works) than CC-BY-NC. Feedbooks has no authority to
relicense these books, so the old licenses need to be preserved.</p>
<p>This class encapsulates the logic necessary to make this decision.</p>
<dl class="attribute">
<dt id="api.feedbooks.RehostingPolicy.CAN_REHOST_IN_US">
<code class="descname">CAN_REHOST_IN_US</code><em class="property"> = set(['Attribution (cc by)', 'Attribution Non-Commercial (cc by-nc)', 'Attribution Non-Commercial No Derivatives (cc by-nc-nd)', 'Attribution Non-Commercial Share Alike (cc by-nc-sa)', 'Attribution Share Alike (cc by-sa)', 'This work is available for countries where copyright is Life+50 or in the USA (published before 1923).', 'This work is available for countries where copyright is Life+70 and in the USA.', 'This work was published before 1923 and is in the public domain in the USA only.'])</em><a class="headerlink" href="#api.feedbooks.RehostingPolicy.CAN_REHOST_IN_US" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.feedbooks.RehostingPolicy.PUBLIC_DOMAIN_CUTOFF">
<code class="descname">PUBLIC_DOMAIN_CUTOFF</code><em class="property"> = 1923</em><a class="headerlink" href="#api.feedbooks.RehostingPolicy.PUBLIC_DOMAIN_CUTOFF" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.feedbooks.RehostingPolicy.RIGHTS_DICT">
<code class="descname">RIGHTS_DICT</code><em class="property"> = {'Attribution Non-Commercial No Derivatives (cc by-nc-nd)': u'https://creativecommons.org/licenses/by-nc-nd/4.0', 'Attribution Non-Commercial Share Alike (cc by-nc-sa)': u'https://creativecommons.org/licenses/by-nc-sa/4.0', 'Attribution Share Alike (cc by-sa)': u'https://creativecommons.org/licenses/by-sa/4.0'}</em><a class="headerlink" href="#api.feedbooks.RehostingPolicy.RIGHTS_DICT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.feedbooks.RehostingPolicy.RIGHTS_UNKNOWN">
<code class="descname">RIGHTS_UNKNOWN</code><em class="property"> = 'Please read the legal notice included in this e-book and/or check the copyright status in your country.'</em><a class="headerlink" href="#api.feedbooks.RehostingPolicy.RIGHTS_UNKNOWN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.feedbooks.RehostingPolicy.US_SITES">
<code class="descname">US_SITES</code><em class="property"> = set(['archive.org', 'craphound.com', 'en.wikipedia.org', 'en.wikisource.org', 'futurismic.com', 'gutenberg.org', 'project gutenberg', 'shakespeare.mit.edu'])</em><a class="headerlink" href="#api.feedbooks.RehostingPolicy.US_SITES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.feedbooks.RehostingPolicy.can_rehost_us">
<em class="property">classmethod </em><code class="descname">can_rehost_us</code><span class="sig-paren">(</span><em>rights</em>, <em>source</em>, <em>publication_year</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/feedbooks.html#RehostingPolicy.can_rehost_us"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.feedbooks.RehostingPolicy.can_rehost_us" title="Permalink to this definition">¶</a></dt>
<dd><p>Can we rehost this book on a US server?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>rights</strong> – What FeedBooks says about the public domain status
of the book.</li>
<li><strong>source</strong> – Where FeedBooks got the book.</li>
<li><strong>publication_year</strong> – When the text was originally published.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">True if we can rehost in the US, False if we can’t,
None if we’re not sure. The distinction between False and None
is only useful when making lists of books that need to have
their rights status manually investigated.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="api.feedbooks.RehostingPolicy.rights_uri">
<em class="property">classmethod </em><code class="descname">rights_uri</code><span class="sig-paren">(</span><em>rights</em>, <em>source</em>, <em>publication_year</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/feedbooks.html#RehostingPolicy.rights_uri"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.feedbooks.RehostingPolicy.rights_uri" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api.firstbook">
<span id="api-firstbook-module"></span><h2>api.firstbook module<a class="headerlink" href="#module-api.firstbook" title="Permalink to this headline">¶</a></h2>
<dl class="attribute">
<dt id="api.firstbook.AuthenticationProvider">
<code class="descclassname">api.firstbook.</code><code class="descname">AuthenticationProvider</code><a class="headerlink" href="#api.firstbook.AuthenticationProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#api.firstbook.FirstBookAuthenticationAPI" title="api.firstbook.FirstBookAuthenticationAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.firstbook.FirstBookAuthenticationAPI</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="api.firstbook.FirstBookAuthenticationAPI">
<em class="property">class </em><code class="descclassname">api.firstbook.</code><code class="descname">FirstBookAuthenticationAPI</code><span class="sig-paren">(</span><em>library_id</em>, <em>integration</em>, <em>analytics=None</em>, <em>root=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/firstbook.html#FirstBookAuthenticationAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.firstbook.FirstBookAuthenticationAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.authenticator.BasicAuthenticationProvider" title="api.authenticator.BasicAuthenticationProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.authenticator.BasicAuthenticationProvider</span></code></a></p>
<dl class="attribute">
<dt id="api.firstbook.FirstBookAuthenticationAPI.DEFAULT_IDENTIFIER_LABEL">
<code class="descname">DEFAULT_IDENTIFIER_LABEL</code><em class="property"> = l'Access Code'</em><a class="headerlink" href="#api.firstbook.FirstBookAuthenticationAPI.DEFAULT_IDENTIFIER_LABEL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.firstbook.FirstBookAuthenticationAPI.DEFAULT_IDENTIFIER_REGULAR_EXPRESSION">
<code class="descname">DEFAULT_IDENTIFIER_REGULAR_EXPRESSION</code><em class="property"> = '^[A-Za-z0-9&#64;]+$'</em><a class="headerlink" href="#api.firstbook.FirstBookAuthenticationAPI.DEFAULT_IDENTIFIER_REGULAR_EXPRESSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.firstbook.FirstBookAuthenticationAPI.DEFAULT_PASSWORD_REGULAR_EXPRESSION">
<code class="descname">DEFAULT_PASSWORD_REGULAR_EXPRESSION</code><em class="property"> = '^[0-9]+$'</em><a class="headerlink" href="#api.firstbook.FirstBookAuthenticationAPI.DEFAULT_PASSWORD_REGULAR_EXPRESSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.firstbook.FirstBookAuthenticationAPI.DESCRIPTION">
<code class="descname">DESCRIPTION</code><em class="property"> = l'         An authentication service for Open eBooks that authenticates         using access codes and PINs. (This is the old version.)'</em><a class="headerlink" href="#api.firstbook.FirstBookAuthenticationAPI.DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.firstbook.FirstBookAuthenticationAPI.DISPLAY_NAME">
<code class="descname">DISPLAY_NAME</code><em class="property"> = 'First Book'</em><a class="headerlink" href="#api.firstbook.FirstBookAuthenticationAPI.DISPLAY_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.firstbook.FirstBookAuthenticationAPI.LOGIN_BUTTON_IMAGE">
<code class="descname">LOGIN_BUTTON_IMAGE</code><em class="property"> = 'FirstBookLoginButton280.png'</em><a class="headerlink" href="#api.firstbook.FirstBookAuthenticationAPI.LOGIN_BUTTON_IMAGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.firstbook.FirstBookAuthenticationAPI.NAME">
<code class="descname">NAME</code><em class="property"> = 'First Book'</em><a class="headerlink" href="#api.firstbook.FirstBookAuthenticationAPI.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.firstbook.FirstBookAuthenticationAPI.SETTINGS">
<code class="descname">SETTINGS</code><em class="property"> = [{'required': True, 'label': l'URL', 'key': u'url', 'format': 'url'}, {'required': True, 'key': u'password', 'label': l'Key'}, {'required': True, 'description': l'A valid identifier that can be used to test that patron authentication is working.', 'key': 'test_identifier', 'label': l'Test Identifier'}, {'description': l'The password for the test identifier.', 'key': 'test_password', 'label': l'Test Password'}, {'description': l'Many libraries render patron identifiers as barcodes on physical library cards. If you specify the barcode format, patrons will be able to scan their library cards with a camera instead of manually typing in their identifiers.', 'default': '', 'required': True, 'label': l'Patron identifier barcode format', 'key': 'identifier_barcode_format', 'type': 'select', 'options': [{'key': 'Codabar', 'label': l'Patron identifiers are are rendered as barcodes in Codabar format'}, {'key': '', 'label': l'Patron identifiers are not rendered as barcodes'}]}, {'description': l'A patron's identifier will be immediately rejected if it doesn't match this regular expression.', 'key': u'identifier_regular_expression', 'label': l'Identifier Regular Expression'}, {'description': l'A patron's password will be immediately rejected if it doesn't match this regular expression.', 'key': u'password_regular_expression', 'label': l'Password Regular Expression'}, {'default': u'Default', 'required': True, 'label': l'Keyboard for identifier entry', 'key': u'identifier_keyboard', 'type': 'select', 'options': [{'key': u'Default', 'label': l'System default'}, {'key': u'Email address', 'label': l'Email address entry'}, {'key': u'Number pad', 'label': l'Number pad'}]}, {'default': u'Default', 'type': 'select', 'options': [{'key': u'Default', 'label': l'System default'}, {'key': u'Number pad', 'label': l'Number pad'}, {'key': u'No input', 'label': l'Patrons have no password and should not be prompted for one.'}], 'key': u'password_keyboard', 'label': l'Keyboard for password entry'}, {'type': 'number', 'key': u'identifier_maximum_length', 'label': l'Maximum identifier length'}, {'type': 'number', 'key': u'password_maximum_length', 'label': l'Maximum password length'}, {'key': u'identifier_label', 'label': l'Label for identifier entry'}, {'key': u'password_label', 'label': l'Label for password entry'}]</em><a class="headerlink" href="#api.firstbook.FirstBookAuthenticationAPI.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.firstbook.FirstBookAuthenticationAPI.SUCCESS_MESSAGE">
<code class="descname">SUCCESS_MESSAGE</code><em class="property"> = 'Valid Code Pin Pair'</em><a class="headerlink" href="#api.firstbook.FirstBookAuthenticationAPI.SUCCESS_MESSAGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.firstbook.FirstBookAuthenticationAPI.log">
<code class="descname">log</code><em class="property"> = &lt;logging.Logger object&gt;</em><a class="headerlink" href="#api.firstbook.FirstBookAuthenticationAPI.log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.firstbook.FirstBookAuthenticationAPI.remote_authenticate">
<code class="descname">remote_authenticate</code><span class="sig-paren">(</span><em>username</em>, <em>password</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/firstbook.html#FirstBookAuthenticationAPI.remote_authenticate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.firstbook.FirstBookAuthenticationAPI.remote_authenticate" title="Permalink to this definition">¶</a></dt>
<dd><p>Does the source of truth approve of these credentials?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">If the credentials are valid, but nothing more is
known about the patron, return True.</td>
</tr>
</tbody>
</table>
<p>If the credentials are valid, _and_ enough information came
back in the request to also create a PatronInfo object, you
may create that object and return it to save a
remote patron lookup later.</p>
<p>If the credentials are invalid, return False or None.</p>
</dd></dl>

<dl class="method">
<dt id="api.firstbook.FirstBookAuthenticationAPI.remote_pin_test">
<code class="descname">remote_pin_test</code><span class="sig-paren">(</span><em>barcode</em>, <em>pin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/firstbook.html#FirstBookAuthenticationAPI.remote_pin_test"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.firstbook.FirstBookAuthenticationAPI.remote_pin_test" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.firstbook.FirstBookAuthenticationAPI.request">
<code class="descname">request</code><span class="sig-paren">(</span><em>url</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/firstbook.html#FirstBookAuthenticationAPI.request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.firstbook.FirstBookAuthenticationAPI.request" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an HTTP request.</p>
<p>Defined solely so it can be overridden in the mock.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.firstbook.MockFirstBookAuthenticationAPI">
<em class="property">class </em><code class="descclassname">api.firstbook.</code><code class="descname">MockFirstBookAuthenticationAPI</code><span class="sig-paren">(</span><em>library</em>, <em>integration</em>, <em>valid={}</em>, <em>bad_connection=False</em>, <em>failure_status_code=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/firstbook.html#MockFirstBookAuthenticationAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.firstbook.MockFirstBookAuthenticationAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.firstbook.FirstBookAuthenticationAPI" title="api.firstbook.FirstBookAuthenticationAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.firstbook.FirstBookAuthenticationAPI</span></code></a></p>
<dl class="attribute">
<dt id="api.firstbook.MockFirstBookAuthenticationAPI.FAILURE">
<code class="descname">FAILURE</code><em class="property"> = '{&quot;code&quot;:404,&quot;message&quot;:&quot;Access Code Pin Pair not found&quot;}'</em><a class="headerlink" href="#api.firstbook.MockFirstBookAuthenticationAPI.FAILURE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.firstbook.MockFirstBookAuthenticationAPI.SUCCESS">
<code class="descname">SUCCESS</code><em class="property"> = '&quot;Valid Code Pin Pair&quot;'</em><a class="headerlink" href="#api.firstbook.MockFirstBookAuthenticationAPI.SUCCESS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.firstbook.MockFirstBookAuthenticationAPI.request">
<code class="descname">request</code><span class="sig-paren">(</span><em>url</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/firstbook.html#MockFirstBookAuthenticationAPI.request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.firstbook.MockFirstBookAuthenticationAPI.request" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an HTTP request.</p>
<p>Defined solely so it can be overridden in the mock.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.firstbook.MockFirstBookResponse">
<em class="property">class </em><code class="descclassname">api.firstbook.</code><code class="descname">MockFirstBookResponse</code><span class="sig-paren">(</span><em>status_code</em>, <em>content</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/firstbook.html#MockFirstBookResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.firstbook.MockFirstBookResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

</div>
<div class="section" id="module-api.firstbook2">
<span id="api-firstbook2-module"></span><h2>api.firstbook2 module<a class="headerlink" href="#module-api.firstbook2" title="Permalink to this headline">¶</a></h2>
<dl class="attribute">
<dt id="api.firstbook2.AuthenticationProvider">
<code class="descclassname">api.firstbook2.</code><code class="descname">AuthenticationProvider</code><a class="headerlink" href="#api.firstbook2.AuthenticationProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#api.firstbook2.FirstBookAuthenticationAPI" title="api.firstbook2.FirstBookAuthenticationAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.firstbook2.FirstBookAuthenticationAPI</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="api.firstbook2.FirstBookAuthenticationAPI">
<em class="property">class </em><code class="descclassname">api.firstbook2.</code><code class="descname">FirstBookAuthenticationAPI</code><span class="sig-paren">(</span><em>library_id</em>, <em>integration</em>, <em>analytics=None</em>, <em>root=None</em>, <em>secret=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/firstbook2.html#FirstBookAuthenticationAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.firstbook2.FirstBookAuthenticationAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.authenticator.BasicAuthenticationProvider" title="api.authenticator.BasicAuthenticationProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.authenticator.BasicAuthenticationProvider</span></code></a></p>
<dl class="attribute">
<dt id="api.firstbook2.FirstBookAuthenticationAPI.ALGORITHM">
<code class="descname">ALGORITHM</code><em class="property"> = 'HS256'</em><a class="headerlink" href="#api.firstbook2.FirstBookAuthenticationAPI.ALGORITHM" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.firstbook2.FirstBookAuthenticationAPI.DEFAULT_IDENTIFIER_LABEL">
<code class="descname">DEFAULT_IDENTIFIER_LABEL</code><em class="property"> = l'Access Code'</em><a class="headerlink" href="#api.firstbook2.FirstBookAuthenticationAPI.DEFAULT_IDENTIFIER_LABEL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.firstbook2.FirstBookAuthenticationAPI.DEFAULT_IDENTIFIER_REGULAR_EXPRESSION">
<code class="descname">DEFAULT_IDENTIFIER_REGULAR_EXPRESSION</code><em class="property"> = '^[A-Za-z0-9&#64;]+$'</em><a class="headerlink" href="#api.firstbook2.FirstBookAuthenticationAPI.DEFAULT_IDENTIFIER_REGULAR_EXPRESSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.firstbook2.FirstBookAuthenticationAPI.DEFAULT_PASSWORD_REGULAR_EXPRESSION">
<code class="descname">DEFAULT_PASSWORD_REGULAR_EXPRESSION</code><em class="property"> = '^[0-9]+$'</em><a class="headerlink" href="#api.firstbook2.FirstBookAuthenticationAPI.DEFAULT_PASSWORD_REGULAR_EXPRESSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.firstbook2.FirstBookAuthenticationAPI.DESCRIPTION">
<code class="descname">DESCRIPTION</code><em class="property"> = l'         An authentication service for Open eBooks that authenticates         using access codes and PINs. (This is the new version.)'</em><a class="headerlink" href="#api.firstbook2.FirstBookAuthenticationAPI.DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.firstbook2.FirstBookAuthenticationAPI.DISPLAY_NAME">
<code class="descname">DISPLAY_NAME</code><em class="property"> = 'First Book - JWT'</em><a class="headerlink" href="#api.firstbook2.FirstBookAuthenticationAPI.DISPLAY_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.firstbook2.FirstBookAuthenticationAPI.LOGIN_BUTTON_IMAGE">
<code class="descname">LOGIN_BUTTON_IMAGE</code><em class="property"> = 'FirstBookLoginButton280.png'</em><a class="headerlink" href="#api.firstbook2.FirstBookAuthenticationAPI.LOGIN_BUTTON_IMAGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.firstbook2.FirstBookAuthenticationAPI.NAME">
<code class="descname">NAME</code><em class="property"> = 'First Book - JWT'</em><a class="headerlink" href="#api.firstbook2.FirstBookAuthenticationAPI.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.firstbook2.FirstBookAuthenticationAPI.SETTINGS">
<code class="descname">SETTINGS</code><em class="property"> = [{'default': 'https://ebooksprod.firstbook.org/api/', 'required': True, 'label': l'URL', 'key': u'url', 'format': 'url'}, {'required': True, 'key': u'password', 'label': l'Key'}, {'required': True, 'description': l'A valid identifier that can be used to test that patron authentication is working.', 'key': 'test_identifier', 'label': l'Test Identifier'}, {'description': l'The password for the test identifier.', 'key': 'test_password', 'label': l'Test Password'}, {'description': l'Many libraries render patron identifiers as barcodes on physical library cards. If you specify the barcode format, patrons will be able to scan their library cards with a camera instead of manually typing in their identifiers.', 'default': '', 'required': True, 'label': l'Patron identifier barcode format', 'key': 'identifier_barcode_format', 'type': 'select', 'options': [{'key': 'Codabar', 'label': l'Patron identifiers are are rendered as barcodes in Codabar format'}, {'key': '', 'label': l'Patron identifiers are not rendered as barcodes'}]}, {'description': l'A patron's identifier will be immediately rejected if it doesn't match this regular expression.', 'key': u'identifier_regular_expression', 'label': l'Identifier Regular Expression'}, {'description': l'A patron's password will be immediately rejected if it doesn't match this regular expression.', 'key': u'password_regular_expression', 'label': l'Password Regular Expression'}, {'default': u'Default', 'required': True, 'label': l'Keyboard for identifier entry', 'key': u'identifier_keyboard', 'type': 'select', 'options': [{'key': u'Default', 'label': l'System default'}, {'key': u'Email address', 'label': l'Email address entry'}, {'key': u'Number pad', 'label': l'Number pad'}]}, {'default': u'Default', 'type': 'select', 'options': [{'key': u'Default', 'label': l'System default'}, {'key': u'Number pad', 'label': l'Number pad'}, {'key': u'No input', 'label': l'Patrons have no password and should not be prompted for one.'}], 'key': u'password_keyboard', 'label': l'Keyboard for password entry'}, {'type': 'number', 'key': u'identifier_maximum_length', 'label': l'Maximum identifier length'}, {'type': 'number', 'key': u'password_maximum_length', 'label': l'Maximum password length'}, {'key': u'identifier_label', 'label': l'Label for identifier entry'}, {'key': u'password_label', 'label': l'Label for password entry'}]</em><a class="headerlink" href="#api.firstbook2.FirstBookAuthenticationAPI.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.firstbook2.FirstBookAuthenticationAPI.SUCCESS_MESSAGE">
<code class="descname">SUCCESS_MESSAGE</code><em class="property"> = 'Valid Code Pin Pair'</em><a class="headerlink" href="#api.firstbook2.FirstBookAuthenticationAPI.SUCCESS_MESSAGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.firstbook2.FirstBookAuthenticationAPI.jwt">
<code class="descname">jwt</code><span class="sig-paren">(</span><em>barcode</em>, <em>pin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/firstbook2.html#FirstBookAuthenticationAPI.jwt"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.firstbook2.FirstBookAuthenticationAPI.jwt" title="Permalink to this definition">¶</a></dt>
<dd><p>Create and sign a JWT with the payload expected by the
First Book API.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.firstbook2.FirstBookAuthenticationAPI.log">
<code class="descname">log</code><em class="property"> = &lt;logging.Logger object&gt;</em><a class="headerlink" href="#api.firstbook2.FirstBookAuthenticationAPI.log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.firstbook2.FirstBookAuthenticationAPI.remote_authenticate">
<code class="descname">remote_authenticate</code><span class="sig-paren">(</span><em>username</em>, <em>password</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/firstbook2.html#FirstBookAuthenticationAPI.remote_authenticate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.firstbook2.FirstBookAuthenticationAPI.remote_authenticate" title="Permalink to this definition">¶</a></dt>
<dd><p>Does the source of truth approve of these credentials?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">If the credentials are valid, but nothing more is
known about the patron, return True.</td>
</tr>
</tbody>
</table>
<p>If the credentials are valid, _and_ enough information came
back in the request to also create a PatronInfo object, you
may create that object and return it to save a
remote patron lookup later.</p>
<p>If the credentials are invalid, return False or None.</p>
</dd></dl>

<dl class="method">
<dt id="api.firstbook2.FirstBookAuthenticationAPI.remote_pin_test">
<code class="descname">remote_pin_test</code><span class="sig-paren">(</span><em>barcode</em>, <em>pin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/firstbook2.html#FirstBookAuthenticationAPI.remote_pin_test"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.firstbook2.FirstBookAuthenticationAPI.remote_pin_test" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.firstbook2.FirstBookAuthenticationAPI.request">
<code class="descname">request</code><span class="sig-paren">(</span><em>url</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/firstbook2.html#FirstBookAuthenticationAPI.request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.firstbook2.FirstBookAuthenticationAPI.request" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an HTTP request.</p>
<p>Defined solely so it can be overridden in the mock.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.firstbook2.MockFirstBookAuthenticationAPI">
<em class="property">class </em><code class="descclassname">api.firstbook2.</code><code class="descname">MockFirstBookAuthenticationAPI</code><span class="sig-paren">(</span><em>library</em>, <em>integration</em>, <em>valid={}</em>, <em>bad_connection=False</em>, <em>failure_status_code=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/firstbook2.html#MockFirstBookAuthenticationAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.firstbook2.MockFirstBookAuthenticationAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.firstbook2.FirstBookAuthenticationAPI" title="api.firstbook2.FirstBookAuthenticationAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.firstbook2.FirstBookAuthenticationAPI</span></code></a></p>
<dl class="attribute">
<dt id="api.firstbook2.MockFirstBookAuthenticationAPI.FAILURE">
<code class="descname">FAILURE</code><em class="property"> = '{&quot;code&quot;:404,&quot;message&quot;:&quot;Access Code Pin Pair not found&quot;}'</em><a class="headerlink" href="#api.firstbook2.MockFirstBookAuthenticationAPI.FAILURE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.firstbook2.MockFirstBookAuthenticationAPI.SUCCESS">
<code class="descname">SUCCESS</code><em class="property"> = '&quot;Valid Code Pin Pair&quot;'</em><a class="headerlink" href="#api.firstbook2.MockFirstBookAuthenticationAPI.SUCCESS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.firstbook2.MockFirstBookAuthenticationAPI.request">
<code class="descname">request</code><span class="sig-paren">(</span><em>url</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/firstbook2.html#MockFirstBookAuthenticationAPI.request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.firstbook2.MockFirstBookAuthenticationAPI.request" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an HTTP request.</p>
<p>Defined solely so it can be overridden in the mock.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.firstbook2.MockFirstBookResponse">
<em class="property">class </em><code class="descclassname">api.firstbook2.</code><code class="descname">MockFirstBookResponse</code><span class="sig-paren">(</span><em>status_code</em>, <em>content</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/firstbook2.html#MockFirstBookResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.firstbook2.MockFirstBookResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
</dd></dl>

</div>
<div class="section" id="module-api.google_analytics_provider">
<span id="api-google-analytics-provider-module"></span><h2>api.google_analytics_provider module<a class="headerlink" href="#module-api.google_analytics_provider" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="api.google_analytics_provider.GoogleAnalyticsProvider">
<em class="property">class </em><code class="descclassname">api.google_analytics_provider.</code><code class="descname">GoogleAnalyticsProvider</code><span class="sig-paren">(</span><em>integration</em>, <em>library=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/google_analytics_provider.html#GoogleAnalyticsProvider"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.google_analytics_provider.GoogleAnalyticsProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="attribute">
<dt id="api.google_analytics_provider.GoogleAnalyticsProvider.DEFAULT_URL">
<code class="descname">DEFAULT_URL</code><em class="property"> = 'http://www.google-analytics.com/collect'</em><a class="headerlink" href="#api.google_analytics_provider.GoogleAnalyticsProvider.DEFAULT_URL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.google_analytics_provider.GoogleAnalyticsProvider.DESCRIPTION">
<code class="descname">DESCRIPTION</code><em class="property"> = l'How to Configure a Google Analytics Integration'</em><a class="headerlink" href="#api.google_analytics_provider.GoogleAnalyticsProvider.DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.google_analytics_provider.GoogleAnalyticsProvider.INSTRUCTIONS">
<code class="descname">INSTRUCTIONS</code><em class="property"> = l'&lt;p&gt;In order to track usage statistics, you can configure the Circulation Manager to connect to Google Analytics.&lt;/p&gt;&lt;p&gt;Create a &lt;a href='https://analytics.google.com/analytics/web/provision/?authuser=0#/provision' rel='noopener' rel='noreferer' target='_blank'&gt;Google Analytics&lt;/a&gt; account, or sign into your existing one.&lt;/p&gt;&lt;p&gt;To capture data from the Library Simplified Circulation Manager in your Google Analytics account, you must set up a property in Google Analytics for Library Simplified.  In your Google Analytics account, on the administration page for the property, go to Custom Definitions &gt; Custom Dimensions, and add the following dimensions, in this order: &lt;ol&gt;&lt;li&gt;time&lt;/li&gt;&lt;li&gt;identifier&lt;/li&gt;&lt;li&gt;identifier_type&lt;/li&gt;&lt;li&gt;title&lt;/li&gt;&lt;li&gt;author&lt;/li&gt;&lt;li&gt;fiction&lt;/li&gt;&lt;li&gt;audience&lt;/li&gt;&lt;li&gt;target_age&lt;/li&gt;&lt;li&gt;publisher&lt;/li&gt;&lt;li&gt;language&lt;/li&gt;&lt;li&gt;genre&lt;/li&gt;&lt;li&gt;open_access&lt;/li&gt;&lt;li&gt;distributor&lt;/li&gt;&lt;li&gt;medium&lt;/li&gt;&lt;li&gt;library&lt;/li&gt;&lt;/ol&gt;&lt;/p&gt;&lt;p&gt;Each dimension should have the scope set to 'Hit' and the 'Active' box checked.&lt;/p&gt;&lt;p&gt;Then go to Tracking Info and get the tracking id for the property.  Select your library from the dropdown below, and enter the tracking id into the form.&lt;/p&gt;'</em><a class="headerlink" href="#api.google_analytics_provider.GoogleAnalyticsProvider.INSTRUCTIONS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.google_analytics_provider.GoogleAnalyticsProvider.LIBRARY_SETTINGS">
<code class="descname">LIBRARY_SETTINGS</code><em class="property"> = [{'required': True, 'key': 'tracking_id', 'label': l'Tracking ID'}]</em><a class="headerlink" href="#api.google_analytics_provider.GoogleAnalyticsProvider.LIBRARY_SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.google_analytics_provider.GoogleAnalyticsProvider.NAME">
<code class="descname">NAME</code><em class="property"> = l'Google Analytics'</em><a class="headerlink" href="#api.google_analytics_provider.GoogleAnalyticsProvider.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.google_analytics_provider.GoogleAnalyticsProvider.SETTINGS">
<code class="descname">SETTINGS</code><em class="property"> = [{'default': 'http://www.google-analytics.com/collect', 'format': 'url', 'required': True, 'key': u'url', 'label': l'URL'}]</em><a class="headerlink" href="#api.google_analytics_provider.GoogleAnalyticsProvider.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.google_analytics_provider.GoogleAnalyticsProvider.TRACKING_ID">
<code class="descname">TRACKING_ID</code><em class="property"> = 'tracking_id'</em><a class="headerlink" href="#api.google_analytics_provider.GoogleAnalyticsProvider.TRACKING_ID" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.google_analytics_provider.GoogleAnalyticsProvider.collect_event">
<code class="descname">collect_event</code><span class="sig-paren">(</span><em>library</em>, <em>license_pool</em>, <em>event_type</em>, <em>time</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/google_analytics_provider.html#GoogleAnalyticsProvider.collect_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.google_analytics_provider.GoogleAnalyticsProvider.collect_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.google_analytics_provider.GoogleAnalyticsProvider.post">
<code class="descname">post</code><span class="sig-paren">(</span><em>url</em>, <em>params</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/google_analytics_provider.html#GoogleAnalyticsProvider.post"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.google_analytics_provider.GoogleAnalyticsProvider.post" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="attribute">
<dt id="api.google_analytics_provider.Provider">
<code class="descclassname">api.google_analytics_provider.</code><code class="descname">Provider</code><a class="headerlink" href="#api.google_analytics_provider.Provider" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#api.google_analytics_provider.GoogleAnalyticsProvider" title="api.google_analytics_provider.GoogleAnalyticsProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.google_analytics_provider.GoogleAnalyticsProvider</span></code></a></p>
</dd></dl>

</div>
<div class="section" id="module-api.kansas_patron">
<span id="api-kansas-patron-module"></span><h2>api.kansas_patron module<a class="headerlink" href="#module-api.kansas_patron" title="Permalink to this headline">¶</a></h2>
<dl class="attribute">
<dt id="api.kansas_patron.AuthenticationProvider">
<code class="descclassname">api.kansas_patron.</code><code class="descname">AuthenticationProvider</code><a class="headerlink" href="#api.kansas_patron.AuthenticationProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#api.kansas_patron.KansasAuthenticationAPI" title="api.kansas_patron.KansasAuthenticationAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.kansas_patron.KansasAuthenticationAPI</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="api.kansas_patron.KansasAuthenticationAPI">
<em class="property">class </em><code class="descclassname">api.kansas_patron.</code><code class="descname">KansasAuthenticationAPI</code><span class="sig-paren">(</span><em>library_id</em>, <em>integration</em>, <em>analytics=None</em>, <em>base_url=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/kansas_patron.html#KansasAuthenticationAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.kansas_patron.KansasAuthenticationAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.authenticator.BasicAuthenticationProvider" title="api.authenticator.BasicAuthenticationProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.authenticator.BasicAuthenticationProvider</span></code></a></p>
<dl class="attribute">
<dt id="api.kansas_patron.KansasAuthenticationAPI.DESCRIPTION">
<code class="descname">DESCRIPTION</code><em class="property"> = l'         An authentication service for the Kansas State Library.         '</em><a class="headerlink" href="#api.kansas_patron.KansasAuthenticationAPI.DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.kansas_patron.KansasAuthenticationAPI.DISPLAY_NAME">
<code class="descname">DISPLAY_NAME</code><em class="property"> = 'Kansas'</em><a class="headerlink" href="#api.kansas_patron.KansasAuthenticationAPI.DISPLAY_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.kansas_patron.KansasAuthenticationAPI.NAME">
<code class="descname">NAME</code><em class="property"> = 'Kansas'</em><a class="headerlink" href="#api.kansas_patron.KansasAuthenticationAPI.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.kansas_patron.KansasAuthenticationAPI.SETTINGS">
<code class="descname">SETTINGS</code><em class="property"> = [{'default': 'https://ks-kansaslibrary3m.civicplus.com/api/UserDetails', 'required': True, 'label': l'URL', 'key': u'url', 'format': 'url'}, {'required': True, 'description': l'A valid identifier that can be used to test that patron authentication is working.', 'key': 'test_identifier', 'label': l'Test Identifier'}, {'description': l'The password for the test identifier.', 'key': 'test_password', 'label': l'Test Password'}, {'description': l'Many libraries render patron identifiers as barcodes on physical library cards. If you specify the barcode format, patrons will be able to scan their library cards with a camera instead of manually typing in their identifiers.', 'default': '', 'required': True, 'label': l'Patron identifier barcode format', 'key': 'identifier_barcode_format', 'type': 'select', 'options': [{'key': 'Codabar', 'label': l'Patron identifiers are are rendered as barcodes in Codabar format'}, {'key': '', 'label': l'Patron identifiers are not rendered as barcodes'}]}, {'description': l'A patron's identifier will be immediately rejected if it doesn't match this regular expression.', 'key': u'identifier_regular_expression', 'label': l'Identifier Regular Expression'}, {'description': l'A patron's password will be immediately rejected if it doesn't match this regular expression.', 'key': u'password_regular_expression', 'label': l'Password Regular Expression'}, {'default': u'Default', 'required': True, 'label': l'Keyboard for identifier entry', 'key': u'identifier_keyboard', 'type': 'select', 'options': [{'key': u'Default', 'label': l'System default'}, {'key': u'Email address', 'label': l'Email address entry'}, {'key': u'Number pad', 'label': l'Number pad'}]}, {'default': u'Default', 'type': 'select', 'options': [{'key': u'Default', 'label': l'System default'}, {'key': u'Number pad', 'label': l'Number pad'}, {'key': u'No input', 'label': l'Patrons have no password and should not be prompted for one.'}], 'key': u'password_keyboard', 'label': l'Keyboard for password entry'}, {'type': 'number', 'key': u'identifier_maximum_length', 'label': l'Maximum identifier length'}, {'type': 'number', 'key': u'password_maximum_length', 'label': l'Maximum password length'}, {'key': u'identifier_label', 'label': l'Label for identifier entry'}, {'key': u'password_label', 'label': l'Label for password entry'}]</em><a class="headerlink" href="#api.kansas_patron.KansasAuthenticationAPI.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="api.kansas_patron.KansasAuthenticationAPI.create_authorize_request">
<em class="property">static </em><code class="descname">create_authorize_request</code><span class="sig-paren">(</span><em>barcode</em>, <em>pin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/kansas_patron.html#KansasAuthenticationAPI.create_authorize_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.kansas_patron.KansasAuthenticationAPI.create_authorize_request" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.kansas_patron.KansasAuthenticationAPI.log">
<code class="descname">log</code><em class="property"> = &lt;logging.Logger object&gt;</em><a class="headerlink" href="#api.kansas_patron.KansasAuthenticationAPI.log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.kansas_patron.KansasAuthenticationAPI.parse_authorize_response">
<code class="descname">parse_authorize_response</code><span class="sig-paren">(</span><em>response</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/kansas_patron.html#KansasAuthenticationAPI.parse_authorize_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.kansas_patron.KansasAuthenticationAPI.parse_authorize_response" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.kansas_patron.KansasAuthenticationAPI.post_request">
<code class="descname">post_request</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/kansas_patron.html#KansasAuthenticationAPI.post_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.kansas_patron.KansasAuthenticationAPI.post_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an HTTP request.</p>
<p>Defined solely so it can be overridden in the mock.</p>
</dd></dl>

<dl class="method">
<dt id="api.kansas_patron.KansasAuthenticationAPI.remote_authenticate">
<code class="descname">remote_authenticate</code><span class="sig-paren">(</span><em>username</em>, <em>password</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/kansas_patron.html#KansasAuthenticationAPI.remote_authenticate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.kansas_patron.KansasAuthenticationAPI.remote_authenticate" title="Permalink to this definition">¶</a></dt>
<dd><p>Does the source of truth approve of these credentials?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">If the credentials are valid, but nothing more is
known about the patron, return True.</td>
</tr>
</tbody>
</table>
<p>If the credentials are valid, _and_ enough information came
back in the request to also create a PatronInfo object, you
may create that object and return it to save a
remote patron lookup later.</p>
<p>If the credentials are invalid, return False or None.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api.lanes">
<span id="api-lanes-module"></span><h2>api.lanes module<a class="headerlink" href="#module-api.lanes" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="api.lanes.ContributorFacets">
<em class="property">class </em><code class="descclassname">api.lanes.</code><code class="descname">ContributorFacets</code><span class="sig-paren">(</span><em>library</em>, <em>collection</em>, <em>availability</em>, <em>order</em>, <em>order_ascending=None</em>, <em>enabled_facets=None</em>, <em>entrypoint=None</em>, <em>entrypoint_is_default=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#ContributorFacets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.ContributorFacets" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.lane.DefaultSortOrderFacets" title="core.lane.DefaultSortOrderFacets"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.lane.DefaultSortOrderFacets</span></code></a></p>
<p>A list with a contributor restriction is, by default, sorted by
title.</p>
<dl class="attribute">
<dt id="api.lanes.ContributorFacets.DEFAULT_SORT_ORDER">
<code class="descname">DEFAULT_SORT_ORDER</code><em class="property"> = 'title'</em><a class="headerlink" href="#api.lanes.ContributorFacets.DEFAULT_SORT_ORDER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.lanes.ContributorLane">
<em class="property">class </em><code class="descclassname">api.lanes.</code><code class="descname">ContributorLane</code><span class="sig-paren">(</span><em>library</em>, <em>contributor</em>, <em>parent=None</em>, <em>languages=None</em>, <em>audiences=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#ContributorLane"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.ContributorLane" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.lanes.DynamicLane" title="api.lanes.DynamicLane"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.lanes.DynamicLane</span></code></a></p>
<p>A lane of Works written by a particular contributor</p>
<dl class="attribute">
<dt id="api.lanes.ContributorLane.CACHED_FEED_TYPE">
<code class="descname">CACHED_FEED_TYPE</code><em class="property"> = u'contributor'</em><a class="headerlink" href="#api.lanes.ContributorLane.CACHED_FEED_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.lanes.ContributorLane.MAX_CACHE_AGE">
<code class="descname">MAX_CACHE_AGE</code><em class="property"> = 86400</em><a class="headerlink" href="#api.lanes.ContributorLane.MAX_CACHE_AGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.lanes.ContributorLane.ROUTE">
<code class="descname">ROUTE</code><em class="property"> = 'contributor'</em><a class="headerlink" href="#api.lanes.ContributorLane.ROUTE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.lanes.ContributorLane.modify_search_filter_hook">
<code class="descname">modify_search_filter_hook</code><span class="sig-paren">(</span><em>filter</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#ContributorLane.modify_search_filter_hook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.ContributorLane.modify_search_filter_hook" title="Permalink to this definition">¶</a></dt>
<dd><p>A hook method allowing subclasses to modify a Filter
object that’s about to find all the works in this WorkList.</p>
<p>This can avoid the need for complex subclasses of Facets.</p>
</dd></dl>

<dl class="method">
<dt id="api.lanes.ContributorLane.overview_facets">
<code class="descname">overview_facets</code><span class="sig-paren">(</span><em>_db</em>, <em>facets</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#ContributorLane.overview_facets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.ContributorLane.overview_facets" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a FeaturedFacets to a ContributorFacets suitable for
use in a grouped feed.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.lanes.ContributorLane.url_arguments">
<code class="descname">url_arguments</code><a class="headerlink" href="#api.lanes.ContributorLane.url_arguments" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.lanes.CrawlableCollectionBasedLane">
<em class="property">class </em><code class="descclassname">api.lanes.</code><code class="descname">CrawlableCollectionBasedLane</code><a class="reference internal" href="_modules/api/lanes.html#CrawlableCollectionBasedLane"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.CrawlableCollectionBasedLane" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.lanes.CrawlableLane" title="api.lanes.CrawlableLane"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.lanes.CrawlableLane</span></code></a></p>
<dl class="attribute">
<dt id="api.lanes.CrawlableCollectionBasedLane.COLLECTION_ROUTE">
<code class="descname">COLLECTION_ROUTE</code><em class="property"> = 'crawlable_collection_feed'</em><a class="headerlink" href="#api.lanes.CrawlableCollectionBasedLane.COLLECTION_ROUTE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.lanes.CrawlableCollectionBasedLane.LIBRARY_ROUTE">
<code class="descname">LIBRARY_ROUTE</code><em class="property"> = 'crawlable_library_feed'</em><a class="headerlink" href="#api.lanes.CrawlableCollectionBasedLane.LIBRARY_ROUTE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.lanes.CrawlableCollectionBasedLane.MAX_CACHE_AGE">
<code class="descname">MAX_CACHE_AGE</code><em class="property"> = 7200</em><a class="headerlink" href="#api.lanes.CrawlableCollectionBasedLane.MAX_CACHE_AGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.lanes.CrawlableCollectionBasedLane.initialize">
<code class="descname">initialize</code><span class="sig-paren">(</span><em>library_or_collections</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#CrawlableCollectionBasedLane.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.CrawlableCollectionBasedLane.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize with basic data.</p>
<p>This is not a constructor, to avoid conflicts with <cite>Lane</cite>, an
ORM object that subclasses this object but does not use this
initialization code.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>library</strong> – Only Works available in this Library will be
included in lists.</li>
<li><strong>display_name</strong> – Name to display for this WorkList in the
user interface.</li>
<li><strong>genres</strong> – Only Works classified under one of these Genres
will be included in lists.</li>
<li><strong>audiences</strong> – Only Works classified under one of these audiences
will be included in lists.</li>
<li><strong>languages</strong> – Only Works in one of these languages will be
included in lists.</li>
<li><strong>media</strong> – Only Works in one of these media will be included
in lists.</li>
<li><strong>fiction</strong> – Only Works with this fiction status will be included
in lists.</li>
<li><strong>target_age</strong> – Only Works targeted at readers in this age range
will be included in lists.</li>
<li><strong>license_datasource</strong> – Only Works with a LicensePool from this
DataSource will be included in lists.</li>
<li><strong>customlists</strong> – Only Works included on one of these CustomLists
will be included in lists.</li>
<li><strong>list_datasource</strong> – Only Works included on a CustomList
associated with this DataSource will be included in
lists. This overrides any specific CustomLists provided in
<cite>customlists</cite>.</li>
<li><strong>list_seen_in_previous_days</strong> – Only Works that were added
to a matching CustomList within this number of days will be
included in lists.</li>
<li><strong>children</strong> – This WorkList has children, which are also
WorkLists.</li>
<li><strong>priority</strong> – A number indicating where this WorkList should
show up in relation to its siblings when it is the child of
some other WorkList.</li>
<li><strong>entrypoints</strong> – A list of EntryPoint classes representing
different ways of slicing up this WorkList.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="api.lanes.CrawlableCollectionBasedLane.url_arguments">
<code class="descname">url_arguments</code><a class="headerlink" href="#api.lanes.CrawlableCollectionBasedLane.url_arguments" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.lanes.CrawlableCustomListBasedLane">
<em class="property">class </em><code class="descclassname">api.lanes.</code><code class="descname">CrawlableCustomListBasedLane</code><a class="reference internal" href="_modules/api/lanes.html#CrawlableCustomListBasedLane"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.CrawlableCustomListBasedLane" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.lanes.CrawlableLane" title="api.lanes.CrawlableLane"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.lanes.CrawlableLane</span></code></a></p>
<p>A lane that consists of all works in a single CustomList.</p>
<dl class="attribute">
<dt id="api.lanes.CrawlableCustomListBasedLane.ROUTE">
<code class="descname">ROUTE</code><em class="property"> = 'crawlable_list_feed'</em><a class="headerlink" href="#api.lanes.CrawlableCustomListBasedLane.ROUTE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.lanes.CrawlableCustomListBasedLane.initialize">
<code class="descname">initialize</code><span class="sig-paren">(</span><em>library</em>, <em>customlist</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#CrawlableCustomListBasedLane.initialize"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.CrawlableCustomListBasedLane.initialize" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize with basic data.</p>
<p>This is not a constructor, to avoid conflicts with <cite>Lane</cite>, an
ORM object that subclasses this object but does not use this
initialization code.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>library</strong> – Only Works available in this Library will be
included in lists.</li>
<li><strong>display_name</strong> – Name to display for this WorkList in the
user interface.</li>
<li><strong>genres</strong> – Only Works classified under one of these Genres
will be included in lists.</li>
<li><strong>audiences</strong> – Only Works classified under one of these audiences
will be included in lists.</li>
<li><strong>languages</strong> – Only Works in one of these languages will be
included in lists.</li>
<li><strong>media</strong> – Only Works in one of these media will be included
in lists.</li>
<li><strong>fiction</strong> – Only Works with this fiction status will be included
in lists.</li>
<li><strong>target_age</strong> – Only Works targeted at readers in this age range
will be included in lists.</li>
<li><strong>license_datasource</strong> – Only Works with a LicensePool from this
DataSource will be included in lists.</li>
<li><strong>customlists</strong> – Only Works included on one of these CustomLists
will be included in lists.</li>
<li><strong>list_datasource</strong> – Only Works included on a CustomList
associated with this DataSource will be included in
lists. This overrides any specific CustomLists provided in
<cite>customlists</cite>.</li>
<li><strong>list_seen_in_previous_days</strong> – Only Works that were added
to a matching CustomList within this number of days will be
included in lists.</li>
<li><strong>children</strong> – This WorkList has children, which are also
WorkLists.</li>
<li><strong>priority</strong> – A number indicating where this WorkList should
show up in relation to its siblings when it is the child of
some other WorkList.</li>
<li><strong>entrypoints</strong> – A list of EntryPoint classes representing
different ways of slicing up this WorkList.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="api.lanes.CrawlableCustomListBasedLane.url_arguments">
<code class="descname">url_arguments</code><a class="headerlink" href="#api.lanes.CrawlableCustomListBasedLane.url_arguments" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.lanes.CrawlableCustomListBasedLane.uses_customlists">
<code class="descname">uses_customlists</code><em class="property"> = True</em><a class="headerlink" href="#api.lanes.CrawlableCustomListBasedLane.uses_customlists" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.lanes.CrawlableFacets">
<em class="property">class </em><code class="descclassname">api.lanes.</code><code class="descname">CrawlableFacets</code><span class="sig-paren">(</span><em>library</em>, <em>collection</em>, <em>availability</em>, <em>order</em>, <em>order_ascending=None</em>, <em>enabled_facets=None</em>, <em>entrypoint=None</em>, <em>entrypoint_is_default=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#CrawlableFacets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.CrawlableFacets" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.lane.Facets" title="core.lane.Facets"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.lane.Facets</span></code></a></p>
<p>A special Facets class for crawlable feeds.</p>
<dl class="attribute">
<dt id="api.lanes.CrawlableFacets.CACHED_FEED_TYPE">
<code class="descname">CACHED_FEED_TYPE</code><em class="property"> = u'crawlable'</em><a class="headerlink" href="#api.lanes.CrawlableFacets.CACHED_FEED_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.lanes.CrawlableFacets.SETTINGS">
<code class="descname">SETTINGS</code><em class="property"> = {'available': 'all', 'collection': 'full', 'order': 'last_update'}</em><a class="headerlink" href="#api.lanes.CrawlableFacets.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.lanes.CrawlableFacets.available_facets">
<em class="property">classmethod </em><code class="descname">available_facets</code><span class="sig-paren">(</span><em>config</em>, <em>facet_group_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#CrawlableFacets.available_facets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.CrawlableFacets.available_facets" title="Permalink to this definition">¶</a></dt>
<dd><p>Which facets are enabled for the given facet group?</p>
<p>You can override this to forcible enable or disable facets
that might not be enabled in library configuration, but you
can’t make up totally new facets.</p>
<p>TODO: This sytem would make more sense if you _could_ make up
totally new facets, maybe because each facet was represented
as a policy object rather than a key to code implemented
elsewhere in this class. Right now this method implies more
flexibility than actually exists.</p>
</dd></dl>

<dl class="classmethod">
<dt id="api.lanes.CrawlableFacets.default_facet">
<em class="property">classmethod </em><code class="descname">default_facet</code><span class="sig-paren">(</span><em>config</em>, <em>facet_group_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#CrawlableFacets.default_facet"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.CrawlableFacets.default_facet" title="Permalink to this definition">¶</a></dt>
<dd><p>The default value for the given facet group.</p>
<p>The default value must be one of the values returned by available_facets() above.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.lanes.CrawlableLane">
<em class="property">class </em><code class="descclassname">api.lanes.</code><code class="descname">CrawlableLane</code><a class="reference internal" href="_modules/api/lanes.html#CrawlableLane"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.CrawlableLane" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.lanes.DynamicLane" title="api.lanes.DynamicLane"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.lanes.DynamicLane</span></code></a></p>
<dl class="attribute">
<dt id="api.lanes.CrawlableLane.MAX_CACHE_AGE">
<code class="descname">MAX_CACHE_AGE</code><em class="property"> = 43200</em><a class="headerlink" href="#api.lanes.CrawlableLane.MAX_CACHE_AGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.lanes.DatabaseExclusiveWorkList">
<em class="property">class </em><code class="descclassname">api.lanes.</code><code class="descname">DatabaseExclusiveWorkList</code><a class="reference internal" href="_modules/api/lanes.html#DatabaseExclusiveWorkList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.DatabaseExclusiveWorkList" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.lane.DatabaseBackedWorkList" title="core.lane.DatabaseBackedWorkList"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.lane.DatabaseBackedWorkList</span></code></a></p>
<p>A DatabaseBackedWorkList that can _only_ get Works through the database.</p>
<dl class="method">
<dt id="api.lanes.DatabaseExclusiveWorkList.works">
<code class="descname">works</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#DatabaseExclusiveWorkList.works"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.DatabaseExclusiveWorkList.works" title="Permalink to this definition">¶</a></dt>
<dd><p>Use a search engine to obtain Work or Work-like objects that belong
in this WorkList.</p>
<p>Compare DatabaseBackedWorkList.works_from_database, which uses
a database query to obtain the same Work objects.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>_db</strong> – A database connection.</li>
<li><strong>facets</strong> – A Facets object which may put additional
constraints on WorkList membership.</li>
<li><strong>pagination</strong> – A Pagination object indicating which part of
the WorkList the caller is looking at, and/or a limit on the
number of works to fetch.</li>
<li><strong>kwargs</strong> – Different implementations may fetch the
list of works from different sources and may need different
keyword arguments.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A list of Work or Work-like objects, or a database query
that generates such a list when executed.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.lanes.DynamicLane">
<em class="property">class </em><code class="descclassname">api.lanes.</code><code class="descname">DynamicLane</code><a class="reference internal" href="_modules/api/lanes.html#DynamicLane"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.DynamicLane" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.lane.WorkList" title="core.lane.WorkList"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.lane.WorkList</span></code></a></p>
<p>A WorkList that’s used to from an OPDS lane, but isn’t a Lane
in the database.</p>
</dd></dl>

<dl class="class">
<dt id="api.lanes.RecommendationLane">
<em class="property">class </em><code class="descclassname">api.lanes.</code><code class="descname">RecommendationLane</code><span class="sig-paren">(</span><em>library</em>, <em>work</em>, <em>display_name=None</em>, <em>novelist_api=None</em>, <em>parent=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#RecommendationLane"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.RecommendationLane" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.lanes.WorkBasedLane" title="api.lanes.WorkBasedLane"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.lanes.WorkBasedLane</span></code></a></p>
<p>A lane of recommended Works based on a particular Work</p>
<dl class="attribute">
<dt id="api.lanes.RecommendationLane.CACHED_FEED_TYPE">
<code class="descname">CACHED_FEED_TYPE</code><em class="property"> = u'recommendations'</em><a class="headerlink" href="#api.lanes.RecommendationLane.CACHED_FEED_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.lanes.RecommendationLane.DISPLAY_NAME">
<code class="descname">DISPLAY_NAME</code><em class="property"> = 'Recommended Books'</em><a class="headerlink" href="#api.lanes.RecommendationLane.DISPLAY_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.lanes.RecommendationLane.MAX_CACHE_AGE">
<code class="descname">MAX_CACHE_AGE</code><em class="property"> = 86400</em><a class="headerlink" href="#api.lanes.RecommendationLane.MAX_CACHE_AGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.lanes.RecommendationLane.ROUTE">
<code class="descname">ROUTE</code><em class="property"> = 'recommendations'</em><a class="headerlink" href="#api.lanes.RecommendationLane.ROUTE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.lanes.RecommendationLane.fetch_recommendations">
<code class="descname">fetch_recommendations</code><span class="sig-paren">(</span><em>_db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#RecommendationLane.fetch_recommendations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.RecommendationLane.fetch_recommendations" title="Permalink to this definition">¶</a></dt>
<dd><p>Get identifiers of recommendations for this LicensePool</p>
</dd></dl>

<dl class="method">
<dt id="api.lanes.RecommendationLane.modify_search_filter_hook">
<code class="descname">modify_search_filter_hook</code><span class="sig-paren">(</span><em>filter</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#RecommendationLane.modify_search_filter_hook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.RecommendationLane.modify_search_filter_hook" title="Permalink to this definition">¶</a></dt>
<dd><p>Find Works whose Identifiers include the ISBNs returned
by an external recommendation engine.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>filter</strong> – A Filter object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.lanes.RecommendationLane.overview_facets">
<code class="descname">overview_facets</code><span class="sig-paren">(</span><em>_db</em>, <em>facets</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#RecommendationLane.overview_facets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.RecommendationLane.overview_facets" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a generic FeaturedFacets to some other faceting object,
suitable for showing an overview of this WorkList in a grouped
feed.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.lanes.RelatedBooksLane">
<em class="property">class </em><code class="descclassname">api.lanes.</code><code class="descname">RelatedBooksLane</code><span class="sig-paren">(</span><em>library</em>, <em>work</em>, <em>display_name=None</em>, <em>novelist_api=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#RelatedBooksLane"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.RelatedBooksLane" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.lanes.WorkBasedLane" title="api.lanes.WorkBasedLane"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.lanes.WorkBasedLane</span></code></a></p>
<p>A lane of Works all related to a given Work by various criteria.</p>
<p>Each criterion is represented by another WorkBaseLane class:</p>
<ul class="simple">
<li>ContributorLane: Works by one of the contributors to this work.</li>
<li>SeriesLane: Works in the same series.</li>
<li>RecommendationLane: Works provided by a third-party recommendation
service.</li>
</ul>
<dl class="attribute">
<dt id="api.lanes.RelatedBooksLane.CACHED_FEED_TYPE">
<code class="descname">CACHED_FEED_TYPE</code><em class="property"> = u'related'</em><a class="headerlink" href="#api.lanes.RelatedBooksLane.CACHED_FEED_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.lanes.RelatedBooksLane.DISPLAY_NAME">
<code class="descname">DISPLAY_NAME</code><em class="property"> = 'Related Books'</em><a class="headerlink" href="#api.lanes.RelatedBooksLane.DISPLAY_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.lanes.RelatedBooksLane.MAX_CACHE_AGE">
<code class="descname">MAX_CACHE_AGE</code><em class="property"> = 86400</em><a class="headerlink" href="#api.lanes.RelatedBooksLane.MAX_CACHE_AGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.lanes.RelatedBooksLane.ROUTE">
<code class="descname">ROUTE</code><em class="property"> = 'related_books'</em><a class="headerlink" href="#api.lanes.RelatedBooksLane.ROUTE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.lanes.RelatedBooksLane.works">
<code class="descname">works</code><span class="sig-paren">(</span><em>_db</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#RelatedBooksLane.works"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.RelatedBooksLane.works" title="Permalink to this definition">¶</a></dt>
<dd><p>This lane never has works of its own.</p>
<p>Only its sublanes have works.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.lanes.SeriesFacets">
<em class="property">class </em><code class="descclassname">api.lanes.</code><code class="descname">SeriesFacets</code><span class="sig-paren">(</span><em>library</em>, <em>collection</em>, <em>availability</em>, <em>order</em>, <em>order_ascending=None</em>, <em>enabled_facets=None</em>, <em>entrypoint=None</em>, <em>entrypoint_is_default=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#SeriesFacets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.SeriesFacets" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.lane.DefaultSortOrderFacets" title="core.lane.DefaultSortOrderFacets"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.lane.DefaultSortOrderFacets</span></code></a></p>
<p>A list with a series restriction is ordered by series position by
default.</p>
<dl class="attribute">
<dt id="api.lanes.SeriesFacets.DEFAULT_SORT_ORDER">
<code class="descname">DEFAULT_SORT_ORDER</code><em class="property"> = 'series'</em><a class="headerlink" href="#api.lanes.SeriesFacets.DEFAULT_SORT_ORDER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.lanes.SeriesLane">
<em class="property">class </em><code class="descclassname">api.lanes.</code><code class="descname">SeriesLane</code><span class="sig-paren">(</span><em>library</em>, <em>series_name</em>, <em>parent=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#SeriesLane"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.SeriesLane" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.lanes.DynamicLane" title="api.lanes.DynamicLane"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.lanes.DynamicLane</span></code></a></p>
<p>A lane of Works in a particular series.</p>
<dl class="attribute">
<dt id="api.lanes.SeriesLane.CACHED_FEED_TYPE">
<code class="descname">CACHED_FEED_TYPE</code><em class="property"> = u'series'</em><a class="headerlink" href="#api.lanes.SeriesLane.CACHED_FEED_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.lanes.SeriesLane.MAX_CACHE_AGE">
<code class="descname">MAX_CACHE_AGE</code><em class="property"> = 86400</em><a class="headerlink" href="#api.lanes.SeriesLane.MAX_CACHE_AGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.lanes.SeriesLane.ROUTE">
<code class="descname">ROUTE</code><em class="property"> = 'series'</em><a class="headerlink" href="#api.lanes.SeriesLane.ROUTE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.lanes.SeriesLane.modify_search_filter_hook">
<code class="descname">modify_search_filter_hook</code><span class="sig-paren">(</span><em>filter</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#SeriesLane.modify_search_filter_hook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.SeriesLane.modify_search_filter_hook" title="Permalink to this definition">¶</a></dt>
<dd><p>A hook method allowing subclasses to modify a Filter
object that’s about to find all the works in this WorkList.</p>
<p>This can avoid the need for complex subclasses of Facets.</p>
</dd></dl>

<dl class="method">
<dt id="api.lanes.SeriesLane.overview_facets">
<code class="descname">overview_facets</code><span class="sig-paren">(</span><em>_db</em>, <em>facets</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#SeriesLane.overview_facets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.SeriesLane.overview_facets" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert a FeaturedFacets to a SeriesFacets suitable for
use in a grouped feed. Our contribution to a grouped feed will
be ordered by series position.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.lanes.SeriesLane.url_arguments">
<code class="descname">url_arguments</code><a class="headerlink" href="#api.lanes.SeriesLane.url_arguments" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.lanes.WorkBasedLane">
<em class="property">class </em><code class="descclassname">api.lanes.</code><code class="descname">WorkBasedLane</code><span class="sig-paren">(</span><em>library</em>, <em>work</em>, <em>display_name=None</em>, <em>children=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#WorkBasedLane"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.WorkBasedLane" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.lanes.DynamicLane" title="api.lanes.DynamicLane"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.lanes.DynamicLane</span></code></a></p>
<p>A lane that shows works related to one particular Work.</p>
<dl class="attribute">
<dt id="api.lanes.WorkBasedLane.DISPLAY_NAME">
<code class="descname">DISPLAY_NAME</code><em class="property"> = None</em><a class="headerlink" href="#api.lanes.WorkBasedLane.DISPLAY_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.lanes.WorkBasedLane.ROUTE">
<code class="descname">ROUTE</code><em class="property"> = None</em><a class="headerlink" href="#api.lanes.WorkBasedLane.ROUTE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.lanes.WorkBasedLane.append_child">
<code class="descname">append_child</code><span class="sig-paren">(</span><em>worklist</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#WorkBasedLane.append_child"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.WorkBasedLane.append_child" title="Permalink to this definition">¶</a></dt>
<dd><p>Add another Worklist as a child of this one and change its
configuration to make sure its results fit in with this lane.</p>
</dd></dl>

<dl class="method">
<dt id="api.lanes.WorkBasedLane.audiences_list_from_source">
<code class="descname">audiences_list_from_source</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#WorkBasedLane.audiences_list_from_source"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.WorkBasedLane.audiences_list_from_source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.lanes.WorkBasedLane.url_arguments">
<code class="descname">url_arguments</code><a class="headerlink" href="#api.lanes.WorkBasedLane.url_arguments" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="function">
<dt id="api.lanes.create_default_lanes">
<code class="descclassname">api.lanes.</code><code class="descname">create_default_lanes</code><span class="sig-paren">(</span><em>_db</em>, <em>library</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#create_default_lanes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.create_default_lanes" title="Permalink to this definition">¶</a></dt>
<dd><p>Reset the lanes for the given library to the default.</p>
<p>The database will have the following top-level lanes for
each large-collection:
‘Adult Fiction’, ‘Adult Nonfiction’, ‘Young Adult Fiction’,
‘Young Adult Nonfiction’, and ‘Children’.
Each lane contains additional sublanes.
If an NYT integration is configured, there will also be a
‘Best Sellers’ top-level lane.</p>
<p>If there are any small- or tiny-collection languages, the database
will also have a top-level lane called ‘World Languages’. The
‘World Languages’ lane will have a sublane for every small- and
tiny-collection languages. The small-collection languages will
have “Adult Fiction”, “Adult Nonfiction”, and “Children/YA”
sublanes; the tiny-collection languages will not have any sublanes.</p>
<p>If run on a Library that already has Lane configuration, this can
be an extremely destructive method. All new Lanes will be visible
and all Lanes based on CustomLists (but not the CustomLists
themselves) will be destroyed.</p>
</dd></dl>

<dl class="function">
<dt id="api.lanes.create_lane_for_small_collection">
<code class="descclassname">api.lanes.</code><code class="descname">create_lane_for_small_collection</code><span class="sig-paren">(</span><em>_db</em>, <em>library</em>, <em>parent</em>, <em>languages</em>, <em>priority=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#create_lane_for_small_collection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.create_lane_for_small_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a lane (with sublanes) for a small collection based on language,
if the language exists in the lookup table.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>parent</strong> – The parent of the new lane.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="api.lanes.create_lane_for_tiny_collection">
<code class="descclassname">api.lanes.</code><code class="descname">create_lane_for_tiny_collection</code><span class="sig-paren">(</span><em>_db</em>, <em>library</em>, <em>parent</em>, <em>languages</em>, <em>priority=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#create_lane_for_tiny_collection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.create_lane_for_tiny_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a single lane for a tiny collection based on language,
if the language exists in the lookup table.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>parent</strong> – The parent of the new lane.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="api.lanes.create_lanes_for_large_collection">
<code class="descclassname">api.lanes.</code><code class="descname">create_lanes_for_large_collection</code><span class="sig-paren">(</span><em>_db</em>, <em>library</em>, <em>languages</em>, <em>priority=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#create_lanes_for_large_collection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.create_lanes_for_large_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Ensure that the lanes appropriate to a large collection are all
present.</p>
<p>This means:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>A “%(language)s Adult Fiction” lane containing sublanes for each fiction</dt>
<dd>genre.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>A “%(language)s Adult Nonfiction” lane containing sublanes for</dt>
<dd>each nonfiction genre.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>A “%(language)s YA Fiction” lane containing sublanes for the</dt>
<dd>most popular YA fiction genres.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>A “%(language)s YA Nonfiction” lane containing sublanes for the</dt>
<dd>most popular YA fiction genres.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>A “%(language)s Children and Middle Grade” lane containing</dt>
<dd>sublanes for childrens’ books at different age levels.</dd>
</dl>
</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>library</strong> – Newly created lanes will be associated with this
library.</li>
<li><strong>languages</strong> – Newly created lanes will contain only books
in these languages.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A list of top-level Lane objects.</p>
</td>
</tr>
</tbody>
</table>
<p>TODO: If there are multiple large collections, their top-level lanes do
not have distinct display names.</p>
</dd></dl>

<dl class="function">
<dt id="api.lanes.create_world_languages_lane">
<code class="descclassname">api.lanes.</code><code class="descname">create_world_languages_lane</code><span class="sig-paren">(</span><em>_db</em>, <em>library</em>, <em>small_languages</em>, <em>tiny_languages</em>, <em>priority=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#create_world_languages_lane"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.create_world_languages_lane" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a lane called ‘World Languages’ whose sublanes represent
the non-large language collections available to this library.</p>
</dd></dl>

<dl class="function">
<dt id="api.lanes.lane_from_genres">
<code class="descclassname">api.lanes.</code><code class="descname">lane_from_genres</code><span class="sig-paren">(</span><em>_db</em>, <em>library</em>, <em>genres</em>, <em>display_name=None</em>, <em>exclude_genres=None</em>, <em>priority=0</em>, <em>audiences=None</em>, <em>**extra_args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#lane_from_genres"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.lane_from_genres" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn genre info into a Lane object.</p>
</dd></dl>

<dl class="function">
<dt id="api.lanes.load_lanes">
<code class="descclassname">api.lanes.</code><code class="descname">load_lanes</code><span class="sig-paren">(</span><em>_db</em>, <em>library</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/lanes.html#load_lanes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.lanes.load_lanes" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a WorkList that reflects the current lane structure of the
Library.</p>
<p>If no top-level visible lanes are configured, the WorkList will be
configured to show every book in the collection.</p>
<p>If a single top-level Lane is configured, it will returned as the
WorkList.</p>
<p>Otherwise, a WorkList containing the visible top-level lanes is
returned.</p>
</dd></dl>

</div>
<div class="section" id="module-api.local_analytics_exporter">
<span id="api-local-analytics-exporter-module"></span><h2>api.local_analytics_exporter module<a class="headerlink" href="#module-api.local_analytics_exporter" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="api.local_analytics_exporter.LocalAnalyticsExporter">
<em class="property">class </em><code class="descclassname">api.local_analytics_exporter.</code><code class="descname">LocalAnalyticsExporter</code><a class="reference internal" href="_modules/api/local_analytics_exporter.html#LocalAnalyticsExporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.local_analytics_exporter.LocalAnalyticsExporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Export large numbers of analytics events in CSV format.</p>
<dl class="method">
<dt id="api.local_analytics_exporter.LocalAnalyticsExporter.analytics_query">
<code class="descname">analytics_query</code><span class="sig-paren">(</span><em>start</em>, <em>end</em>, <em>locations=None</em>, <em>library=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/local_analytics_exporter.html#LocalAnalyticsExporter.analytics_query"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.local_analytics_exporter.LocalAnalyticsExporter.analytics_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Build a database query that fetches rows of analytics data.</p>
<p>This method uses low-level SQLAlchemy code to do all
calculations and data conversations in the database. It’s
modeled after Work.to_search_documents, which generates a
large JSON document entirely in the database.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">An iterator of results, each of which can be written
directly to a CSV file.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.local_analytics_exporter.LocalAnalyticsExporter.export">
<code class="descname">export</code><span class="sig-paren">(</span><em>_db</em>, <em>start</em>, <em>end</em>, <em>locations=None</em>, <em>library=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/local_analytics_exporter.html#LocalAnalyticsExporter.export"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.local_analytics_exporter.LocalAnalyticsExporter.export" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api.marc">
<span id="api-marc-module"></span><h2>api.marc module<a class="headerlink" href="#module-api.marc" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="api.marc.LibraryAnnotator">
<em class="property">class </em><code class="descclassname">api.marc.</code><code class="descname">LibraryAnnotator</code><span class="sig-paren">(</span><em>library</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/marc.html#LibraryAnnotator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.marc.LibraryAnnotator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.marc.Annotator" title="core.marc.Annotator"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.marc.Annotator</span></code></a></p>
<dl class="method">
<dt id="api.marc.LibraryAnnotator.add_web_client_urls">
<code class="descname">add_web_client_urls</code><span class="sig-paren">(</span><em>record</em>, <em>library</em>, <em>identifier</em>, <em>integration=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/marc.html#LibraryAnnotator.add_web_client_urls"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.marc.LibraryAnnotator.add_web_client_urls" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.marc.LibraryAnnotator.annotate_work_record">
<code class="descname">annotate_work_record</code><span class="sig-paren">(</span><em>work</em>, <em>active_license_pool</em>, <em>edition</em>, <em>identifier</em>, <em>record</em>, <em>integration=None</em>, <em>updated=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/marc.html#LibraryAnnotator.annotate_work_record"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.marc.LibraryAnnotator.annotate_work_record" title="Permalink to this definition">¶</a></dt>
<dd><p>Add metadata from this work to a MARC record.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Work:</th><td class="field-body">The Work whose record is being annotated.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Active_license_pool:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body">Of all the LicensePools associated with this
Work, the client has expressed interest in this one.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Edition:</th><td class="field-body">The Edition to use when associating bibliographic
metadata with this entry.</td>
</tr>
<tr class="field-even field"><th class="field-name">Identifier:</th><td class="field-body">Of all the Identifiers associated with this
Work, the client has expressed interest in this one.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>record</strong> – A MARCRecord object to be annotated.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.marc.LibraryAnnotator.value">
<code class="descname">value</code><span class="sig-paren">(</span><em>key</em>, <em>integration</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/marc.html#LibraryAnnotator.value"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.marc.LibraryAnnotator.value" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api.metadata_wrangler">
<span id="api-metadata-wrangler-module"></span><h2>api.metadata_wrangler module<a class="headerlink" href="#module-api.metadata_wrangler" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="api.metadata_wrangler.BaseMetadataWranglerCoverageProvider">
<em class="property">class </em><code class="descclassname">api.metadata_wrangler.</code><code class="descname">BaseMetadataWranglerCoverageProvider</code><span class="sig-paren">(</span><em>collection</em>, <em>lookup_client=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#BaseMetadataWranglerCoverageProvider"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.metadata_wrangler.BaseMetadataWranglerCoverageProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.coverage.OPDSImportCoverageProvider" title="api.coverage.OPDSImportCoverageProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.coverage.OPDSImportCoverageProvider</span></code></a></p>
<p>Makes sure the metadata wrangler knows about all Identifiers
licensed to a Collection.</p>
<p>This has two subclasses: MetadataWranglerCollectionRegistrar
(which adds Identifiers from a circulation manager’s catalog to
the corresponding catalog on the metadata wrangler) and
MetadataWranglerCollectionReaper (which removes Identifiers from
the metadata wrangler catalog once they no longer exist in the
circulation manager’s catalog).</p>
<dl class="attribute">
<dt id="api.metadata_wrangler.BaseMetadataWranglerCoverageProvider.COVERAGE_COUNTS_FOR_EVERY_COLLECTION">
<code class="descname">COVERAGE_COUNTS_FOR_EVERY_COLLECTION</code><em class="property"> = False</em><a class="headerlink" href="#api.metadata_wrangler.BaseMetadataWranglerCoverageProvider.COVERAGE_COUNTS_FOR_EVERY_COLLECTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.metadata_wrangler.BaseMetadataWranglerCoverageProvider.DATA_SOURCE_NAME">
<code class="descname">DATA_SOURCE_NAME</code><em class="property"> = u'Library Simplified metadata wrangler'</em><a class="headerlink" href="#api.metadata_wrangler.BaseMetadataWranglerCoverageProvider.DATA_SOURCE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.metadata_wrangler.BaseMetadataWranglerCoverageProvider.INPUT_IDENTIFIER_TYPES">
<code class="descname">INPUT_IDENTIFIER_TYPES</code><em class="property"> = [u'Overdrive ID', u'Bibliotheca ID', u'Axis 360 ID', u'RBdigital ID', u'URI']</em><a class="headerlink" href="#api.metadata_wrangler.BaseMetadataWranglerCoverageProvider.INPUT_IDENTIFIER_TYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.metadata_wrangler.BaseMetadataWranglerCoverageProvider.create_identifier_mapping">
<code class="descname">create_identifier_mapping</code><span class="sig-paren">(</span><em>batch</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#BaseMetadataWranglerCoverageProvider.create_identifier_mapping"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.metadata_wrangler.BaseMetadataWranglerCoverageProvider.create_identifier_mapping" title="Permalink to this definition">¶</a></dt>
<dd><p>The metadata wrangler can look up ISBNs and Overdrive
identifiers. All other identifier types need to be mapped to
ISBNs.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.metadata_wrangler.MWAuxiliaryMetadataMonitor">
<em class="property">class </em><code class="descclassname">api.metadata_wrangler.</code><code class="descname">MWAuxiliaryMetadataMonitor</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>lookup=None</em>, <em>provider=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MWAuxiliaryMetadataMonitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.metadata_wrangler.MWAuxiliaryMetadataMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.metadata_wrangler.MetadataWranglerCollectionMonitor" title="api.metadata_wrangler.MetadataWranglerCollectionMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.metadata_wrangler.MetadataWranglerCollectionMonitor</span></code></a></p>
<p>Retrieves and processes requests for needed third-party metadata
from the Metadata Wrangler.</p>
<p>The Wrangler will only request metadata if it can’t process an
identifier from its own third-party resources. In these cases (e.g. ISBNs
from Axis 360 or Bibliotheca), the wrangler will put out a call for metadata
that it needs to process the identifier. This monitor answers that call.</p>
<dl class="attribute">
<dt id="api.metadata_wrangler.MWAuxiliaryMetadataMonitor.DEFAULT_START_TIME">
<code class="descname">DEFAULT_START_TIME</code><em class="property"> = &lt;object object&gt;</em><a class="headerlink" href="#api.metadata_wrangler.MWAuxiliaryMetadataMonitor.DEFAULT_START_TIME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.metadata_wrangler.MWAuxiliaryMetadataMonitor.SERVICE_NAME">
<code class="descname">SERVICE_NAME</code><em class="property"> = 'Metadata Wrangler Auxiliary Metadata Delivery'</em><a class="headerlink" href="#api.metadata_wrangler.MWAuxiliaryMetadataMonitor.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.metadata_wrangler.MWAuxiliaryMetadataMonitor.endpoint">
<code class="descname">endpoint</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MWAuxiliaryMetadataMonitor.endpoint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.metadata_wrangler.MWAuxiliaryMetadataMonitor.endpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.metadata_wrangler.MWAuxiliaryMetadataMonitor.get_identifiers">
<code class="descname">get_identifiers</code><span class="sig-paren">(</span><em>url=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MWAuxiliaryMetadataMonitor.get_identifiers"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.metadata_wrangler.MWAuxiliaryMetadataMonitor.get_identifiers" title="Permalink to this definition">¶</a></dt>
<dd><p>Pulls mapped identifiers from a feed of SimplifiedOPDSMessages.</p>
</dd></dl>

<dl class="method">
<dt id="api.metadata_wrangler.MWAuxiliaryMetadataMonitor.run_once">
<code class="descname">run_once</code><span class="sig-paren">(</span><em>progress</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MWAuxiliaryMetadataMonitor.run_once"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.metadata_wrangler.MWAuxiliaryMetadataMonitor.run_once" title="Permalink to this definition">¶</a></dt>
<dd><p>Do the actual work of the Monitor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>progress</strong> – A TimestampData representing the
work done by the Monitor up to this point.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A TimestampData representing how you want the
Monitor’s entry in the <cite>timestamps</cite> table to look like
from this point on.  NOTE: Modifying the incoming
<cite>progress</cite> and returning it is generally a bad idea,
because the incoming <cite>progress</cite> is full of old
data. Instead, return a new TimestampData containing data
for only the fields you want to set.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.metadata_wrangler.MWCollectionUpdateMonitor">
<em class="property">class </em><code class="descclassname">api.metadata_wrangler.</code><code class="descname">MWCollectionUpdateMonitor</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>lookup=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MWCollectionUpdateMonitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.metadata_wrangler.MWCollectionUpdateMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.metadata_wrangler.MetadataWranglerCollectionMonitor" title="api.metadata_wrangler.MetadataWranglerCollectionMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.metadata_wrangler.MetadataWranglerCollectionMonitor</span></code></a></p>
<p>Retrieves updated metadata from the Metadata Wrangler</p>
<dl class="attribute">
<dt id="api.metadata_wrangler.MWCollectionUpdateMonitor.DEFAULT_START_TIME">
<code class="descname">DEFAULT_START_TIME</code><em class="property"> = &lt;object object&gt;</em><a class="headerlink" href="#api.metadata_wrangler.MWCollectionUpdateMonitor.DEFAULT_START_TIME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.metadata_wrangler.MWCollectionUpdateMonitor.SERVICE_NAME">
<code class="descname">SERVICE_NAME</code><em class="property"> = 'Metadata Wrangler Collection Updates'</em><a class="headerlink" href="#api.metadata_wrangler.MWCollectionUpdateMonitor.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.metadata_wrangler.MWCollectionUpdateMonitor.endpoint">
<code class="descname">endpoint</code><span class="sig-paren">(</span><em>timestamp</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MWCollectionUpdateMonitor.endpoint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.metadata_wrangler.MWCollectionUpdateMonitor.endpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.metadata_wrangler.MWCollectionUpdateMonitor.import_one_feed">
<code class="descname">import_one_feed</code><span class="sig-paren">(</span><em>timestamp</em>, <em>url</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MWCollectionUpdateMonitor.import_one_feed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.metadata_wrangler.MWCollectionUpdateMonitor.import_one_feed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.metadata_wrangler.MWCollectionUpdateMonitor.run_once">
<code class="descname">run_once</code><span class="sig-paren">(</span><em>progress</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MWCollectionUpdateMonitor.run_once"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.metadata_wrangler.MWCollectionUpdateMonitor.run_once" title="Permalink to this definition">¶</a></dt>
<dd><p>Ask the metadata wrangler about titles that have changed
since the last time this monitor ran.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>progress</strong> – A TimestampData representing the span of time
covered during the previous run of this monitor.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A modified TimestampData.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.metadata_wrangler.MetadataUploadCoverageProvider">
<em class="property">class </em><code class="descclassname">api.metadata_wrangler.</code><code class="descname">MetadataUploadCoverageProvider</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MetadataUploadCoverageProvider"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.metadata_wrangler.MetadataUploadCoverageProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.metadata_wrangler.BaseMetadataWranglerCoverageProvider" title="api.metadata_wrangler.BaseMetadataWranglerCoverageProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.metadata_wrangler.BaseMetadataWranglerCoverageProvider</span></code></a></p>
<p>Provide coverage for identifiers by uploading OPDS metadata to
the metadata wrangler.</p>
<dl class="attribute">
<dt id="api.metadata_wrangler.MetadataUploadCoverageProvider.DATA_SOURCE_NAME">
<code class="descname">DATA_SOURCE_NAME</code><em class="property"> = u'Library Simplified Internal Process'</em><a class="headerlink" href="#api.metadata_wrangler.MetadataUploadCoverageProvider.DATA_SOURCE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.metadata_wrangler.MetadataUploadCoverageProvider.DEFAULT_BATCH_SIZE">
<code class="descname">DEFAULT_BATCH_SIZE</code><em class="property"> = 25</em><a class="headerlink" href="#api.metadata_wrangler.MetadataUploadCoverageProvider.DEFAULT_BATCH_SIZE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.metadata_wrangler.MetadataUploadCoverageProvider.OPERATION">
<code class="descname">OPERATION</code><em class="property"> = u'metadata-upload'</em><a class="headerlink" href="#api.metadata_wrangler.MetadataUploadCoverageProvider.OPERATION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.metadata_wrangler.MetadataUploadCoverageProvider.SERVICE_NAME">
<code class="descname">SERVICE_NAME</code><em class="property"> = 'Metadata Upload Coverage Provider'</em><a class="headerlink" href="#api.metadata_wrangler.MetadataUploadCoverageProvider.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.metadata_wrangler.MetadataUploadCoverageProvider.process_batch">
<code class="descname">process_batch</code><span class="sig-paren">(</span><em>batch</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MetadataUploadCoverageProvider.process_batch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.metadata_wrangler.MetadataUploadCoverageProvider.process_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an OPDS feed from a batch and upload it to the metadata client.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.metadata_wrangler.MetadataWranglerCollectionMonitor">
<em class="property">class </em><code class="descclassname">api.metadata_wrangler.</code><code class="descname">MetadataWranglerCollectionMonitor</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>lookup=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MetadataWranglerCollectionMonitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.metadata_wrangler.MetadataWranglerCollectionMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.monitor.CollectionMonitor" title="core.monitor.CollectionMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.monitor.CollectionMonitor</span></code></a></p>
<p>Abstract base CollectionMonitor with helper methods for interactions
with the Metadata Wrangler.</p>
<dl class="method">
<dt id="api.metadata_wrangler.MetadataWranglerCollectionMonitor.assert_authenticated">
<code class="descname">assert_authenticated</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MetadataWranglerCollectionMonitor.assert_authenticated"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.metadata_wrangler.MetadataWranglerCollectionMonitor.assert_authenticated" title="Permalink to this definition">¶</a></dt>
<dd><p>Raise an exception unless the client has authentication
credentials.</p>
<p>Raising an exception will keep the Monitor timestamp from
being updated.</p>
</dd></dl>

<dl class="method">
<dt id="api.metadata_wrangler.MetadataWranglerCollectionMonitor.endpoint">
<code class="descname">endpoint</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MetadataWranglerCollectionMonitor.endpoint"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.metadata_wrangler.MetadataWranglerCollectionMonitor.endpoint" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.metadata_wrangler.MetadataWranglerCollectionMonitor.get_response">
<code class="descname">get_response</code><span class="sig-paren">(</span><em>url=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MetadataWranglerCollectionMonitor.get_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.metadata_wrangler.MetadataWranglerCollectionMonitor.get_response" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.metadata_wrangler.MetadataWranglerCollectionReaper">
<em class="property">class </em><code class="descclassname">api.metadata_wrangler.</code><code class="descname">MetadataWranglerCollectionReaper</code><span class="sig-paren">(</span><em>collection</em>, <em>lookup_client=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MetadataWranglerCollectionReaper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.metadata_wrangler.MetadataWranglerCollectionReaper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.metadata_wrangler.BaseMetadataWranglerCoverageProvider" title="api.metadata_wrangler.BaseMetadataWranglerCoverageProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.metadata_wrangler.BaseMetadataWranglerCoverageProvider</span></code></a></p>
<p>Removes unlicensed identifiers from the remote Metadata Wrangler
Collection</p>
<dl class="attribute">
<dt id="api.metadata_wrangler.MetadataWranglerCollectionReaper.OPDS_IMPORTER_CLASS">
<code class="descname">OPDS_IMPORTER_CLASS</code><a class="headerlink" href="#api.metadata_wrangler.MetadataWranglerCollectionReaper.OPDS_IMPORTER_CLASS" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#api.coverage.ReaperImporter" title="api.coverage.ReaperImporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.coverage.ReaperImporter</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="api.metadata_wrangler.MetadataWranglerCollectionReaper.OPERATION">
<code class="descname">OPERATION</code><em class="property"> = u'reap'</em><a class="headerlink" href="#api.metadata_wrangler.MetadataWranglerCollectionReaper.OPERATION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.metadata_wrangler.MetadataWranglerCollectionReaper.SERVICE_NAME">
<code class="descname">SERVICE_NAME</code><em class="property"> = 'Metadata Wrangler Reaper'</em><a class="headerlink" href="#api.metadata_wrangler.MetadataWranglerCollectionReaper.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.metadata_wrangler.MetadataWranglerCollectionReaper.api_method">
<code class="descname">api_method</code><a class="headerlink" href="#api.metadata_wrangler.MetadataWranglerCollectionReaper.api_method" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.metadata_wrangler.MetadataWranglerCollectionReaper.finalize_batch">
<code class="descname">finalize_batch</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MetadataWranglerCollectionReaper.finalize_batch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.metadata_wrangler.MetadataWranglerCollectionReaper.finalize_batch" title="Permalink to this definition">¶</a></dt>
<dd><p>Deletes Metadata Wrangler coverage records of reaped Identifiers</p>
<p>This allows Identifiers to be added to the collection again via
MetadataWranglerCoverageProvider lookup if a license is repurchased.</p>
</dd></dl>

<dl class="method">
<dt id="api.metadata_wrangler.MetadataWranglerCollectionReaper.items_that_need_coverage">
<code class="descname">items_that_need_coverage</code><span class="sig-paren">(</span><em>identifiers=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MetadataWranglerCollectionReaper.items_that_need_coverage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.metadata_wrangler.MetadataWranglerCollectionReaper.items_that_need_coverage" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves Identifiers that were imported but are no longer licensed.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.metadata_wrangler.MetadataWranglerCollectionRegistrar">
<em class="property">class </em><code class="descclassname">api.metadata_wrangler.</code><code class="descname">MetadataWranglerCollectionRegistrar</code><span class="sig-paren">(</span><em>collection</em>, <em>lookup_client=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MetadataWranglerCollectionRegistrar"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.metadata_wrangler.MetadataWranglerCollectionRegistrar" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.metadata_wrangler.BaseMetadataWranglerCoverageProvider" title="api.metadata_wrangler.BaseMetadataWranglerCoverageProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.metadata_wrangler.BaseMetadataWranglerCoverageProvider</span></code></a></p>
<p>Register all Identifiers licensed to a Collection with the
metadata wrangler.</p>
<p>If OPDS metadata is immediately returned, make use of it. Even if
no metadata is returned for an Identifier, mark it as covered.</p>
<p>Once it’s registered, any future updates to the available metadata
for a given Identifier will be detected by the
MWCollectionUpdateMonitor.</p>
<dl class="attribute">
<dt id="api.metadata_wrangler.MetadataWranglerCollectionRegistrar.OPDS_IMPORTER_CLASS">
<code class="descname">OPDS_IMPORTER_CLASS</code><a class="headerlink" href="#api.metadata_wrangler.MetadataWranglerCollectionRegistrar.OPDS_IMPORTER_CLASS" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#api.coverage.RegistrarImporter" title="api.coverage.RegistrarImporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.coverage.RegistrarImporter</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="api.metadata_wrangler.MetadataWranglerCollectionRegistrar.OPERATION">
<code class="descname">OPERATION</code><em class="property"> = u'import'</em><a class="headerlink" href="#api.metadata_wrangler.MetadataWranglerCollectionRegistrar.OPERATION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.metadata_wrangler.MetadataWranglerCollectionRegistrar.SERVICE_NAME">
<code class="descname">SERVICE_NAME</code><em class="property"> = 'Metadata Wrangler Collection Registrar'</em><a class="headerlink" href="#api.metadata_wrangler.MetadataWranglerCollectionRegistrar.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.metadata_wrangler.MetadataWranglerCollectionRegistrar.items_that_need_coverage">
<code class="descname">items_that_need_coverage</code><span class="sig-paren">(</span><em>identifiers=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/metadata_wrangler.html#MetadataWranglerCollectionRegistrar.items_that_need_coverage"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.metadata_wrangler.MetadataWranglerCollectionRegistrar.items_that_need_coverage" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieves items from the Collection that are not registered with
the Metadata Wrangler.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api.millenium_patron">
<span id="api-millenium-patron-module"></span><h2>api.millenium_patron module<a class="headerlink" href="#module-api.millenium_patron" title="Permalink to this headline">¶</a></h2>
<dl class="attribute">
<dt id="api.millenium_patron.AuthenticationProvider">
<code class="descclassname">api.millenium_patron.</code><code class="descname">AuthenticationProvider</code><a class="headerlink" href="#api.millenium_patron.AuthenticationProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#api.millenium_patron.MilleniumPatronAPI" title="api.millenium_patron.MilleniumPatronAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.millenium_patron.MilleniumPatronAPI</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="api.millenium_patron.MilleniumPatronAPI">
<em class="property">class </em><code class="descclassname">api.millenium_patron.</code><code class="descname">MilleniumPatronAPI</code><span class="sig-paren">(</span><em>library</em>, <em>integration</em>, <em>analytics=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/millenium_patron.html#MilleniumPatronAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.authenticator.BasicAuthenticationProvider" title="api.authenticator.BasicAuthenticationProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.authenticator.BasicAuthenticationProvider</span></code></a>, <a class="reference internal" href="core.util.html#core.util.xmlparser.XMLParser" title="core.util.xmlparser.XMLParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.util.xmlparser.XMLParser</span></code></a></p>
<dl class="attribute">
<dt id="api.millenium_patron.MilleniumPatronAPI.ADDRESS_FIELD">
<code class="descname">ADDRESS_FIELD</code><em class="property"> = 'ADDRESS[pa]'</em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.ADDRESS_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MilleniumPatronAPI.AUTHENTICATION_MODE">
<code class="descname">AUTHENTICATION_MODE</code><em class="property"> = 'auth_mode'</em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.AUTHENTICATION_MODE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MilleniumPatronAPI.AUTHENTICATION_MODES">
<code class="descname">AUTHENTICATION_MODES</code><em class="property"> = ['pin', 'family_name']</em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.AUTHENTICATION_MODES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MilleniumPatronAPI.BARCODE_FIELD">
<code class="descname">BARCODE_FIELD</code><em class="property"> = 'P BARCODE[pb]'</em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.BARCODE_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MilleniumPatronAPI.BLOCK_FIELD">
<code class="descname">BLOCK_FIELD</code><em class="property"> = 'MBLOCK[p56]'</em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.BLOCK_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MilleniumPatronAPI.BLOCK_TYPES">
<code class="descname">BLOCK_TYPES</code><em class="property"> = 'block_types'</em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.BLOCK_TYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MilleniumPatronAPI.DEFAULT_CURRENCY">
<code class="descname">DEFAULT_CURRENCY</code><em class="property"> = 'USD'</em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.DEFAULT_CURRENCY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MilleniumPatronAPI.EMAIL_ADDRESS_FIELD">
<code class="descname">EMAIL_ADDRESS_FIELD</code><em class="property"> = 'EMAIL ADDR[pz]'</em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.EMAIL_ADDRESS_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MilleniumPatronAPI.ERROR_MESSAGE_FIELD">
<code class="descname">ERROR_MESSAGE_FIELD</code><em class="property"> = 'ERRMSG'</em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.ERROR_MESSAGE_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MilleniumPatronAPI.EXPIRATION_DATE_FORMAT">
<code class="descname">EXPIRATION_DATE_FORMAT</code><em class="property"> = '%m-%d-%y'</em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.EXPIRATION_DATE_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MilleniumPatronAPI.EXPIRATION_FIELD">
<code class="descname">EXPIRATION_FIELD</code><em class="property"> = 'EXP DATE[p43]'</em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.EXPIRATION_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MilleniumPatronAPI.FAMILY_NAME_AUTHENTICATION_MODE">
<code class="descname">FAMILY_NAME_AUTHENTICATION_MODE</code><em class="property"> = 'family_name'</em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.FAMILY_NAME_AUTHENTICATION_MODE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MilleniumPatronAPI.FINES_FIELD">
<code class="descname">FINES_FIELD</code><em class="property"> = 'MONEY OWED[p96]'</em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.FINES_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MilleniumPatronAPI.HOME_BRANCH_FIELD">
<code class="descname">HOME_BRANCH_FIELD</code><em class="property"> = 'HOME LIBR[p53]'</em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.HOME_BRANCH_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MilleniumPatronAPI.HOME_BRANCH_NEIGHBORHOOD_MODE">
<code class="descname">HOME_BRANCH_NEIGHBORHOOD_MODE</code><em class="property"> = 'home_branch'</em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.HOME_BRANCH_NEIGHBORHOOD_MODE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MilleniumPatronAPI.IDENTIFIER_BLACKLIST">
<code class="descname">IDENTIFIER_BLACKLIST</code><em class="property"> = 'identifier_blacklist'</em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.IDENTIFIER_BLACKLIST" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MilleniumPatronAPI.LIBRARY_SETTINGS">
<code class="descname">LIBRARY_SETTINGS</code><em class="property"> = [{'description': l'Derive a patron's type from their identifier.', 'key': 'external_type_regular_expression', 'label': l'External Type Regular Expression'}, {'description': l'When multiple libraries share an ILS, a person may be able to authenticate with the ILS but not be considered a patron of &lt;em&gt;this&lt;/em&gt; library. This setting contains the rule for determining whether an identifier is valid for this specific library. &lt;p/&gt; If this setting it set to 'No Restriction' then the values for &lt;em&gt;Library Identifier Field&lt;/em&gt; and &lt;em&gt;Library Identifier Restriction&lt;/em&gt; will not be used.', 'default': 'none', 'label': l'Library Identifier Restriction Type', 'key': 'library_identifier_restriction_type', 'type': 'select', 'options': [{'key': 'none', 'label': l'No restriction'}, {'key': 'prefix', 'label': l'Prefix Match'}, {'key': 'string', 'label': l'Exact Match'}, {'key': 'regex', 'label': l'Regex Match'}, {'key': 'list', 'label': l'Exact Match, comma separated list'}]}, {'description': l'This is the field on the patron record that the &lt;em&gt;Library Identifier Restriction Type&lt;/em&gt; is applied to. The option 'barcode' matches the users barcode, other values are pulled directly from the patron record for example: 'P TYPE[p47]'. This value is not used if &lt;em&gt;Library Identifier Restriction Type&lt;/em&gt; is set to 'No restriction'.', 'key': 'library_identifier_field', 'label': l'Library Identifier Field'}, {'description': l'This is the restriction applied to the &lt;em&gt;Library Identifier Field&lt;/em&gt; using the method chosen in &lt;em&gt;Library Identifier Restriction Type&lt;/em&gt;. This value is not used if &lt;em&gt;Library Identifier Restriction Type&lt;/em&gt; is set to 'No restriction'.', 'key': 'library_identifier_restriction', 'label': l'Library Identifier Restriction'}, {'description': l'A specific identifier for the library or branch, if used in patron authentication', 'key': 'institution_id', 'label': l'Institution ID'}]</em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.LIBRARY_SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MilleniumPatronAPI.MULTIVALUE_FIELDS">
<code class="descname">MULTIVALUE_FIELDS</code><em class="property"> = set(['NOTE[px]', 'P BARCODE[pb]'])</em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.MULTIVALUE_FIELDS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MilleniumPatronAPI.NAME">
<code class="descname">NAME</code><em class="property"> = 'Millenium'</em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MilleniumPatronAPI.NEIGHBORHOOD_MODE">
<code class="descname">NEIGHBORHOOD_MODE</code><em class="property"> = 'neighborhood_mode'</em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.NEIGHBORHOOD_MODE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MilleniumPatronAPI.NEIGHBORHOOD_MODES">
<code class="descname">NEIGHBORHOOD_MODES</code><em class="property"> = set(['disabled', 'home_branch', 'postal_code'])</em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.NEIGHBORHOOD_MODES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MilleniumPatronAPI.NO_NEIGHBORHOOD_MODE">
<code class="descname">NO_NEIGHBORHOOD_MODE</code><em class="property"> = 'disabled'</em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.NO_NEIGHBORHOOD_MODE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MilleniumPatronAPI.PATRON_TYPE_FIELD">
<code class="descname">PATRON_TYPE_FIELD</code><em class="property"> = 'P TYPE[p47]'</em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.PATRON_TYPE_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MilleniumPatronAPI.PERSONAL_NAME_FIELD">
<code class="descname">PERSONAL_NAME_FIELD</code><em class="property"> = 'PATRN NAME[pn]'</em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.PERSONAL_NAME_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MilleniumPatronAPI.PIN_AUTHENTICATION_MODE">
<code class="descname">PIN_AUTHENTICATION_MODE</code><em class="property"> = 'pin'</em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.PIN_AUTHENTICATION_MODE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MilleniumPatronAPI.POSTAL_CODE_NEIGHBORHOOD_MODE">
<code class="descname">POSTAL_CODE_NEIGHBORHOOD_MODE</code><em class="property"> = 'postal_code'</em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.POSTAL_CODE_NEIGHBORHOOD_MODE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MilleniumPatronAPI.POSTAL_CODE_RES">
<code class="descname">POSTAL_CODE_RES</code><em class="property"> = [&lt;_sre.SRE_Pattern object&gt;, &lt;_sre.SRE_Pattern object&gt;, &lt;_sre.SRE_Pattern object&gt;, &lt;_sre.SRE_Pattern object&gt;]</em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.POSTAL_CODE_RES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MilleniumPatronAPI.RECORD_NUMBER_FIELD">
<code class="descname">RECORD_NUMBER_FIELD</code><em class="property"> = 'RECORD #[p81]'</em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.RECORD_NUMBER_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MilleniumPatronAPI.SETTINGS">
<code class="descname">SETTINGS</code><em class="property"> = [{'required': True, 'label': l'URL', 'key': u'url', 'format': 'url'}, {'default': 'true', 'type': 'select', 'options': [{'key': 'true', 'label': l'Verify Certificate Normally (Required for production)'}, {'key': 'false', 'label': l'Ignore Certificate Problems (For temporary testing only)'}], 'key': 'verify_certificate', 'label': l'Certificate Verification'}, {'description': l'Values of MBLOCK[p56] which mean a patron is blocked. By default, any value other than '-' indicates a block.', 'key': 'block_types', 'label': l'Block types'}, {'type': 'list', 'description': l'Identifiers containing any of these strings are ignored when finding the 'correct' identifier for a patron's record, even if it means they end up with no identifier at all. If librarians invalidate library cards by adding strings like &quot;EXPIRED&quot; or &quot;INVALID&quot; on to the beginning of the card number, put those strings here so the Circulation Manager knows they do not represent real card numbers.', 'key': 'identifier_blacklist', 'label': l'Identifier Blacklist'}, {'default': 'pin', 'type': 'select', 'options': [{'key': 'pin', 'label': l'PIN'}, {'key': 'family_name', 'label': l'Family Name'}], 'key': 'auth_mode', 'label': l'Authentication Mode'}, {'description': l'It's sometimes possible to guess a patron's neighborhood from their ILS record. You can use this when analyzing circulation activity by neighborhood. If you don't need to do this, it's better for patron privacy to disable this feature.', 'default': 'disabled', 'label': l'Patron neighborhood field', 'key': 'neighborhood_mode', 'type': 'select', 'options': [{'key': 'disabled', 'label': l'Disable this feature'}, {'key': 'home_branch', 'label': l'Patron's home library branch is their neighborhood.'}, {'key': 'postal_code', 'label': l'Patron's postal code is their neighborhood.'}]}, {'required': True, 'description': l'A valid identifier that can be used to test that patron authentication is working.', 'key': 'test_identifier', 'label': l'Test Identifier'}, {'description': l'The password for the test identifier.', 'key': 'test_password', 'label': l'Test Password'}, {'description': l'Many libraries render patron identifiers as barcodes on physical library cards. If you specify the barcode format, patrons will be able to scan their library cards with a camera instead of manually typing in their identifiers.', 'default': '', 'required': True, 'label': l'Patron identifier barcode format', 'key': 'identifier_barcode_format', 'type': 'select', 'options': [{'key': 'Codabar', 'label': l'Patron identifiers are are rendered as barcodes in Codabar format'}, {'key': '', 'label': l'Patron identifiers are not rendered as barcodes'}]}, {'description': l'A patron's identifier will be immediately rejected if it doesn't match this regular expression.', 'key': u'identifier_regular_expression', 'label': l'Identifier Regular Expression'}, {'description': l'A patron's password will be immediately rejected if it doesn't match this regular expression.', 'key': u'password_regular_expression', 'label': l'Password Regular Expression'}, {'default': u'Default', 'required': True, 'label': l'Keyboard for identifier entry', 'key': u'identifier_keyboard', 'type': 'select', 'options': [{'key': u'Default', 'label': l'System default'}, {'key': u'Email address', 'label': l'Email address entry'}, {'key': u'Number pad', 'label': l'Number pad'}]}, {'default': u'Default', 'type': 'select', 'options': [{'key': u'Default', 'label': l'System default'}, {'key': u'Number pad', 'label': l'Number pad'}, {'key': u'No input', 'label': l'Patrons have no password and should not be prompted for one.'}], 'key': u'password_keyboard', 'label': l'Keyboard for password entry'}, {'type': 'number', 'key': u'identifier_maximum_length', 'label': l'Maximum identifier length'}, {'type': 'number', 'key': u'password_maximum_length', 'label': l'Maximum password length'}, {'key': u'identifier_label', 'label': l'Label for identifier entry'}, {'key': u'password_label', 'label': l'Label for password entry'}]</em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MilleniumPatronAPI.USERNAME_FIELD">
<code class="descname">USERNAME_FIELD</code><em class="property"> = 'ALT ID[pu]'</em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.USERNAME_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MilleniumPatronAPI.VERIFY_CERTIFICATE">
<code class="descname">VERIFY_CERTIFICATE</code><em class="property"> = 'verify_certificate'</em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.VERIFY_CERTIFICATE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.millenium_patron.MilleniumPatronAPI.extract_postal_code">
<em class="property">classmethod </em><code class="descname">extract_postal_code</code><span class="sig-paren">(</span><em>address</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/millenium_patron.html#MilleniumPatronAPI.extract_postal_code"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.extract_postal_code" title="Permalink to this definition">¶</a></dt>
<dd><p>Try to extract a postal code from an address.</p>
</dd></dl>

<dl class="classmethod">
<dt id="api.millenium_patron.MilleniumPatronAPI.family_name_match">
<em class="property">classmethod </em><code class="descname">family_name_match</code><span class="sig-paren">(</span><em>actual_name</em>, <em>supposed_family_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/millenium_patron.html#MilleniumPatronAPI.family_name_match"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.family_name_match" title="Permalink to this definition">¶</a></dt>
<dd><p>Does <cite>supposed_family_name</cite> match <cite>actual_name</cite>?</p>
</dd></dl>

<dl class="method">
<dt id="api.millenium_patron.MilleniumPatronAPI.patron_dump_to_patrondata">
<code class="descname">patron_dump_to_patrondata</code><span class="sig-paren">(</span><em>current_identifier</em>, <em>content</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/millenium_patron.html#MilleniumPatronAPI.patron_dump_to_patrondata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.patron_dump_to_patrondata" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert an HTML patron dump to a PatronData object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>current_identifier</strong> – Either the authorization identifier
the patron just logged in with, or the one currently
associated with their Patron record. Keeping track of this
ensures we don’t change a patron’s preferred authorization
identifier out from under them.</li>
<li><strong>content</strong> – The HTML document containing the patron dump.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.millenium_patron.MilleniumPatronAPI.remote_authenticate">
<code class="descname">remote_authenticate</code><span class="sig-paren">(</span><em>username</em>, <em>password</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/millenium_patron.html#MilleniumPatronAPI.remote_authenticate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.remote_authenticate" title="Permalink to this definition">¶</a></dt>
<dd><p>Does the Millenium Patron API approve of these credentials?</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">False if the credentials are invalid. If they are
valid, a PatronData that serves only to indicate which
authorization identifier the patron prefers.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.millenium_patron.MilleniumPatronAPI.request">
<code class="descname">request</code><span class="sig-paren">(</span><em>url</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/millenium_patron.html#MilleniumPatronAPI.request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.request" title="Permalink to this definition">¶</a></dt>
<dd><p>Actually make an HTTP request. This method exists only so the mock
can override it.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MilleniumPatronAPI.setting">
<code class="descname">setting</code><em class="property"> = {'description': l'A specific identifier for the library or branch, if used in patron authentication', 'key': 'institution_id', 'label': l'Institution ID'}</em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.setting" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MilleniumPatronAPI.x">
<code class="descname">x</code><em class="property"> = '.*[^0-9]([0-9]{5})[^0-9]'</em><a class="headerlink" href="#api.millenium_patron.MilleniumPatronAPI.x" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.millenium_patron.MockMilleniumPatronAPI">
<em class="property">class </em><code class="descclassname">api.millenium_patron.</code><code class="descname">MockMilleniumPatronAPI</code><a class="reference internal" href="_modules/api/millenium_patron.html#MockMilleniumPatronAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.millenium_patron.MockMilleniumPatronAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.millenium_patron.MilleniumPatronAPI" title="api.millenium_patron.MilleniumPatronAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.millenium_patron.MilleniumPatronAPI</span></code></a></p>
<p>This mocks the API on a higher level than the HTTP level.</p>
<p>It is not used in the tests of the MilleniumPatronAPI class.  It
is used in the Adobe Vendor ID tests but maybe it shouldn’t.</p>
<dl class="method">
<dt id="api.millenium_patron.MockMilleniumPatronAPI.remote_authenticate">
<code class="descname">remote_authenticate</code><span class="sig-paren">(</span><em>barcode</em>, <em>pin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/millenium_patron.html#MockMilleniumPatronAPI.remote_authenticate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.millenium_patron.MockMilleniumPatronAPI.remote_authenticate" title="Permalink to this definition">¶</a></dt>
<dd><p>A barcode that’s 14 digits long is treated as valid,
no matter which PIN is used.</p>
<p>That’s so real barcode/PIN combos can be passed through to
third parties.</p>
<p>Otherwise, valid test PIN is the first character of the barcode
repeated four times.</p>
</dd></dl>

<dl class="method">
<dt id="api.millenium_patron.MockMilleniumPatronAPI.remote_patron_lookup">
<code class="descname">remote_patron_lookup</code><span class="sig-paren">(</span><em>patron_or_patrondata</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/millenium_patron.html#MockMilleniumPatronAPI.remote_patron_lookup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.millenium_patron.MockMilleniumPatronAPI.remote_patron_lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Ask the remote for information about this patron, and then make sure
the patron belongs to the library associated with thie BasicAuthenticationProvider.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MockMilleniumPatronAPI.the_future">
<code class="descname">the_future</code><em class="property"> = datetime.datetime(2020, 2, 28, 16, 34, 53, 782344)</em><a class="headerlink" href="#api.millenium_patron.MockMilleniumPatronAPI.the_future" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MockMilleniumPatronAPI.user1">
<code class="descname">user1</code><em class="property"> = &lt;PatronData permanent_id='12345' authorization_identifier='0' username='alice'&gt;</em><a class="headerlink" href="#api.millenium_patron.MockMilleniumPatronAPI.user1" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MockMilleniumPatronAPI.user2">
<code class="descname">user2</code><em class="property"> = &lt;PatronData permanent_id='67890' authorization_identifier='5' username='bob'&gt;</em><a class="headerlink" href="#api.millenium_patron.MockMilleniumPatronAPI.user2" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.millenium_patron.MockMilleniumPatronAPI.users">
<code class="descname">users</code><em class="property"> = [&lt;PatronData permanent_id='12345' authorization_identifier='0' username='alice'&gt;, &lt;PatronData permanent_id='67890' authorization_identifier='5' username='bob'&gt;]</em><a class="headerlink" href="#api.millenium_patron.MockMilleniumPatronAPI.users" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api.monitor">
<span id="api-monitor-module"></span><h2>api.monitor module<a class="headerlink" href="#module-api.monitor" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="api.monitor.HoldReaper">
<em class="property">class </em><code class="descclassname">api.monitor.</code><code class="descname">HoldReaper</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/monitor.html#HoldReaper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.monitor.HoldReaper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.monitor.LoanlikeReaperMonitor" title="api.monitor.LoanlikeReaperMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.monitor.LoanlikeReaperMonitor</span></code></a></p>
<p>Remove seemingly abandoned holds from the database.</p>
<dl class="attribute">
<dt id="api.monitor.HoldReaper.MAX_AGE">
<code class="descname">MAX_AGE</code><em class="property"> = 365</em><a class="headerlink" href="#api.monitor.HoldReaper.MAX_AGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.monitor.HoldReaper.MODEL_CLASS">
<code class="descname">MODEL_CLASS</code><a class="headerlink" href="#api.monitor.HoldReaper.MODEL_CLASS" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="core.model.html#core.model.patron.Hold" title="core.model.patron.Hold"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.model.patron.Hold</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="api.monitor.HoldReaper.where_clause">
<code class="descname">where_clause</code><a class="headerlink" href="#api.monitor.HoldReaper.where_clause" title="Permalink to this definition">¶</a></dt>
<dd><p>Find holds that were created a long time ago and either have
no end date or have an end date in the past.</p>
<p>The ‘end date’ for a hold is just an estimate, but if the estimate
is in the future it’s better to keep the hold around.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.monitor.IdlingAnnotationReaper">
<em class="property">class </em><code class="descclassname">api.monitor.</code><code class="descname">IdlingAnnotationReaper</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/monitor.html#IdlingAnnotationReaper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.monitor.IdlingAnnotationReaper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.monitor.ReaperMonitor" title="core.monitor.ReaperMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.monitor.ReaperMonitor</span></code></a></p>
<p>Remove idling annotations for inactive loans.</p>
<dl class="attribute">
<dt id="api.monitor.IdlingAnnotationReaper.MAX_AGE">
<code class="descname">MAX_AGE</code><em class="property"> = 60</em><a class="headerlink" href="#api.monitor.IdlingAnnotationReaper.MAX_AGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.monitor.IdlingAnnotationReaper.MODEL_CLASS">
<code class="descname">MODEL_CLASS</code><a class="headerlink" href="#api.monitor.IdlingAnnotationReaper.MODEL_CLASS" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="core.model.html#core.model.patron.Annotation" title="core.model.patron.Annotation"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.model.patron.Annotation</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="api.monitor.IdlingAnnotationReaper.TIMESTAMP_FIELD">
<code class="descname">TIMESTAMP_FIELD</code><em class="property"> = 'timestamp'</em><a class="headerlink" href="#api.monitor.IdlingAnnotationReaper.TIMESTAMP_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.monitor.IdlingAnnotationReaper.where_clause">
<code class="descname">where_clause</code><a class="headerlink" href="#api.monitor.IdlingAnnotationReaper.where_clause" title="Permalink to this definition">¶</a></dt>
<dd><p>The annotation must have motivation=IDLING, must be at least 60
days old (meaning there has been no attempt to read the book
for 60 days), and must not be associated with one of the
patron’s active loans or holds.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.monitor.LoanReaper">
<em class="property">class </em><code class="descclassname">api.monitor.</code><code class="descname">LoanReaper</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/monitor.html#LoanReaper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.monitor.LoanReaper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.monitor.LoanlikeReaperMonitor" title="api.monitor.LoanlikeReaperMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.monitor.LoanlikeReaperMonitor</span></code></a></p>
<p>Remove expired and abandoned loans from the database.</p>
<dl class="attribute">
<dt id="api.monitor.LoanReaper.MAX_AGE">
<code class="descname">MAX_AGE</code><em class="property"> = 90</em><a class="headerlink" href="#api.monitor.LoanReaper.MAX_AGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.monitor.LoanReaper.MODEL_CLASS">
<code class="descname">MODEL_CLASS</code><a class="headerlink" href="#api.monitor.LoanReaper.MODEL_CLASS" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="core.model.html#core.model.patron.Loan" title="core.model.patron.Loan"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.model.patron.Loan</span></code></a></p>
</dd></dl>

<dl class="attribute">
<dt id="api.monitor.LoanReaper.where_clause">
<code class="descname">where_clause</code><a class="headerlink" href="#api.monitor.LoanReaper.where_clause" title="Permalink to this definition">¶</a></dt>
<dd><p>Find loans that have either expired, or that were created a long
time ago and have no definite end date.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.monitor.LoanlikeReaperMonitor">
<em class="property">class </em><code class="descclassname">api.monitor.</code><code class="descname">LoanlikeReaperMonitor</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/monitor.html#LoanlikeReaperMonitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.monitor.LoanlikeReaperMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.monitor.ReaperMonitor" title="core.monitor.ReaperMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.monitor.ReaperMonitor</span></code></a></p>
<dl class="attribute">
<dt id="api.monitor.LoanlikeReaperMonitor.SOURCE_OF_TRUTH_PROTOCOLS">
<code class="descname">SOURCE_OF_TRUTH_PROTOCOLS</code><em class="property"> = ['ODL', 'Shared ODL For Consortia', u'OPDS for Distributors']</em><a class="headerlink" href="#api.monitor.LoanlikeReaperMonitor.SOURCE_OF_TRUTH_PROTOCOLS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.monitor.LoanlikeReaperMonitor.where_clause">
<code class="descname">where_clause</code><a class="headerlink" href="#api.monitor.LoanlikeReaperMonitor.where_clause" title="Permalink to this definition">¶</a></dt>
<dd><p>We never want to automatically reap loans or holds for situations
where the circulation manager is the source of truth. If we
delete something we shouldn’t have, we won’t be able to get
the ‘real’ information back.</p>
<p>This means loans of open-access content and loans from
collections based on a protocol found in
SOURCE_OF_TRUTH_PROTOCOLS.</p>
<p>Subclasses will append extra clauses to this filter.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api.novelist">
<span id="api-novelist-module"></span><h2>api.novelist module<a class="headerlink" href="#module-api.novelist" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="api.novelist.MockNoveListAPI">
<em class="property">class </em><code class="descclassname">api.novelist.</code><code class="descname">MockNoveListAPI</code><span class="sig-paren">(</span><em>_db</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#MockNoveListAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.novelist.MockNoveListAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.novelist.NoveListAPI" title="api.novelist.NoveListAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.novelist.NoveListAPI</span></code></a></p>
<dl class="method">
<dt id="api.novelist.MockNoveListAPI.lookup">
<code class="descname">lookup</code><span class="sig-paren">(</span><em>identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#MockNoveListAPI.lookup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.novelist.MockNoveListAPI.lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Requests NoveList metadata for a particular identifier</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Metadata object or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.novelist.MockNoveListAPI.setup">
<code class="descname">setup</code><span class="sig-paren">(</span><em>*args</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#MockNoveListAPI.setup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.novelist.MockNoveListAPI.setup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.novelist.NoveListAPI">
<em class="property">class </em><code class="descclassname">api.novelist.</code><code class="descname">NoveListAPI</code><span class="sig-paren">(</span><em>_db</em>, <em>profile</em>, <em>password</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.novelist.NoveListAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="attribute">
<dt id="api.novelist.NoveListAPI.AUTHORIZED_IDENTIFIER">
<code class="descname">AUTHORIZED_IDENTIFIER</code><em class="property"> = u'62521fa1-bdbb-4939-84aa-aee2a52c8d59'</em><a class="headerlink" href="#api.novelist.NoveListAPI.AUTHORIZED_IDENTIFIER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.novelist.NoveListAPI.AUTH_PARAMS">
<code class="descname">AUTH_PARAMS</code><em class="property"> = '&amp;profile=%(profile)s&amp;password=%(password)s'</em><a class="headerlink" href="#api.novelist.NoveListAPI.AUTH_PARAMS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.novelist.NoveListAPI.COLLECTION_DATA_API">
<code class="descname">COLLECTION_DATA_API</code><em class="property"> = 'http://www.noveListcollectiondata.com/api/collections'</em><a class="headerlink" href="#api.novelist.NoveListAPI.COLLECTION_DATA_API" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.novelist.NoveListAPI.IS_CONFIGURED">
<code class="descname">IS_CONFIGURED</code><em class="property"> = None</em><a class="headerlink" href="#api.novelist.NoveListAPI.IS_CONFIGURED" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.novelist.NoveListAPI.MAX_REPRESENTATION_AGE">
<code class="descname">MAX_REPRESENTATION_AGE</code><em class="property"> = 604800</em><a class="headerlink" href="#api.novelist.NoveListAPI.MAX_REPRESENTATION_AGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.novelist.NoveListAPI.NAME">
<code class="descname">NAME</code><em class="property"> = l'Novelist API'</em><a class="headerlink" href="#api.novelist.NoveListAPI.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.novelist.NoveListAPI.NO_ISBN_EQUIVALENCY">
<code class="descname">NO_ISBN_EQUIVALENCY</code><em class="property"> = 'No clear ISBN equivalency: %r'</em><a class="headerlink" href="#api.novelist.NoveListAPI.NO_ISBN_EQUIVALENCY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.novelist.NoveListAPI.PROTOCOL">
<code class="descname">PROTOCOL</code><em class="property"> = u'NoveList Select'</em><a class="headerlink" href="#api.novelist.NoveListAPI.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.novelist.NoveListAPI.QUERY_ENDPOINT">
<code class="descname">QUERY_ENDPOINT</code><em class="property"> = 'https://novselect.ebscohost.com/Data/ContentByQuery?ISBN=%(ISBN)s&amp;ClientIdentifier=%(ClientIdentifier)s&amp;version=%(version)s'</em><a class="headerlink" href="#api.novelist.NoveListAPI.QUERY_ENDPOINT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.novelist.NoveListAPI.SETTINGS">
<code class="descname">SETTINGS</code><em class="property"> = [{'required': True, 'key': u'username', 'label': l'Profile'}, {'required': True, 'key': u'password', 'label': l'Password'}]</em><a class="headerlink" href="#api.novelist.NoveListAPI.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.novelist.NoveListAPI.SITEWIDE">
<code class="descname">SITEWIDE</code><em class="property"> = False</em><a class="headerlink" href="#api.novelist.NoveListAPI.SITEWIDE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.novelist.NoveListAPI.build_query_url">
<em class="property">classmethod </em><code class="descname">build_query_url</code><span class="sig-paren">(</span><em>params</em>, <em>include_auth=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.build_query_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.novelist.NoveListAPI.build_query_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Builds a unique and url-encoded query endpoint</p>
</dd></dl>

<dl class="method">
<dt id="api.novelist.NoveListAPI.cached_representation">
<code class="descname">cached_representation</code><span class="sig-paren">(</span><em>scrubbed_url</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.cached_representation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.novelist.NoveListAPI.cached_representation" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempts to find a usable cached Representation for a given URL</p>
</dd></dl>

<dl class="method">
<dt id="api.novelist.NoveListAPI.choose_best_metadata">
<code class="descname">choose_best_metadata</code><span class="sig-paren">(</span><em>metadata_objects</em>, <em>identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.choose_best_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.novelist.NoveListAPI.choose_best_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Chooses the most likely book metadata from a list of Metadata objects</p>
<p>Given several Metadata objects with different NoveList IDs, this
method returns the metadata of the ID with the highest representation
and a float representing confidence in the result.</p>
</dd></dl>

<dl class="method">
<dt id="api.novelist.NoveListAPI.create_item_object">
<code class="descname">create_item_object</code><span class="sig-paren">(</span><em>object</em>, <em>currentIdentifier</em>, <em>existingItem</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.create_item_object"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.novelist.NoveListAPI.create_item_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns a new item if the current identifier that was processed
is not the same as the new object’s ISBN being processed. If the new
object’s ISBN matches the current identifier, the previous object’s
Author property is updated.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>object</strong> – the current item object to process</li>
<li><strong>currentIdentifier</strong> – the current identifier to process</li>
<li><strong>existingItem</strong> – the previously processed item object</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><p>(
current identifier,
the existing object if available,
a new object if the item wasn’t found before,
if the item is ready to the added to the list of books to send
)</p>
</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="api.novelist.NoveListAPI.currentQueryIdentifier">
<code class="descname">currentQueryIdentifier</code><em class="property"> = None</em><a class="headerlink" href="#api.novelist.NoveListAPI.currentQueryIdentifier" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.novelist.NoveListAPI.from_config">
<em class="property">classmethod </em><code class="descname">from_config</code><span class="sig-paren">(</span><em>library</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.novelist.NoveListAPI.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.novelist.NoveListAPI.get_items_from_query">
<code class="descname">get_items_from_query</code><span class="sig-paren">(</span><em>library</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.get_items_from_query"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.novelist.NoveListAPI.get_items_from_query" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets identifiers and its related title, medium, and authors from the
database.
Keeps track of the current ‘ISBN’ identifier and current item object that
is being processed. If the next ISBN being processed is new, the existing one
gets added to the list of items. If the ISBN is the same, then we append
the Author property since there are multiple contributors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a list of Novelist objects to send</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.novelist.NoveListAPI.get_recommendations">
<code class="descname">get_recommendations</code><span class="sig-paren">(</span><em>metadata</em>, <em>recommendations_info</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.get_recommendations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.novelist.NoveListAPI.get_recommendations" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.novelist.NoveListAPI.get_series_information">
<code class="descname">get_series_information</code><span class="sig-paren">(</span><em>metadata</em>, <em>series_info</em>, <em>book_info</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.get_series_information"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.novelist.NoveListAPI.get_series_information" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns metadata object with series info and optimal title key</p>
</dd></dl>

<dl class="classmethod">
<dt id="api.novelist.NoveListAPI.is_configured">
<em class="property">classmethod </em><code class="descname">is_configured</code><span class="sig-paren">(</span><em>library</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.is_configured"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.novelist.NoveListAPI.is_configured" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.novelist.NoveListAPI.log">
<code class="descname">log</code><em class="property"> = &lt;logging.Logger object&gt;</em><a class="headerlink" href="#api.novelist.NoveListAPI.log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.novelist.NoveListAPI.lookup">
<code class="descname">lookup</code><span class="sig-paren">(</span><em>identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.lookup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.novelist.NoveListAPI.lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Requests NoveList metadata for a particular identifier</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Metadata object or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.novelist.NoveListAPI.lookup_equivalent_isbns">
<code class="descname">lookup_equivalent_isbns</code><span class="sig-paren">(</span><em>identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.lookup_equivalent_isbns"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.novelist.NoveListAPI.lookup_equivalent_isbns" title="Permalink to this definition">¶</a></dt>
<dd><p>Finds NoveList data for all ISBNs equivalent to an identifier.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Metadata object or None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.novelist.NoveListAPI.lookup_info_to_metadata">
<code class="descname">lookup_info_to_metadata</code><span class="sig-paren">(</span><em>lookup_representation</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.lookup_info_to_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.novelist.NoveListAPI.lookup_info_to_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Transforms a NoveList JSON representation into a Metadata object</p>
</dd></dl>

<dl class="method">
<dt id="api.novelist.NoveListAPI.make_novelist_data_object">
<code class="descname">make_novelist_data_object</code><span class="sig-paren">(</span><em>items</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.make_novelist_data_object"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.novelist.NoveListAPI.make_novelist_data_object" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.novelist.NoveListAPI.medium_to_book_format_type_values">
<code class="descname">medium_to_book_format_type_values</code><em class="property"> = {u'Audio': u'Audiobook', u'Book': u'EBook'}</em><a class="headerlink" href="#api.novelist.NoveListAPI.medium_to_book_format_type_values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.novelist.NoveListAPI.put">
<code class="descname">put</code><span class="sig-paren">(</span><em>url</em>, <em>headers</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.put"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.novelist.NoveListAPI.put" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.novelist.NoveListAPI.put_items_novelist">
<code class="descname">put_items_novelist</code><span class="sig-paren">(</span><em>library</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.put_items_novelist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.novelist.NoveListAPI.put_items_novelist" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.novelist.NoveListAPI.review_response">
<em class="property">classmethod </em><code class="descname">review_response</code><span class="sig-paren">(</span><em>response</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.review_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.novelist.NoveListAPI.review_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs NoveList-specific error review of the request response</p>
</dd></dl>

<dl class="classmethod">
<dt id="api.novelist.NoveListAPI.scrubbed_url">
<em class="property">classmethod </em><code class="descname">scrubbed_url</code><span class="sig-paren">(</span><em>params</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.scrubbed_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.novelist.NoveListAPI.scrubbed_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes authentication details from cached Representation.url</p>
</dd></dl>

<dl class="attribute">
<dt id="api.novelist.NoveListAPI.source">
<code class="descname">source</code><a class="headerlink" href="#api.novelist.NoveListAPI.source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.novelist.NoveListAPI.values">
<em class="property">classmethod </em><code class="descname">values</code><span class="sig-paren">(</span><em>library</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/novelist.html#NoveListAPI.values"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.novelist.NoveListAPI.values" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.novelist.NoveListAPI.version">
<code class="descname">version</code><em class="property"> = '2.2'</em><a class="headerlink" href="#api.novelist.NoveListAPI.version" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api.nyt">
<span id="api-nyt-module"></span><h2>api.nyt module<a class="headerlink" href="#module-api.nyt" title="Permalink to this headline">¶</a></h2>
<p>Interface to the New York Times APIs.</p>
<dl class="class">
<dt id="api.nyt.NYTAPI">
<em class="property">class </em><code class="descclassname">api.nyt.</code><code class="descname">NYTAPI</code><a class="reference internal" href="_modules/api/nyt.html#NYTAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.nyt.NYTAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="attribute">
<dt id="api.nyt.NYTAPI.DATE_FORMAT">
<code class="descname">DATE_FORMAT</code><em class="property"> = '%Y-%m-%d'</em><a class="headerlink" href="#api.nyt.NYTAPI.DATE_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.nyt.NYTAPI.date_string">
<em class="property">classmethod </em><code class="descname">date_string</code><span class="sig-paren">(</span><em>d</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/nyt.html#NYTAPI.date_string"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.nyt.NYTAPI.date_string" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.nyt.NYTAPI.parse_date">
<em class="property">classmethod </em><code class="descname">parse_date</code><span class="sig-paren">(</span><em>d</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/nyt.html#NYTAPI.parse_date"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.nyt.NYTAPI.parse_date" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.nyt.NYTBestSellerAPI">
<em class="property">class </em><code class="descclassname">api.nyt.</code><code class="descname">NYTBestSellerAPI</code><span class="sig-paren">(</span><em>_db</em>, <em>api_key=None</em>, <em>do_get=None</em>, <em>metadata_client=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/nyt.html#NYTBestSellerAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.nyt.NYTBestSellerAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.nyt.NYTAPI" title="api.nyt.NYTAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.nyt.NYTAPI</span></code></a>, <a class="reference internal" href="core.html#core.selftest.HasSelfTests" title="core.selftest.HasSelfTests"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.selftest.HasSelfTests</span></code></a></p>
<dl class="attribute">
<dt id="api.nyt.NYTBestSellerAPI.BASE_URL">
<code class="descname">BASE_URL</code><em class="property"> = 'http://api.nytimes.com/svc/books/v3/lists'</em><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.BASE_URL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.nyt.NYTBestSellerAPI.CARDINALITY">
<code class="descname">CARDINALITY</code><em class="property"> = 1</em><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.CARDINALITY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.nyt.NYTBestSellerAPI.GOAL">
<code class="descname">GOAL</code><em class="property"> = u'metadata'</em><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.GOAL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.nyt.NYTBestSellerAPI.HISTORICAL_LIST_MAX_AGE">
<code class="descname">HISTORICAL_LIST_MAX_AGE</code><em class="property"> = datetime.timedelta(365)</em><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.HISTORICAL_LIST_MAX_AGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.nyt.NYTBestSellerAPI.LIST_MAX_AGE">
<code class="descname">LIST_MAX_AGE</code><em class="property"> = datetime.timedelta(1)</em><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.LIST_MAX_AGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.nyt.NYTBestSellerAPI.LIST_NAMES_URL">
<code class="descname">LIST_NAMES_URL</code><em class="property"> = 'http://api.nytimes.com/svc/books/v3/lists/names.json'</em><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.LIST_NAMES_URL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.nyt.NYTBestSellerAPI.LIST_OF_LISTS_MAX_AGE">
<code class="descname">LIST_OF_LISTS_MAX_AGE</code><em class="property"> = datetime.timedelta(1)</em><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.LIST_OF_LISTS_MAX_AGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.nyt.NYTBestSellerAPI.LIST_URL">
<code class="descname">LIST_URL</code><em class="property"> = 'http://api.nytimes.com/svc/books/v3/lists.json?list=%s'</em><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.LIST_URL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.nyt.NYTBestSellerAPI.NAME">
<code class="descname">NAME</code><em class="property"> = l'NYT Best Seller API'</em><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.nyt.NYTBestSellerAPI.PROTOCOL">
<code class="descname">PROTOCOL</code><em class="property"> = u'New York Times'</em><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.nyt.NYTBestSellerAPI.SETTINGS">
<code class="descname">SETTINGS</code><em class="property"> = [{'required': True, 'key': u'password', 'label': l'API key'}]</em><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.nyt.NYTBestSellerAPI.SITEWIDE">
<code class="descname">SITEWIDE</code><em class="property"> = True</em><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.SITEWIDE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.nyt.NYTBestSellerAPI.best_seller_list">
<code class="descname">best_seller_list</code><span class="sig-paren">(</span><em>list_info</em>, <em>date=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/nyt.html#NYTBestSellerAPI.best_seller_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.best_seller_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Create (but don’t update) a NYTBestSellerList object.</p>
</dd></dl>

<dl class="classmethod">
<dt id="api.nyt.NYTBestSellerAPI.external_integration">
<em class="property">classmethod </em><code class="descname">external_integration</code><span class="sig-paren">(</span><em>_db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/nyt.html#NYTBestSellerAPI.external_integration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.external_integration" title="Permalink to this definition">¶</a></dt>
<dd><p>Locate the ExternalIntegration associated with this object.
The status of the self-tests will be stored as a ConfigurationSetting
on this ExternalIntegration.</p>
<p>By default, there is no way to get from an object to its
ExternalIntegration, and self-test status will not be stored.</p>
</dd></dl>

<dl class="method">
<dt id="api.nyt.NYTBestSellerAPI.fill_in_history">
<code class="descname">fill_in_history</code><span class="sig-paren">(</span><em>list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/nyt.html#NYTBestSellerAPI.fill_in_history"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.fill_in_history" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the given list with current and historical data.</p>
</dd></dl>

<dl class="classmethod">
<dt id="api.nyt.NYTBestSellerAPI.from_config">
<em class="property">classmethod </em><code class="descname">from_config</code><span class="sig-paren">(</span><em>_db</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/nyt.html#NYTBestSellerAPI.from_config"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.from_config" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.nyt.NYTBestSellerAPI.list_info">
<code class="descname">list_info</code><span class="sig-paren">(</span><em>list_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/nyt.html#NYTBestSellerAPI.list_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.list_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.nyt.NYTBestSellerAPI.list_of_lists">
<code class="descname">list_of_lists</code><span class="sig-paren">(</span><em>max_age=datetime.timedelta(1)</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/nyt.html#NYTBestSellerAPI.list_of_lists"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.list_of_lists" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.nyt.NYTBestSellerAPI.request">
<code class="descname">request</code><span class="sig-paren">(</span><em>path</em>, <em>identifier=None</em>, <em>max_age=datetime.timedelta(1)</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/nyt.html#NYTBestSellerAPI.request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.request" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.nyt.NYTBestSellerAPI.source">
<code class="descname">source</code><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.nyt.NYTBestSellerAPI.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>list</em>, <em>date=None</em>, <em>max_age=datetime.timedelta(1)</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/nyt.html#NYTBestSellerAPI.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.nyt.NYTBestSellerAPI.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the given list with data from the given date.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.nyt.NYTBestSellerList">
<em class="property">class </em><code class="descclassname">api.nyt.</code><code class="descname">NYTBestSellerList</code><span class="sig-paren">(</span><em>list_info</em>, <em>metadata_client</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/nyt.html#NYTBestSellerList"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.nyt.NYTBestSellerList" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">list</span></code></p>
<dl class="attribute">
<dt id="api.nyt.NYTBestSellerList.all_dates">
<code class="descname">all_dates</code><a class="headerlink" href="#api.nyt.NYTBestSellerList.all_dates" title="Permalink to this definition">¶</a></dt>
<dd><p>Yield a list of estimated dates when new editions of this list were
probably published.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.nyt.NYTBestSellerList.medium">
<code class="descname">medium</code><a class="headerlink" href="#api.nyt.NYTBestSellerList.medium" title="Permalink to this definition">¶</a></dt>
<dd><p>What medium are the books on this list?</p>
<p>Lists like “Audio Fiction” contain audiobooks; all others
contain normal books. (TODO: this isn’t quite right; the
distinction between ebooks and print books here exists in a
way it doesn’t with most other sources of Editions.)</p>
</dd></dl>

<dl class="method">
<dt id="api.nyt.NYTBestSellerList.to_customlist">
<code class="descname">to_customlist</code><span class="sig-paren">(</span><em>_db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/nyt.html#NYTBestSellerList.to_customlist"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.nyt.NYTBestSellerList.to_customlist" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn this NYTBestSeller list into a CustomList object.</p>
</dd></dl>

<dl class="method">
<dt id="api.nyt.NYTBestSellerList.update">
<code class="descname">update</code><span class="sig-paren">(</span><em>json_data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/nyt.html#NYTBestSellerList.update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.nyt.NYTBestSellerList.update" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the list with information from the given JSON structure.</p>
</dd></dl>

<dl class="method">
<dt id="api.nyt.NYTBestSellerList.update_custom_list">
<code class="descname">update_custom_list</code><span class="sig-paren">(</span><em>custom_list</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/nyt.html#NYTBestSellerList.update_custom_list"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.nyt.NYTBestSellerList.update_custom_list" title="Permalink to this definition">¶</a></dt>
<dd><p>Make sure the given CustomList’s CustomListEntries reflect
the current state of the NYTBestSeller list.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.nyt.NYTBestSellerListTitle">
<em class="property">class </em><code class="descclassname">api.nyt.</code><code class="descname">NYTBestSellerListTitle</code><span class="sig-paren">(</span><em>data</em>, <em>medium</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/nyt.html#NYTBestSellerListTitle"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.nyt.NYTBestSellerListTitle" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.external_list.TitleFromExternalList" title="core.external_list.TitleFromExternalList"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.external_list.TitleFromExternalList</span></code></a></p>
</dd></dl>

</div>
<div class="section" id="module-api.odilo">
<span id="api-odilo-module"></span><h2>api.odilo module<a class="headerlink" href="#module-api.odilo" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="api.odilo.MockOdiloAPI">
<em class="property">class </em><code class="descclassname">api.odilo.</code><code class="descname">MockOdiloAPI</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#MockOdiloAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.MockOdiloAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.odilo.OdiloAPI" title="api.odilo.OdiloAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.odilo.OdiloAPI</span></code></a></p>
<dl class="method">
<dt id="api.odilo.MockOdiloAPI.mock_access_token_response">
<code class="descname">mock_access_token_response</code><span class="sig-paren">(</span><em>credential</em>, <em>expires_in=-1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#MockOdiloAPI.mock_access_token_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.MockOdiloAPI.mock_access_token_response" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.odilo.MockOdiloAPI.mock_collection">
<em class="property">classmethod </em><code class="descname">mock_collection</code><span class="sig-paren">(</span><em>_db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#MockOdiloAPI.mock_collection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.MockOdiloAPI.mock_collection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.odilo.MockOdiloAPI.patron_request">
<code class="descname">patron_request</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#MockOdiloAPI.patron_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.MockOdiloAPI.patron_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an HTTP request on behalf of a patron.</p>
<p>The results are never cached.</p>
</dd></dl>

<dl class="method">
<dt id="api.odilo.MockOdiloAPI.queue_response">
<code class="descname">queue_response</code><span class="sig-paren">(</span><em>status_code</em>, <em>headers={}</em>, <em>content=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#MockOdiloAPI.queue_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.MockOdiloAPI.queue_response" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.odilo.MockOdiloAPI.token_post">
<code class="descname">token_post</code><span class="sig-paren">(</span><em>url</em>, <em>payload</em>, <em>headers={}</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#MockOdiloAPI.token_post"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.MockOdiloAPI.token_post" title="Permalink to this definition">¶</a></dt>
<dd><p>Mock the request for an OAuth token.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.odilo.OdiloAPI">
<em class="property">class </em><code class="descclassname">api.odilo.</code><code class="descname">OdiloAPI</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation.BaseCirculationAPI" title="api.circulation.BaseCirculationAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation.BaseCirculationAPI</span></code></a>, <a class="reference internal" href="#api.selftest.HasSelfTests" title="api.selftest.HasSelfTests"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.selftest.HasSelfTests</span></code></a></p>
<dl class="attribute">
<dt id="api.odilo.OdiloAPI.ALL_PRODUCTS_ENDPOINT">
<code class="descname">ALL_PRODUCTS_ENDPOINT</code><em class="property"> = '/records'</em><a class="headerlink" href="#api.odilo.OdiloAPI.ALL_PRODUCTS_ENDPOINT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odilo.OdiloAPI.CHECKIN_ENDPOINT">
<code class="descname">CHECKIN_ENDPOINT</code><em class="property"> = '/checkouts/{checkoutId}/return?patronId={patronId}'</em><a class="headerlink" href="#api.odilo.OdiloAPI.CHECKIN_ENDPOINT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odilo.OdiloAPI.CHECKOUT_ENDPOINT">
<code class="descname">CHECKOUT_ENDPOINT</code><em class="property"> = '/records/{recordId}/checkout'</em><a class="headerlink" href="#api.odilo.OdiloAPI.CHECKOUT_ENDPOINT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odilo.OdiloAPI.DESCRIPTION">
<code class="descname">DESCRIPTION</code><em class="property"> = l'Integrate an Odilo library collection.'</em><a class="headerlink" href="#api.odilo.OdiloAPI.DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odilo.OdiloAPI.LIBRARY_API_BASE_URL">
<code class="descname">LIBRARY_API_BASE_URL</code><em class="property"> = u'library_api_base_url'</em><a class="headerlink" href="#api.odilo.OdiloAPI.LIBRARY_API_BASE_URL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odilo.OdiloAPI.NAME">
<code class="descname">NAME</code><em class="property"> = u'Odilo'</em><a class="headerlink" href="#api.odilo.OdiloAPI.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odilo.OdiloAPI.PAGE_SIZE_LIMIT">
<code class="descname">PAGE_SIZE_LIMIT</code><em class="property"> = 200</em><a class="headerlink" href="#api.odilo.OdiloAPI.PAGE_SIZE_LIMIT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odilo.OdiloAPI.PATRON_CHECKOUTS_ENDPOINT">
<code class="descname">PATRON_CHECKOUTS_ENDPOINT</code><em class="property"> = '/patrons/{patronId}/checkouts'</em><a class="headerlink" href="#api.odilo.OdiloAPI.PATRON_CHECKOUTS_ENDPOINT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odilo.OdiloAPI.PATRON_HOLDS_ENDPOINT">
<code class="descname">PATRON_HOLDS_ENDPOINT</code><em class="property"> = '/patrons/{patronId}/holds'</em><a class="headerlink" href="#api.odilo.OdiloAPI.PATRON_HOLDS_ENDPOINT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odilo.OdiloAPI.PLACE_HOLD_ENDPOINT">
<code class="descname">PLACE_HOLD_ENDPOINT</code><em class="property"> = '/records/{recordId}/hold'</em><a class="headerlink" href="#api.odilo.OdiloAPI.PLACE_HOLD_ENDPOINT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odilo.OdiloAPI.RECORD_AVAILABILITY_ENDPOINT">
<code class="descname">RECORD_AVAILABILITY_ENDPOINT</code><em class="property"> = '/records/{recordId}/availability'</em><a class="headerlink" href="#api.odilo.OdiloAPI.RECORD_AVAILABILITY_ENDPOINT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odilo.OdiloAPI.RECORD_METADATA_ENDPOINT">
<code class="descname">RECORD_METADATA_ENDPOINT</code><em class="property"> = '/records/{recordId}'</em><a class="headerlink" href="#api.odilo.OdiloAPI.RECORD_METADATA_ENDPOINT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odilo.OdiloAPI.RELEASE_HOLD_ENDPOINT">
<code class="descname">RELEASE_HOLD_ENDPOINT</code><em class="property"> = '/holds/{holdId}/cancel'</em><a class="headerlink" href="#api.odilo.OdiloAPI.RELEASE_HOLD_ENDPOINT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odilo.OdiloAPI.SETTINGS">
<code class="descname">SETTINGS</code><em class="property"> = [{'format': 'url', 'required': True, 'description': l'This might look like &lt;code&gt;https://[library].odilo.us/api/v2&lt;/code&gt;.', 'key': u'library_api_base_url', 'label': l'Library API base URL'}, {'required': True, 'key': u'username', 'label': l'Client Key'}, {'required': True, 'key': u'password', 'label': l'Client Secret'}]</em><a class="headerlink" href="#api.odilo.OdiloAPI.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odilo.OdiloAPI.SET_DELIVERY_MECHANISM_AT">
<code class="descname">SET_DELIVERY_MECHANISM_AT</code><em class="property"> = 'borrow'</em><a class="headerlink" href="#api.odilo.OdiloAPI.SET_DELIVERY_MECHANISM_AT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odilo.OdiloAPI.TOKEN_ENDPOINT">
<code class="descname">TOKEN_ENDPOINT</code><em class="property"> = '/token'</em><a class="headerlink" href="#api.odilo.OdiloAPI.TOKEN_ENDPOINT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.odilo.OdiloAPI.check_creds">
<code class="descname">check_creds</code><span class="sig-paren">(</span><em>force_refresh=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.check_creds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloAPI.check_creds" title="Permalink to this definition">¶</a></dt>
<dd><p>If the Bearer Token has expired, update it.</p>
</dd></dl>

<dl class="method">
<dt id="api.odilo.OdiloAPI.checkin">
<code class="descname">checkin</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.checkin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloAPI.checkin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a book early.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>patron</strong> – a Patron object for the patron who wants to check out the book.</li>
<li><strong>pin</strong> – The patron’s alleged password.</li>
<li><strong>licensepool</strong> – Contains lending info as well as link to parent Identifier.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.odilo.OdiloAPI.checkout">
<code class="descname">checkout</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>internal_format</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.checkout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloAPI.checkout" title="Permalink to this definition">¶</a></dt>
<dd><p>Check out a book on behalf of a patron.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>patron</strong> – a Patron object for the patron who wants
to check out the book.</li>
<li><strong>pin</strong> – The patron’s alleged password.</li>
<li><strong>licensepool</strong> – Identifier of the book to be checked out is
attached to this licensepool.</li>
<li><strong>internal_format</strong> – Represents the patron’s desired book format.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a LoanInfo object.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="api.odilo.OdiloAPI.collection">
<code class="descname">collection</code><a class="headerlink" href="#api.odilo.OdiloAPI.collection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.odilo.OdiloAPI.credential_object">
<code class="descname">credential_object</code><span class="sig-paren">(</span><em>refresh</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.credential_object"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloAPI.credential_object" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up the Credential object that allows us to use
the Odilo API.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.odilo.OdiloAPI.delivery_mechanism_to_internal_format">
<code class="descname">delivery_mechanism_to_internal_format</code><em class="property"> = {(u'application/epub+zip', u'application/vnd.adobe.adept+xml'): 'ACSM_EPUB', (u'application/pdf', u'application/vnd.adobe.adept+xml'): 'ACSM_PDF', (u'application/vnd.librarysimplified.scorm+zip', None): 'SCORM', (u'audio/mpeg', u'Streaming Audio'): 'MP3', (u'image/jpeg', None): 'JPG', (u'text/html', u'Streaming Text'): 'EBOOK_STREAMING', (u'video/mp4', u'Streaming Video'): 'MP4', (u'video/x-ms-wmv', u'Streaming Video'): 'WMV'}</em><a class="headerlink" href="#api.odilo.OdiloAPI.delivery_mechanism_to_internal_format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odilo.OdiloAPI.error_to_exception">
<code class="descname">error_to_exception</code><em class="property"> = {'CHECKOUT_NOT_FOUND': &lt;class 'api.circulation_exceptions.NotCheckedOut'&gt;, 'ERROR_DATA_NOT_FOUND': &lt;class 'api.circulation_exceptions.NotFoundOnRemote'&gt;, 'LOAN_ALREADY_RESERVED': &lt;class 'api.circulation_exceptions.AlreadyOnHold'&gt;, 'TitleNotCheckedOut': &lt;class 'api.circulation_exceptions.NoActiveLoan'&gt;, 'patronNotFound': &lt;class 'api.circulation_exceptions.PatronNotFoundOnRemote'&gt;}</em><a class="headerlink" href="#api.odilo.OdiloAPI.error_to_exception" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.odilo.OdiloAPI.external_integration">
<code class="descname">external_integration</code><span class="sig-paren">(</span><em>_db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.external_integration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloAPI.external_integration" title="Permalink to this definition">¶</a></dt>
<dd><p>Locate the ExternalIntegration associated with this object.
The status of the self-tests will be stored as a ConfigurationSetting
on this ExternalIntegration.</p>
<p>By default, there is no way to get from an object to its
ExternalIntegration, and self-test status will not be stored.</p>
</dd></dl>

<dl class="classmethod">
<dt id="api.odilo.OdiloAPI.extract_date">
<em class="property">classmethod </em><code class="descname">extract_date</code><span class="sig-paren">(</span><em>data</em>, <em>field_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.extract_date"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloAPI.extract_date" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.odilo.OdiloAPI.fulfill">
<code class="descname">fulfill</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>internal_format</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.fulfill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloAPI.fulfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the actual resource file to the patron.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kwargs</strong> – A container for arguments to fulfill()
which are not relevant to this vendor.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a FulfillmentInfo object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.odilo.OdiloAPI.get">
<code class="descname">get</code><span class="sig-paren">(</span><em>url</em>, <em>extra_headers={}</em>, <em>exception_on_401=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.get"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloAPI.get" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an HTTP GET request using the active Bearer Token.</p>
</dd></dl>

<dl class="method">
<dt id="api.odilo.OdiloAPI.get_availability">
<code class="descname">get_availability</code><span class="sig-paren">(</span><em>record_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.get_availability"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloAPI.get_availability" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.odilo.OdiloAPI.get_checkout">
<code class="descname">get_checkout</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>record_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.get_checkout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloAPI.get_checkout" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.odilo.OdiloAPI.get_fulfillment_link">
<code class="descname">get_fulfillment_link</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>record_id</em>, <em>format_type</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.get_fulfillment_link"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloAPI.get_fulfillment_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the link corresponding to an existing checkout.</p>
</dd></dl>

<dl class="method">
<dt id="api.odilo.OdiloAPI.get_hold">
<code class="descname">get_hold</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>record_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.get_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloAPI.get_hold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.odilo.OdiloAPI.get_metadata">
<code class="descname">get_metadata</code><span class="sig-paren">(</span><em>record_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.get_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloAPI.get_metadata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.odilo.OdiloAPI.get_patron_checkouts">
<code class="descname">get_patron_checkouts</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.get_patron_checkouts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloAPI.get_patron_checkouts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.odilo.OdiloAPI.get_patron_holds">
<code class="descname">get_patron_holds</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.get_patron_holds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloAPI.get_patron_holds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.odilo.OdiloAPI.hold_from_odilo_hold">
<code class="descname">hold_from_odilo_hold</code><span class="sig-paren">(</span><em>collection</em>, <em>hold</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.hold_from_odilo_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloAPI.hold_from_odilo_hold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.odilo.OdiloAPI.loan_info_from_odilo_checkout">
<code class="descname">loan_info_from_odilo_checkout</code><span class="sig-paren">(</span><em>collection</em>, <em>checkout</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.loan_info_from_odilo_checkout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloAPI.loan_info_from_odilo_checkout" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odilo.OdiloAPI.log">
<code class="descname">log</code><em class="property"> = &lt;logging.Logger object&gt;</em><a class="headerlink" href="#api.odilo.OdiloAPI.log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.odilo.OdiloAPI.patron_activity">
<code class="descname">patron_activity</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.patron_activity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloAPI.patron_activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a patron’s current checkouts and holds.</p>
</dd></dl>

<dl class="method">
<dt id="api.odilo.OdiloAPI.patron_request">
<code class="descname">patron_request</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>url</em>, <em>extra_headers={}</em>, <em>data=None</em>, <em>exception_on_401=False</em>, <em>method=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.patron_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloAPI.patron_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an HTTP request on behalf of a patron.</p>
<p>The results are never cached.</p>
</dd></dl>

<dl class="method">
<dt id="api.odilo.OdiloAPI.place_hold">
<code class="descname">place_hold</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>notification_email_address</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.place_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloAPI.place_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Place a book on hold.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A HoldInfo object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="api.odilo.OdiloAPI.raise_exception_on_error">
<em class="property">classmethod </em><code class="descname">raise_exception_on_error</code><span class="sig-paren">(</span><em>data</em>, <em>default_exception_class=None</em>, <em>ignore_exception_codes=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.raise_exception_on_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloAPI.raise_exception_on_error" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.odilo.OdiloAPI.refresh_creds">
<code class="descname">refresh_creds</code><span class="sig-paren">(</span><em>credential</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.refresh_creds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloAPI.refresh_creds" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch a new Bearer Token and update the given Credential object.</p>
</dd></dl>

<dl class="method">
<dt id="api.odilo.OdiloAPI.release_hold">
<code class="descname">release_hold</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.release_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloAPI.release_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Release a patron’s hold on a book.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.odilo.OdiloAPI.source">
<code class="descname">source</code><a class="headerlink" href="#api.odilo.OdiloAPI.source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.odilo.OdiloAPI.token_post">
<code class="descname">token_post</code><span class="sig-paren">(</span><em>url</em>, <em>payload</em>, <em>headers={}</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloAPI.token_post"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloAPI.token_post" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an HTTP POST request for purposes of getting an OAuth token.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.odilo.OdiloBibliographicCoverageProvider">
<em class="property">class </em><code class="descclassname">api.odilo.</code><code class="descname">OdiloBibliographicCoverageProvider</code><span class="sig-paren">(</span><em>collection</em>, <em>api_class=&lt;class 'api.odilo.OdiloAPI'&gt;</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloBibliographicCoverageProvider"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloBibliographicCoverageProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.coverage.BibliographicCoverageProvider" title="core.coverage.BibliographicCoverageProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.coverage.BibliographicCoverageProvider</span></code></a></p>
<p>Fill in bibliographic metadata for Odilo records.</p>
<p>This will occasionally fill in some availability information for a
single Collection, but we rely on Monitors to keep availability
information up to date for all Collections.</p>
<dl class="attribute">
<dt id="api.odilo.OdiloBibliographicCoverageProvider.DATA_SOURCE_NAME">
<code class="descname">DATA_SOURCE_NAME</code><em class="property"> = u'Odilo'</em><a class="headerlink" href="#api.odilo.OdiloBibliographicCoverageProvider.DATA_SOURCE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odilo.OdiloBibliographicCoverageProvider.INPUT_IDENTIFIER_TYPES">
<code class="descname">INPUT_IDENTIFIER_TYPES</code><em class="property"> = u'Odilo ID'</em><a class="headerlink" href="#api.odilo.OdiloBibliographicCoverageProvider.INPUT_IDENTIFIER_TYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odilo.OdiloBibliographicCoverageProvider.PROTOCOL">
<code class="descname">PROTOCOL</code><em class="property"> = u'Odilo'</em><a class="headerlink" href="#api.odilo.OdiloBibliographicCoverageProvider.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odilo.OdiloBibliographicCoverageProvider.SERVICE_NAME">
<code class="descname">SERVICE_NAME</code><em class="property"> = 'Odilo Bibliographic Coverage Provider'</em><a class="headerlink" href="#api.odilo.OdiloBibliographicCoverageProvider.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.odilo.OdiloBibliographicCoverageProvider.process_item">
<code class="descname">process_item</code><span class="sig-paren">(</span><em>record_id</em>, <em>record=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloBibliographicCoverageProvider.process_item"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloBibliographicCoverageProvider.process_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Do the work necessary to give coverage to one specific item.</p>
<p>Since this is where the actual work happens, this is not
implemented in IdentifierCoverageProvider or
WorkCoverageProvider, and must be handled in a subclass.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.odilo.OdiloCirculationMonitor">
<em class="property">class </em><code class="descclassname">api.odilo.</code><code class="descname">OdiloCirculationMonitor</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>api_class=&lt;class 'api.odilo.OdiloAPI'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloCirculationMonitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloCirculationMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.monitor.CollectionMonitor" title="core.monitor.CollectionMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.monitor.CollectionMonitor</span></code></a>, <a class="reference internal" href="core.html#core.monitor.TimelineMonitor" title="core.monitor.TimelineMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.monitor.TimelineMonitor</span></code></a></p>
<p>Maintain LicensePools for recently changed Odilo titles</p>
<dl class="attribute">
<dt id="api.odilo.OdiloCirculationMonitor.DEFAULT_START_TIME">
<code class="descname">DEFAULT_START_TIME</code><em class="property"> = &lt;object object&gt;</em><a class="headerlink" href="#api.odilo.OdiloCirculationMonitor.DEFAULT_START_TIME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odilo.OdiloCirculationMonitor.INTERVAL_SECONDS">
<code class="descname">INTERVAL_SECONDS</code><em class="property"> = 500</em><a class="headerlink" href="#api.odilo.OdiloCirculationMonitor.INTERVAL_SECONDS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odilo.OdiloCirculationMonitor.PROTOCOL">
<code class="descname">PROTOCOL</code><em class="property"> = u'Odilo'</em><a class="headerlink" href="#api.odilo.OdiloCirculationMonitor.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odilo.OdiloCirculationMonitor.SERVICE_NAME">
<code class="descname">SERVICE_NAME</code><em class="property"> = 'Odilo Circulation Monitor'</em><a class="headerlink" href="#api.odilo.OdiloCirculationMonitor.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.odilo.OdiloCirculationMonitor.all_ids">
<code class="descname">all_ids</code><span class="sig-paren">(</span><em>modification_date=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloCirculationMonitor.all_ids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloCirculationMonitor.all_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Get IDs for every book in the system, from modification date if any</p>
</dd></dl>

<dl class="method">
<dt id="api.odilo.OdiloCirculationMonitor.catch_up_from">
<code class="descname">catch_up_from</code><span class="sig-paren">(</span><em>start</em>, <em>cutoff</em>, <em>progress</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloCirculationMonitor.catch_up_from"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloCirculationMonitor.catch_up_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Find Odilo books that changed recently.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Progress:</th><td class="field-body">A TimestampData representing the time previously
covered by this Monitor.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.odilo.OdiloCirculationMonitor.get_url">
<code class="descname">get_url</code><span class="sig-paren">(</span><em>limit</em>, <em>modification_date</em>, <em>offset</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloCirculationMonitor.get_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloCirculationMonitor.get_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.odilo.OdiloRepresentationExtractor">
<em class="property">class </em><code class="descclassname">api.odilo.</code><code class="descname">OdiloRepresentationExtractor</code><a class="reference internal" href="_modules/api/odilo.html#OdiloRepresentationExtractor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloRepresentationExtractor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Extract useful information from Odilo’s JSON representations.</p>
<dl class="attribute">
<dt id="api.odilo.OdiloRepresentationExtractor.ACSM">
<code class="descname">ACSM</code><em class="property"> = 'ACSM'</em><a class="headerlink" href="#api.odilo.OdiloRepresentationExtractor.ACSM" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odilo.OdiloRepresentationExtractor.ACSM_EPUB">
<code class="descname">ACSM_EPUB</code><em class="property"> = 'ACSM_EPUB'</em><a class="headerlink" href="#api.odilo.OdiloRepresentationExtractor.ACSM_EPUB" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odilo.OdiloRepresentationExtractor.ACSM_PDF">
<code class="descname">ACSM_PDF</code><em class="property"> = 'ACSM_PDF'</em><a class="headerlink" href="#api.odilo.OdiloRepresentationExtractor.ACSM_PDF" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odilo.OdiloRepresentationExtractor.EBOOK_STREAMING">
<code class="descname">EBOOK_STREAMING</code><em class="property"> = 'EBOOK_STREAMING'</em><a class="headerlink" href="#api.odilo.OdiloRepresentationExtractor.EBOOK_STREAMING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odilo.OdiloRepresentationExtractor.format_data_for_odilo_format">
<code class="descname">format_data_for_odilo_format</code><em class="property"> = {'ACSM_EPUB': (u'application/epub+zip', u'application/vnd.adobe.adept+xml'), 'ACSM_PDF': (u'application/pdf', u'application/vnd.adobe.adept+xml'), 'EBOOK_STREAMING': (u'text/html', u'Streaming Text'), 'JPG': (u'image/jpeg', None), 'MP3': (u'audio/mpeg', u'Streaming Audio'), 'MP4': (u'video/mp4', u'Streaming Video'), 'SCORM': (u'application/vnd.librarysimplified.scorm+zip', None), 'WMV': (u'video/x-ms-wmv', u'Streaming Video')}</em><a class="headerlink" href="#api.odilo.OdiloRepresentationExtractor.format_data_for_odilo_format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.odilo.OdiloRepresentationExtractor.image_link_to_linkdata">
<em class="property">classmethod </em><code class="descname">image_link_to_linkdata</code><span class="sig-paren">(</span><em>link</em>, <em>rel</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloRepresentationExtractor.image_link_to_linkdata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloRepresentationExtractor.image_link_to_linkdata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odilo.OdiloRepresentationExtractor.log">
<code class="descname">log</code><em class="property"> = &lt;logging.Logger object&gt;</em><a class="headerlink" href="#api.odilo.OdiloRepresentationExtractor.log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odilo.OdiloRepresentationExtractor.odilo_medium_to_simplified_medium">
<code class="descname">odilo_medium_to_simplified_medium</code><em class="property"> = {'ACSM_EPUB': u'Book', 'ACSM_PDF': u'Book', 'EBOOK_STREAMING': u'Book', 'JPG': u'Image', 'MP3': u'Audio', 'MP4': u'Video', 'SCORM': u'Courseware', 'WMV': u'Video'}</em><a class="headerlink" href="#api.odilo.OdiloRepresentationExtractor.odilo_medium_to_simplified_medium" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.odilo.OdiloRepresentationExtractor.record_info_to_circulation">
<em class="property">classmethod </em><code class="descname">record_info_to_circulation</code><span class="sig-paren">(</span><em>availability</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloRepresentationExtractor.record_info_to_circulation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloRepresentationExtractor.record_info_to_circulation" title="Permalink to this definition">¶</a></dt>
<dd><p>Note:  The json data passed into this method is from a different file/stream
from the json data that goes into the record_info_to_metadata() method.</p>
</dd></dl>

<dl class="classmethod">
<dt id="api.odilo.OdiloRepresentationExtractor.record_info_to_metadata">
<em class="property">classmethod </em><code class="descname">record_info_to_metadata</code><span class="sig-paren">(</span><em>book</em>, <em>availability</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloRepresentationExtractor.record_info_to_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloRepresentationExtractor.record_info_to_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn Odilo’s JSON representation of a book into a Metadata
object.</p>
<p>Note:  The json data passed into this method is from a different file/stream
from the json data that goes into the book_info_to_circulation() method.</p>
</dd></dl>

<dl class="classmethod">
<dt id="api.odilo.OdiloRepresentationExtractor.set_format">
<em class="property">classmethod </em><code class="descname">set_format</code><span class="sig-paren">(</span><em>format_received</em>, <em>formats</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odilo.html#OdiloRepresentationExtractor.set_format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odilo.OdiloRepresentationExtractor.set_format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api.odl">
<span id="api-odl-module"></span><h2>api.odl module<a class="headerlink" href="#module-api.odl" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="api.odl.MockODLAPI">
<em class="property">class </em><code class="descclassname">api.odl.</code><code class="descname">MockODLAPI</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#MockODLAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.MockODLAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.odl.ODLAPI" title="api.odl.ODLAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.odl.ODLAPI</span></code></a></p>
<p>Mock API for tests that overrides _get and _url_for and tracks requests.</p>
<dl class="classmethod">
<dt id="api.odl.MockODLAPI.mock_collection">
<em class="property">classmethod </em><code class="descname">mock_collection</code><span class="sig-paren">(</span><em>_db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#MockODLAPI.mock_collection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.MockODLAPI.mock_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a mock ODL collection to use in tests.</p>
</dd></dl>

<dl class="method">
<dt id="api.odl.MockODLAPI.queue_response">
<code class="descname">queue_response</code><span class="sig-paren">(</span><em>status_code</em>, <em>headers={}</em>, <em>content=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#MockODLAPI.queue_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.MockODLAPI.queue_response" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.odl.MockSharedODLAPI">
<em class="property">class </em><code class="descclassname">api.odl.</code><code class="descname">MockSharedODLAPI</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#MockSharedODLAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.MockSharedODLAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.odl.SharedODLAPI" title="api.odl.SharedODLAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.odl.SharedODLAPI</span></code></a></p>
<p>Mock API for tests that overrides _get and tracks requests.</p>
<dl class="classmethod">
<dt id="api.odl.MockSharedODLAPI.mock_collection">
<em class="property">classmethod </em><code class="descname">mock_collection</code><span class="sig-paren">(</span><em>_db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#MockSharedODLAPI.mock_collection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.MockSharedODLAPI.mock_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a mock ODL collection to use in tests.</p>
</dd></dl>

<dl class="method">
<dt id="api.odl.MockSharedODLAPI.queue_response">
<code class="descname">queue_response</code><span class="sig-paren">(</span><em>status_code</em>, <em>headers={}</em>, <em>content=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#MockSharedODLAPI.queue_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.MockSharedODLAPI.queue_response" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.odl.ODLAPI">
<em class="property">class </em><code class="descclassname">api.odl.</code><code class="descname">ODLAPI</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.ODLAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation.BaseCirculationAPI" title="api.circulation.BaseCirculationAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation.BaseCirculationAPI</span></code></a>, <a class="reference internal" href="#api.shared_collection.BaseSharedCollectionAPI" title="api.shared_collection.BaseSharedCollectionAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.shared_collection.BaseSharedCollectionAPI</span></code></a></p>
<p>ODL (Open Distribution to Libraries) is a specification that allows
libraries to manage their own loans and holds. It offers a deeper level
of control to the library, but it requires the circulation manager to
keep track of individual copies rather than just license pools, and
manage its own holds queues.</p>
<p>In addition to circulating books to patrons of a library on the current circulation
manager, this API can be used to circulate books to patrons of external libraries.
Only one circulation manager per ODL collection should use an ODLAPI
- the others should use a SharedODLAPI and configure it to connect to the main
circulation manager.</p>
<dl class="attribute">
<dt id="api.odl.ODLAPI.ACTIVE_STATUS">
<code class="descname">ACTIVE_STATUS</code><em class="property"> = 'active'</em><a class="headerlink" href="#api.odl.ODLAPI.ACTIVE_STATUS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odl.ODLAPI.CANCELLED_STATUS">
<code class="descname">CANCELLED_STATUS</code><em class="property"> = 'cancelled'</em><a class="headerlink" href="#api.odl.ODLAPI.CANCELLED_STATUS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odl.ODLAPI.DESCRIPTION">
<code class="descname">DESCRIPTION</code><em class="property"> = l'Import books from a distributor that uses ODL (Open Distribution to Libraries).'</em><a class="headerlink" href="#api.odl.ODLAPI.DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odl.ODLAPI.EXPIRED_STATUS">
<code class="descname">EXPIRED_STATUS</code><em class="property"> = 'expired'</em><a class="headerlink" href="#api.odl.ODLAPI.EXPIRED_STATUS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odl.ODLAPI.LIBRARY_SETTINGS">
<code class="descname">LIBRARY_SETTINGS</code><em class="property"> = [{'default': 21, 'type': 'number', 'description': l'When a patron uses SimplyE to borrow an ebook from this collection, SimplyE will ask for a loan that lasts this number of days. This must be equal to or less than the maximum loan duration negotiated with the distributor.', 'key': 'ebook_loan_duration', 'label': l'Ebook Loan Duration (in Days)'}]</em><a class="headerlink" href="#api.odl.ODLAPI.LIBRARY_SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odl.ODLAPI.NAME">
<code class="descname">NAME</code><em class="property"> = 'ODL'</em><a class="headerlink" href="#api.odl.ODLAPI.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odl.ODLAPI.READY_STATUS">
<code class="descname">READY_STATUS</code><em class="property"> = 'ready'</em><a class="headerlink" href="#api.odl.ODLAPI.READY_STATUS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odl.ODLAPI.RETURNED_STATUS">
<code class="descname">RETURNED_STATUS</code><em class="property"> = 'returned'</em><a class="headerlink" href="#api.odl.ODLAPI.RETURNED_STATUS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odl.ODLAPI.REVOKED_STATUS">
<code class="descname">REVOKED_STATUS</code><em class="property"> = 'revoked'</em><a class="headerlink" href="#api.odl.ODLAPI.REVOKED_STATUS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odl.ODLAPI.SETTINGS">
<code class="descname">SETTINGS</code><em class="property"> = [{'format': 'url', 'required': True, 'key': u'external_account_id', 'label': l'ODL feed URL'}, {'required': True, 'key': u'username', 'label': l'Library's API username'}, {'required': True, 'key': u'password', 'label': l'Library's API password'}, {'required': True, 'key': u'data_source', 'label': l'Data source name'}, {'default': 3, 'type': 'number', 'description': l'The number of days a patron has to check out a book after a hold becomes available.', 'key': 'default_reservation_period', 'label': l'Default Reservation Period (in Days)'}, {'format': 'url', 'type': 'list', 'description': l'A URL should include the library's short name (e.g. https://circulation.librarysimplified.org/NYNYPL/), even if it is the only library on the circulation manager.', 'key': 'external_library_urls', 'label': l'URLs for libraries on other circulation managers that use this collection'}, {'default': 21, 'type': 'number', 'description': l'When a patron from another library borrows an ebook from this collection, the circulation manager will ask for a loan that lasts this number of days. This must be equal to or less than the maximum loan duration negotiated with the distributor.', 'key': 'ebook_loan_duration', 'label': l'Ebook Loan Duration for libraries on other circulation managers (in Days)'}]</em><a class="headerlink" href="#api.odl.ODLAPI.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odl.ODLAPI.SET_DELIVERY_MECHANISM_AT">
<code class="descname">SET_DELIVERY_MECHANISM_AT</code><em class="property"> = 'fulfill'</em><a class="headerlink" href="#api.odl.ODLAPI.SET_DELIVERY_MECHANISM_AT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odl.ODLAPI.STATUS_VALUES">
<code class="descname">STATUS_VALUES</code><em class="property"> = ['ready', 'active', 'revoked', 'returned', 'cancelled', 'expired']</em><a class="headerlink" href="#api.odl.ODLAPI.STATUS_VALUES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odl.ODLAPI.TIME_FORMAT">
<code class="descname">TIME_FORMAT</code><em class="property"> = '%Y-%m-%dT%H:%M:%SZ'</em><a class="headerlink" href="#api.odl.ODLAPI.TIME_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.odl.ODLAPI.checkin">
<code class="descname">checkin</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLAPI.checkin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.ODLAPI.checkin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a loan early.</p>
</dd></dl>

<dl class="method">
<dt id="api.odl.ODLAPI.checkin_from_external_library">
<code class="descname">checkin_from_external_library</code><span class="sig-paren">(</span><em>client</em>, <em>loan</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLAPI.checkin_from_external_library"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.ODLAPI.checkin_from_external_library" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.odl.ODLAPI.checkout">
<code class="descname">checkout</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>internal_format</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLAPI.checkout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.ODLAPI.checkout" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new loan.</p>
</dd></dl>

<dl class="method">
<dt id="api.odl.ODLAPI.checkout_to_external_library">
<code class="descname">checkout_to_external_library</code><span class="sig-paren">(</span><em>client</em>, <em>licensepool</em>, <em>hold=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLAPI.checkout_to_external_library"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.ODLAPI.checkout_to_external_library" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.odl.ODLAPI.collection">
<code class="descname">collection</code><span class="sig-paren">(</span><em>_db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLAPI.collection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.ODLAPI.collection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.odl.ODLAPI.fulfill">
<code class="descname">fulfill</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>internal_format</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLAPI.fulfill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.ODLAPI.fulfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the actual resource file to the patron.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kwargs</strong> – A container for arguments to fulfill()
which are not relevant to this vendor.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a FulfillmentInfo object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.odl.ODLAPI.fulfill_for_external_library">
<code class="descname">fulfill_for_external_library</code><span class="sig-paren">(</span><em>client</em>, <em>loan</em>, <em>mechanism</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLAPI.fulfill_for_external_library"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.ODLAPI.fulfill_for_external_library" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.odl.ODLAPI.get_license_status_document">
<code class="descname">get_license_status_document</code><span class="sig-paren">(</span><em>loan</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLAPI.get_license_status_document"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.ODLAPI.get_license_status_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the License Status Document for a loan.</p>
<p>For a new loan, create a local loan with no external identifier and
pass it in to this method.</p>
<p>This will create the remote loan if one doesn’t exist yet. The loan’s
internal database id will be used to receive notifications from the
distributor when the loan’s status changes.</p>
</dd></dl>

<dl class="method">
<dt id="api.odl.ODLAPI.internal_format">
<code class="descname">internal_format</code><span class="sig-paren">(</span><em>delivery_mechanism</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLAPI.internal_format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.ODLAPI.internal_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Each consolidated copy is only available in one format, so we don’t need
a mapping to internal formats.</p>
</dd></dl>

<dl class="method">
<dt id="api.odl.ODLAPI.patron_activity">
<code class="descname">patron_activity</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLAPI.patron_activity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.ODLAPI.patron_activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up non-expired loans for this collection in the database.</p>
</dd></dl>

<dl class="method">
<dt id="api.odl.ODLAPI.place_hold">
<code class="descname">place_hold</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>notification_email_address</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLAPI.place_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.ODLAPI.place_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new hold.</p>
</dd></dl>

<dl class="method">
<dt id="api.odl.ODLAPI.release_hold">
<code class="descname">release_hold</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLAPI.release_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.ODLAPI.release_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Cancel a hold.</p>
</dd></dl>

<dl class="method">
<dt id="api.odl.ODLAPI.release_hold_from_external_library">
<code class="descname">release_hold_from_external_library</code><span class="sig-paren">(</span><em>client</em>, <em>hold</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLAPI.release_hold_from_external_library"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.ODLAPI.release_hold_from_external_library" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.odl.ODLAPI.update_hold_queue">
<code class="descname">update_hold_queue</code><span class="sig-paren">(</span><em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLAPI.update_hold_queue"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.ODLAPI.update_hold_queue" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.odl.ODLAPI.update_loan">
<code class="descname">update_loan</code><span class="sig-paren">(</span><em>loan</em>, <em>status_doc=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLAPI.update_loan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.ODLAPI.update_loan" title="Permalink to this definition">¶</a></dt>
<dd><p>Check a loan’s status, and if it is no longer active, delete the loan
and update its pool’s availability.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.odl.ODLHoldReaper">
<em class="property">class </em><code class="descclassname">api.odl.</code><code class="descname">ODLHoldReaper</code><span class="sig-paren">(</span><em>_db</em>, <em>collection=None</em>, <em>api=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLHoldReaper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.ODLHoldReaper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.monitor.CollectionMonitor" title="core.monitor.CollectionMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.monitor.CollectionMonitor</span></code></a></p>
<p>Check for holds that have expired and delete them, and update
the holds queues for their pools.</p>
<dl class="attribute">
<dt id="api.odl.ODLHoldReaper.PROTOCOL">
<code class="descname">PROTOCOL</code><em class="property"> = 'ODL'</em><a class="headerlink" href="#api.odl.ODLHoldReaper.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odl.ODLHoldReaper.SERVICE_NAME">
<code class="descname">SERVICE_NAME</code><em class="property"> = 'ODL Hold Reaper'</em><a class="headerlink" href="#api.odl.ODLHoldReaper.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.odl.ODLHoldReaper.run_once">
<code class="descname">run_once</code><span class="sig-paren">(</span><em>progress</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLHoldReaper.run_once"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.ODLHoldReaper.run_once" title="Permalink to this definition">¶</a></dt>
<dd><p>Do the actual work of the Monitor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>progress</strong> – A TimestampData representing the
work done by the Monitor up to this point.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A TimestampData representing how you want the
Monitor’s entry in the <cite>timestamps</cite> table to look like
from this point on.  NOTE: Modifying the incoming
<cite>progress</cite> and returning it is generally a bad idea,
because the incoming <cite>progress</cite> is full of old
data. Instead, return a new TimestampData containing data
for only the fields you want to set.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.odl.ODLImportMonitor">
<em class="property">class </em><code class="descclassname">api.odl.</code><code class="descname">ODLImportMonitor</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>import_class</em>, <em>force_reimport=False</em>, <em>**import_class_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLImportMonitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.ODLImportMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.opds_import.OPDSImportMonitor" title="core.opds_import.OPDSImportMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.opds_import.OPDSImportMonitor</span></code></a></p>
<p>Import information from an ODL feed.</p>
<dl class="attribute">
<dt id="api.odl.ODLImportMonitor.PROTOCOL">
<code class="descname">PROTOCOL</code><em class="property"> = 'ODL'</em><a class="headerlink" href="#api.odl.ODLImportMonitor.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odl.ODLImportMonitor.SERVICE_NAME">
<code class="descname">SERVICE_NAME</code><em class="property"> = 'ODL Import Monitor'</em><a class="headerlink" href="#api.odl.ODLImportMonitor.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.odl.ODLImporter">
<em class="property">class </em><code class="descclassname">api.odl.</code><code class="descname">ODLImporter</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>data_source_name=None</em>, <em>identifier_mapping=None</em>, <em>http_get=None</em>, <em>metadata_client=None</em>, <em>content_modifier=None</em>, <em>map_from_collection=None</em>, <em>mirrors=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#ODLImporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.ODLImporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.opds_import.OPDSImporter" title="core.opds_import.OPDSImporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.opds_import.OPDSImporter</span></code></a></p>
<p>Import information and formats from an ODL feed.</p>
<p>The only change from OPDSImporter is that this importer extracts
format information from ‘odl:license’ tags.</p>
<dl class="attribute">
<dt id="api.odl.ODLImporter.LICENSE_INFO_DOCUMENT_MEDIA_TYPE">
<code class="descname">LICENSE_INFO_DOCUMENT_MEDIA_TYPE</code><em class="property"> = 'application/vnd.odl.info+json'</em><a class="headerlink" href="#api.odl.ODLImporter.LICENSE_INFO_DOCUMENT_MEDIA_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odl.ODLImporter.NAME">
<code class="descname">NAME</code><em class="property"> = 'ODL'</em><a class="headerlink" href="#api.odl.ODLImporter.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odl.ODLImporter.PARSER_CLASS">
<code class="descname">PARSER_CLASS</code><a class="headerlink" href="#api.odl.ODLImporter.PARSER_CLASS" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#api.odl.ODLXMLParser" title="api.odl.ODLXMLParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">ODLXMLParser</span></code></a></p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.odl.ODLXMLParser">
<em class="property">class </em><code class="descclassname">api.odl.</code><code class="descname">ODLXMLParser</code><a class="reference internal" href="_modules/api/odl.html#ODLXMLParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.ODLXMLParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.opds_import.OPDSXMLParser" title="core.opds_import.OPDSXMLParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.opds_import.OPDSXMLParser</span></code></a></p>
<dl class="attribute">
<dt id="api.odl.ODLXMLParser.NAMESPACES">
<code class="descname">NAMESPACES</code><em class="property"> = {'app': 'http://www.w3.org/2007/app', 'atom': 'http://www.w3.org/2005/Atom', 'dc': 'http://purl.org/dc/elements/1.1/', 'dcterms': 'http://purl.org/dc/terms/', 'drm': 'http://librarysimplified.org/terms/drm', 'odl': 'http://opds-spec.org/odl', 'opds': 'http://opds-spec.org/2010/catalog', 'schema': 'http://schema.org/', 'simplified': 'http://librarysimplified.org/terms/'}</em><a class="headerlink" href="#api.odl.ODLXMLParser.NAMESPACES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.odl.SharedODLAPI">
<em class="property">class </em><code class="descclassname">api.odl.</code><code class="descname">SharedODLAPI</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#SharedODLAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.SharedODLAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation.BaseCirculationAPI" title="api.circulation.BaseCirculationAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation.BaseCirculationAPI</span></code></a></p>
<p>An API for circulation managers to use to connect to an ODL collection that’s shared
by another circulation manager.</p>
<dl class="attribute">
<dt id="api.odl.SharedODLAPI.DESCRIPTION">
<code class="descname">DESCRIPTION</code><em class="property"> = l'Import books from an ODL collection that's hosted by another circulation manager in the consortium. If this circulation manager will be the main host for the collection, select ODL instead.'</em><a class="headerlink" href="#api.odl.SharedODLAPI.DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odl.SharedODLAPI.NAME">
<code class="descname">NAME</code><em class="property"> = 'Shared ODL For Consortia'</em><a class="headerlink" href="#api.odl.SharedODLAPI.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odl.SharedODLAPI.SETTINGS">
<code class="descname">SETTINGS</code><em class="property"> = [{'required': True, 'description': l'The base URL for the collection on the other circulation manager.', 'key': u'external_account_id', 'label': l'Base URL'}, {'required': True, 'key': u'data_source', 'label': l'Data source name'}]</em><a class="headerlink" href="#api.odl.SharedODLAPI.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odl.SharedODLAPI.SUPPORTS_REGISTRATION">
<code class="descname">SUPPORTS_REGISTRATION</code><em class="property"> = True</em><a class="headerlink" href="#api.odl.SharedODLAPI.SUPPORTS_REGISTRATION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odl.SharedODLAPI.SUPPORTS_STAGING">
<code class="descname">SUPPORTS_STAGING</code><em class="property"> = False</em><a class="headerlink" href="#api.odl.SharedODLAPI.SUPPORTS_STAGING" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odl.SharedODLAPI.TIME_FORMAT">
<code class="descname">TIME_FORMAT</code><em class="property"> = '%Y-%m-%dT%H:%M:%SZ'</em><a class="headerlink" href="#api.odl.SharedODLAPI.TIME_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.odl.SharedODLAPI.checkin">
<code class="descname">checkin</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#SharedODLAPI.checkin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.SharedODLAPI.checkin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a book early.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>patron</strong> – a Patron object for the patron who wants to check out the book.</li>
<li><strong>pin</strong> – The patron’s alleged password.</li>
<li><strong>licensepool</strong> – Contains lending info as well as link to parent Identifier.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.odl.SharedODLAPI.checkout">
<code class="descname">checkout</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>internal_format</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#SharedODLAPI.checkout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.SharedODLAPI.checkout" title="Permalink to this definition">¶</a></dt>
<dd><p>Check out a book on behalf of a patron.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>patron</strong> – a Patron object for the patron who wants to check out the book.</li>
<li><strong>pin</strong> – The patron’s alleged password.</li>
<li><strong>licensepool</strong> – Contains lending info as well as link to parent Identifier.</li>
<li><strong>internal_format</strong> – Represents the patron’s desired book format.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a LoanInfo object.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.odl.SharedODLAPI.collection">
<code class="descname">collection</code><span class="sig-paren">(</span><em>_db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#SharedODLAPI.collection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.SharedODLAPI.collection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.odl.SharedODLAPI.fulfill">
<code class="descname">fulfill</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>internal_format</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#SharedODLAPI.fulfill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.SharedODLAPI.fulfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the actual resource file to the patron.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kwargs</strong> – A container for arguments to fulfill()
which are not relevant to this vendor.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a FulfillmentInfo object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.odl.SharedODLAPI.internal_format">
<code class="descname">internal_format</code><span class="sig-paren">(</span><em>delivery_mechanism</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#SharedODLAPI.internal_format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.SharedODLAPI.internal_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Each consolidated copy is only available in one format, so we don’t need
a mapping to internal formats.</p>
</dd></dl>

<dl class="method">
<dt id="api.odl.SharedODLAPI.patron_activity">
<code class="descname">patron_activity</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#SharedODLAPI.patron_activity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.SharedODLAPI.patron_activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a patron’s current checkouts and holds.</p>
</dd></dl>

<dl class="method">
<dt id="api.odl.SharedODLAPI.place_hold">
<code class="descname">place_hold</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>notification_email_address</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#SharedODLAPI.place_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.SharedODLAPI.place_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Place a book on hold.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A HoldInfo object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.odl.SharedODLAPI.release_hold">
<code class="descname">release_hold</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#SharedODLAPI.release_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.SharedODLAPI.release_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Release a patron’s hold on a book.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="#api.circulation_exceptions.CannotReleaseHold" title="api.circulation_exceptions.CannotReleaseHold"><strong>CannotReleaseHold</strong></a> – If there is an error communicating
with the provider, or the provider refuses to release the hold for
any reason.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.odl.SharedODLImportMonitor">
<em class="property">class </em><code class="descclassname">api.odl.</code><code class="descname">SharedODLImportMonitor</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>import_class</em>, <em>force_reimport=False</em>, <em>**import_class_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#SharedODLImportMonitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.SharedODLImportMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.opds_import.OPDSImportMonitor" title="core.opds_import.OPDSImportMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.opds_import.OPDSImportMonitor</span></code></a></p>
<dl class="attribute">
<dt id="api.odl.SharedODLImportMonitor.PROTOCOL">
<code class="descname">PROTOCOL</code><em class="property"> = 'Shared ODL For Consortia'</em><a class="headerlink" href="#api.odl.SharedODLImportMonitor.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.odl.SharedODLImportMonitor.SERVICE_NAME">
<code class="descname">SERVICE_NAME</code><em class="property"> = 'Shared ODL Import Monitor'</em><a class="headerlink" href="#api.odl.SharedODLImportMonitor.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.odl.SharedODLImportMonitor.opds_url">
<code class="descname">opds_url</code><span class="sig-paren">(</span><em>collection</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#SharedODLImportMonitor.opds_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.SharedODLImportMonitor.opds_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns the OPDS import URL for the given collection.</p>
<p>By default, this URL is stored as the external account ID, but
subclasses may override this.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.odl.SharedODLImporter">
<em class="property">class </em><code class="descclassname">api.odl.</code><code class="descname">SharedODLImporter</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>data_source_name=None</em>, <em>identifier_mapping=None</em>, <em>http_get=None</em>, <em>metadata_client=None</em>, <em>content_modifier=None</em>, <em>map_from_collection=None</em>, <em>mirrors=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#SharedODLImporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.SharedODLImporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.opds_import.OPDSImporter" title="core.opds_import.OPDSImporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.opds_import.OPDSImporter</span></code></a></p>
<dl class="attribute">
<dt id="api.odl.SharedODLImporter.NAME">
<code class="descname">NAME</code><em class="property"> = 'Shared ODL For Consortia'</em><a class="headerlink" href="#api.odl.SharedODLImporter.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.odl.SharedODLImporter.get_fulfill_url">
<em class="property">classmethod </em><code class="descname">get_fulfill_url</code><span class="sig-paren">(</span><em>entry</em>, <em>requested_content_type</em>, <em>requested_drm_scheme</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/odl.html#SharedODLImporter.get_fulfill_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.odl.SharedODLImporter.get_fulfill_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api.onix">
<span id="api-onix-module"></span><h2>api.onix module<a class="headerlink" href="#module-api.onix" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="api.onix.ONIXExtractor">
<em class="property">class </em><code class="descclassname">api.onix.</code><code class="descname">ONIXExtractor</code><a class="reference internal" href="_modules/api/onix.html#ONIXExtractor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.onix.ONIXExtractor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Transform an ONIX file into a list of Metadata objects.</p>
<dl class="attribute">
<dt id="api.onix.ONIXExtractor.AUDIENCE_TYPES">
<code class="descname">AUDIENCE_TYPES</code><em class="property"> = {'01': 'Adult', '02': 'Children', '03': 'Young Adult', '04': 'Children', '05': 'Adult', '06': 'Adult', '07': 'Adult', '08': 'Adult', '09': 'Adult'}</em><a class="headerlink" href="#api.onix.ONIXExtractor.AUDIENCE_TYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.onix.ONIXExtractor.CONTRIBUTOR_TYPES">
<code class="descname">CONTRIBUTOR_TYPES</code><em class="property"> = {'A01': u'Author', 'A02': u'Author', 'A03': u'Author', 'A04': u'Lyricist', 'A05': u'Lyricist', 'A06': u'Composer', 'A07': u'Illustrator', 'A08': u'Photographer', 'A09': u'Author', 'A10': u'Unknown', 'A11': u'Designer', 'A12': u'Illustrator', 'A13': u'Photographer', 'A14': u'Author', 'A15': u'Introduction Author', 'A16': u'Unknown', 'A17': u'Unknown', 'A18': u'Unknown', 'A19': u'Afterword Author', 'A20': u'Unknown', 'A21': u'Unknown', 'A22': u'Unknown', 'A23': u'Foreword Author', 'A24': u'Introduction Author', 'A25': u'Unknown', 'A26': u'Unknown', 'A27': u'Unknown', 'A29': u'Introduction Author', 'A30': u'Unknown', 'A31': u'Lyricist', 'A32': u'Contributor', 'A33': u'Unknown', 'A34': u'Unknown', 'A35': u'Artist', 'A36': u'Artist', 'A37': u'Unknown', 'A38': u'Unknown', 'A39': u'Unknown', 'A40': u'Artist', 'A41': u'Unknown', 'A42': u'Unknown', 'A43': u'Unknown', 'A44': u'Unknown', 'A45': u'Author', 'A46': u'Artist', 'A47': u'Artist', 'A48': u'Artist', 'A51': u'Unknown', 'A99': u'Unknown', 'B01': u'Editor', 'B02': u'Editor', 'B03': u'Unknown', 'B04': u'Unknown', 'B05': u'Adapter', 'B06': u'Translator', 'B07': u'Unknown', 'B08': u'Translator', 'B09': u'Editor', 'B10': u'Translator', 'B11': u'Editor', 'B12': u'Editor', 'B13': u'Editor', 'B14': u'Editor', 'B15': u'Editor', 'B16': u'Editor', 'B17': u'Editor', 'B18': u'Editor', 'B19': u'Editor', 'B20': u'Editor', 'B21': u'Editor', 'B22': u'Unknown', 'B23': u'Editor', 'B24': u'Editor', 'B25': u'Composer', 'B26': u'Editor', 'B27': u'Unknown', 'B28': u'Unknown', 'B29': u'Editor', 'B30': u'Unknown', 'B31': u'Unknown', 'B99': u'Editor', 'C01': u'Unknown', 'C02': u'Unknown', 'C03': u'Unknown', 'C04': u'Unknown', 'C99': u'Unknown', 'D01': u'Producer', 'D02': u'Director', 'D03': u'Musician', 'D04': u'Unknown', 'D05': u'Director', 'E01': u'Actor', 'E02': u'Performer', 'E03': u'Narrator', 'E04': u'Unknown', 'E05': u'Performer', 'E06': u'Performer', 'E07': u'Narrator', 'E08': u'Performer', 'E09': u'Performer', 'E10': u'Unknown', 'E99': u'Performer', 'F01': u'Photographer', 'F02': u'Editor', 'F99': u'Unknown', 'Z01': u'Unknown', 'Z02': u'Unknown', 'Z99': u'Unknown'}</em><a class="headerlink" href="#api.onix.ONIXExtractor.CONTRIBUTOR_TYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.onix.ONIXExtractor.SUBJECT_TYPES">
<code class="descname">SUBJECT_TYPES</code><em class="property"> = {'01': 'DDC', '03': 'LCC', '04': 'LCSH', '10': 'BISAC', '12': 'BIC'}</em><a class="headerlink" href="#api.onix.ONIXExtractor.SUBJECT_TYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.onix.ONIXExtractor.parse">
<em class="property">classmethod </em><code class="descname">parse</code><span class="sig-paren">(</span><em>file</em>, <em>data_source_name</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/onix.html#ONIXExtractor.parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.onix.ONIXExtractor.parse" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api.opds">
<span id="api-opds-module"></span><h2>api.opds module<a class="headerlink" href="#module-api.opds" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="api.opds.CirculationManagerAnnotator">
<em class="property">class </em><code class="descclassname">api.opds.</code><code class="descname">CirculationManagerAnnotator</code><span class="sig-paren">(</span><em>lane</em>, <em>active_loans_by_work={}</em>, <em>active_holds_by_work={}</em>, <em>active_fulfillments_by_work={}</em>, <em>hidden_content_types=[]</em>, <em>test_mode=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.opds.Annotator" title="core.opds.Annotator"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.opds.Annotator</span></code></a></p>
<dl class="method">
<dt id="api.opds.CirculationManagerAnnotator.acquisition_links">
<code class="descname">acquisition_links</code><span class="sig-paren">(</span><em>active_license_pool</em>, <em>active_loan</em>, <em>active_hold</em>, <em>active_fulfillment</em>, <em>feed</em>, <em>identifier</em>, <em>can_hold=True</em>, <em>can_revoke_hold=True</em>, <em>set_mechanism_at_borrow=False</em>, <em>direct_fulfillment_delivery_mechanisms=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.acquisition_links"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.acquisition_links" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a number of &lt;link&gt; tags that enumerate all acquisition
methods.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>direct_fulfillment_delivery_mechanisms</strong> – A way to
fulfill each LicensePoolDeliveryMechanism in this list will be
presented as a link with
rel=”<a class="reference external" href="http://opds-spec.org/acquisition/open-access">http://opds-spec.org/acquisition/open-access</a>”, indicating
that it can be downloaded with no intermediate steps such as
authentication.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.opds.CirculationManagerAnnotator.active_licensepool_for">
<code class="descname">active_licensepool_for</code><span class="sig-paren">(</span><em>work</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.active_licensepool_for"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.active_licensepool_for" title="Permalink to this definition">¶</a></dt>
<dd><p>Which license pool would be/has been used to issue a license for
this work?</p>
</dd></dl>

<dl class="method">
<dt id="api.opds.CirculationManagerAnnotator.annotate_work_entry">
<code class="descname">annotate_work_entry</code><span class="sig-paren">(</span><em>work</em>, <em>active_license_pool</em>, <em>edition</em>, <em>identifier</em>, <em>feed</em>, <em>entry</em>, <em>updated=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.annotate_work_entry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.annotate_work_entry" title="Permalink to this definition">¶</a></dt>
<dd><p>Make any custom modifications necessary to integrate this
OPDS entry into the application’s workflow.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Work:</th><td class="field-body"><p class="first">The Work whose OPDS entry is being annotated.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Active_license_pool:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first">Of all the LicensePools associated with this
Work, the client has expressed interest in this one.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Edition:</th><td class="field-body"><p class="first">The Edition to use when associating bibliographic
metadata with this entry. You will probably not need to use
this, because bibliographic metadata was associated with
the entry when it was created.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Identifier:</th><td class="field-body"><p class="first">Of all the Identifiers associated with this
Work, the client has expressed interest in this one.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>feed</strong> – An OPDSFeed – the feed in which this entry will be
situated.</li>
<li><strong>entry</strong> – An lxml Element object, the entry that will be added
to the feed.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.opds.CirculationManagerAnnotator.borrow_link">
<code class="descname">borrow_link</code><span class="sig-paren">(</span><em>active_license_pool</em>, <em>borrow_mechanism</em>, <em>fulfillment_mechanisms</em>, <em>active_hold=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.borrow_link"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.borrow_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds.CirculationManagerAnnotator.cdn_url_for">
<code class="descname">cdn_url_for</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.cdn_url_for"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.cdn_url_for" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds.CirculationManagerAnnotator.default_lane_url">
<code class="descname">default_lane_url</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.default_lane_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.default_lane_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds.CirculationManagerAnnotator.facet_url">
<code class="descname">facet_url</code><span class="sig-paren">(</span><em>facets</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.facet_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.facet_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds.CirculationManagerAnnotator.feed_url">
<code class="descname">feed_url</code><span class="sig-paren">(</span><em>lane</em>, <em>facets=None</em>, <em>pagination=None</em>, <em>default_route='feed'</em>, <em>extra_kwargs=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.feed_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.feed_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds.CirculationManagerAnnotator.fulfill_link">
<code class="descname">fulfill_link</code><span class="sig-paren">(</span><em>license_pool</em>, <em>active_loan</em>, <em>delivery_mechanism</em>, <em>rel='http://opds-spec.org/acquisition'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.fulfill_link"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.fulfill_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds.CirculationManagerAnnotator.lane_url">
<code class="descname">lane_url</code><span class="sig-paren">(</span><em>lane</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.lane_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.lane_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds.CirculationManagerAnnotator.navigation_url">
<code class="descname">navigation_url</code><span class="sig-paren">(</span><em>lane</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.navigation_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.navigation_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds.CirculationManagerAnnotator.open_access_link">
<code class="descname">open_access_link</code><span class="sig-paren">(</span><em>pool</em>, <em>lpdm</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.open_access_link"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.open_access_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds.CirculationManagerAnnotator.revoke_link">
<code class="descname">revoke_link</code><span class="sig-paren">(</span><em>active_license_pool</em>, <em>active_loan</em>, <em>active_hold</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.revoke_link"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.revoke_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds.CirculationManagerAnnotator.rights_attributes">
<code class="descname">rights_attributes</code><span class="sig-paren">(</span><em>lpdm</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.rights_attributes"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.rights_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a dictionary of tag attributes that explain the
rights status of a LicensePoolDeliveryMechanism.</p>
<p>If nothing is known, the dictionary will be empty.</p>
</dd></dl>

<dl class="method">
<dt id="api.opds.CirculationManagerAnnotator.test_url_for">
<code class="descname">test_url_for</code><span class="sig-paren">(</span><em>cdn=False</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.test_url_for"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.test_url_for" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds.CirculationManagerAnnotator.top_level_title">
<code class="descname">top_level_title</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.top_level_title"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.top_level_title" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds.CirculationManagerAnnotator.url_for">
<code class="descname">url_for</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.url_for"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.url_for" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds.CirculationManagerAnnotator.visible_delivery_mechanisms">
<code class="descname">visible_delivery_mechanisms</code><span class="sig-paren">(</span><em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#CirculationManagerAnnotator.visible_delivery_mechanisms"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.CirculationManagerAnnotator.visible_delivery_mechanisms" title="Permalink to this definition">¶</a></dt>
<dd><p>Filter the given <cite>licensepool</cite>’s LicensePoolDeliveryMechanisms
to those with content types that are not hidden.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.opds.LibraryAnnotator">
<em class="property">class </em><code class="descclassname">api.opds.</code><code class="descname">LibraryAnnotator</code><span class="sig-paren">(</span><em>circulation</em>, <em>lane</em>, <em>library</em>, <em>patron=None</em>, <em>active_loans_by_work={}</em>, <em>active_holds_by_work={}</em>, <em>active_fulfillments_by_work={}</em>, <em>facet_view='feed'</em>, <em>test_mode=False</em>, <em>top_level_title='All Books'</em>, <em>library_identifies_patrons=True</em>, <em>facets=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.LibraryAnnotator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.opds.CirculationManagerAnnotator" title="api.opds.CirculationManagerAnnotator"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.opds.CirculationManagerAnnotator</span></code></a></p>
<dl class="attribute">
<dt id="api.opds.LibraryAnnotator.ABOUT">
<code class="descname">ABOUT</code><em class="property"> = 'about'</em><a class="headerlink" href="#api.opds.LibraryAnnotator.ABOUT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.opds.LibraryAnnotator.CONFIGURATION_LINKS">
<code class="descname">CONFIGURATION_LINKS</code><em class="property"> = ['terms-of-service', 'privacy-policy', 'copyright', 'about', 'license']</em><a class="headerlink" href="#api.opds.LibraryAnnotator.CONFIGURATION_LINKS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.opds.LibraryAnnotator.COPYRIGHT">
<code class="descname">COPYRIGHT</code><em class="property"> = 'copyright'</em><a class="headerlink" href="#api.opds.LibraryAnnotator.COPYRIGHT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.opds.LibraryAnnotator.HELP_LINKS">
<code class="descname">HELP_LINKS</code><em class="property"> = ['help-email', 'help-web', 'help-uri']</em><a class="headerlink" href="#api.opds.LibraryAnnotator.HELP_LINKS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.opds.LibraryAnnotator.LICENSE">
<code class="descname">LICENSE</code><em class="property"> = 'license'</em><a class="headerlink" href="#api.opds.LibraryAnnotator.LICENSE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.opds.LibraryAnnotator.PRIVACY_POLICY">
<code class="descname">PRIVACY_POLICY</code><em class="property"> = 'privacy-policy'</em><a class="headerlink" href="#api.opds.LibraryAnnotator.PRIVACY_POLICY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.opds.LibraryAnnotator.REGISTER">
<code class="descname">REGISTER</code><em class="property"> = 'register'</em><a class="headerlink" href="#api.opds.LibraryAnnotator.REGISTER" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.opds.LibraryAnnotator.TERMS_OF_SERVICE">
<code class="descname">TERMS_OF_SERVICE</code><em class="property"> = 'terms-of-service'</em><a class="headerlink" href="#api.opds.LibraryAnnotator.TERMS_OF_SERVICE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds.LibraryAnnotator.acquisition_links">
<code class="descname">acquisition_links</code><span class="sig-paren">(</span><em>active_license_pool</em>, <em>active_loan</em>, <em>active_hold</em>, <em>active_fulfillment</em>, <em>feed</em>, <em>identifier</em>, <em>direct_fulfillment_delivery_mechanisms=None</em>, <em>mock_api=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.acquisition_links"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.acquisition_links" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate one or more &lt;link&gt; tags that can be used to borrow,
reserve, or fulfill a book, depending on the state of the book
and the current patron.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>active_license_pool</strong> – The LicensePool for which we’re trying to
generate &lt;link&gt; tags.</li>
<li><strong>active_loan</strong> – A Loan object representing the current patron’s
existing loan for this title, if any.</li>
<li><strong>active_hold</strong> – A Hold object representing the current patron’s
existing hold on this title, if any.</li>
<li><strong>active_fulfillment</strong> – A LicensePoolDeliveryMechanism object
representing the mechanism, if any, which the patron has chosen
to fulfill this work.</li>
<li><strong>feed</strong> – The OPDSFeed that will eventually contain these &lt;link&gt;
tags.</li>
<li><strong>identifier</strong> – The Identifier of the title for which we’re
trying to generate &lt;link&gt; tags.</li>
<li><strong>direct_fulfillment_delivery_mechanisms</strong> – A list of
LicensePoolDeliveryMechanisms for the given LicensePool
that should have fulfillment-type &lt;link&gt; tags generated for
them, even if this method wouldn’t normally think that
makes sense.</li>
<li><strong>mock_api</strong> – A mock object to stand in for the API to the
vendor who provided this LicensePool. If this is not provided, a
live API for that vendor will be used.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.opds.LibraryAnnotator.add_authentication_document_link">
<code class="descname">add_authentication_document_link</code><span class="sig-paren">(</span><em>feed_obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.add_authentication_document_link"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.add_authentication_document_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a &lt;link&gt; tag that points to the circulation
manager’s Authentication for OPDS document
for the current library.</p>
</dd></dl>

<dl class="method">
<dt id="api.opds.LibraryAnnotator.add_author_links">
<code class="descname">add_author_links</code><span class="sig-paren">(</span><em>work</em>, <em>feed</em>, <em>entry</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.add_author_links"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.add_author_links" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all the &lt;author&gt; tags and add a link
to each one that points to the author’s other works.</p>
</dd></dl>

<dl class="method">
<dt id="api.opds.LibraryAnnotator.add_configuration_links">
<code class="descname">add_configuration_links</code><span class="sig-paren">(</span><em>feed</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.add_configuration_links"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.add_configuration_links" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds.LibraryAnnotator.add_patron">
<code class="descname">add_patron</code><span class="sig-paren">(</span><em>feed_obj</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.add_patron"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.add_patron" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds.LibraryAnnotator.add_series_link">
<code class="descname">add_series_link</code><span class="sig-paren">(</span><em>work</em>, <em>feed</em>, <em>entry</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.add_series_link"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.add_series_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds.LibraryAnnotator.adobe_id_tags">
<code class="descname">adobe_id_tags</code><span class="sig-paren">(</span><em>patron_identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.adobe_id_tags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.adobe_id_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct tags using the DRM Extensions for OPDS standard that
explain how to get an Adobe ID for this patron, and how to
manage their list of device IDs.
:param delivery_mechanism: A DeliveryMechanism
:return: If Adobe Vendor ID delegation is configured, a list
containing a &lt;drm:licensor&gt; tag. If not, an empty list.</p>
</dd></dl>

<dl class="method">
<dt id="api.opds.LibraryAnnotator.annotate_feed">
<code class="descname">annotate_feed</code><span class="sig-paren">(</span><em>feed</em>, <em>lane</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.annotate_feed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.annotate_feed" title="Permalink to this definition">¶</a></dt>
<dd><p>Make any custom modifications necessary to integrate this
OPDS feed into the application’s workflow.</p>
</dd></dl>

<dl class="method">
<dt id="api.opds.LibraryAnnotator.annotate_work_entry">
<code class="descname">annotate_work_entry</code><span class="sig-paren">(</span><em>work</em>, <em>active_license_pool</em>, <em>edition</em>, <em>identifier</em>, <em>feed</em>, <em>entry</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.annotate_work_entry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.annotate_work_entry" title="Permalink to this definition">¶</a></dt>
<dd><p>Make any custom modifications necessary to integrate this
OPDS entry into the application’s workflow.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Work:</th><td class="field-body"><p class="first">The Work whose OPDS entry is being annotated.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Active_license_pool:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><p class="first">Of all the LicensePools associated with this
Work, the client has expressed interest in this one.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Edition:</th><td class="field-body"><p class="first">The Edition to use when associating bibliographic
metadata with this entry. You will probably not need to use
this, because bibliographic metadata was associated with
the entry when it was created.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Identifier:</th><td class="field-body"><p class="first">Of all the Identifiers associated with this
Work, the client has expressed interest in this one.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>feed</strong> – An OPDSFeed – the feed in which this entry will be
situated.</li>
<li><strong>entry</strong> – An lxml Element object, the entry that will be added
to the feed.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.opds.LibraryAnnotator.borrow_link">
<code class="descname">borrow_link</code><span class="sig-paren">(</span><em>active_license_pool</em>, <em>borrow_mechanism</em>, <em>fulfillment_mechanisms</em>, <em>active_hold=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.borrow_link"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.borrow_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds.LibraryAnnotator.default_lane_url">
<code class="descname">default_lane_url</code><span class="sig-paren">(</span><em>facets=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.default_lane_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.default_lane_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds.LibraryAnnotator.drm_device_registration_tags">
<code class="descname">drm_device_registration_tags</code><span class="sig-paren">(</span><em>license_pool</em>, <em>active_loan</em>, <em>delivery_mechanism</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.drm_device_registration_tags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.drm_device_registration_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Construct OPDS Extensions for DRM tags that explain how to
register a device with the DRM server that manages this loan.
:param delivery_mechanism: A DeliveryMechanism</p>
</dd></dl>

<dl class="method">
<dt id="api.opds.LibraryAnnotator.feed_url">
<code class="descname">feed_url</code><span class="sig-paren">(</span><em>lane</em>, <em>facets=None</em>, <em>pagination=None</em>, <em>default_route='feed'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.feed_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.feed_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds.LibraryAnnotator.fulfill_link">
<code class="descname">fulfill_link</code><span class="sig-paren">(</span><em>license_pool</em>, <em>active_loan</em>, <em>delivery_mechanism</em>, <em>rel='http://opds-spec.org/acquisition'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.fulfill_link"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.fulfill_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new fulfillment link.</p>
<p>This link may include tags from the OPDS Extensions for DRM.</p>
</dd></dl>

<dl class="method">
<dt id="api.opds.LibraryAnnotator.group_uri">
<code class="descname">group_uri</code><span class="sig-paren">(</span><em>work</em>, <em>license_pool</em>, <em>identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.group_uri"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.group_uri" title="Permalink to this definition">¶</a></dt>
<dd><p>The URI to be associated with this Work when making it part of
a grouped feed.</p>
<p>By default, this does nothing. See circulation/LibraryAnnotator
for a subclass that does something.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A 2-tuple (URI, title)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.opds.LibraryAnnotator.groups_url">
<code class="descname">groups_url</code><span class="sig-paren">(</span><em>lane</em>, <em>facets=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.groups_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.groups_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds.LibraryAnnotator.lane_url">
<code class="descname">lane_url</code><span class="sig-paren">(</span><em>lane</em>, <em>facets=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.lane_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.lane_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds.LibraryAnnotator.language_and_audience_key_from_work">
<code class="descname">language_and_audience_key_from_work</code><span class="sig-paren">(</span><em>work</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.language_and_audience_key_from_work"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.language_and_audience_key_from_work" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds.LibraryAnnotator.open_access_link">
<code class="descname">open_access_link</code><span class="sig-paren">(</span><em>pool</em>, <em>lpdm</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.open_access_link"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.open_access_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds.LibraryAnnotator.permalink_for">
<code class="descname">permalink_for</code><span class="sig-paren">(</span><em>work</em>, <em>license_pool</em>, <em>identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.permalink_for"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.permalink_for" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a permanent link a client can follow for information about
this entry, and only this entry.</p>
<p>Note that permalink is distinct from the Atom &lt;id&gt;,
which is always the identifier’s URN.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A 2-tuple (URL, media type). If a single value is
returned, the media type will be presumed to be that of an
OPDS entry.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="api.opds.LibraryAnnotator.related_books_available">
<em class="property">classmethod </em><code class="descname">related_books_available</code><span class="sig-paren">(</span><em>work</em>, <em>library</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.related_books_available"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.related_books_available" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">bool asserting whether related books might exist for a particular Work</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.opds.LibraryAnnotator.revoke_link">
<code class="descname">revoke_link</code><span class="sig-paren">(</span><em>active_license_pool</em>, <em>active_loan</em>, <em>active_hold</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.revoke_link"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.revoke_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds.LibraryAnnotator.search_url">
<code class="descname">search_url</code><span class="sig-paren">(</span><em>lane</em>, <em>query</em>, <em>pagination</em>, <em>facets=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.search_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.search_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds.LibraryAnnotator.top_level_title">
<code class="descname">top_level_title</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryAnnotator.top_level_title"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.LibraryAnnotator.top_level_title" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.opds.LibraryLoanAndHoldAnnotator">
<em class="property">class </em><code class="descclassname">api.opds.</code><code class="descname">LibraryLoanAndHoldAnnotator</code><span class="sig-paren">(</span><em>circulation</em>, <em>lane</em>, <em>library</em>, <em>patron=None</em>, <em>active_loans_by_work={}</em>, <em>active_holds_by_work={}</em>, <em>active_fulfillments_by_work={}</em>, <em>facet_view='feed'</em>, <em>test_mode=False</em>, <em>top_level_title='All Books'</em>, <em>library_identifies_patrons=True</em>, <em>facets=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryLoanAndHoldAnnotator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.LibraryLoanAndHoldAnnotator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.opds.LibraryAnnotator" title="api.opds.LibraryAnnotator"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.opds.LibraryAnnotator</span></code></a></p>
<dl class="classmethod">
<dt id="api.opds.LibraryLoanAndHoldAnnotator.active_loans_for">
<em class="property">classmethod </em><code class="descname">active_loans_for</code><span class="sig-paren">(</span><em>circulation</em>, <em>patron</em>, <em>test_mode=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryLoanAndHoldAnnotator.active_loans_for"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.LibraryLoanAndHoldAnnotator.active_loans_for" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds.LibraryLoanAndHoldAnnotator.annotate_feed">
<code class="descname">annotate_feed</code><span class="sig-paren">(</span><em>feed</em>, <em>lane</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryLoanAndHoldAnnotator.annotate_feed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.LibraryLoanAndHoldAnnotator.annotate_feed" title="Permalink to this definition">¶</a></dt>
<dd><p>Annotate the feed with top-level DRM device registration tags
and a link to the User Profile Management Protocol endpoint.</p>
</dd></dl>

<dl class="method">
<dt id="api.opds.LibraryLoanAndHoldAnnotator.drm_device_registration_feed_tags">
<code class="descname">drm_device_registration_feed_tags</code><span class="sig-paren">(</span><em>patron</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryLoanAndHoldAnnotator.drm_device_registration_feed_tags"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.LibraryLoanAndHoldAnnotator.drm_device_registration_feed_tags" title="Permalink to this definition">¶</a></dt>
<dd><p>Return tags that provide information on DRM device deregistration
independent of any particular loan. These tags will go under
the &lt;feed&gt; tag.</p>
<p>This allows us to deregister an Adobe ID, in preparation for
logout, even if there is no active loan that requires one.</p>
</dd></dl>

<dl class="classmethod">
<dt id="api.opds.LibraryLoanAndHoldAnnotator.single_fulfillment_feed">
<em class="property">classmethod </em><code class="descname">single_fulfillment_feed</code><span class="sig-paren">(</span><em>circulation</em>, <em>loan</em>, <em>fulfillment</em>, <em>test_mode=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryLoanAndHoldAnnotator.single_fulfillment_feed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.LibraryLoanAndHoldAnnotator.single_fulfillment_feed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.opds.LibraryLoanAndHoldAnnotator.single_hold_feed">
<em class="property">classmethod </em><code class="descname">single_hold_feed</code><span class="sig-paren">(</span><em>circulation</em>, <em>hold</em>, <em>test_mode=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryLoanAndHoldAnnotator.single_hold_feed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.LibraryLoanAndHoldAnnotator.single_hold_feed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.opds.LibraryLoanAndHoldAnnotator.single_loan_feed">
<em class="property">classmethod </em><code class="descname">single_loan_feed</code><span class="sig-paren">(</span><em>circulation</em>, <em>loan</em>, <em>test_mode=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#LibraryLoanAndHoldAnnotator.single_loan_feed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.LibraryLoanAndHoldAnnotator.single_loan_feed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.opds.LibraryLoanAndHoldAnnotator.user_profile_management_protocol_link">
<code class="descname">user_profile_management_protocol_link</code><a class="headerlink" href="#api.opds.LibraryLoanAndHoldAnnotator.user_profile_management_protocol_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a &lt;link&gt; tag that points to the circulation
manager’s User Profile Management Protocol endpoint
for the current patron.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.opds.SharedCollectionAnnotator">
<em class="property">class </em><code class="descclassname">api.opds.</code><code class="descname">SharedCollectionAnnotator</code><span class="sig-paren">(</span><em>collection</em>, <em>lane</em>, <em>active_loans_by_work={}</em>, <em>active_holds_by_work={}</em>, <em>active_fulfillments_by_work={}</em>, <em>test_mode=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#SharedCollectionAnnotator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.SharedCollectionAnnotator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.opds.CirculationManagerAnnotator" title="api.opds.CirculationManagerAnnotator"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.opds.CirculationManagerAnnotator</span></code></a></p>
<dl class="method">
<dt id="api.opds.SharedCollectionAnnotator.acquisition_links">
<code class="descname">acquisition_links</code><span class="sig-paren">(</span><em>active_license_pool</em>, <em>active_loan</em>, <em>active_hold</em>, <em>active_fulfillment</em>, <em>feed</em>, <em>identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#SharedCollectionAnnotator.acquisition_links"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.SharedCollectionAnnotator.acquisition_links" title="Permalink to this definition">¶</a></dt>
<dd><p>Generate a number of &lt;link&gt; tags that enumerate all acquisition methods.</p>
</dd></dl>

<dl class="method">
<dt id="api.opds.SharedCollectionAnnotator.borrow_link">
<code class="descname">borrow_link</code><span class="sig-paren">(</span><em>active_license_pool</em>, <em>borrow_mechanism</em>, <em>fulfillment_mechanisms</em>, <em>active_hold=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#SharedCollectionAnnotator.borrow_link"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.SharedCollectionAnnotator.borrow_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds.SharedCollectionAnnotator.default_lane_url">
<code class="descname">default_lane_url</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#SharedCollectionAnnotator.default_lane_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.SharedCollectionAnnotator.default_lane_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds.SharedCollectionAnnotator.feed_url">
<code class="descname">feed_url</code><span class="sig-paren">(</span><em>lane</em>, <em>facets=None</em>, <em>pagination=None</em>, <em>default_route='feed'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#SharedCollectionAnnotator.feed_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.SharedCollectionAnnotator.feed_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds.SharedCollectionAnnotator.fulfill_link">
<code class="descname">fulfill_link</code><span class="sig-paren">(</span><em>license_pool</em>, <em>active_loan</em>, <em>delivery_mechanism</em>, <em>rel='http://opds-spec.org/acquisition'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#SharedCollectionAnnotator.fulfill_link"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.SharedCollectionAnnotator.fulfill_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new fulfillment link.</p>
</dd></dl>

<dl class="method">
<dt id="api.opds.SharedCollectionAnnotator.lane_url">
<code class="descname">lane_url</code><span class="sig-paren">(</span><em>lane</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#SharedCollectionAnnotator.lane_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.SharedCollectionAnnotator.lane_url" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds.SharedCollectionAnnotator.revoke_link">
<code class="descname">revoke_link</code><span class="sig-paren">(</span><em>active_license_pool</em>, <em>active_loan</em>, <em>active_hold</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#SharedCollectionAnnotator.revoke_link"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.SharedCollectionAnnotator.revoke_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds.SharedCollectionAnnotator.top_level_title">
<code class="descname">top_level_title</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#SharedCollectionAnnotator.top_level_title"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.SharedCollectionAnnotator.top_level_title" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.opds.SharedCollectionLoanAndHoldAnnotator">
<em class="property">class </em><code class="descclassname">api.opds.</code><code class="descname">SharedCollectionLoanAndHoldAnnotator</code><span class="sig-paren">(</span><em>collection</em>, <em>lane</em>, <em>active_loans_by_work={}</em>, <em>active_holds_by_work={}</em>, <em>active_fulfillments_by_work={}</em>, <em>test_mode=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#SharedCollectionLoanAndHoldAnnotator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.SharedCollectionLoanAndHoldAnnotator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.opds.SharedCollectionAnnotator" title="api.opds.SharedCollectionAnnotator"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.opds.SharedCollectionAnnotator</span></code></a></p>
<dl class="classmethod">
<dt id="api.opds.SharedCollectionLoanAndHoldAnnotator.single_fulfillment_feed">
<em class="property">classmethod </em><code class="descname">single_fulfillment_feed</code><span class="sig-paren">(</span><em>collection</em>, <em>loan</em>, <em>fulfillment</em>, <em>test_mode=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#SharedCollectionLoanAndHoldAnnotator.single_fulfillment_feed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.SharedCollectionLoanAndHoldAnnotator.single_fulfillment_feed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.opds.SharedCollectionLoanAndHoldAnnotator.single_hold_feed">
<em class="property">classmethod </em><code class="descname">single_hold_feed</code><span class="sig-paren">(</span><em>collection</em>, <em>hold</em>, <em>test_mode=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#SharedCollectionLoanAndHoldAnnotator.single_hold_feed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.SharedCollectionLoanAndHoldAnnotator.single_hold_feed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.opds.SharedCollectionLoanAndHoldAnnotator.single_loan_feed">
<em class="property">classmethod </em><code class="descname">single_loan_feed</code><span class="sig-paren">(</span><em>collection</em>, <em>loan</em>, <em>test_mode=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds.html#SharedCollectionLoanAndHoldAnnotator.single_loan_feed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds.SharedCollectionLoanAndHoldAnnotator.single_loan_feed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api.opds_for_distributors">
<span id="api-opds-for-distributors-module"></span><h2>api.opds_for_distributors module<a class="headerlink" href="#module-api.opds_for_distributors" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="api.opds_for_distributors.MockOPDSForDistributorsAPI">
<em class="property">class </em><code class="descclassname">api.opds_for_distributors.</code><code class="descname">MockOPDSForDistributorsAPI</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds_for_distributors.html#MockOPDSForDistributorsAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds_for_distributors.MockOPDSForDistributorsAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.opds_for_distributors.OPDSForDistributorsAPI" title="api.opds_for_distributors.OPDSForDistributorsAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.opds_for_distributors.OPDSForDistributorsAPI</span></code></a></p>
<dl class="classmethod">
<dt id="api.opds_for_distributors.MockOPDSForDistributorsAPI.mock_collection">
<em class="property">classmethod </em><code class="descname">mock_collection</code><span class="sig-paren">(</span><em>_db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds_for_distributors.html#MockOPDSForDistributorsAPI.mock_collection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds_for_distributors.MockOPDSForDistributorsAPI.mock_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a mock OPDS For Distributors collection to use in tests.</p>
</dd></dl>

<dl class="method">
<dt id="api.opds_for_distributors.MockOPDSForDistributorsAPI.queue_response">
<code class="descname">queue_response</code><span class="sig-paren">(</span><em>status_code</em>, <em>headers={}</em>, <em>content=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds_for_distributors.html#MockOPDSForDistributorsAPI.queue_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds_for_distributors.MockOPDSForDistributorsAPI.queue_response" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.opds_for_distributors.OPDSForDistributorsAPI">
<em class="property">class </em><code class="descclassname">api.opds_for_distributors.</code><code class="descname">OPDSForDistributorsAPI</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds_for_distributors.html#OPDSForDistributorsAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation.BaseCirculationAPI" title="api.circulation.BaseCirculationAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation.BaseCirculationAPI</span></code></a>, <a class="reference internal" href="core.html#core.selftest.HasSelfTests" title="core.selftest.HasSelfTests"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.selftest.HasSelfTests</span></code></a></p>
<dl class="attribute">
<dt id="api.opds_for_distributors.OPDSForDistributorsAPI.DESCRIPTION">
<code class="descname">DESCRIPTION</code><em class="property"> = l'Import books from a distributor that requires authentication to get the OPDS feed and download books.'</em><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsAPI.DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.opds_for_distributors.OPDSForDistributorsAPI.NAME">
<code class="descname">NAME</code><em class="property"> = 'OPDS for Distributors'</em><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsAPI.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.opds_for_distributors.OPDSForDistributorsAPI.SETTINGS">
<code class="descname">SETTINGS</code><em class="property"> = [{'format': 'url', 'required': True, 'key': u'external_account_id', 'label': l'URL'}, {'required': True, 'key': u'data_source', 'label': l'Data source name'}, {'required': True, 'key': u'username', 'label': l'Library's username or access key'}, {'required': True, 'key': u'password', 'label': l'Library's password or secret key'}]</em><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsAPI.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.opds_for_distributors.OPDSForDistributorsAPI.SUPPORTED_MEDIA_TYPES">
<code class="descname">SUPPORTED_MEDIA_TYPES</code><em class="property"> = [u'application/epub+zip', u'application/audiobook+json', u'application/pdf']</em><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsAPI.SUPPORTED_MEDIA_TYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds_for_distributors.OPDSForDistributorsAPI.can_fulfill_without_loan">
<code class="descname">can_fulfill_without_loan</code><span class="sig-paren">(</span><em>patron</em>, <em>licensepool</em>, <em>lpdm</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds_for_distributors.html#OPDSForDistributorsAPI.can_fulfill_without_loan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsAPI.can_fulfill_without_loan" title="Permalink to this definition">¶</a></dt>
<dd><p>Since OPDS For Distributors delivers books to the library rather
than creating loans, any book can be fulfilled without
identifying the patron, assuming the library’s policies
allow it.</p>
<p>Just to be safe, though, we require that the
DeliveryMechanism’s drm_scheme be either ‘no DRM’ or ‘bearer
token’, since other DRM schemes require identifying a patron.</p>
</dd></dl>

<dl class="method">
<dt id="api.opds_for_distributors.OPDSForDistributorsAPI.checkin">
<code class="descname">checkin</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds_for_distributors.html#OPDSForDistributorsAPI.checkin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsAPI.checkin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a book early.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>patron</strong> – a Patron object for the patron who wants to check out the book.</li>
<li><strong>pin</strong> – The patron’s alleged password.</li>
<li><strong>licensepool</strong> – Contains lending info as well as link to parent Identifier.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.opds_for_distributors.OPDSForDistributorsAPI.checkout">
<code class="descname">checkout</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>internal_format</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds_for_distributors.html#OPDSForDistributorsAPI.checkout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsAPI.checkout" title="Permalink to this definition">¶</a></dt>
<dd><p>Check out a book on behalf of a patron.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>patron</strong> – a Patron object for the patron who wants to check out the book.</li>
<li><strong>pin</strong> – The patron’s alleged password.</li>
<li><strong>licensepool</strong> – Contains lending info as well as link to parent Identifier.</li>
<li><strong>internal_format</strong> – Represents the patron’s desired book format.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a LoanInfo object.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="api.opds_for_distributors.OPDSForDistributorsAPI.delivery_mechanism_to_internal_format">
<code class="descname">delivery_mechanism_to_internal_format</code><em class="property"> = {(u'application/audiobook+json', u'application/vnd.librarysimplified.bearer-token+json'): u'application/audiobook+json', (u'application/epub+zip', u'application/vnd.librarysimplified.bearer-token+json'): u'application/epub+zip', (u'application/pdf', u'application/vnd.librarysimplified.bearer-token+json'): u'application/pdf'}</em><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsAPI.delivery_mechanism_to_internal_format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.opds_for_distributors.OPDSForDistributorsAPI.drm">
<code class="descname">drm</code><em class="property"> = u'application/vnd.adobe.adept+xml'</em><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsAPI.drm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds_for_distributors.OPDSForDistributorsAPI.external_integration">
<code class="descname">external_integration</code><span class="sig-paren">(</span><em>_db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds_for_distributors.html#OPDSForDistributorsAPI.external_integration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsAPI.external_integration" title="Permalink to this definition">¶</a></dt>
<dd><p>Locate the ExternalIntegration associated with this object.
The status of the self-tests will be stored as a ConfigurationSetting
on this ExternalIntegration.</p>
<p>By default, there is no way to get from an object to its
ExternalIntegration, and self-test status will not be stored.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.opds_for_distributors.OPDSForDistributorsAPI.format">
<code class="descname">format</code><em class="property"> = u'application/epub+zip'</em><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsAPI.format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds_for_distributors.OPDSForDistributorsAPI.fulfill">
<code class="descname">fulfill</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>internal_format</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds_for_distributors.html#OPDSForDistributorsAPI.fulfill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsAPI.fulfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve a bearer token that can be used to download the book.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kwargs</strong> – A container for arguments to fulfill()
which are not relevant to this vendor.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a FulfillmentInfo object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.opds_for_distributors.OPDSForDistributorsAPI.patron_activity">
<code class="descname">patron_activity</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds_for_distributors.html#OPDSForDistributorsAPI.patron_activity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsAPI.patron_activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a patron’s current checkouts and holds.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.opds_for_distributors.OPDSForDistributorsImportMonitor">
<em class="property">class </em><code class="descclassname">api.opds_for_distributors.</code><code class="descname">OPDSForDistributorsImportMonitor</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>import_class</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds_for_distributors.html#OPDSForDistributorsImportMonitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsImportMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.opds_import.OPDSImportMonitor" title="core.opds_import.OPDSImportMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.opds_import.OPDSImportMonitor</span></code></a></p>
<p>Monitor an OPDS feed that requires or allows authentication,
such as Biblioboard or Plympton.</p>
<dl class="attribute">
<dt id="api.opds_for_distributors.OPDSForDistributorsImportMonitor.PROTOCOL">
<code class="descname">PROTOCOL</code><em class="property"> = 'OPDS for Distributors'</em><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsImportMonitor.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.opds_for_distributors.OPDSForDistributorsImporter">
<em class="property">class </em><code class="descclassname">api.opds_for_distributors.</code><code class="descname">OPDSForDistributorsImporter</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>data_source_name=None</em>, <em>identifier_mapping=None</em>, <em>http_get=None</em>, <em>metadata_client=None</em>, <em>content_modifier=None</em>, <em>map_from_collection=None</em>, <em>mirrors=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds_for_distributors.html#OPDSForDistributorsImporter"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsImporter" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.opds_import.OPDSImporter" title="core.opds_import.OPDSImporter"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.opds_import.OPDSImporter</span></code></a></p>
<dl class="attribute">
<dt id="api.opds_for_distributors.OPDSForDistributorsImporter.NAME">
<code class="descname">NAME</code><em class="property"> = 'OPDS for Distributors'</em><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsImporter.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.opds_for_distributors.OPDSForDistributorsImporter.update_work_for_edition">
<code class="descname">update_work_for_edition</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds_for_distributors.html#OPDSForDistributorsImporter.update_work_for_edition"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsImporter.update_work_for_edition" title="Permalink to this definition">¶</a></dt>
<dd><p>After importing a LicensePool, set its availability
appropriately. Books imported through OPDS For Distributors are
not open-access, but a library that can perform this import has
a license for the title and can distribute unlimited copies.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.opds_for_distributors.OPDSForDistributorsReaperMonitor">
<em class="property">class </em><code class="descclassname">api.opds_for_distributors.</code><code class="descname">OPDSForDistributorsReaperMonitor</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>import_class</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds_for_distributors.html#OPDSForDistributorsReaperMonitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsReaperMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.opds_for_distributors.OPDSForDistributorsImportMonitor" title="api.opds_for_distributors.OPDSForDistributorsImportMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.opds_for_distributors.OPDSForDistributorsImportMonitor</span></code></a></p>
<p>This is an unusual import monitor that crawls the entire OPDS feed
and keeps track of every identifier it sees, to find out if anything
has been removed from the collection.</p>
<dl class="method">
<dt id="api.opds_for_distributors.OPDSForDistributorsReaperMonitor.feed_contains_new_data">
<code class="descname">feed_contains_new_data</code><span class="sig-paren">(</span><em>feed</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds_for_distributors.html#OPDSForDistributorsReaperMonitor.feed_contains_new_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsReaperMonitor.feed_contains_new_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Does the given feed contain any entries that haven’t been imported
yet?</p>
</dd></dl>

<dl class="method">
<dt id="api.opds_for_distributors.OPDSForDistributorsReaperMonitor.import_one_feed">
<code class="descname">import_one_feed</code><span class="sig-paren">(</span><em>feed</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds_for_distributors.html#OPDSForDistributorsReaperMonitor.import_one_feed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsReaperMonitor.import_one_feed" title="Permalink to this definition">¶</a></dt>
<dd><p>Import every book mentioned in an OPDS feed.</p>
</dd></dl>

<dl class="method">
<dt id="api.opds_for_distributors.OPDSForDistributorsReaperMonitor.run_once">
<code class="descname">run_once</code><span class="sig-paren">(</span><em>progress</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/opds_for_distributors.html#OPDSForDistributorsReaperMonitor.run_once"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.opds_for_distributors.OPDSForDistributorsReaperMonitor.run_once" title="Permalink to this definition">¶</a></dt>
<dd><p>Check to see if any identifiers we know about are no longer
present on the remote. If there are any, remove them.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>progress</strong> – A TimestampData, ignored.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api.overdrive">
<span id="api-overdrive-module"></span><h2>api.overdrive module<a class="headerlink" href="#module-api.overdrive" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="api.overdrive.MockOverdriveAPI">
<em class="property">class </em><code class="descclassname">api.overdrive.</code><code class="descname">MockOverdriveAPI</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#MockOverdriveAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.MockOverdriveAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.overdrive.MockOverdriveAPI" title="core.overdrive.MockOverdriveAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.overdrive.MockOverdriveAPI</span></code></a>, <a class="reference internal" href="#api.overdrive.OverdriveAPI" title="api.overdrive.OverdriveAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.overdrive.OverdriveAPI</span></code></a></p>
<dl class="attribute">
<dt id="api.overdrive.MockOverdriveAPI.collection_token">
<code class="descname">collection_token</code><em class="property"> = 'fake token'</em><a class="headerlink" href="#api.overdrive.MockOverdriveAPI.collection_token" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.overdrive.MockOverdriveAPI.library_data">
<code class="descname">library_data</code><em class="property"> = '{&quot;id&quot;:1810,&quot;name&quot;:&quot;My Public Library (MA)&quot;,&quot;type&quot;:&quot;Library&quot;,&quot;collectionToken&quot;:&quot;1a09d9203&quot;,&quot;links&quot;:{&quot;self&quot;:{&quot;href&quot;:&quot;http://api.overdrive.com/v1/libraries/1810&quot;,&quot;type&quot;:&quot;application/vnd.overdrive.api+json&quot;},&quot;products&quot;:{&quot;href&quot;:&quot;http://api.overdrive.com/v1/collections/1a09d9203/products&quot;,&quot;type&quot;:&quot;application/vnd.overdrive.api+json&quot;},&quot;dlrHomepage&quot;:{&quot;href&quot;:&quot;http://ebooks.nypl.org&quot;,&quot;type&quot;:&quot;text/html&quot;}},&quot;formats&quot;:[{&quot;id&quot;:&quot;audiobook-wma&quot;,&quot;name&quot;:&quot;OverDrive WMA Audiobook&quot;},{&quot;id&quot;:&quot;ebook-pdf-adobe&quot;,&quot;name&quot;:&quot;Adobe PDF eBook&quot;},{&quot;id&quot;:&quot;ebook-mediado&quot;,&quot;name&quot;:&quot;MediaDo eBook&quot;},{&quot;id&quot;:&quot;ebook-epub-adobe&quot;,&quot;name&quot;:&quot;Adobe EPUB eBook&quot;},{&quot;id&quot;:&quot;ebook-kindle&quot;,&quot;name&quot;:&quot;Kindle Book&quot;},{&quot;id&quot;:&quot;audiobook-mp3&quot;,&quot;name&quot;:&quot;OverDrive MP3 Audiobook&quot;},{&quot;id&quot;:&quot;ebook-pdf-open&quot;,&quot;name&quot;:&quot;Open PDF eBook&quot;},{&quot;id&quot;:&quot;ebook-overdrive&quot;,&quot;name&quot;:&quot;OverDrive Read&quot;},{&quot;id&quot;:&quot;video-streaming&quot;,&quot;name&quot;:&quot;Streaming Video&quot;},{&quot;id&quot;:&quot;ebook-epub-open&quot;,&quot;name&quot;:&quot;Open EPUB eBook&quot;}]}'</em><a class="headerlink" href="#api.overdrive.MockOverdriveAPI.library_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.overdrive.MockOverdriveAPI.patron_request">
<code class="descname">patron_request</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#MockOverdriveAPI.patron_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.MockOverdriveAPI.patron_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an HTTP request on behalf of a patron.</p>
<p>The results are never cached.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.overdrive.MockOverdriveAPI.token_data">
<code class="descname">token_data</code><em class="property"> = '{&quot;access_token&quot;:&quot;foo&quot;,&quot;token_type&quot;:&quot;bearer&quot;,&quot;expires_in&quot;:3600,&quot;scope&quot;:&quot;LIB META AVAIL SRCH&quot;}'</em><a class="headerlink" href="#api.overdrive.MockOverdriveAPI.token_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.overdrive.MockOverdriveResponse">
<em class="property">class </em><code class="descclassname">api.overdrive.</code><code class="descname">MockOverdriveResponse</code><span class="sig-paren">(</span><em>status_code</em>, <em>headers</em>, <em>content</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#MockOverdriveResponse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.MockOverdriveResponse" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="api.overdrive.MockOverdriveResponse.json">
<code class="descname">json</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#MockOverdriveResponse.json"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.MockOverdriveResponse.json" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.overdrive.NewTitlesOverdriveCollectionMonitor">
<em class="property">class </em><code class="descclassname">api.overdrive.</code><code class="descname">NewTitlesOverdriveCollectionMonitor</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>api_class=&lt;class 'api.overdrive.OverdriveAPI'&gt;</em>, <em>analytics_class=&lt;class 'core.analytics.Analytics'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#NewTitlesOverdriveCollectionMonitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.NewTitlesOverdriveCollectionMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.overdrive.OverdriveCirculationMonitor" title="api.overdrive.OverdriveCirculationMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.overdrive.OverdriveCirculationMonitor</span></code></a></p>
<p>Monitor the Overdrive collection for newly added titles.</p>
<p>This catches any new titles that slipped through the cracks of the
RecentOverdriveCollectionMonitor.</p>
<dl class="attribute">
<dt id="api.overdrive.NewTitlesOverdriveCollectionMonitor.DEFAULT_START_TIME">
<code class="descname">DEFAULT_START_TIME</code><em class="property"> = &lt;object object&gt;</em><a class="headerlink" href="#api.overdrive.NewTitlesOverdriveCollectionMonitor.DEFAULT_START_TIME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.overdrive.NewTitlesOverdriveCollectionMonitor.OVERLAP">
<code class="descname">OVERLAP</code><em class="property"> = datetime.timedelta(7)</em><a class="headerlink" href="#api.overdrive.NewTitlesOverdriveCollectionMonitor.OVERLAP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.overdrive.NewTitlesOverdriveCollectionMonitor.SERVICE_NAME">
<code class="descname">SERVICE_NAME</code><em class="property"> = 'Overdrive New Title Monitor'</em><a class="headerlink" href="#api.overdrive.NewTitlesOverdriveCollectionMonitor.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.overdrive.NewTitlesOverdriveCollectionMonitor.recently_changed_ids">
<code class="descname">recently_changed_ids</code><span class="sig-paren">(</span><em>start</em>, <em>cutoff</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#NewTitlesOverdriveCollectionMonitor.recently_changed_ids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.NewTitlesOverdriveCollectionMonitor.recently_changed_ids" title="Permalink to this definition">¶</a></dt>
<dd><p>Ignore the dates and return all IDs.</p>
</dd></dl>

<dl class="method">
<dt id="api.overdrive.NewTitlesOverdriveCollectionMonitor.should_stop">
<code class="descname">should_stop</code><span class="sig-paren">(</span><em>start</em>, <em>api_description</em>, <em>is_changed</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#NewTitlesOverdriveCollectionMonitor.should_stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.NewTitlesOverdriveCollectionMonitor.should_stop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.overdrive.OverdriveAPI">
<em class="property">class </em><code class="descclassname">api.overdrive.</code><code class="descname">OverdriveAPI</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.overdrive.OverdriveAPI" title="core.overdrive.OverdriveAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.overdrive.OverdriveAPI</span></code></a>, <a class="reference internal" href="#api.circulation.BaseCirculationAPI" title="api.circulation.BaseCirculationAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation.BaseCirculationAPI</span></code></a>, <a class="reference internal" href="#api.selftest.HasSelfTests" title="api.selftest.HasSelfTests"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.selftest.HasSelfTests</span></code></a></p>
<dl class="attribute">
<dt id="api.overdrive.OverdriveAPI.CHILD_SETTINGS">
<code class="descname">CHILD_SETTINGS</code><em class="property"> = [{'required': True, 'key': u'external_account_id', 'label': l'Library ID'}]</em><a class="headerlink" href="#api.overdrive.OverdriveAPI.CHILD_SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.overdrive.OverdriveAPI.DEFAULT_ERROR_URL">
<code class="descname">DEFAULT_ERROR_URL</code><em class="property"> = 'http://librarysimplified.org/'</em><a class="headerlink" href="#api.overdrive.OverdriveAPI.DEFAULT_ERROR_URL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.overdrive.OverdriveAPI.DESCRIPTION">
<code class="descname">DESCRIPTION</code><em class="property"> = l'Integrate an Overdrive collection. For an Overdrive Advantage collection, select the consortium's Overdrive collection as the parent.'</em><a class="headerlink" href="#api.overdrive.OverdriveAPI.DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.overdrive.OverdriveAPI.LIBRARY_SETTINGS">
<code class="descname">LIBRARY_SETTINGS</code><em class="property"> = [{'default': u'default', 'description': l'When multiple libraries share an Overdrive account, Overdrive uses a setting called 'ILS Name' to determine which ILS to check when validating a given patron.', 'key': u'ils_name', 'label': l'ILS Name'}, {'default': 21, 'type': 'number', 'description': l'Until it hears otherwise from the distributor, this server will assume that any given loan for this library from this collection will last this number of days. This number is usually a negotiated value between the library and the distributor. This only affects estimates&amp;mdash;it cannot affect the actual length of loans.', 'key': 'ebook_loan_duration', 'label': l'Default Loan Period (in Days)'}]</em><a class="headerlink" href="#api.overdrive.OverdriveAPI.LIBRARY_SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.overdrive.OverdriveAPI.NAME">
<code class="descname">NAME</code><em class="property"> = u'Overdrive'</em><a class="headerlink" href="#api.overdrive.OverdriveAPI.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.overdrive.OverdriveAPI.SETTINGS">
<code class="descname">SETTINGS</code><em class="property"> = [{'required': True, 'key': u'external_account_id', 'label': l'Library ID'}, {'required': True, 'key': u'website_id', 'label': l'Website ID'}, {'required': True, 'key': u'username', 'label': l'Client Key'}, {'required': True, 'key': u'password', 'label': l'Client Secret'}, {'description': l'Unless you hear otherwise from Overdrive, your integration should use their production servers.', 'default': 'production', 'label': l'Server family', 'key': 'server_nickname', 'type': 'select', 'options': [{'key': 'production', 'label': l'Production'}, {'key': 'testing', 'label': l'Testing'}]}]</em><a class="headerlink" href="#api.overdrive.OverdriveAPI.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.overdrive.OverdriveAPI.SET_DELIVERY_MECHANISM_AT">
<code class="descname">SET_DELIVERY_MECHANISM_AT</code><em class="property"> = 'fulfill'</em><a class="headerlink" href="#api.overdrive.OverdriveAPI.SET_DELIVERY_MECHANISM_AT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.overdrive.OverdriveAPI.STREAMING_FORMATS">
<code class="descname">STREAMING_FORMATS</code><em class="property"> = ['ebook-overdrive']</em><a class="headerlink" href="#api.overdrive.OverdriveAPI.STREAMING_FORMATS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.overdrive.OverdriveAPI.adobe_drm">
<code class="descname">adobe_drm</code><em class="property"> = u'application/vnd.adobe.adept+xml'</em><a class="headerlink" href="#api.overdrive.OverdriveAPI.adobe_drm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveAPI.checkin">
<code class="descname">checkin</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.checkin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.checkin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a book early.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>patron</strong> – a Patron object for the patron who wants to check out the book.</li>
<li><strong>pin</strong> – The patron’s alleged password.</li>
<li><strong>licensepool</strong> – Contains lending info as well as link to parent Identifier.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveAPI.checkout">
<code class="descname">checkout</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>internal_format</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.checkout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.checkout" title="Permalink to this definition">¶</a></dt>
<dd><p>Check out a book on behalf of a patron.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>patron</strong> – a Patron object for the patron who wants
to check out the book.</li>
<li><strong>pin</strong> – The patron’s alleged password.</li>
<li><strong>licensepool</strong> – Identifier of the book to be checked out is
attached to this licensepool.</li>
<li><strong>internal_format</strong> – Represents the patron’s desired book format.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a LoanInfo object.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveAPI.circulation_lookup">
<code class="descname">circulation_lookup</code><span class="sig-paren">(</span><em>book</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.circulation_lookup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.circulation_lookup" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveAPI.default_notification_email_address">
<code class="descname">default_notification_email_address</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.default_notification_email_address"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.default_notification_email_address" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the email address this patron wants to use for hold
notifications.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">The email address Overdrive has on record for
this patron’s hold notifications, or None if there is
no such address.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="api.overdrive.OverdriveAPI.delivery_mechanism_to_internal_format">
<code class="descname">delivery_mechanism_to_internal_format</code><em class="property"> = {(u'Streaming Text', u'Overdrive DRM'): 'ebook-overdrive', (u'application/epub+zip', None): 'ebook-epub-open', (u'application/epub+zip', u'application/vnd.adobe.adept+xml'): 'ebook-epub-adobe', (u'application/pdf', None): 'ebook-pdf-open', (u'application/pdf', u'application/vnd.adobe.adept+xml'): 'ebook-pdf-adobe'}</em><a class="headerlink" href="#api.overdrive.OverdriveAPI.delivery_mechanism_to_internal_format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.overdrive.OverdriveAPI.epub">
<code class="descname">epub</code><em class="property"> = u'application/epub+zip'</em><a class="headerlink" href="#api.overdrive.OverdriveAPI.epub" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.overdrive.OverdriveAPI.error_to_exception">
<code class="descname">error_to_exception</code><em class="property"> = {'TitleNotCheckedOut': &lt;class 'api.circulation_exceptions.NoActiveLoan'&gt;}</em><a class="headerlink" href="#api.overdrive.OverdriveAPI.error_to_exception" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveAPI.external_integration">
<code class="descname">external_integration</code><span class="sig-paren">(</span><em>_db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.external_integration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.external_integration" title="Permalink to this definition">¶</a></dt>
<dd><p>Locate the ExternalIntegration associated with this object.
The status of the self-tests will be stored as a ConfigurationSetting
on this ExternalIntegration.</p>
<p>By default, there is no way to get from an object to its
ExternalIntegration, and self-test status will not be stored.</p>
</dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveAPI.extract_content_link">
<code class="descname">extract_content_link</code><span class="sig-paren">(</span><em>content_link_gateway_json</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.extract_content_link"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.extract_content_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.overdrive.OverdriveAPI.extract_data_from_checkout_response">
<em class="property">classmethod </em><code class="descname">extract_data_from_checkout_response</code><span class="sig-paren">(</span><em>checkout_response_json</em>, <em>format_type</em>, <em>error_url</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.extract_data_from_checkout_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.extract_data_from_checkout_response" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.overdrive.OverdriveAPI.extract_data_from_hold_response">
<em class="property">classmethod </em><code class="descname">extract_data_from_hold_response</code><span class="sig-paren">(</span><em>hold_response_json</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.extract_data_from_hold_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.extract_data_from_hold_response" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.overdrive.OverdriveAPI.extract_download_link">
<em class="property">classmethod </em><code class="descname">extract_download_link</code><span class="sig-paren">(</span><em>format</em>, <em>error_url</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.extract_download_link"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.extract_download_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.overdrive.OverdriveAPI.extract_expiration_date">
<em class="property">classmethod </em><code class="descname">extract_expiration_date</code><span class="sig-paren">(</span><em>data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.extract_expiration_date"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.extract_expiration_date" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveAPI.fill_out_form">
<code class="descname">fill_out_form</code><span class="sig-paren">(</span><em>**values</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.fill_out_form"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.fill_out_form" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveAPI.fulfill">
<code class="descname">fulfill</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>internal_format</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.fulfill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.fulfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the actual resource file to the patron.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>kwargs</strong> – A container for arguments to fulfill()
which are not relevant to this vendor.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a FulfillmentInfo object.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="api.overdrive.OverdriveAPI.get_download_link">
<em class="property">classmethod </em><code class="descname">get_download_link</code><span class="sig-paren">(</span><em>checkout_response</em>, <em>format_type</em>, <em>error_url</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.get_download_link"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.get_download_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveAPI.get_fulfillment_link">
<code class="descname">get_fulfillment_link</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>overdrive_id</em>, <em>format_type</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.get_fulfillment_link"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.get_fulfillment_link" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the link to the ACSM file corresponding to an existing loan.</p>
</dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveAPI.get_fulfillment_link_from_download_link">
<code class="descname">get_fulfillment_link_from_download_link</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>download_link</em>, <em>fulfill_url=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.get_fulfillment_link_from_download_link"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.get_fulfillment_link_from_download_link" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveAPI.get_hold">
<code class="descname">get_hold</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>overdrive_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.get_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.get_hold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveAPI.get_loan">
<code class="descname">get_loan</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>overdrive_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.get_loan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.get_loan" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveAPI.get_loans">
<code class="descname">get_loans</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.get_loans"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.get_loans" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a JSON structure describing all of a patron’s outstanding
loans.</p>
</dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveAPI.get_patron_checkouts">
<code class="descname">get_patron_checkouts</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.get_patron_checkouts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.get_patron_checkouts" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveAPI.get_patron_credential">
<code class="descname">get_patron_credential</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.get_patron_credential"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.get_patron_credential" title="Permalink to this definition">¶</a></dt>
<dd><p>Create an OAuth token for the given patron.</p>
</dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveAPI.get_patron_holds">
<code class="descname">get_patron_holds</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.get_patron_holds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.get_patron_holds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveAPI.get_patron_information">
<code class="descname">get_patron_information</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.get_patron_information"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.get_patron_information" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveAPI.lock_in_format">
<code class="descname">lock_in_format</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>overdrive_id</em>, <em>format_type</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.lock_in_format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.lock_in_format" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.overdrive.OverdriveAPI.no_drm">
<code class="descname">no_drm</code><em class="property"> = None</em><a class="headerlink" href="#api.overdrive.OverdriveAPI.no_drm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.overdrive.OverdriveAPI.overdrive_drm">
<code class="descname">overdrive_drm</code><em class="property"> = u'Overdrive DRM'</em><a class="headerlink" href="#api.overdrive.OverdriveAPI.overdrive_drm" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveAPI.patron_activity">
<code class="descname">patron_activity</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.patron_activity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.patron_activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a patron’s current checkouts and holds.</p>
</dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveAPI.patron_request">
<code class="descname">patron_request</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>url</em>, <em>extra_headers={}</em>, <em>data=None</em>, <em>exception_on_401=False</em>, <em>method=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.patron_request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.patron_request" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an HTTP request on behalf of a patron.</p>
<p>The results are never cached.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.overdrive.OverdriveAPI.pdf">
<code class="descname">pdf</code><em class="property"> = u'application/pdf'</em><a class="headerlink" href="#api.overdrive.OverdriveAPI.pdf" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveAPI.perform_early_return">
<code class="descname">perform_early_return</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>loan</em>, <em>http_get=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.perform_early_return"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.perform_early_return" title="Permalink to this definition">¶</a></dt>
<dd><p>Ask Overdrive for a loanEarlyReturnURL for the given loan
and try to hit that URL.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>patron</strong> – A Patron</li>
<li><strong>pin</strong> – Authorization PIN for the patron</li>
<li><strong>loan</strong> – A Loan object corresponding to the title on loan.</li>
<li><strong>http_get</strong> – You may pass in a mock of HTTP.get_with_timeout
for use in tests.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveAPI.place_hold">
<code class="descname">place_hold</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>notification_email_address</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.place_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.place_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Place a book on hold.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A HoldData object, if a hold was successfully placed,
or the book was already on hold.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raise:</th><td class="field-body">A CirculationException explaining why no hold
could be placed.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="api.overdrive.OverdriveAPI.process_checkout_data">
<em class="property">classmethod </em><code class="descname">process_checkout_data</code><span class="sig-paren">(</span><em>checkout</em>, <em>collection</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.process_checkout_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.process_checkout_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Convert one checkout from Overdrive’s list of checkouts
into a LoanInfo object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A LoanInfo object if the book can be fulfilled
by the default Library Simplified client, and None otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveAPI.process_place_hold_response">
<code class="descname">process_place_hold_response</code><span class="sig-paren">(</span><em>response</em>, <em>patron</em>, <em>pin</em>, <em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.process_place_hold_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.process_place_hold_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Process the response to a HOLDS_ENDPOINT request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A HoldData object, if a hold was successfully placed,
or the book was already on hold.</td>
</tr>
<tr class="field-even field"><th class="field-name">Raise:</th><td class="field-body">A CirculationException explaining why no hold
could be placed.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveAPI.raise_exception_on_error">
<code class="descname">raise_exception_on_error</code><span class="sig-paren">(</span><em>data</em>, <em>custom_error_to_exception={}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.raise_exception_on_error"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.raise_exception_on_error" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveAPI.refresh_patron_access_token">
<code class="descname">refresh_patron_access_token</code><span class="sig-paren">(</span><em>credential</em>, <em>patron</em>, <em>pin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.refresh_patron_access_token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.refresh_patron_access_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Request an OAuth bearer token that allows us to act on
behalf of a specific patron.</p>
<p>Documentation: <a class="reference external" href="https://developer.overdrive.com/apis/patron-auth">https://developer.overdrive.com/apis/patron-auth</a></p>
</dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveAPI.release_hold">
<code class="descname">release_hold</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.release_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.release_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Release a patron’s hold on a book.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="#api.circulation_exceptions.CannotReleaseHold" title="api.circulation_exceptions.CannotReleaseHold"><strong>CannotReleaseHold</strong></a> – If there is an error communicating
with Overdrive, or Overdrive refuses to release the hold for
any reason.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="api.overdrive.OverdriveAPI.streaming_text">
<code class="descname">streaming_text</code><em class="property"> = u'Streaming Text'</em><a class="headerlink" href="#api.overdrive.OverdriveAPI.streaming_text" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveAPI.update_availability">
<code class="descname">update_availability</code><span class="sig-paren">(</span><em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.update_availability"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.update_availability" title="Permalink to this definition">¶</a></dt>
<dd><p>Update availability information for a book.</p>
</dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveAPI.update_formats">
<code class="descname">update_formats</code><span class="sig-paren">(</span><em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.update_formats"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.update_formats" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the format information for a single book.</p>
<p>Incidentally updates the metadata, just in case Overdrive has
changed it.</p>
</dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveAPI.update_licensepool">
<code class="descname">update_licensepool</code><span class="sig-paren">(</span><em>book_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.update_licensepool"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.update_licensepool" title="Permalink to this definition">¶</a></dt>
<dd><p>Update availability information for a single book.</p>
<p>If the book has never been seen before, a new LicensePool
will be created for the book.</p>
<p>The book’s LicensePool will be updated with current
circulation information. Bibliographic coverage will be
ensured for the Overdrive Identifier, and a Work will be
created for the LicensePool and set as presentation-ready.</p>
</dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveAPI.update_licensepool_with_book_info">
<code class="descname">update_licensepool_with_book_info</code><span class="sig-paren">(</span><em>book</em>, <em>license_pool</em>, <em>is_new_pool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAPI.update_licensepool_with_book_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAPI.update_licensepool_with_book_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Update a book’s LicensePool with information from a JSON
representation of its circulation info.</p>
<p>Then, create an Edition and make sure it has bibliographic
coverage. If the new Edition is the only candidate for the
pool’s presentation_edition, promote it to presentation
status.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.overdrive.OverdriveAdvantageAccountListScript">
<em class="property">class </em><code class="descclassname">api.overdrive.</code><code class="descname">OverdriveAdvantageAccountListScript</code><span class="sig-paren">(</span><em>_db=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAdvantageAccountListScript"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAdvantageAccountListScript" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.scripts.Script" title="core.scripts.Script"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.scripts.Script</span></code></a></p>
<dl class="method">
<dt id="api.overdrive.OverdriveAdvantageAccountListScript.explain_advantage_collection">
<code class="descname">explain_advantage_collection</code><span class="sig-paren">(</span><em>collection</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAdvantageAccountListScript.explain_advantage_collection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAdvantageAccountListScript.explain_advantage_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Explain a single Overdrive Advantage collection.</p>
</dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveAdvantageAccountListScript.explain_main_collection">
<code class="descname">explain_main_collection</code><span class="sig-paren">(</span><em>collection</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAdvantageAccountListScript.explain_main_collection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAdvantageAccountListScript.explain_main_collection" title="Permalink to this definition">¶</a></dt>
<dd><p>Explain an Overdrive collection and all of its Advantage
collections.</p>
</dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveAdvantageAccountListScript.run">
<code class="descname">run</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveAdvantageAccountListScript.run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveAdvantageAccountListScript.run" title="Permalink to this definition">¶</a></dt>
<dd><p>Explain every Overdrive collection and, for each one, all of its
Advantage collections.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.overdrive.OverdriveCirculationMonitor">
<em class="property">class </em><code class="descclassname">api.overdrive.</code><code class="descname">OverdriveCirculationMonitor</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>api_class=&lt;class 'api.overdrive.OverdriveAPI'&gt;</em>, <em>analytics_class=&lt;class 'core.analytics.Analytics'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveCirculationMonitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveCirculationMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.monitor.CollectionMonitor" title="core.monitor.CollectionMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.monitor.CollectionMonitor</span></code></a>, <a class="reference internal" href="core.html#core.monitor.TimelineMonitor" title="core.monitor.TimelineMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.monitor.TimelineMonitor</span></code></a></p>
<p>Maintain LicensePools for recently changed Overdrive titles. Create
basic Editions for any new LicensePools that show up.</p>
<dl class="attribute">
<dt id="api.overdrive.OverdriveCirculationMonitor.OVERLAP">
<code class="descname">OVERLAP</code><em class="property"> = datetime.timedelta(0, 60)</em><a class="headerlink" href="#api.overdrive.OverdriveCirculationMonitor.OVERLAP" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.overdrive.OverdriveCirculationMonitor.PROTOCOL">
<code class="descname">PROTOCOL</code><em class="property"> = u'Overdrive'</em><a class="headerlink" href="#api.overdrive.OverdriveCirculationMonitor.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.overdrive.OverdriveCirculationMonitor.SERVICE_NAME">
<code class="descname">SERVICE_NAME</code><em class="property"> = 'Overdrive Circulation Monitor'</em><a class="headerlink" href="#api.overdrive.OverdriveCirculationMonitor.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveCirculationMonitor.catch_up_from">
<code class="descname">catch_up_from</code><span class="sig-paren">(</span><em>start</em>, <em>cutoff</em>, <em>progress</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveCirculationMonitor.catch_up_from"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveCirculationMonitor.catch_up_from" title="Permalink to this definition">¶</a></dt>
<dd><p>Find Overdrive books that changed recently.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Progress:</th><td class="field-body">A TimestampData representing the time previously
covered by this Monitor.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveCirculationMonitor.recently_changed_ids">
<code class="descname">recently_changed_ids</code><span class="sig-paren">(</span><em>start</em>, <em>cutoff</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveCirculationMonitor.recently_changed_ids"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveCirculationMonitor.recently_changed_ids" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.overdrive.OverdriveCollectionReaper">
<em class="property">class </em><code class="descclassname">api.overdrive.</code><code class="descname">OverdriveCollectionReaper</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>api_class=&lt;class 'api.overdrive.OverdriveAPI'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveCollectionReaper"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveCollectionReaper" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.monitor.IdentifierSweepMonitor" title="core.monitor.IdentifierSweepMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.monitor.IdentifierSweepMonitor</span></code></a></p>
<p>Check for books that are in the local collection but have left our
Overdrive collection.</p>
<dl class="attribute">
<dt id="api.overdrive.OverdriveCollectionReaper.PROTOCOL">
<code class="descname">PROTOCOL</code><em class="property"> = u'Overdrive'</em><a class="headerlink" href="#api.overdrive.OverdriveCollectionReaper.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.overdrive.OverdriveCollectionReaper.SERVICE_NAME">
<code class="descname">SERVICE_NAME</code><em class="property"> = 'Overdrive Collection Reaper'</em><a class="headerlink" href="#api.overdrive.OverdriveCollectionReaper.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveCollectionReaper.process_item">
<code class="descname">process_item</code><span class="sig-paren">(</span><em>identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveCollectionReaper.process_item"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveCollectionReaper.process_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Do the work that needs to be done for a given item.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.overdrive.OverdriveFormatSweep">
<em class="property">class </em><code class="descclassname">api.overdrive.</code><code class="descname">OverdriveFormatSweep</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>api_class=&lt;class 'api.overdrive.OverdriveAPI'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveFormatSweep"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveFormatSweep" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.monitor.IdentifierSweepMonitor" title="core.monitor.IdentifierSweepMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.monitor.IdentifierSweepMonitor</span></code></a></p>
<p>Check the current formats of every Overdrive book
in our collection.</p>
<dl class="attribute">
<dt id="api.overdrive.OverdriveFormatSweep.DEFAULT_BATCH_SIZE">
<code class="descname">DEFAULT_BATCH_SIZE</code><em class="property"> = 25</em><a class="headerlink" href="#api.overdrive.OverdriveFormatSweep.DEFAULT_BATCH_SIZE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.overdrive.OverdriveFormatSweep.PROTOCOL">
<code class="descname">PROTOCOL</code><em class="property"> = u'Overdrive'</em><a class="headerlink" href="#api.overdrive.OverdriveFormatSweep.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.overdrive.OverdriveFormatSweep.SERVICE_NAME">
<code class="descname">SERVICE_NAME</code><em class="property"> = 'Overdrive Format Sweep'</em><a class="headerlink" href="#api.overdrive.OverdriveFormatSweep.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.overdrive.OverdriveFormatSweep.process_item">
<code class="descname">process_item</code><span class="sig-paren">(</span><em>identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#OverdriveFormatSweep.process_item"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.OverdriveFormatSweep.process_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Do the work that needs to be done for a given item.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.overdrive.RecentOverdriveCollectionMonitor">
<em class="property">class </em><code class="descclassname">api.overdrive.</code><code class="descname">RecentOverdriveCollectionMonitor</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#RecentOverdriveCollectionMonitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.RecentOverdriveCollectionMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.overdrive.OverdriveCirculationMonitor" title="api.overdrive.OverdriveCirculationMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.overdrive.OverdriveCirculationMonitor</span></code></a></p>
<p>Monitor recently changed books in the Overdrive collection.</p>
<dl class="attribute">
<dt id="api.overdrive.RecentOverdriveCollectionMonitor.MAXIMUM_CONSECUTIVE_UNCHANGED_BOOKS">
<code class="descname">MAXIMUM_CONSECUTIVE_UNCHANGED_BOOKS</code><em class="property"> = 100</em><a class="headerlink" href="#api.overdrive.RecentOverdriveCollectionMonitor.MAXIMUM_CONSECUTIVE_UNCHANGED_BOOKS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.overdrive.RecentOverdriveCollectionMonitor.SERVICE_NAME">
<code class="descname">SERVICE_NAME</code><em class="property"> = 'Reverse Chronological Overdrive Collection Monitor'</em><a class="headerlink" href="#api.overdrive.RecentOverdriveCollectionMonitor.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.overdrive.RecentOverdriveCollectionMonitor.should_stop">
<code class="descname">should_stop</code><span class="sig-paren">(</span><em>start</em>, <em>api_description</em>, <em>is_changed</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/overdrive.html#RecentOverdriveCollectionMonitor.should_stop"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.overdrive.RecentOverdriveCollectionMonitor.should_stop" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api.problem_details">
<span id="api-problem-details-module"></span><h2>api.problem_details module<a class="headerlink" href="#module-api.problem_details" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-api.rbdigital">
<span id="api-rbdigital-module"></span><h2>api.rbdigital module<a class="headerlink" href="#module-api.rbdigital" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="api.rbdigital.AudiobookManifest">
<em class="property">class </em><code class="descclassname">api.rbdigital.</code><code class="descname">AudiobookManifest</code><span class="sig-paren">(</span><em>content_dict</em>, <em>fulfill_part_url=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#AudiobookManifest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.AudiobookManifest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.util.html#core.util.web_publication_manifest.AudiobookManifest" title="core.util.web_publication_manifest.AudiobookManifest"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.util.web_publication_manifest.AudiobookManifest</span></code></a></p>
<p>A standard AudiobookManifest derived from an RBdigital audiobook
manifest.</p>
<dl class="attribute">
<dt id="api.rbdigital.AudiobookManifest.INTERMEDIATE_LINK_MEDIA_TYPE">
<code class="descname">INTERMEDIATE_LINK_MEDIA_TYPE</code><em class="property"> = 'vnd.librarysimplified/rbdigital-access-document+json'</em><a class="headerlink" href="#api.rbdigital.AudiobookManifest.INTERMEDIATE_LINK_MEDIA_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.rbdigital.AudiobookManifest.best_cover">
<em class="property">classmethod </em><code class="descname">best_cover</code><span class="sig-paren">(</span><em>images=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#AudiobookManifest.best_cover"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.AudiobookManifest.best_cover" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.rbdigital.AudiobookManifest.import_metadata">
<code class="descname">import_metadata</code><span class="sig-paren">(</span><em>rbdigital_field</em>, <em>standard_field=None</em>, <em>transform=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#AudiobookManifest.import_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.AudiobookManifest.import_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Map a field in an RBdigital manifest to the corresponding
standard manifest field.</p>
</dd></dl>

<dl class="method">
<dt id="api.rbdigital.AudiobookManifest.import_spine">
<code class="descname">import_spine</code><span class="sig-paren">(</span><em>file_data</em>, <em>alternate_url=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#AudiobookManifest.import_spine"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.AudiobookManifest.import_spine" title="Permalink to this definition">¶</a></dt>
<dd><p>Import an RBdigital spine item as a Web Publication Manifest
spine item.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>file_data</strong> – A dictionary of information about this spine
item, obtained from RBdigital.</li>
<li><strong>alternate_url</strong> – A URL generated by the circulation manager
(as opposed to being generated by RBdigital) for fulfilling this
spine item as an audio file (as opposed to a JSON document that
links to an audio file).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.rbdigital.MockRBDigitalAPI">
<em class="property">class </em><code class="descclassname">api.rbdigital.</code><code class="descname">MockRBDigitalAPI</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>base_path=None</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#MockRBDigitalAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.MockRBDigitalAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.rbdigital.RBDigitalAPI" title="api.rbdigital.RBDigitalAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.rbdigital.RBDigitalAPI</span></code></a></p>
<dl class="attribute">
<dt id="api.rbdigital.MockRBDigitalAPI.collection">
<code class="descname">collection</code><a class="headerlink" href="#api.rbdigital.MockRBDigitalAPI.collection" title="Permalink to this definition">¶</a></dt>
<dd><p>We can store the actual Collection object with a mock API,
so there’s no need to store the ID and do lookups.</p>
</dd></dl>

<dl class="method">
<dt id="api.rbdigital.MockRBDigitalAPI.get_data">
<code class="descname">get_data</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#MockRBDigitalAPI.get_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.MockRBDigitalAPI.get_data" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.rbdigital.MockRBDigitalAPI.mock_collection">
<em class="property">classmethod </em><code class="descname">mock_collection</code><span class="sig-paren">(</span><em>_db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#MockRBDigitalAPI.mock_collection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.MockRBDigitalAPI.mock_collection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.rbdigital.MockRBDigitalAPI.populate_all_catalog">
<code class="descname">populate_all_catalog</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#MockRBDigitalAPI.populate_all_catalog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.MockRBDigitalAPI.populate_all_catalog" title="Permalink to this definition">¶</a></dt>
<dd><p>Set up to use the smaller test catalog file, and then call the real
populate_all_catalog.  Used to test import on non-test permanent database.</p>
</dd></dl>

<dl class="method">
<dt id="api.rbdigital.MockRBDigitalAPI.queue_response">
<code class="descname">queue_response</code><span class="sig-paren">(</span><em>status_code</em>, <em>headers={}</em>, <em>content=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#MockRBDigitalAPI.queue_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.MockRBDigitalAPI.queue_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows smoother faster creation of unit tests by letting
us live-test as we write.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.rbdigital.RBDigitalAPI">
<em class="property">class </em><code class="descclassname">api.rbdigital.</code><code class="descname">RBDigitalAPI</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation.BaseCirculationAPI" title="api.circulation.BaseCirculationAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation.BaseCirculationAPI</span></code></a>, <a class="reference internal" href="#api.selftest.HasSelfTests" title="api.selftest.HasSelfTests"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.selftest.HasSelfTests</span></code></a></p>
<dl class="attribute">
<dt id="api.rbdigital.RBDigitalAPI.API_VERSION">
<code class="descname">API_VERSION</code><em class="property"> = 'v1'</em><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.API_VERSION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.rbdigital.RBDigitalAPI.BASE_SETTINGS">
<code class="descname">BASE_SETTINGS</code><em class="property"> = []</em><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.BASE_SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.rbdigital.RBDigitalAPI.DATE_FORMAT">
<code class="descname">DATE_FORMAT</code><em class="property"> = '%Y-%m-%d'</em><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.DATE_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.rbdigital.RBDigitalAPI.DEFAULT_LOAN_DURATION">
<code class="descname">DEFAULT_LOAN_DURATION</code><em class="property"> = 7</em><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.DEFAULT_LOAN_DURATION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.rbdigital.RBDigitalAPI.EXPIRATION_DATE_FORMAT">
<code class="descname">EXPIRATION_DATE_FORMAT</code><em class="property"> = '%Y-%m-%d'</em><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.EXPIRATION_DATE_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.rbdigital.RBDigitalAPI.LIBRARY_SETTINGS">
<code class="descname">LIBRARY_SETTINGS</code><em class="property"> = [{'description': l'When a patron uses SimplyE to borrow an audiobook from this collection, SimplyE will ask for a loan that lasts this number of days. This must be equal to or less than the maximum loan duration negotiated with the distributor.', 'key': 'audio_loan_duration', 'default': 7, 'type': 'number', 'label': l'Audiobook Loan Duration (in Days)'}, {'description': l'When a patron uses SimplyE to borrow an ebook from this collection, SimplyE will ask for a loan that lasts this number of days. This must be equal to or less than the maximum loan duration negotiated with the distributor.', 'key': 'ebook_loan_duration', 'default': 7, 'type': 'number', 'label': l'Ebook Loan Duration (in Days)'}]</em><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.LIBRARY_SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.rbdigital.RBDigitalAPI.NAME">
<code class="descname">NAME</code><em class="property"> = u'RBdigital'</em><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.rbdigital.RBDigitalAPI.PRODUCTION_BASE_URL">
<code class="descname">PRODUCTION_BASE_URL</code><em class="property"> = 'https://api.rbdigital.com/'</em><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.PRODUCTION_BASE_URL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.rbdigital.RBDigitalAPI.QA_BASE_URL">
<code class="descname">QA_BASE_URL</code><em class="property"> = 'http://api.rbdigitalstage.com/'</em><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.QA_BASE_URL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.rbdigital.RBDigitalAPI.RESPONSE_VERBOSITY">
<code class="descname">RESPONSE_VERBOSITY</code><em class="property"> = {0: 'basic', 1: 'compact', 2: 'complete', 3: 'extended', 4: 'hypermedia'}</em><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.RESPONSE_VERBOSITY" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.rbdigital.RBDigitalAPI.SERVER_NICKNAMES">
<code class="descname">SERVER_NICKNAMES</code><em class="property"> = {'production': 'https://api.rbdigital.com/', 'qa': 'http://api.rbdigitalstage.com/'}</em><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.SERVER_NICKNAMES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.rbdigital.RBDigitalAPI.SETTINGS">
<code class="descname">SETTINGS</code><em class="property"> = [{'required': True, 'key': u'password', 'label': l'Basic Token'}, {'required': True, 'type': 'number', 'key': u'external_account_id', 'label': l'Library ID (numeric)'}, {'default': 'https://api.rbdigital.com/', 'format': 'url', 'required': True, 'key': u'url', 'label': l'URL'}]</em><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.rbdigital.RBDigitalAPI.authorization_headers">
<code class="descname">authorization_headers</code><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.authorization_headers" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalAPI.checkin">
<code class="descname">checkin</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.checkin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.checkin" title="Permalink to this definition">¶</a></dt>
<dd><p>Allow a patron to return an ebook or audio before its due date.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>patron</strong> – a Patron object for the patron who wants to return the book.</li>
<li><strong>pin</strong> – The patron’s password (not used).</li>
<li><strong>licensepool</strong> – The Identifier of the book to be checked out is
attached to this licensepool.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>:return True on success, raises circulation exceptions on failure.</p>
</dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalAPI.checkout">
<code class="descname">checkout</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>internal_format</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.checkout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.checkout" title="Permalink to this definition">¶</a></dt>
<dd><p>Associate an eBook or eAudio with a patron.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>patron</strong> – a Patron object for the patron who wants to check out the book.</li>
<li><strong>pin</strong> – The patron’s password (not used).</li>
<li><strong>licensepool</strong> – The Identifier of the book to be checked out is
attached to this licensepool.</li>
<li><strong>internal_format</strong> – Represents the patron’s desired book format.  Ignored for now.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>:return LoanInfo on success, None on failure.</p>
</dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalAPI.circulate_item">
<code class="descname">circulate_item</code><span class="sig-paren">(</span><em>patron_id</em>, <em>item_id</em>, <em>hold=False</em>, <em>return_item=False</em>, <em>days=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.circulate_item"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.circulate_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Borrow or return a catalog item.
:param patron_id RBDigital internal id
:param item_id isbn
:return A dictionary of information on the transaction or error status and message
Calling methods are expected to use this dictionary to create XxxInfo objects.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.rbdigital.RBDigitalAPI.collection">
<code class="descname">collection</code><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.collection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.rbdigital.RBDigitalAPI.create_identifier_strings">
<em class="property">classmethod </em><code class="descname">create_identifier_strings</code><span class="sig-paren">(</span><em>identifiers</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.create_identifier_strings"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.create_identifier_strings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalAPI.create_patron">
<code class="descname">create_patron</code><span class="sig-paren">(</span><em>library</em>, <em>authorization_identifier</em>, <em>email_address</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.create_patron"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.create_patron" title="Permalink to this definition">¶</a></dt>
<dd><p>Ask RBdigital to create a new patron record.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>library</strong> – Library for the patron that needs a new RBdigital
account. This has no necessary connection to the ‘library_id’
associated with the RBDigitalAPI, since multiple circulation
manager libraries may share an RBdigital account.</li>
<li><strong>authorization_identifier</strong> – The identifier the patron uses
to authenticate with their library.</li>
<li><strong>email_address</strong> – The email address, if any, which the patron
has shared with their library.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>:return The internal RBdigital identifier for this patron.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.rbdigital.RBDigitalAPI.default_circulation_replacement_policy">
<code class="descname">default_circulation_replacement_policy</code><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.default_circulation_replacement_policy" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalAPI.dummy_email_address">
<code class="descname">dummy_email_address</code><span class="sig-paren">(</span><em>library</em>, <em>authorization_identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.dummy_email_address"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.dummy_email_address" title="Permalink to this definition">¶</a></dt>
<dd><p>The fake email address to send to RBdigital when
creating an account for the given patron.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>library</strong> – A Library.</li>
<li><strong>authorization_identifier</strong> – A patron’s authorization identifier.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">An email address unique to this patron which will
bounce or reject all mail sent to it.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalAPI.dummy_patron_identifier">
<code class="descname">dummy_patron_identifier</code><span class="sig-paren">(</span><em>authorization_identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.dummy_patron_identifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.dummy_patron_identifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Add six random alphanumeric characters to the end of
the given <cite>authorization_identifier</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A random identifier based on the input identifier.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalAPI.external_integration">
<code class="descname">external_integration</code><span class="sig-paren">(</span><em>_db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.external_integration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.external_integration" title="Permalink to this definition">¶</a></dt>
<dd><p>Locate the ExternalIntegration associated with this object.
The status of the self-tests will be stored as a ConfigurationSetting
on this ExternalIntegration.</p>
<p>By default, there is no way to get from an object to its
ExternalIntegration, and self-test status will not be stored.</p>
</dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalAPI.fulfill">
<code class="descname">fulfill</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>internal_format</em>, <em>part=None</em>, <em>fulfill_part_url=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.fulfill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.fulfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Get an actual resource file to the patron. This may
represent the entire book or only one part of it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>part</strong> – When the patron wants to fulfill a specific part
of the book, rather than the title as a whole, this will be
set to a string representation of the numeric position of the
desired part.</li>
<li><strong>fulfill_part_url</strong> – When the book can be fulfilled in
parts, this function will take a part number and generate the
URL to fulfill that specific part.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>:return a FulfillmentInfo object.</p>
</dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalAPI.get_all_available_through_search">
<code class="descname">get_all_available_through_search</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.get_all_available_through_search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.get_all_available_through_search" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a list of ebook and eaudio items this library has access to, that are currently
available to lend.  Uses the “availability” facet of the search function.
An alternative to self.get_availability_info().
Calls paged search until done.
Uses minimal verbosity for result set.</p>
<p>Note:  Some libraries can see other libraries’ catalogs, even if the patron
cannot checkout the items.  The library ownership information is in the “interest”
fields of the response.</p>
<p>:return A dictionary representation of the response, containing catalog count and ebook item - interest pairs.</p>
</dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalAPI.get_all_catalog">
<code class="descname">get_all_catalog</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.get_all_catalog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.get_all_catalog" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the entire RBDigital catalog for a particular library.</p>
<p>Note:  This call taxes RBDigital’s servers, and is to be performed sparingly.
The results are returned unpaged.</p>
<p>Also, the endpoint returns about as much metadata per item as the media/{isbn} endpoint does.
If want more metadata, perform a search.</p>
<p>:return A list of dictionaries representation of the response.</p>
</dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalAPI.get_delta">
<code class="descname">get_delta</code><span class="sig-paren">(</span><em>from_date=None</em>, <em>to_date=None</em>, <em>verbosity=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.get_delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.get_delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the changes to the library’s catalog.</p>
<p>Note:  As of now, RBDigital saves deltas for past 6 months, and can display them
in max 2-month increments.</p>
<p>:return A dictionary listing items added/removed/modified in the collection.</p>
</dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalAPI.get_ebook_availability_info">
<code class="descname">get_ebook_availability_info</code><span class="sig-paren">(</span><em>media_type='ebook'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.get_ebook_availability_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.get_ebook_availability_info" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a list of ebook items this library has access to, through the “availability” endpoint.
The response at this endpoint is laconic – just enough fields per item to
identify the item and declare it either available to lend or not.</p>
<p>:param media_type ‘eBook’/’eAudio’</p>
<dl class="docutils">
<dt>:return A list of dictionary items, each item giving “yes/no” answer on a book’s current availability to lend.</dt>
<dd><dl class="first last docutils">
<dt>Example of returned item format:</dt>
<dd>“timeStamp”: “2016-10-07T16:11:52.5887333Z”
“isbn”: “9781420128567”
“mediaType”: “eBook”
“availability”: false
“titleId”: 39764</dd>
</dl>
</dd>
</dl>
</dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalAPI.get_metadata_by_isbn">
<code class="descname">get_metadata_by_isbn</code><span class="sig-paren">(</span><em>identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.get_metadata_by_isbn"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.get_metadata_by_isbn" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets metadata, s.a. publisher, date published, genres, etc for the
eBook or eAudio item passed, using isbn to search on.
If isbn is not found, the response we get from RBDigital is an error message,
and we throw an error.</p>
<p>:return the json dictionary of the response object</p>
</dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalAPI.get_patron_checkouts">
<code class="descname">get_patron_checkouts</code><span class="sig-paren">(</span><em>patron_id</em>, <em>fulfill_part_url=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.get_patron_checkouts"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.get_patron_checkouts" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the books and audio the patron currently has checked out.
Obtains fulfillment info for each item – the way to fulfill a book
is to get this list of possibilities first, and then call individual
fulfillment endpoints on the individual items.</p>
<p>:param patron_id RBDigital internal id for the patron.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>fulfill_part_url</strong> – A function that generates circulation
manager fulfillment URLs for individual parts of a book.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalAPI.get_patron_holds">
<code class="descname">get_patron_holds</code><span class="sig-paren">(</span><em>patron_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.get_patron_holds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.get_patron_holds" title="Permalink to this definition">¶</a></dt>
<dd><p>:param patron_id RBDigital internal id for the patron.</p>
</dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalAPI.internal_format">
<code class="descname">internal_format</code><span class="sig-paren">(</span><em>delivery_mechanism</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.internal_format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.internal_format" title="Permalink to this definition">¶</a></dt>
<dd><p>We don’t need to do any mapping between delivery mechanisms and
internal formats, because each title is only available in one
format.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.rbdigital.RBDigitalAPI.log">
<code class="descname">log</code><em class="property"> = &lt;logging.Logger object&gt;</em><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.rbdigital.RBDigitalAPI.my_audiobook_setting">
<code class="descname">my_audiobook_setting</code><em class="property"> = {'default': 7, 'description': l'When a patron uses SimplyE to borrow an audiobook from this collection, SimplyE will ask for a loan that lasts this number of days. This must be equal to or less than the maximum loan duration negotiated with the distributor.', 'key': 'audio_loan_duration', 'label': l'Audiobook Loan Duration (in Days)', 'type': 'number'}</em><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.my_audiobook_setting" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.rbdigital.RBDigitalAPI.my_ebook_setting">
<code class="descname">my_ebook_setting</code><em class="property"> = {'default': 7, 'description': l'When a patron uses SimplyE to borrow an ebook from this collection, SimplyE will ask for a loan that lasts this number of days. This must be equal to or less than the maximum loan duration negotiated with the distributor.', 'key': 'ebook_loan_duration', 'label': l'Ebook Loan Duration (in Days)', 'type': 'number'}</em><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.my_ebook_setting" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalAPI.patron_activity">
<code class="descname">patron_activity</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.patron_activity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.patron_activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a patron’s current checkouts and holds.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>patron</strong> – a Patron object for the patron who wants to return the book.</li>
<li><strong>pin</strong> – The patron’s password (not used).</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalAPI.patron_remote_identifier">
<code class="descname">patron_remote_identifier</code><span class="sig-paren">(</span><em>patron</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.patron_remote_identifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.patron_remote_identifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Locate the identifier for the given Patron’s account on the
RBdigital side, creating a new RBdigital account if necessary.</p>
<p>The identifier is cached in a persistent Credential object.</p>
<p>The logic is complicated and spread out over multiple methods,
so here it is all in one place:</p>
<p>If an already-cached identifier is present, we use it.</p>
<p>Otherwise, we look up the patron’s barcode on RBdigital to try
to find their existing RBdigital account.</p>
<p>If we find an existing RBdigital account, we cache the
identifier associated with that account.</p>
<p>Otherwise, we need to create an RBdigital account for this patron:</p>
<p>If the ILS provides access to the patron’s email address, we
create an account using the patron’s actual barcode and email
address. This will let them use the ‘recover password’ feature
if they want to use the RBdigital web site.</p>
<p>If the ILS does not provide access to the patron’s email
address, we create an account using the patron’s actual
barcode but with six random characters appended. This will let
the patron create a new RBdigital account using their actual
barcode, if they want to use the web site.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>patron</strong> – A Patron.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The identifier associated with the patron’s (possibly
newly created) RBdigital account. This is an
RBdigital-internal identifier with no connection to any
identifier used by the patron, the circulation manager,
and the ILS.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalAPI.patron_remote_identifier_lookup">
<code class="descname">patron_remote_identifier_lookup</code><span class="sig-paren">(</span><em>remote_identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.patron_remote_identifier_lookup"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.patron_remote_identifier_lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up a patron’s RBdigital account based on an identifier
associated with their circulation manager account.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>remote_identifier</strong> – Depending on the context, this may
be the patron’s actual barcode, or a random string _based_ on
their barcode.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">The internal RBdigital patron ID for the given
identifier, or None if there is no corresponding RBdigital
account.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalAPI.place_hold">
<code class="descname">place_hold</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>notification_email_address</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.place_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.place_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Place a book on hold.</p>
<p>Note: If the requested book is available for checkout, RBDigital will respond
with a “success” to the hold request.  Then, at the next database clean-up sweep,
RBDigital will automatically convert the hold record to a checkout record.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>patron</strong> – a Patron object for the patron who wants to check out the book.</li>
<li><strong>pin</strong> – The patron’s password (not used).</li>
<li><strong>licensepool</strong> – The Identifier of the book to be checked out is
attached to this licensepool.</li>
<li><strong>internal_format</strong> – Represents the patron’s desired book format.  Ignored for now.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A HoldInfo object on success, None on failure</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalAPI.populate_all_catalog">
<code class="descname">populate_all_catalog</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.populate_all_catalog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.populate_all_catalog" title="Permalink to this definition">¶</a></dt>
<dd><p>Call get_all_catalog to get all of library’s book info from RBDigital.
Create Work, Edition, LicensePool objects in our database.</p>
</dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalAPI.populate_delta">
<code class="descname">populate_delta</code><span class="sig-paren">(</span><em>months=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.populate_delta"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.populate_delta" title="Permalink to this definition">¶</a></dt>
<dd><p>Call get_delta for the last month to get all of the library’s book info changes
from RBDigital.  Update Work, Edition, LicensePool objects in our database.</p>
</dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalAPI.queue_response">
<code class="descname">queue_response</code><span class="sig-paren">(</span><em>status_code</em>, <em>headers={}</em>, <em>content=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.queue_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.queue_response" title="Permalink to this definition">¶</a></dt>
<dd><p>Allows smoother faster creation of unit tests by letting
us live-test as we write.</p>
</dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalAPI.release_hold">
<code class="descname">release_hold</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.release_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.release_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Release a patron’s hold on a book.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>patron</strong> – a Patron object for the patron who wants to return the book.</li>
<li><strong>pin</strong> – The patron’s password (not used).</li>
<li><strong>licensepool</strong> – The Identifier of the book to be checked out is
attached to this licensepool.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>:return True on success, raises circulation exceptions on failure.</p>
</dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalAPI.request">
<code class="descname">request</code><span class="sig-paren">(</span><em>url</em>, <em>method='get'</em>, <em>extra_headers={}</em>, <em>data=None</em>, <em>params=None</em>, <em>verbosity='complete'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.request"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.request" title="Permalink to this definition">¶</a></dt>
<dd><p>Make an HTTP request.</p>
</dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalAPI.search">
<code class="descname">search</code><span class="sig-paren">(</span><em>mediatype='ebook'</em>, <em>genres=[]</em>, <em>audience=None</em>, <em>availability=None</em>, <em>author=None</em>, <em>title=None</em>, <em>page_size=100</em>, <em>page_index=None</em>, <em>verbosity=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.search" title="Permalink to this definition">¶</a></dt>
<dd><p>Form a rest-ful search query, send to RBDigital, and obtain the results.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>mediatype</strong> – Facet to limit results by media type.  Options are: “eAudio”, “eBook”.</li>
<li><strong>genres</strong> – The books found lie at intersection of genres passed.</li>
<li><strong>audience</strong> – Facet to limit results by target age group.  Options include (there may be more): “adult”,
“beginning-reader”, “childrens”, “young-adult”.</li>
<li><strong>availability</strong> – Facet to limit results by copies left.  Options are “available”, “unavailable”, or None</li>
<li><strong>author</strong> – Full name to search on.</li>
<li><strong>title</strong> – Book title to search on.</li>
<li><strong>page_index</strong> – Used for paginated result sets.  Zero-based.</li>
<li><strong>verbosity</strong> – “basic” returns smaller number of response json lines than “complete”, etc..</li>
</ul>
</td>
</tr>
</tbody>
</table>
<p>:return the response object</p>
</dd></dl>

<dl class="attribute">
<dt id="api.rbdigital.RBDigitalAPI.source">
<code class="descname">source</code><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalAPI.update_availability">
<code class="descname">update_availability</code><span class="sig-paren">(</span><em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.update_availability"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.update_availability" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the availability information for a single LicensePool.
Part of the CirculationAPI interface.
Inactive for now, because we’d have to request and go through all availabilities
from RBDigital just to pick the one licensepool we want.</p>
</dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalAPI.update_licensepool_for_identifier">
<code class="descname">update_licensepool_for_identifier</code><span class="sig-paren">(</span><em>isbn</em>, <em>availability</em>, <em>medium</em>, <em>policy=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.update_licensepool_for_identifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.update_licensepool_for_identifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Update availability information for a single book.</p>
<p>If the book has never been seen before, a new LicensePool
will be created for the book.</p>
<p>The book’s LicensePool will be updated with current approximate
circulation information (we can tell if it’s available, but
not how many copies).
Bibliographic coverage will be ensured for the RBDigital Identifier.
Work will be created for the LicensePool and set as presentation-ready.</p>
<p>:param isbn the identifier RBDigital uses
:param availability boolean denoting if book can be lent to patrons
:param medium: The name RBDigital uses for the book’s medium.</p>
</dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalAPI.validate_item">
<code class="descname">validate_item</code><span class="sig-paren">(</span><em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.validate_item"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.validate_item" title="Permalink to this definition">¶</a></dt>
<dd><p>Are we performing operations on a book that exists and can be
uniquely identified?</p>
</dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalAPI.validate_response">
<code class="descname">validate_response</code><span class="sig-paren">(</span><em>response</em>, <em>message</em>, <em>action=''</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalAPI.validate_response"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalAPI.validate_response" title="Permalink to this definition">¶</a></dt>
<dd><p>RBDigital tries to communicate statuses and errors through http codes.
Malformed url requests will throw a 500, non-existent ids will get a 404,
trying an action like checkout on a patron/item combo that’s blocked
(like if the item is already checked out, for example) will get a 409, etc..
Further details are usually elaborated on in the “message” field of the response.</p>
<p>:param response http response object
:message RBDigital puts error explanation into ‘message’ field in response dictionary</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.rbdigital.RBDigitalBibliographicCoverageProvider">
<em class="property">class </em><code class="descclassname">api.rbdigital.</code><code class="descname">RBDigitalBibliographicCoverageProvider</code><span class="sig-paren">(</span><em>collection</em>, <em>api_class=&lt;class 'api.rbdigital.RBDigitalAPI'&gt;</em>, <em>api_class_kwargs={}</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalBibliographicCoverageProvider"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalBibliographicCoverageProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.coverage.BibliographicCoverageProvider" title="core.coverage.BibliographicCoverageProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.coverage.BibliographicCoverageProvider</span></code></a></p>
<p>Fill in bibliographic metadata for RBDigital records.</p>
<dl class="attribute">
<dt id="api.rbdigital.RBDigitalBibliographicCoverageProvider.DATA_SOURCE_NAME">
<code class="descname">DATA_SOURCE_NAME</code><em class="property"> = u'RBdigital'</em><a class="headerlink" href="#api.rbdigital.RBDigitalBibliographicCoverageProvider.DATA_SOURCE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.rbdigital.RBDigitalBibliographicCoverageProvider.DEFAULT_BATCH_SIZE">
<code class="descname">DEFAULT_BATCH_SIZE</code><em class="property"> = 25</em><a class="headerlink" href="#api.rbdigital.RBDigitalBibliographicCoverageProvider.DEFAULT_BATCH_SIZE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.rbdigital.RBDigitalBibliographicCoverageProvider.INPUT_IDENTIFIER_TYPES">
<code class="descname">INPUT_IDENTIFIER_TYPES</code><em class="property"> = u'RBdigital ID'</em><a class="headerlink" href="#api.rbdigital.RBDigitalBibliographicCoverageProvider.INPUT_IDENTIFIER_TYPES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.rbdigital.RBDigitalBibliographicCoverageProvider.PROTOCOL">
<code class="descname">PROTOCOL</code><em class="property"> = u'RBdigital'</em><a class="headerlink" href="#api.rbdigital.RBDigitalBibliographicCoverageProvider.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.rbdigital.RBDigitalBibliographicCoverageProvider.SERVICE_NAME">
<code class="descname">SERVICE_NAME</code><em class="property"> = 'RBDigital Bibliographic Coverage Provider'</em><a class="headerlink" href="#api.rbdigital.RBDigitalBibliographicCoverageProvider.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalBibliographicCoverageProvider.process_item">
<code class="descname">process_item</code><span class="sig-paren">(</span><em>identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalBibliographicCoverageProvider.process_item"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalBibliographicCoverageProvider.process_item" title="Permalink to this definition">¶</a></dt>
<dd><p>RBDigital availability information is served separately from
the book’s metadata.  Furthermore, the metadata returned by the
“book by isbn” request is less comprehensive than the data returned
by the “search titles/genres/etc.” endpoint.</p>
<p>This method hits the “by isbn” endpoint and updates the bibliographic
metadata returned by it.</p>
</dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalBibliographicCoverageProvider.update_metadata">
<code class="descname">update_metadata</code><span class="sig-paren">(</span><em>catalog_item</em>, <em>identifier=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalBibliographicCoverageProvider.update_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalBibliographicCoverageProvider.update_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates db objects corresponding to the book info passed in.</p>
<p>Note: It is expected that CoverageProvider.handle_success, which is responsible for
setting the work to be presentation-ready is handled in the calling code.</p>
<p>:catalog_item - JSON representation of the book’s metadata, coming from RBDigital.
:return CoverageFailure or a database object (Work, Identifier, etc.)</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.rbdigital.RBDigitalCirculationMonitor">
<em class="property">class </em><code class="descclassname">api.rbdigital.</code><code class="descname">RBDigitalCirculationMonitor</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>batch_size=None</em>, <em>api_class=&lt;class 'api.rbdigital.RBDigitalAPI'&gt;</em>, <em>api_class_kwargs={}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalCirculationMonitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalCirculationMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.monitor.CollectionMonitor" title="core.monitor.CollectionMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.monitor.CollectionMonitor</span></code></a></p>
<p>Maintain LicensePools for RBDigital titles.</p>
<p>Bibliographic data isn’t inserted into new LicensePools until
we hear from the metadata wrangler.</p>
<dl class="attribute">
<dt id="api.rbdigital.RBDigitalCirculationMonitor.DEFAULT_BATCH_SIZE">
<code class="descname">DEFAULT_BATCH_SIZE</code><em class="property"> = 50</em><a class="headerlink" href="#api.rbdigital.RBDigitalCirculationMonitor.DEFAULT_BATCH_SIZE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.rbdigital.RBDigitalCirculationMonitor.DEFAULT_START_TIME">
<code class="descname">DEFAULT_START_TIME</code><em class="property"> = datetime.datetime(1970, 1, 1, 0, 0)</em><a class="headerlink" href="#api.rbdigital.RBDigitalCirculationMonitor.DEFAULT_START_TIME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.rbdigital.RBDigitalCirculationMonitor.PROTOCOL">
<code class="descname">PROTOCOL</code><em class="property"> = u'RBdigital'</em><a class="headerlink" href="#api.rbdigital.RBDigitalCirculationMonitor.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.rbdigital.RBDigitalCirculationMonitor.SERVICE_NAME">
<code class="descname">SERVICE_NAME</code><em class="property"> = 'RBDigital CirculationMonitor'</em><a class="headerlink" href="#api.rbdigital.RBDigitalCirculationMonitor.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalCirculationMonitor.process_availability">
<code class="descname">process_availability</code><span class="sig-paren">(</span><em>media_type='eBook'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalCirculationMonitor.process_availability"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalCirculationMonitor.process_availability" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalCirculationMonitor.run_once">
<code class="descname">run_once</code><span class="sig-paren">(</span><em>progress</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalCirculationMonitor.run_once"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalCirculationMonitor.run_once" title="Permalink to this definition">¶</a></dt>
<dd><p>Update the availability information of all titles in the
RBdigital collection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>progress</strong> – A TimestampData, ignored.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A TimestampData describing what was accomplished.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.rbdigital.RBDigitalDeltaMonitor">
<em class="property">class </em><code class="descclassname">api.rbdigital.</code><code class="descname">RBDigitalDeltaMonitor</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>api_class=&lt;class 'api.rbdigital.RBDigitalAPI'&gt;</em>, <em>api_class_kwargs={}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalDeltaMonitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalDeltaMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.rbdigital.RBDigitalSyncMonitor" title="api.rbdigital.RBDigitalSyncMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.rbdigital.RBDigitalSyncMonitor</span></code></a></p>
<dl class="attribute">
<dt id="api.rbdigital.RBDigitalDeltaMonitor.SERVICE_NAME">
<code class="descname">SERVICE_NAME</code><em class="property"> = 'RBDigital Delta Sync'</em><a class="headerlink" href="#api.rbdigital.RBDigitalDeltaMonitor.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalDeltaMonitor.invoke">
<code class="descname">invoke</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalDeltaMonitor.invoke"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalDeltaMonitor.invoke" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.rbdigital.RBDigitalImportMonitor">
<em class="property">class </em><code class="descclassname">api.rbdigital.</code><code class="descname">RBDigitalImportMonitor</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>api_class=&lt;class 'api.rbdigital.RBDigitalAPI'&gt;</em>, <em>api_class_kwargs={}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalImportMonitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalImportMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.rbdigital.RBDigitalSyncMonitor" title="api.rbdigital.RBDigitalSyncMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.rbdigital.RBDigitalSyncMonitor</span></code></a></p>
<dl class="attribute">
<dt id="api.rbdigital.RBDigitalImportMonitor.SERVICE_NAME">
<code class="descname">SERVICE_NAME</code><em class="property"> = 'RBDigital Full Import'</em><a class="headerlink" href="#api.rbdigital.RBDigitalImportMonitor.SERVICE_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalImportMonitor.invoke">
<code class="descname">invoke</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalImportMonitor.invoke"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalImportMonitor.invoke" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.rbdigital.RBDigitalRepresentationExtractor">
<em class="property">class </em><code class="descclassname">api.rbdigital.</code><code class="descname">RBDigitalRepresentationExtractor</code><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalRepresentationExtractor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalRepresentationExtractor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Extract useful information from RBDigital’s JSON representations.</p>
<dl class="attribute">
<dt id="api.rbdigital.RBDigitalRepresentationExtractor.DATETIME_FORMAT">
<code class="descname">DATETIME_FORMAT</code><em class="property"> = '%Y-%m-%dT%H:%M:%SZ'</em><a class="headerlink" href="#api.rbdigital.RBDigitalRepresentationExtractor.DATETIME_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.rbdigital.RBDigitalRepresentationExtractor.DATE_FORMAT">
<code class="descname">DATE_FORMAT</code><em class="property"> = '%Y-%m-%d'</em><a class="headerlink" href="#api.rbdigital.RBDigitalRepresentationExtractor.DATE_FORMAT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.rbdigital.RBDigitalRepresentationExtractor.image_link_to_linkdata">
<em class="property">classmethod </em><code class="descname">image_link_to_linkdata</code><span class="sig-paren">(</span><em>link_url</em>, <em>rel</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalRepresentationExtractor.image_link_to_linkdata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalRepresentationExtractor.image_link_to_linkdata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.rbdigital.RBDigitalRepresentationExtractor.isbn_info_to_metadata">
<em class="property">classmethod </em><code class="descname">isbn_info_to_metadata</code><span class="sig-paren">(</span><em>book</em>, <em>include_bibliographic=True</em>, <em>include_formats=True</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalRepresentationExtractor.isbn_info_to_metadata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalRepresentationExtractor.isbn_info_to_metadata" title="Permalink to this definition">¶</a></dt>
<dd><p>Turn RBDigital’s JSON representation of a book into a Metadata object.
Assumes the JSON is in the format that comes from the media/{isbn} endpoint.</p>
<p>TODO:  Use the seriesTotal field.</p>
<p>:param book a json response-derived dictionary of book attributes</p>
</dd></dl>

<dl class="attribute">
<dt id="api.rbdigital.RBDigitalRepresentationExtractor.log">
<code class="descname">log</code><em class="property"> = &lt;logging.Logger object&gt;</em><a class="headerlink" href="#api.rbdigital.RBDigitalRepresentationExtractor.log" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.rbdigital.RBDigitalRepresentationExtractor.rbdigital_medium_to_simplified_medium">
<code class="descname">rbdigital_medium_to_simplified_medium</code><em class="property"> = {'eAudio': u'Audio', 'eBook': u'Book'}</em><a class="headerlink" href="#api.rbdigital.RBDigitalRepresentationExtractor.rbdigital_medium_to_simplified_medium" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.rbdigital.RBDigitalSyncMonitor">
<em class="property">class </em><code class="descclassname">api.rbdigital.</code><code class="descname">RBDigitalSyncMonitor</code><span class="sig-paren">(</span><em>_db</em>, <em>collection</em>, <em>api_class=&lt;class 'api.rbdigital.RBDigitalAPI'&gt;</em>, <em>api_class_kwargs={}</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalSyncMonitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalSyncMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.monitor.CollectionMonitor" title="core.monitor.CollectionMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.monitor.CollectionMonitor</span></code></a></p>
<dl class="attribute">
<dt id="api.rbdigital.RBDigitalSyncMonitor.PROTOCOL">
<code class="descname">PROTOCOL</code><em class="property"> = u'RBdigital'</em><a class="headerlink" href="#api.rbdigital.RBDigitalSyncMonitor.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalSyncMonitor.invoke">
<code class="descname">invoke</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalSyncMonitor.invoke"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalSyncMonitor.invoke" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBDigitalSyncMonitor.run_once">
<code class="descname">run_once</code><span class="sig-paren">(</span><em>progress</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBDigitalSyncMonitor.run_once"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBDigitalSyncMonitor.run_once" title="Permalink to this definition">¶</a></dt>
<dd><p>Find books in the RBdigital collection that changed recently.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>progress</strong> – A TimestampData, ignored.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A TimestampData describing what was accomplished.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.rbdigital.RBFulfillmentInfo">
<em class="property">class </em><code class="descclassname">api.rbdigital.</code><code class="descname">RBFulfillmentInfo</code><span class="sig-paren">(</span><em>fulfill_part_url</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBFulfillmentInfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBFulfillmentInfo" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation.APIAwareFulfillmentInfo" title="api.circulation.APIAwareFulfillmentInfo"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation.APIAwareFulfillmentInfo</span></code></a></p>
<p>An RBdigital-specific FulfillmentInfo implementation.</p>
<p>We use these instead of real FulfillmentInfo objects because
generating a FulfillmentInfo object may require an extra HTTP request,
and there’s often no need to make that request.</p>
<dl class="method">
<dt id="api.rbdigital.RBFulfillmentInfo.do_fetch">
<code class="descname">do_fetch</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBFulfillmentInfo.do_fetch"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBFulfillmentInfo.do_fetch" title="Permalink to this definition">¶</a></dt>
<dd><p>Actually make the API request.</p>
<p>When implemented, this method must set values for some or all
of _content_link, _content_type, _content, and
_content_expires.</p>
</dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBFulfillmentInfo.fetch_access_document">
<code class="descname">fetch_access_document</code><span class="sig-paren">(</span><em>url</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBFulfillmentInfo.fetch_access_document"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBFulfillmentInfo.fetch_access_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Retrieve an access document from RBdigital and process it.</p>
<p>An access document is a small JSON document containing a link
to the URL we actually want to deliver.</p>
</dd></dl>

<dl class="method">
<dt id="api.rbdigital.RBFulfillmentInfo.fulfill_part">
<code class="descname">fulfill_part</code><span class="sig-paren">(</span><em>part</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBFulfillmentInfo.fulfill_part"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBFulfillmentInfo.fulfill_part" title="Permalink to this definition">¶</a></dt>
<dd><p>Fulfill a specific part of this book.</p>
<p>This will navigate the access document and find a link to
the actual MP3 file so that a client doesn’t know how to
parse access documents.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A FulfillmentInfo if the part could be fulfilled;
a ProblemDetail otherwise.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="api.rbdigital.RBFulfillmentInfo.process_access_document">
<em class="property">classmethod </em><code class="descname">process_access_document</code><span class="sig-paren">(</span><em>access_document</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/rbdigital.html#RBFulfillmentInfo.process_access_document"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.rbdigital.RBFulfillmentInfo.process_access_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Process the intermediary document served by RBdigital to tell
you how to actually download a file.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api.registry">
<span id="api-registry-module"></span><h2>api.registry module<a class="headerlink" href="#module-api.registry" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="api.registry.LibraryRegistrationScript">
<em class="property">class </em><code class="descclassname">api.registry.</code><code class="descname">LibraryRegistrationScript</code><span class="sig-paren">(</span><em>_db=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/registry.html#LibraryRegistrationScript"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.registry.LibraryRegistrationScript" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.scripts.LibraryInputScript" title="core.scripts.LibraryInputScript"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.scripts.LibraryInputScript</span></code></a></p>
<p>Register local libraries with a remote library registry.</p>
<dl class="attribute">
<dt id="api.registry.LibraryRegistrationScript.GOAL">
<code class="descname">GOAL</code><em class="property"> = u'discovery'</em><a class="headerlink" href="#api.registry.LibraryRegistrationScript.GOAL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.registry.LibraryRegistrationScript.PROTOCOL">
<code class="descname">PROTOCOL</code><em class="property"> = u'OPDS Registration'</em><a class="headerlink" href="#api.registry.LibraryRegistrationScript.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.registry.LibraryRegistrationScript.arg_parser">
<em class="property">classmethod </em><code class="descname">arg_parser</code><span class="sig-paren">(</span><em>_db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/registry.html#LibraryRegistrationScript.arg_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.registry.LibraryRegistrationScript.arg_parser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.registry.LibraryRegistrationScript.do_run">
<code class="descname">do_run</code><span class="sig-paren">(</span><em>cmd_args=None</em>, <em>in_unit_test=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/registry.html#LibraryRegistrationScript.do_run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.registry.LibraryRegistrationScript.do_run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.registry.LibraryRegistrationScript.process_library">
<code class="descname">process_library</code><span class="sig-paren">(</span><em>registration</em>, <em>stage</em>, <em>url_for</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/registry.html#LibraryRegistrationScript.process_library"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.registry.LibraryRegistrationScript.process_library" title="Permalink to this definition">¶</a></dt>
<dd><p>Push one Library’s registration to the given RemoteRegistry.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.registry.Registration">
<em class="property">class </em><code class="descclassname">api.registry.</code><code class="descname">Registration</code><span class="sig-paren">(</span><em>registry</em>, <em>library</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/registry.html#Registration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.registry.Registration" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A library’s registration for a particular registry.</p>
<p>The registration does not correspond to one specific data model
object – it’s a relationship between a Library and an
ExternalIntegration, and a set of ConfigurationSettings that
configure the relationship between the two.</p>
<dl class="attribute">
<dt id="api.registry.Registration.FAILURE_STATUS">
<code class="descname">FAILURE_STATUS</code><em class="property"> = u'failure'</em><a class="headerlink" href="#api.registry.Registration.FAILURE_STATUS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.registry.Registration.LIBRARY_REGISTRATION_STAGE">
<code class="descname">LIBRARY_REGISTRATION_STAGE</code><em class="property"> = u'library-registration-stage'</em><a class="headerlink" href="#api.registry.Registration.LIBRARY_REGISTRATION_STAGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.registry.Registration.LIBRARY_REGISTRATION_STATUS">
<code class="descname">LIBRARY_REGISTRATION_STATUS</code><em class="property"> = u'library-registration-status'</em><a class="headerlink" href="#api.registry.Registration.LIBRARY_REGISTRATION_STATUS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.registry.Registration.LIBRARY_REGISTRATION_WEB_CLIENT">
<code class="descname">LIBRARY_REGISTRATION_WEB_CLIENT</code><em class="property"> = u'library-registration-web-client'</em><a class="headerlink" href="#api.registry.Registration.LIBRARY_REGISTRATION_WEB_CLIENT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.registry.Registration.PRODUCTION_STAGE">
<code class="descname">PRODUCTION_STAGE</code><em class="property"> = 'production'</em><a class="headerlink" href="#api.registry.Registration.PRODUCTION_STAGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.registry.Registration.SUCCESS_STATUS">
<code class="descname">SUCCESS_STATUS</code><em class="property"> = u'success'</em><a class="headerlink" href="#api.registry.Registration.SUCCESS_STATUS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.registry.Registration.TESTING_STAGE">
<code class="descname">TESTING_STAGE</code><em class="property"> = 'testing'</em><a class="headerlink" href="#api.registry.Registration.TESTING_STAGE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.registry.Registration.VALID_REGISTRATION_STAGES">
<code class="descname">VALID_REGISTRATION_STAGES</code><em class="property"> = ['testing', 'production']</em><a class="headerlink" href="#api.registry.Registration.VALID_REGISTRATION_STAGES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.registry.Registration.push">
<code class="descname">push</code><span class="sig-paren">(</span><em>stage</em>, <em>url_for</em>, <em>catalog_url=None</em>, <em>do_get=&lt;bound method type.debuggable_get of &lt;class 'core.util.http.HTTP'&gt;&gt;</em>, <em>do_post=&lt;bound method type.debuggable_post of &lt;class 'core.util.http.HTTP'&gt;&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/registry.html#Registration.push"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.registry.Registration.push" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempt to register a library with a RemoteRegistry.</p>
<p>NOTE: This method is designed to be used in a
controller. Other callers may use this method, but they must be
able to render a ProblemDetail when there’s a failure.</p>
<p>NOTE: The application server must be running when this method
is called, because part of the OPDS Directory Registration
Protocol is the remote server retrieving the library’s
Authentication For OPDS document.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>stage</strong> – Either TESTING_STAGE or PRODUCTION_STAGE</li>
<li><strong>url_for</strong> – Flask url_for() or equivalent, used to generate URLs
for the application server.</li>
<li><strong>do_get</strong> – Mockable method to make a GET request.</li>
<li><strong>do_post</strong> – Mockable method to make a POST request.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">A ProblemDetail if there was a problem; otherwise True.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.registry.Registration.setting">
<code class="descname">setting</code><span class="sig-paren">(</span><em>key</em>, <em>default_value=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/registry.html#Registration.setting"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.registry.Registration.setting" title="Permalink to this definition">¶</a></dt>
<dd><p>Find or create a ConfigurationSetting that configures this
relationship between library and registry.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>key</strong> – Name of the ConfigurationSetting.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A 2-tuple (ConfigurationSetting, is_new)</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.registry.RemoteRegistry">
<em class="property">class </em><code class="descclassname">api.registry.</code><code class="descname">RemoteRegistry</code><span class="sig-paren">(</span><em>integration</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/registry.html#RemoteRegistry"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.registry.RemoteRegistry" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>A circulation manager’s view of a remote service that supports
the OPDS Directory Registration Protocol:</p>
<p><a class="reference external" href="https://github.com/NYPL-Simplified/Simplified/wiki/OPDS-Directory-Registration-Protocol">https://github.com/NYPL-Simplified/Simplified/wiki/OPDS-Directory-Registration-Protocol</a></p>
<p>In practical terms, this may be a library registry (which has
DISCOVERY_GOAL and wants to help patrons find their libraries) or
it may be a shared ODL collection (which has LICENSE_GOAL).</p>
<dl class="attribute">
<dt id="api.registry.RemoteRegistry.DEFAULT_LIBRARY_REGISTRY_URL">
<code class="descname">DEFAULT_LIBRARY_REGISTRY_URL</code><em class="property"> = 'https://libraryregistry.librarysimplified.org/'</em><a class="headerlink" href="#api.registry.RemoteRegistry.DEFAULT_LIBRARY_REGISTRY_URL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.registry.RemoteRegistry.OPDS_1_PREFIX">
<code class="descname">OPDS_1_PREFIX</code><em class="property"> = 'application/atom+xml;profile=opds-catalog'</em><a class="headerlink" href="#api.registry.RemoteRegistry.OPDS_1_PREFIX" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.registry.RemoteRegistry.OPDS_2_TYPE">
<code class="descname">OPDS_2_TYPE</code><em class="property"> = 'application/opds+json'</em><a class="headerlink" href="#api.registry.RemoteRegistry.OPDS_2_TYPE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.registry.RemoteRegistry.fetch_catalog">
<code class="descname">fetch_catalog</code><span class="sig-paren">(</span><em>catalog_url=None</em>, <em>do_get=&lt;bound method type.debuggable_get of &lt;class 'core.util.http.HTTP'&gt;&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/registry.html#RemoteRegistry.fetch_catalog"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.registry.RemoteRegistry.fetch_catalog" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch the root catalog for this RemoteRegistry.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A ProblemDetail if there’s a problem communicating
with the service or parsing the catalog; otherwise a 2-tuple
(registration URL, Adobe vendor ID).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.registry.RemoteRegistry.fetch_registration_document">
<code class="descname">fetch_registration_document</code><span class="sig-paren">(</span><em>do_get=&lt;bound method type.debuggable_get of &lt;class 'core.util.http.HTTP'&gt;&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/registry.html#RemoteRegistry.fetch_registration_document"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.registry.RemoteRegistry.fetch_registration_document" title="Permalink to this definition">¶</a></dt>
<dd><p>Fetch a discovery service’s registration document and extract
useful information from it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A ProblemDetail if there’s a problem accessing the
service; otherwise, a 2-tuple (terms_of_service_link,
terms_of_service_html), containing information about the
Terms of Service that govern a circulation manager’s
registration with the discovery service.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="api.registry.RemoteRegistry.for_integration_id">
<em class="property">classmethod </em><code class="descname">for_integration_id</code><span class="sig-paren">(</span><em>_db</em>, <em>integration_id</em>, <em>goal</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/registry.html#RemoteRegistry.for_integration_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.registry.RemoteRegistry.for_integration_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Find a LibraryRegistry object configured
by the given ExternalIntegration ID.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>goal</strong> – The ExternalIntegration’s .goal must be this goal.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="classmethod">
<dt id="api.registry.RemoteRegistry.for_protocol_and_goal">
<em class="property">classmethod </em><code class="descname">for_protocol_and_goal</code><span class="sig-paren">(</span><em>_db</em>, <em>protocol</em>, <em>goal</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/registry.html#RemoteRegistry.for_protocol_and_goal"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.registry.RemoteRegistry.for_protocol_and_goal" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all LibraryRegistry objects with the given protocol and goal.</p>
</dd></dl>

<dl class="classmethod">
<dt id="api.registry.RemoteRegistry.for_protocol_goal_and_url">
<em class="property">classmethod </em><code class="descname">for_protocol_goal_and_url</code><span class="sig-paren">(</span><em>_db</em>, <em>protocol</em>, <em>goal</em>, <em>url</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/registry.html#RemoteRegistry.for_protocol_goal_and_url"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.registry.RemoteRegistry.for_protocol_goal_and_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a LibraryRegistry for the given protocol, goal, and
URL. Create the corresponding ExternalIntegration if necessary.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.registry.RemoteRegistry.registrations">
<code class="descname">registrations</code><a class="headerlink" href="#api.registry.RemoteRegistry.registrations" title="Permalink to this definition">¶</a></dt>
<dd><p>Find all of this site’s successful registrations with
this RemoteRegistry.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Yield:</th><td class="field-body">A sequence of Registration objects.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api.routes">
<span id="api-routes-module"></span><h2>api.routes module<a class="headerlink" href="#module-api.routes" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="api.routes.acquisition_groups">
<code class="descclassname">api.routes.</code><code class="descname">acquisition_groups</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#acquisition_groups"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.acquisition_groups" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.active_loans">
<code class="descclassname">api.routes.</code><code class="descname">active_loans</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#active_loans"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.active_loans" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.adobe_drm_device">
<code class="descclassname">api.routes.</code><code class="descname">adobe_drm_device</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#adobe_drm_device"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.adobe_drm_device" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.adobe_drm_devices">
<code class="descclassname">api.routes.</code><code class="descname">adobe_drm_devices</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#adobe_drm_devices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.adobe_drm_devices" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.adobe_vendor_id_accountinfo">
<code class="descclassname">api.routes.</code><code class="descname">adobe_vendor_id_accountinfo</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#adobe_vendor_id_accountinfo"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.adobe_vendor_id_accountinfo" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.adobe_vendor_id_get_token">
<code class="descclassname">api.routes.</code><code class="descname">adobe_vendor_id_get_token</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#adobe_vendor_id_get_token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.adobe_vendor_id_get_token" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.adobe_vendor_id_signin">
<code class="descclassname">api.routes.</code><code class="descname">adobe_vendor_id_signin</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#adobe_vendor_id_signin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.adobe_vendor_id_signin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.adobe_vendor_id_status">
<code class="descclassname">api.routes.</code><code class="descname">adobe_vendor_id_status</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#adobe_vendor_id_status"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.adobe_vendor_id_status" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.allows_auth">
<code class="descclassname">api.routes.</code><code class="descname">allows_auth</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#allows_auth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.allows_auth" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator function for a controller method that supports both
authenticated and unauthenticated requests.</p>
</dd></dl>

<dl class="function">
<dt id="api.routes.allows_library">
<code class="descclassname">api.routes.</code><code class="descname">allows_library</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#allows_library"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.allows_library" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator similar to &#64;has_library but if there is no library short name,
then don’t set the request library.</p>
</dd></dl>

<dl class="function">
<dt id="api.routes.allows_patron_web">
<code class="descclassname">api.routes.</code><code class="descname">allows_patron_web</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#allows_patron_web"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.allows_patron_web" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.annotation_detail">
<code class="descclassname">api.routes.</code><code class="descname">annotation_detail</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#annotation_detail"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.annotation_detail" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.annotations">
<code class="descclassname">api.routes.</code><code class="descname">annotations</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#annotations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.annotations" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.annotations_for_work">
<code class="descclassname">api.routes.</code><code class="descname">annotations_for_work</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#annotations_for_work"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.annotations_for_work" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.authentication_document">
<code class="descclassname">api.routes.</code><code class="descname">authentication_document</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#authentication_document"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.authentication_document" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.borrow">
<code class="descclassname">api.routes.</code><code class="descname">borrow</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#borrow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.borrow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.contributor">
<code class="descclassname">api.routes.</code><code class="descname">contributor</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#contributor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.contributor" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.crawlable_collection_feed">
<code class="descclassname">api.routes.</code><code class="descname">crawlable_collection_feed</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#crawlable_collection_feed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.crawlable_collection_feed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.crawlable_library_feed">
<code class="descclassname">api.routes.</code><code class="descname">crawlable_library_feed</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#crawlable_library_feed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.crawlable_library_feed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.crawlable_list_feed">
<code class="descclassname">api.routes.</code><code class="descname">crawlable_list_feed</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#crawlable_list_feed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.crawlable_list_feed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.exception_handler">
<code class="descclassname">api.routes.</code><code class="descname">exception_handler</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#exception_handler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.exception_handler" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.feed">
<code class="descclassname">api.routes.</code><code class="descname">feed</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#feed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.feed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.fulfill">
<code class="descclassname">api.routes.</code><code class="descname">fulfill</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#fulfill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.fulfill" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.get_locale">
<code class="descclassname">api.routes.</code><code class="descname">get_locale</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#get_locale"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.get_locale" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.has_library">
<code class="descclassname">api.routes.</code><code class="descname">has_library</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#has_library"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.has_library" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator to extract the library short name from the arguments.</p>
</dd></dl>

<dl class="function">
<dt id="api.routes.health_check">
<code class="descclassname">api.routes.</code><code class="descname">health_check</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#health_check"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.health_check" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.heartbeat">
<code class="descclassname">api.routes.</code><code class="descname">heartbeat</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#heartbeat"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.heartbeat" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.index">
<code class="descclassname">api.routes.</code><code class="descname">index</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#index"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.index" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.initialize_circulation_manager">
<code class="descclassname">api.routes.</code><code class="descname">initialize_circulation_manager</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#initialize_circulation_manager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.initialize_circulation_manager" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.lane_search">
<code class="descclassname">api.routes.</code><code class="descname">lane_search</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#lane_search"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.lane_search" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.library_dir_route">
<code class="descclassname">api.routes.</code><code class="descname">library_dir_route</code><span class="sig-paren">(</span><em>path</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#library_dir_route"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.library_dir_route" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator to create library routes that work with or without a
trailing slash.</p>
</dd></dl>

<dl class="function">
<dt id="api.routes.library_route">
<code class="descclassname">api.routes.</code><code class="descname">library_route</code><span class="sig-paren">(</span><em>path</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#library_route"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.library_route" title="Permalink to this definition">¶</a></dt>
<dd><p>Decorator to creates routes that have a library short name in either
a subdomain or a url path prefix. If not used with &#64;has_library, the view function
must have a library_short_name argument.</p>
</dd></dl>

<dl class="function">
<dt id="api.routes.loan_or_hold_detail">
<code class="descclassname">api.routes.</code><code class="descname">loan_or_hold_detail</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#loan_or_hold_detail"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.loan_or_hold_detail" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.marc_page">
<code class="descclassname">api.routes.</code><code class="descname">marc_page</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#marc_page"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.marc_page" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.navigation_feed">
<code class="descclassname">api.routes.</code><code class="descname">navigation_feed</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#navigation_feed"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.navigation_feed" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.oauth_authenticate">
<code class="descclassname">api.routes.</code><code class="descname">oauth_authenticate</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#oauth_authenticate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.oauth_authenticate" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.oauth_callback">
<code class="descclassname">api.routes.</code><code class="descname">oauth_callback</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#oauth_callback"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.oauth_callback" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.odl_notify">
<code class="descclassname">api.routes.</code><code class="descname">odl_notify</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#odl_notify"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.odl_notify" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.patron_profile">
<code class="descclassname">api.routes.</code><code class="descname">patron_profile</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#patron_profile"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.patron_profile" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.permalink">
<code class="descclassname">api.routes.</code><code class="descname">permalink</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#permalink"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.permalink" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.public_key_document">
<code class="descclassname">api.routes.</code><code class="descname">public_key_document</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#public_key_document"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.public_key_document" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.recommendations">
<code class="descclassname">api.routes.</code><code class="descname">recommendations</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#recommendations"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.recommendations" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.related_books">
<code class="descclassname">api.routes.</code><code class="descname">related_books</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#related_books"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.related_books" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.report">
<code class="descclassname">api.routes.</code><code class="descname">report</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#report"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.report" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.requires_auth">
<code class="descclassname">api.routes.</code><code class="descname">requires_auth</code><span class="sig-paren">(</span><em>f</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#requires_auth"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.requires_auth" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.revoke_loan_or_hold">
<code class="descclassname">api.routes.</code><code class="descname">revoke_loan_or_hold</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#revoke_loan_or_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.revoke_loan_or_hold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.series">
<code class="descclassname">api.routes.</code><code class="descname">series</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#series"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.series" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.shared_collection_borrow">
<code class="descclassname">api.routes.</code><code class="descname">shared_collection_borrow</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#shared_collection_borrow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.shared_collection_borrow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.shared_collection_fulfill">
<code class="descclassname">api.routes.</code><code class="descname">shared_collection_fulfill</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#shared_collection_fulfill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.shared_collection_fulfill" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.shared_collection_hold_info">
<code class="descclassname">api.routes.</code><code class="descname">shared_collection_hold_info</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#shared_collection_hold_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.shared_collection_hold_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.shared_collection_info">
<code class="descclassname">api.routes.</code><code class="descname">shared_collection_info</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#shared_collection_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.shared_collection_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.shared_collection_loan_info">
<code class="descclassname">api.routes.</code><code class="descname">shared_collection_loan_info</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#shared_collection_loan_info"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.shared_collection_loan_info" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.shared_collection_register">
<code class="descclassname">api.routes.</code><code class="descname">shared_collection_register</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#shared_collection_register"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.shared_collection_register" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.shared_collection_revoke_hold">
<code class="descclassname">api.routes.</code><code class="descname">shared_collection_revoke_hold</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#shared_collection_revoke_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.shared_collection_revoke_hold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.shared_collection_revoke_loan">
<code class="descclassname">api.routes.</code><code class="descname">shared_collection_revoke_loan</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#shared_collection_revoke_loan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.shared_collection_revoke_loan" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.shutdown_session">
<code class="descclassname">api.routes.</code><code class="descname">shutdown_session</code><span class="sig-paren">(</span><em>exception</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#shutdown_session"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.shutdown_session" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.static_image">
<code class="descclassname">api.routes.</code><code class="descname">static_image</code><span class="sig-paren">(</span><em>filename</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#static_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.static_image" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.track_analytics_event">
<code class="descclassname">api.routes.</code><code class="descname">track_analytics_event</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#track_analytics_event"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.track_analytics_event" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="api.routes.work">
<code class="descclassname">api.routes.</code><code class="descname">work</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/routes.html#work"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.routes.work" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</div>
<div class="section" id="module-api.selftest">
<span id="api-selftest-module"></span><h2>api.selftest module<a class="headerlink" href="#module-api.selftest" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="api.selftest.HasCollectionSelfTests">
<em class="property">class </em><code class="descclassname">api.selftest.</code><code class="descname">HasCollectionSelfTests</code><a class="reference internal" href="_modules/api/selftest.html#HasCollectionSelfTests"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.selftest.HasCollectionSelfTests" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.selftest.HasSelfTests" title="api.selftest.HasSelfTests"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.selftest.HasSelfTests</span></code></a></p>
<p>Extra tests to verify the integrity of imported
collections of books.</p>
<p>This is a mixin method that requires that <cite>self.collection</cite>
point to the Collection to be tested.</p>
</dd></dl>

<dl class="class">
<dt id="api.selftest.HasSelfTests">
<em class="property">class </em><code class="descclassname">api.selftest.</code><code class="descname">HasSelfTests</code><a class="reference internal" href="_modules/api/selftest.html#HasSelfTests"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.selftest.HasSelfTests" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.selftest.HasSelfTests" title="core.selftest.HasSelfTests"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.selftest.HasSelfTests</span></code></a></p>
<p>Circulation-specific enhancements for HasSelfTests.</p>
<p>Circulation self-tests frequently need to test the ability to act
on behalf of a specific patron.</p>
<dl class="method">
<dt id="api.selftest.HasSelfTests.default_patrons">
<code class="descname">default_patrons</code><span class="sig-paren">(</span><em>collection</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/selftest.html#HasSelfTests.default_patrons"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.selftest.HasSelfTests.default_patrons" title="Permalink to this definition">¶</a></dt>
<dd><p>Find a usable default Patron for each of the libraries associated
with the given Collection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Yield:</th><td class="field-body">A sequence of (Library, Patron, password) 3-tuples.
Yields (SelfTestFailure, None, None) if the Collection is not
associated with any libraries, if a library does not
have a default patron configured, or if there is an
exception acquiring a library’s default patron.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.selftest.RunSelfTestsScript">
<em class="property">class </em><code class="descclassname">api.selftest.</code><code class="descname">RunSelfTestsScript</code><span class="sig-paren">(</span><em>_db=None</em>, <em>output=&lt;open file '&lt;stdout&gt;'</em>, <em>mode 'w'&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/selftest.html#RunSelfTestsScript"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.selftest.RunSelfTestsScript" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.scripts.LibraryInputScript" title="core.scripts.LibraryInputScript"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.scripts.LibraryInputScript</span></code></a></p>
<p>Run the self-tests for every collection in the given library
where that’s possible.</p>
<dl class="method">
<dt id="api.selftest.RunSelfTestsScript.do_run">
<code class="descname">do_run</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/selftest.html#RunSelfTestsScript.do_run"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.selftest.RunSelfTestsScript.do_run" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.selftest.RunSelfTestsScript.process_result">
<code class="descname">process_result</code><span class="sig-paren">(</span><em>result</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/selftest.html#RunSelfTestsScript.process_result"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.selftest.RunSelfTestsScript.process_result" title="Permalink to this definition">¶</a></dt>
<dd><p>Process a single TestResult object.</p>
</dd></dl>

<dl class="method">
<dt id="api.selftest.RunSelfTestsScript.test_collection">
<code class="descname">test_collection</code><span class="sig-paren">(</span><em>collection</em>, <em>api_map</em>, <em>extra_args=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/selftest.html#RunSelfTestsScript.test_collection"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.selftest.RunSelfTestsScript.test_collection" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api.shared_collection">
<span id="api-shared-collection-module"></span><h2>api.shared_collection module<a class="headerlink" href="#module-api.shared_collection" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="api.shared_collection.BaseSharedCollectionAPI">
<em class="property">class </em><code class="descclassname">api.shared_collection.</code><code class="descname">BaseSharedCollectionAPI</code><a class="reference internal" href="_modules/api/shared_collection.html#BaseSharedCollectionAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.shared_collection.BaseSharedCollectionAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>APIs that permit external circulation managers to access their collections
should extend this class.</p>
<dl class="attribute">
<dt id="api.shared_collection.BaseSharedCollectionAPI.EXTERNAL_LIBRARY_URLS">
<code class="descname">EXTERNAL_LIBRARY_URLS</code><em class="property"> = 'external_library_urls'</em><a class="headerlink" href="#api.shared_collection.BaseSharedCollectionAPI.EXTERNAL_LIBRARY_URLS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.shared_collection.BaseSharedCollectionAPI.SETTINGS">
<code class="descname">SETTINGS</code><em class="property"> = [{'format': 'url', 'type': 'list', 'description': l'A URL should include the library's short name (e.g. https://circulation.librarysimplified.org/NYNYPL/), even if it is the only library on the circulation manager.', 'key': 'external_library_urls', 'label': l'URLs for libraries on other circulation managers that use this collection'}, {'default': 21, 'type': 'number', 'description': l'When a patron from another library borrows an ebook from this collection, the circulation manager will ask for a loan that lasts this number of days. This must be equal to or less than the maximum loan duration negotiated with the distributor.', 'key': 'ebook_loan_duration', 'label': l'Ebook Loan Duration for libraries on other circulation managers (in Days)'}]</em><a class="headerlink" href="#api.shared_collection.BaseSharedCollectionAPI.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.shared_collection.BaseSharedCollectionAPI.checkin_from_external_library">
<code class="descname">checkin_from_external_library</code><span class="sig-paren">(</span><em>client</em>, <em>loan</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/shared_collection.html#BaseSharedCollectionAPI.checkin_from_external_library"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.shared_collection.BaseSharedCollectionAPI.checkin_from_external_library" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.shared_collection.BaseSharedCollectionAPI.checkout_to_external_library">
<code class="descname">checkout_to_external_library</code><span class="sig-paren">(</span><em>client</em>, <em>pool</em>, <em>hold=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/shared_collection.html#BaseSharedCollectionAPI.checkout_to_external_library"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.shared_collection.BaseSharedCollectionAPI.checkout_to_external_library" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.shared_collection.BaseSharedCollectionAPI.fulfill_for_external_library">
<code class="descname">fulfill_for_external_library</code><span class="sig-paren">(</span><em>client</em>, <em>loan</em>, <em>mechanism</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/shared_collection.html#BaseSharedCollectionAPI.fulfill_for_external_library"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.shared_collection.BaseSharedCollectionAPI.fulfill_for_external_library" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.shared_collection.BaseSharedCollectionAPI.release_hold_from_external_library">
<code class="descname">release_hold_from_external_library</code><span class="sig-paren">(</span><em>client</em>, <em>hold</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/shared_collection.html#BaseSharedCollectionAPI.release_hold_from_external_library"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.shared_collection.BaseSharedCollectionAPI.release_hold_from_external_library" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.shared_collection.SharedCollectionAPI">
<em class="property">class </em><code class="descclassname">api.shared_collection.</code><code class="descname">SharedCollectionAPI</code><span class="sig-paren">(</span><em>_db</em>, <em>api_map=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/shared_collection.html#SharedCollectionAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.shared_collection.SharedCollectionAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Logic for circulating books to patrons of libraries on other
circulation managers. This can be used for something like ODL where the
circulation manager is responsible for managing loans and holds rather
than the distributor, or potentially for inter-library loans for other
collection types.</p>
<dl class="method">
<dt id="api.shared_collection.SharedCollectionAPI.api">
<code class="descname">api</code><span class="sig-paren">(</span><em>collection</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/shared_collection.html#SharedCollectionAPI.api"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.shared_collection.SharedCollectionAPI.api" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the API to use for the given collection, and raise an exception
if there isn’t one.</p>
</dd></dl>

<dl class="method">
<dt id="api.shared_collection.SharedCollectionAPI.api_for_licensepool">
<code class="descname">api_for_licensepool</code><span class="sig-paren">(</span><em>pool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/shared_collection.html#SharedCollectionAPI.api_for_licensepool"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.shared_collection.SharedCollectionAPI.api_for_licensepool" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the API to use for the given license pool.</p>
</dd></dl>

<dl class="method">
<dt id="api.shared_collection.SharedCollectionAPI.borrow">
<code class="descname">borrow</code><span class="sig-paren">(</span><em>collection</em>, <em>client</em>, <em>pool</em>, <em>hold=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/shared_collection.html#SharedCollectionAPI.borrow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.shared_collection.SharedCollectionAPI.borrow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.shared_collection.SharedCollectionAPI.check_client_authorization">
<code class="descname">check_client_authorization</code><span class="sig-paren">(</span><em>collection</em>, <em>client</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/shared_collection.html#SharedCollectionAPI.check_client_authorization"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.shared_collection.SharedCollectionAPI.check_client_authorization" title="Permalink to this definition">¶</a></dt>
<dd><p>Verify that an IntegrationClient is whitelisted for access to the collection.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.shared_collection.SharedCollectionAPI.default_api_map">
<code class="descname">default_api_map</code><a class="headerlink" href="#api.shared_collection.SharedCollectionAPI.default_api_map" title="Permalink to this definition">¶</a></dt>
<dd><p>When you see a Collection that implements protocol X, instantiate
API class Y to handle that collection.</p>
</dd></dl>

<dl class="method">
<dt id="api.shared_collection.SharedCollectionAPI.fulfill">
<code class="descname">fulfill</code><span class="sig-paren">(</span><em>collection</em>, <em>client</em>, <em>loan</em>, <em>mechanism</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/shared_collection.html#SharedCollectionAPI.fulfill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.shared_collection.SharedCollectionAPI.fulfill" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.shared_collection.SharedCollectionAPI.register">
<code class="descname">register</code><span class="sig-paren">(</span><em>collection</em>, <em>auth_document_url</em>, <em>do_get=&lt;bound method type.get_with_timeout of &lt;class 'core.util.http.HTTP'&gt;&gt;</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/shared_collection.html#SharedCollectionAPI.register"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.shared_collection.SharedCollectionAPI.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a library on an external circulation manager for access to this
collection. The library’s auth document url must be whitelisted in the
collection’s settings.</p>
</dd></dl>

<dl class="method">
<dt id="api.shared_collection.SharedCollectionAPI.revoke_hold">
<code class="descname">revoke_hold</code><span class="sig-paren">(</span><em>collection</em>, <em>client</em>, <em>hold</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/shared_collection.html#SharedCollectionAPI.revoke_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.shared_collection.SharedCollectionAPI.revoke_hold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.shared_collection.SharedCollectionAPI.revoke_loan">
<code class="descname">revoke_loan</code><span class="sig-paren">(</span><em>collection</em>, <em>client</em>, <em>loan</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/shared_collection.html#SharedCollectionAPI.revoke_loan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.shared_collection.SharedCollectionAPI.revoke_loan" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api.simple_authentication">
<span id="api-simple-authentication-module"></span><h2>api.simple_authentication module<a class="headerlink" href="#module-api.simple_authentication" title="Permalink to this headline">¶</a></h2>
<dl class="attribute">
<dt id="api.simple_authentication.AuthenticationProvider">
<code class="descclassname">api.simple_authentication.</code><code class="descname">AuthenticationProvider</code><a class="headerlink" href="#api.simple_authentication.AuthenticationProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#api.simple_authentication.SimpleAuthenticationProvider" title="api.simple_authentication.SimpleAuthenticationProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.simple_authentication.SimpleAuthenticationProvider</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="api.simple_authentication.SimpleAuthenticationProvider">
<em class="property">class </em><code class="descclassname">api.simple_authentication.</code><code class="descname">SimpleAuthenticationProvider</code><span class="sig-paren">(</span><em>library</em>, <em>integration</em>, <em>analytics=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/simple_authentication.html#SimpleAuthenticationProvider"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.simple_authentication.SimpleAuthenticationProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.authenticator.BasicAuthenticationProvider" title="api.authenticator.BasicAuthenticationProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.authenticator.BasicAuthenticationProvider</span></code></a></p>
<p>An authentication provider that authenticates a single patron.</p>
<p>This serves only one purpose: to set up a working circulation
manager before connecting it to an ILS.</p>
<dl class="attribute">
<dt id="api.simple_authentication.SimpleAuthenticationProvider.ADDITIONAL_TEST_IDENTIFIERS">
<code class="descname">ADDITIONAL_TEST_IDENTIFIERS</code><em class="property"> = 'additional_test_identifiers'</em><a class="headerlink" href="#api.simple_authentication.SimpleAuthenticationProvider.ADDITIONAL_TEST_IDENTIFIERS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.simple_authentication.SimpleAuthenticationProvider.DESCRIPTION">
<code class="descname">DESCRIPTION</code><em class="property"> = l'         An internal authentication service that authenticates a single patron.         This is useful for testing a circulation manager before connecting         it to an ILS.'</em><a class="headerlink" href="#api.simple_authentication.SimpleAuthenticationProvider.DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.simple_authentication.SimpleAuthenticationProvider.NAME">
<code class="descname">NAME</code><em class="property"> = 'Simple Authentication Provider'</em><a class="headerlink" href="#api.simple_authentication.SimpleAuthenticationProvider.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.simple_authentication.SimpleAuthenticationProvider.SETTINGS">
<code class="descname">SETTINGS</code><em class="property"> = [{'required': True, 'description': l'A valid identifier that can be used to test that patron authentication is working.', 'key': 'test_identifier', 'label': l'Test Identifier'}, {'required': True, 'description': l'The password for the test identifier.', 'key': 'test_password', 'label': l'Test Password'}, {'description': l'Many libraries render patron identifiers as barcodes on physical library cards. If you specify the barcode format, patrons will be able to scan their library cards with a camera instead of manually typing in their identifiers.', 'default': '', 'required': True, 'label': l'Patron identifier barcode format', 'key': 'identifier_barcode_format', 'type': 'select', 'options': [{'key': 'Codabar', 'label': l'Patron identifiers are are rendered as barcodes in Codabar format'}, {'key': '', 'label': l'Patron identifiers are not rendered as barcodes'}]}, {'description': l'A patron's identifier will be immediately rejected if it doesn't match this regular expression.', 'key': u'identifier_regular_expression', 'label': l'Identifier Regular Expression'}, {'description': l'A patron's password will be immediately rejected if it doesn't match this regular expression.', 'key': u'password_regular_expression', 'label': l'Password Regular Expression'}, {'default': u'Default', 'required': True, 'label': l'Keyboard for identifier entry', 'key': u'identifier_keyboard', 'type': 'select', 'options': [{'key': u'Default', 'label': l'System default'}, {'key': u'Email address', 'label': l'Email address entry'}, {'key': u'Number pad', 'label': l'Number pad'}]}, {'default': u'Default', 'type': 'select', 'options': [{'key': u'Default', 'label': l'System default'}, {'key': u'Number pad', 'label': l'Number pad'}, {'key': u'No input', 'label': l'Patrons have no password and should not be prompted for one.'}], 'key': u'password_keyboard', 'label': l'Keyboard for password entry'}, {'type': 'number', 'key': u'identifier_maximum_length', 'label': l'Maximum identifier length'}, {'type': 'number', 'key': u'password_maximum_length', 'label': l'Maximum password length'}, {'key': u'identifier_label', 'label': l'Label for identifier entry'}, {'key': u'password_label', 'label': l'Label for password entry'}, {'type': 'list', 'description': l'Identifiers for additional patrons to use in testing. The identifiers will all use the same test password as the first identifier.', 'key': 'additional_test_identifiers', 'label': l'Additional test identifiers'}, {'description': l'For analytics purposes, all patrons will be 'from' this neighborhood.', 'key': 'neighborhood', 'label': l'Test neighborhood'}]</em><a class="headerlink" href="#api.simple_authentication.SimpleAuthenticationProvider.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.simple_authentication.SimpleAuthenticationProvider.TEST_NEIGHBORHOOD">
<code class="descname">TEST_NEIGHBORHOOD</code><em class="property"> = 'neighborhood'</em><a class="headerlink" href="#api.simple_authentication.SimpleAuthenticationProvider.TEST_NEIGHBORHOOD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.simple_authentication.SimpleAuthenticationProvider.basic_settings">
<code class="descname">basic_settings</code><em class="property"> = [{'required': True, 'description': l'A valid identifier that can be used to test that patron authentication is working.', 'key': 'test_identifier', 'label': l'Test Identifier'}, {'required': True, 'description': l'The password for the test identifier.', 'key': 'test_password', 'label': l'Test Password'}, {'description': l'Many libraries render patron identifiers as barcodes on physical library cards. If you specify the barcode format, patrons will be able to scan their library cards with a camera instead of manually typing in their identifiers.', 'default': '', 'required': True, 'label': l'Patron identifier barcode format', 'key': 'identifier_barcode_format', 'type': 'select', 'options': [{'key': 'Codabar', 'label': l'Patron identifiers are are rendered as barcodes in Codabar format'}, {'key': '', 'label': l'Patron identifiers are not rendered as barcodes'}]}, {'description': l'A patron's identifier will be immediately rejected if it doesn't match this regular expression.', 'key': u'identifier_regular_expression', 'label': l'Identifier Regular Expression'}, {'description': l'A patron's password will be immediately rejected if it doesn't match this regular expression.', 'key': u'password_regular_expression', 'label': l'Password Regular Expression'}, {'default': u'Default', 'required': True, 'label': l'Keyboard for identifier entry', 'key': u'identifier_keyboard', 'type': 'select', 'options': [{'key': u'Default', 'label': l'System default'}, {'key': u'Email address', 'label': l'Email address entry'}, {'key': u'Number pad', 'label': l'Number pad'}]}, {'default': u'Default', 'type': 'select', 'options': [{'key': u'Default', 'label': l'System default'}, {'key': u'Number pad', 'label': l'Number pad'}, {'key': u'No input', 'label': l'Patrons have no password and should not be prompted for one.'}], 'key': u'password_keyboard', 'label': l'Keyboard for password entry'}, {'type': 'number', 'key': u'identifier_maximum_length', 'label': l'Maximum identifier length'}, {'type': 'number', 'key': u'password_maximum_length', 'label': l'Maximum password length'}, {'key': u'identifier_label', 'label': l'Label for identifier entry'}, {'key': u'password_label', 'label': l'Label for password entry'}]</em><a class="headerlink" href="#api.simple_authentication.SimpleAuthenticationProvider.basic_settings" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="classmethod">
<dt id="api.simple_authentication.SimpleAuthenticationProvider.generate_patrondata">
<em class="property">classmethod </em><code class="descname">generate_patrondata</code><span class="sig-paren">(</span><em>authorization_identifier</em>, <em>neighborhood=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/simple_authentication.html#SimpleAuthenticationProvider.generate_patrondata"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.simple_authentication.SimpleAuthenticationProvider.generate_patrondata" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.simple_authentication.SimpleAuthenticationProvider.remote_authenticate">
<code class="descname">remote_authenticate</code><span class="sig-paren">(</span><em>username</em>, <em>password</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/simple_authentication.html#SimpleAuthenticationProvider.remote_authenticate"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.simple_authentication.SimpleAuthenticationProvider.remote_authenticate" title="Permalink to this definition">¶</a></dt>
<dd><p>Fake ‘remote’ authentication.</p>
</dd></dl>

<dl class="attribute">
<dt id="api.simple_authentication.SimpleAuthenticationProvider.setting">
<code class="descname">setting</code><em class="property"> = {'key': u'password_label', 'label': l'Label for password entry'}</em><a class="headerlink" href="#api.simple_authentication.SimpleAuthenticationProvider.setting" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.simple_authentication.SimpleAuthenticationProvider.valid_patron">
<code class="descname">valid_patron</code><span class="sig-paren">(</span><em>username</em>, <em>password</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/simple_authentication.html#SimpleAuthenticationProvider.valid_patron"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.simple_authentication.SimpleAuthenticationProvider.valid_patron" title="Permalink to this definition">¶</a></dt>
<dd><p>Is this patron associated with the given password in
the given dictionary?</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api.testing">
<span id="api-testing-module"></span><h2>api.testing module<a class="headerlink" href="#module-api.testing" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="api.testing.MockCirculationAPI">
<em class="property">class </em><code class="descclassname">api.testing.</code><code class="descname">MockCirculationAPI</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockCirculationAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockCirculationAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation.CirculationAPI" title="api.circulation.CirculationAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation.CirculationAPI</span></code></a></p>
<dl class="method">
<dt id="api.testing.MockCirculationAPI.add_remote_hold">
<code class="descname">add_remote_hold</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockCirculationAPI.add_remote_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockCirculationAPI.add_remote_hold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.testing.MockCirculationAPI.add_remote_loan">
<code class="descname">add_remote_loan</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockCirculationAPI.add_remote_loan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockCirculationAPI.add_remote_loan" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.testing.MockCirculationAPI.api_for_license_pool">
<code class="descname">api_for_license_pool</code><span class="sig-paren">(</span><em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockCirculationAPI.api_for_license_pool"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockCirculationAPI.api_for_license_pool" title="Permalink to this definition">¶</a></dt>
<dd><p>Find the API to use for the given license pool.</p>
</dd></dl>

<dl class="method">
<dt id="api.testing.MockCirculationAPI.local_holds">
<code class="descname">local_holds</code><span class="sig-paren">(</span><em>patron</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockCirculationAPI.local_holds"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockCirculationAPI.local_holds" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.testing.MockCirculationAPI.local_loans">
<code class="descname">local_loans</code><span class="sig-paren">(</span><em>patron</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockCirculationAPI.local_loans"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockCirculationAPI.local_loans" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.testing.MockCirculationAPI.patron_activity">
<code class="descname">patron_activity</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockCirculationAPI.patron_activity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockCirculationAPI.patron_activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a 3-tuple (loans, holds, completeness).</p>
</dd></dl>

<dl class="method">
<dt id="api.testing.MockCirculationAPI.queue_checkin">
<code class="descname">queue_checkin</code><span class="sig-paren">(</span><em>licensepool</em>, <em>response</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockCirculationAPI.queue_checkin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockCirculationAPI.queue_checkin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.testing.MockCirculationAPI.queue_checkout">
<code class="descname">queue_checkout</code><span class="sig-paren">(</span><em>licensepool</em>, <em>response</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockCirculationAPI.queue_checkout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockCirculationAPI.queue_checkout" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.testing.MockCirculationAPI.queue_fulfill">
<code class="descname">queue_fulfill</code><span class="sig-paren">(</span><em>licensepool</em>, <em>response</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockCirculationAPI.queue_fulfill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockCirculationAPI.queue_fulfill" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.testing.MockCirculationAPI.queue_hold">
<code class="descname">queue_hold</code><span class="sig-paren">(</span><em>licensepool</em>, <em>response</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockCirculationAPI.queue_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockCirculationAPI.queue_hold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.testing.MockCirculationAPI.queue_release_hold">
<code class="descname">queue_release_hold</code><span class="sig-paren">(</span><em>licensepool</em>, <em>response</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockCirculationAPI.queue_release_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockCirculationAPI.queue_release_hold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.testing.MockRemoteAPI">
<em class="property">class </em><code class="descclassname">api.testing.</code><code class="descname">MockRemoteAPI</code><span class="sig-paren">(</span><em>set_delivery_mechanism_at</em>, <em>can_revoke_hold_when_reserved</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockRemoteAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockRemoteAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.circulation.BaseCirculationAPI" title="api.circulation.BaseCirculationAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation.BaseCirculationAPI</span></code></a></p>
<dl class="method">
<dt id="api.testing.MockRemoteAPI.checkin">
<code class="descname">checkin</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockRemoteAPI.checkin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockRemoteAPI.checkin" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a book early.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>patron</strong> – a Patron object for the patron who wants to check out the book.</li>
<li><strong>pin</strong> – The patron’s alleged password.</li>
<li><strong>licensepool</strong> – Contains lending info as well as link to parent Identifier.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.testing.MockRemoteAPI.checkout">
<code class="descname">checkout</code><span class="sig-paren">(</span><em>patron_obj</em>, <em>patron_password</em>, <em>licensepool</em>, <em>delivery_mechanism</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockRemoteAPI.checkout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockRemoteAPI.checkout" title="Permalink to this definition">¶</a></dt>
<dd><p>Check out a book on behalf of a patron.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>patron</strong> – a Patron object for the patron who wants to check out the book.</li>
<li><strong>pin</strong> – The patron’s alleged password.</li>
<li><strong>licensepool</strong> – Contains lending info as well as link to parent Identifier.</li>
<li><strong>internal_format</strong> – Represents the patron’s desired book format.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a LoanInfo object.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.testing.MockRemoteAPI.fulfill">
<code class="descname">fulfill</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>internal_format=None</em>, <em>part=None</em>, <em>fulfill_part_url=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockRemoteAPI.fulfill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockRemoteAPI.fulfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Get the actual resource file to the patron.</p>
<p>Implementations are encouraged to define <code class="docutils literal notranslate"><span class="pre">**kwargs</span></code> as a container
for vendor-specific arguments, so that they don’t have to change
as new arguments are added.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>internal_format</strong> – A vendor-specific name indicating
the format requested by the patron.</li>
<li><strong>part</strong> – A vendor-specific identifier indicating that the
patron wants to fulfill one specific part of the book
(e.g. one chapter of an audiobook), not the whole thing.</li>
<li><strong>fulfill_part_url</strong> – A function that takes one argument (a
vendor-specific part identifier) and returns the URL to use
when fulfilling that part.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">a FulfillmentInfo object.</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.testing.MockRemoteAPI.internal_format">
<code class="descname">internal_format</code><span class="sig-paren">(</span><em>delivery_mechanism</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockRemoteAPI.internal_format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockRemoteAPI.internal_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up the internal format for this delivery mechanism or
raise an exception.</p>
</dd></dl>

<dl class="method">
<dt id="api.testing.MockRemoteAPI.place_hold">
<code class="descname">place_hold</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>hold_notification_email=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockRemoteAPI.place_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockRemoteAPI.place_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Place a book on hold.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A HoldInfo object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.testing.MockRemoteAPI.queue_checkin">
<code class="descname">queue_checkin</code><span class="sig-paren">(</span><em>response</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockRemoteAPI.queue_checkin"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockRemoteAPI.queue_checkin" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.testing.MockRemoteAPI.queue_checkout">
<code class="descname">queue_checkout</code><span class="sig-paren">(</span><em>response</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockRemoteAPI.queue_checkout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockRemoteAPI.queue_checkout" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.testing.MockRemoteAPI.queue_fulfill">
<code class="descname">queue_fulfill</code><span class="sig-paren">(</span><em>response</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockRemoteAPI.queue_fulfill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockRemoteAPI.queue_fulfill" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.testing.MockRemoteAPI.queue_hold">
<code class="descname">queue_hold</code><span class="sig-paren">(</span><em>response</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockRemoteAPI.queue_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockRemoteAPI.queue_hold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.testing.MockRemoteAPI.queue_release_hold">
<code class="descname">queue_release_hold</code><span class="sig-paren">(</span><em>response</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockRemoteAPI.queue_release_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockRemoteAPI.queue_release_hold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.testing.MockRemoteAPI.release_hold">
<code class="descname">release_hold</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockRemoteAPI.release_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockRemoteAPI.release_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Release a patron’s hold on a book.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="#api.circulation_exceptions.CannotReleaseHold" title="api.circulation_exceptions.CannotReleaseHold"><strong>CannotReleaseHold</strong></a> – If there is an error communicating
with the provider, or the provider refuses to release the hold for
any reason.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.testing.MockRemoteAPI.update_availability">
<code class="descname">update_availability</code><span class="sig-paren">(</span><em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockRemoteAPI.update_availability"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockRemoteAPI.update_availability" title="Permalink to this definition">¶</a></dt>
<dd><p>Simply record the fact that update_availability was called.</p>
</dd></dl>

<dl class="method">
<dt id="api.testing.MockRemoteAPI.update_loan">
<code class="descname">update_loan</code><span class="sig-paren">(</span><em>loan</em>, <em>status_doc</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockRemoteAPI.update_loan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockRemoteAPI.update_loan" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.testing.MockSharedCollectionAPI">
<em class="property">class </em><code class="descclassname">api.testing.</code><code class="descname">MockSharedCollectionAPI</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockSharedCollectionAPI"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockSharedCollectionAPI" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.shared_collection.SharedCollectionAPI" title="api.shared_collection.SharedCollectionAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.shared_collection.SharedCollectionAPI</span></code></a></p>
<dl class="method">
<dt id="api.testing.MockSharedCollectionAPI.borrow">
<code class="descname">borrow</code><span class="sig-paren">(</span><em>collection</em>, <em>client</em>, <em>pool</em>, <em>hold=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockSharedCollectionAPI.borrow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockSharedCollectionAPI.borrow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.testing.MockSharedCollectionAPI.fulfill">
<code class="descname">fulfill</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>internal_format=None</em>, <em>part=None</em>, <em>fulfill_part_url=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockSharedCollectionAPI.fulfill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockSharedCollectionAPI.fulfill" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.testing.MockSharedCollectionAPI.queue_borrow">
<code class="descname">queue_borrow</code><span class="sig-paren">(</span><em>response</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockSharedCollectionAPI.queue_borrow"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockSharedCollectionAPI.queue_borrow" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.testing.MockSharedCollectionAPI.queue_fulfill">
<code class="descname">queue_fulfill</code><span class="sig-paren">(</span><em>response</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockSharedCollectionAPI.queue_fulfill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockSharedCollectionAPI.queue_fulfill" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.testing.MockSharedCollectionAPI.queue_register">
<code class="descname">queue_register</code><span class="sig-paren">(</span><em>response</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockSharedCollectionAPI.queue_register"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockSharedCollectionAPI.queue_register" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.testing.MockSharedCollectionAPI.queue_revoke_hold">
<code class="descname">queue_revoke_hold</code><span class="sig-paren">(</span><em>response</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockSharedCollectionAPI.queue_revoke_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockSharedCollectionAPI.queue_revoke_hold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.testing.MockSharedCollectionAPI.queue_revoke_loan">
<code class="descname">queue_revoke_loan</code><span class="sig-paren">(</span><em>response</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockSharedCollectionAPI.queue_revoke_loan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockSharedCollectionAPI.queue_revoke_loan" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.testing.MockSharedCollectionAPI.register">
<code class="descname">register</code><span class="sig-paren">(</span><em>collection</em>, <em>url</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockSharedCollectionAPI.register"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockSharedCollectionAPI.register" title="Permalink to this definition">¶</a></dt>
<dd><p>Register a library on an external circulation manager for access to this
collection. The library’s auth document url must be whitelisted in the
collection’s settings.</p>
</dd></dl>

<dl class="method">
<dt id="api.testing.MockSharedCollectionAPI.revoke_hold">
<code class="descname">revoke_hold</code><span class="sig-paren">(</span><em>collection</em>, <em>client</em>, <em>hold</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockSharedCollectionAPI.revoke_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockSharedCollectionAPI.revoke_hold" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.testing.MockSharedCollectionAPI.revoke_loan">
<code class="descname">revoke_loan</code><span class="sig-paren">(</span><em>collection</em>, <em>client</em>, <em>loan</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#MockSharedCollectionAPI.revoke_loan"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MockSharedCollectionAPI.revoke_loan" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.testing.MonitorTest">
<em class="property">class </em><code class="descclassname">api.testing.</code><code class="descname">MonitorTest</code><a class="reference internal" href="_modules/api/testing.html#MonitorTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.MonitorTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.testing.DatabaseTest" title="core.testing.DatabaseTest"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.testing.DatabaseTest</span></code></a></p>
<dl class="attribute">
<dt id="api.testing.MonitorTest.ts">
<code class="descname">ts</code><a class="headerlink" href="#api.testing.MonitorTest.ts" title="Permalink to this definition">¶</a></dt>
<dd><p>Make the timestamp used by run() when calling run_once().</p>
<p>This makes it easier to test run_once() in isolation.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.testing.VendorIDTest">
<em class="property">class </em><code class="descclassname">api.testing.</code><code class="descname">VendorIDTest</code><a class="reference internal" href="_modules/api/testing.html#VendorIDTest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.VendorIDTest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.testing.DatabaseTest" title="core.testing.DatabaseTest"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.testing.DatabaseTest</span></code></a></p>
<p>A DatabaseTest that knows how to set up an Adobe Vendor ID
integration.</p>
<dl class="attribute">
<dt id="api.testing.VendorIDTest.TEST_NODE_VALUE">
<code class="descname">TEST_NODE_VALUE</code><em class="property"> = 114740953091845</em><a class="headerlink" href="#api.testing.VendorIDTest.TEST_NODE_VALUE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.testing.VendorIDTest.TEST_VENDOR_ID">
<code class="descname">TEST_VENDOR_ID</code><em class="property"> = u'vendor id'</em><a class="headerlink" href="#api.testing.VendorIDTest.TEST_VENDOR_ID" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.testing.VendorIDTest.initialize_adobe">
<code class="descname">initialize_adobe</code><span class="sig-paren">(</span><em>vendor_id_library</em>, <em>short_token_libraries=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/testing.html#VendorIDTest.initialize_adobe"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.testing.VendorIDTest.initialize_adobe" title="Permalink to this definition">¶</a></dt>
<dd><p>Initialize an Adobe Vendor ID integration and a
Short Client Token integration with a number of libraries.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>vendor_id_library</strong> – The Library that should have an
Adobe Vendor ID integration.</li>
<li><strong>short_token_libraries</strong> – The Libraries that should have a
Short Client Token integration.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api.web_publication_manifest">
<span id="api-web-publication-manifest-module"></span><h2>api.web_publication_manifest module<a class="headerlink" href="#module-api.web_publication_manifest" title="Permalink to this headline">¶</a></h2>
<p>Vendor-specific variants of the standard Web Publication Manifest classes.</p>
<dl class="class">
<dt id="api.web_publication_manifest.FindawayManifest">
<em class="property">class </em><code class="descclassname">api.web_publication_manifest.</code><code class="descname">FindawayManifest</code><span class="sig-paren">(</span><em>license_pool</em>, <em>accountId=None</em>, <em>checkoutId=None</em>, <em>fulfillmentId=None</em>, <em>licenseId=None</em>, <em>sessionKey=None</em>, <em>spine_items=[]</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/web_publication_manifest.html#FindawayManifest"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.web_publication_manifest.FindawayManifest" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.util.html#core.util.web_publication_manifest.AudiobookManifest" title="core.util.web_publication_manifest.AudiobookManifest"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.util.web_publication_manifest.AudiobookManifest</span></code></a></p>
<dl class="attribute">
<dt id="api.web_publication_manifest.FindawayManifest.FINDAWAY_EXTENSION_CONTEXT">
<code class="descname">FINDAWAY_EXTENSION_CONTEXT</code><em class="property"> = 'http://librarysimplified.org/terms/third-parties/findaway.com/'</em><a class="headerlink" href="#api.web_publication_manifest.FindawayManifest.FINDAWAY_EXTENSION_CONTEXT" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.web_publication_manifest.SpineItem">
<em class="property">class </em><code class="descclassname">api.web_publication_manifest.</code><code class="descname">SpineItem</code><span class="sig-paren">(</span><em>title</em>, <em>duration</em>, <em>part</em>, <em>sequence</em>, <em>media_type=u'audio/mpeg'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/web_publication_manifest.html#SpineItem"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.web_publication_manifest.SpineItem" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Metadata about a piece of playable audio from an audiobook.</p>
<dl class="classmethod">
<dt id="api.web_publication_manifest.SpineItem.sort_key">
<em class="property">classmethod </em><code class="descname">sort_key</code><span class="sig-paren">(</span><em>o</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/web_publication_manifest.html#SpineItem.sort_key"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.web_publication_manifest.SpineItem.sort_key" title="Permalink to this definition">¶</a></dt>
<dd><p>Used to sort a list of SpineItem objects in reading
order.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-api" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Library Simplified Circulation Manager</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">circulation</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">api package</a></li>
<li class="toctree-l2"><a class="reference internal" href="app.html">app module</a></li>
<li class="toctree-l2"><a class="reference internal" href="core.html">core package</a></li>
<li class="toctree-l2"><a class="reference internal" href="scripts.html">scripts module</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="modules.html">circulation</a><ul>
      <li>Previous: <a href="modules.html" title="previous chapter">circulation</a></li>
      <li>Next: <a href="api.admin.html" title="next chapter">api.admin package</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2019, The New York Public Library, Astor, Lenox, and Tilden Foundations.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/api.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>