
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>api.saml package &#8212; Library Simplified Circulation Manager  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="api.saml.configuration package" href="api.saml.configuration.html" />
    <link rel="prev" title="api.proquest package" href="api.proquest.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="api-saml-package">
<h1>api.saml package<a class="headerlink" href="#api-saml-package" title="Permalink to this heading">¶</a></h1>
<section id="subpackages">
<h2>Subpackages<a class="headerlink" href="#subpackages" title="Permalink to this heading">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="api.saml.configuration.html">api.saml.configuration package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api.saml.configuration.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.saml.configuration.html#module-api.saml.configuration.model">api.saml.configuration.model module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.saml.configuration.html#module-api.saml.configuration.validator">api.saml.configuration.validator module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.saml.configuration.html#module-api.saml.configuration">Module contents</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api.saml.metadata.html">api.saml.metadata package</a><ul>
<li class="toctree-l2"><a class="reference internal" href="api.saml.metadata.html#subpackages">Subpackages</a><ul>
<li class="toctree-l3"><a class="reference internal" href="api.saml.metadata.federations.html">api.saml.metadata.federations package</a><ul>
<li class="toctree-l4"><a class="reference internal" href="api.saml.metadata.federations.html#submodules">Submodules</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.saml.metadata.federations.html#module-api.saml.metadata.federations.incommon">api.saml.metadata.federations.incommon module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.saml.metadata.federations.html#module-api.saml.metadata.federations.loader">api.saml.metadata.federations.loader module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.saml.metadata.federations.html#module-api.saml.metadata.federations.model">api.saml.metadata.federations.model module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.saml.metadata.federations.html#module-api.saml.metadata.federations.validator">api.saml.metadata.federations.validator module</a></li>
<li class="toctree-l4"><a class="reference internal" href="api.saml.metadata.federations.html#module-api.saml.metadata.federations">Module contents</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="api.saml.metadata.html#submodules">Submodules</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.saml.metadata.html#module-api.saml.metadata.filter">api.saml.metadata.filter module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.saml.metadata.html#module-api.saml.metadata.model">api.saml.metadata.model module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.saml.metadata.html#module-api.saml.metadata.monitor">api.saml.metadata.monitor module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.saml.metadata.html#module-api.saml.metadata.parser">api.saml.metadata.parser module</a></li>
<li class="toctree-l2"><a class="reference internal" href="api.saml.metadata.html#module-api.saml.metadata">Module contents</a></li>
</ul>
</li>
</ul>
</div>
</section>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading">¶</a></h2>
</section>
<section id="module-api.saml.auth">
<span id="api-saml-auth-module"></span><h2>api.saml.auth module<a class="headerlink" href="#module-api.saml.auth" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.saml.auth.SAMLAuthenticationManager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.saml.auth.</span></span><span class="sig-name descname"><span class="pre">SAMLAuthenticationManager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">configuration</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subject_parser</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subject_filter</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/saml/auth.html#SAMLAuthenticationManager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.saml.auth.SAMLAuthenticationManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Implements SAML authentication process.</p>
<dl class="py property">
<dt class="sig sig-object py" id="api.saml.auth.SAMLAuthenticationManager.configuration">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">configuration</span></span><a class="headerlink" href="#api.saml.auth.SAMLAuthenticationManager.configuration" title="Permalink to this definition">¶</a></dt>
<dd><p>Return configuration object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Configuration object</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p><a class="reference internal" href="api.saml.configuration.html#api.saml.configuration.model.SAMLOneLoginConfiguration" title="api.saml.configuration.model.SAMLOneLoginConfiguration">SAMLOneLoginConfiguration</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.saml.auth.SAMLAuthenticationManager.finish_authentication">
<span class="sig-name descname"><span class="pre">finish_authentication</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idp_entity_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/saml/auth.html#SAMLAuthenticationManager.finish_authentication"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.saml.auth.SAMLAuthenticationManager.finish_authentication" title="Permalink to this definition">¶</a></dt>
<dd><p>Finish the SAML authentication workflow by validating AuthnResponse and extracting a SAML assertion from it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> (<em>sqlalchemy.orm.session.Session</em>) – Database session</p></li>
<li><p><strong>idp_entity_id</strong> (<em>string</em>) – IdP’s entityID</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Subject object containing name ID and attributes in the case of a successful authentication
or ProblemDetail object otherwise</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Union[<a class="reference internal" href="api.saml.metadata.html#api.saml.metadata.model.SAMLSubject" title="api.saml.metadata.model.SAMLSubject">api.saml.metadata.model.SAMLSubject</a>, <a class="reference internal" href="core.util.html#core.util.problem_detail.ProblemDetail" title="core.util.problem_detail.ProblemDetail">core.util.problem_detail.ProblemDetail</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.saml.auth.SAMLAuthenticationManager.start_authentication">
<span class="sig-name descname"><span class="pre">start_authentication</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">idp_entity_id</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">return_to_url</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/saml/auth.html#SAMLAuthenticationManager.start_authentication"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.saml.auth.SAMLAuthenticationManager.start_authentication" title="Permalink to this definition">¶</a></dt>
<dd><p>Start the SAML authentication workflow by sending a AuthnRequest to the IdP.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> (<em>sqlalchemy.orm.session.Session</em>) – Database session</p></li>
<li><p><strong>idp_entity_id</strong> (<em>string</em>) – IdP’s entityID</p></li>
<li><p><strong>return_to_url</strong> (<em>string</em>) – URL which will the user agent will be redirected to after authentication</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Redirection URL</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>string</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.saml.auth.SAMLAuthenticationManagerFactory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.saml.auth.</span></span><span class="sig-name descname"><span class="pre">SAMLAuthenticationManagerFactory</span></span><a class="reference internal" href="_modules/api/saml/auth.html#SAMLAuthenticationManagerFactory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.saml.auth.SAMLAuthenticationManagerFactory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Responsible for creating SAMLAuthenticationManager instances</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.saml.auth.SAMLAuthenticationManagerFactory.create">
<span class="sig-name descname"><span class="pre">create</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">configuration</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/saml/auth.html#SAMLAuthenticationManagerFactory.create"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.saml.auth.SAMLAuthenticationManagerFactory.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a new instance of SAMLAuthenticationManager class</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>configuration</strong> (<a class="reference internal" href="api.saml.configuration.html#api.saml.configuration.model.SAMLConfiguration" title="api.saml.configuration.model.SAMLConfiguration"><em>api.saml.configuration.model.SAMLConfiguration</em></a>) – SAML authentication provider’s configuration</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>SAML authentication manager</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#api.saml.auth.SAMLAuthenticationManager" title="api.saml.auth.SAMLAuthenticationManager">SAMLAuthenticationManager</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-api.saml.controller">
<span id="api-saml-controller-module"></span><h2>api.saml.controller module<a class="headerlink" href="#module-api.saml.controller" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.saml.controller.SAMLController">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.saml.controller.</span></span><span class="sig-name descname"><span class="pre">SAMLController</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">circulation_manager</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">authenticator</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/saml/controller.html#SAMLController"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.saml.controller.SAMLController" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Controller used for handing SAML 2.0 authentication requests</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.saml.controller.SAMLController.ACCESS_TOKEN">
<span class="sig-name descname"><span class="pre">ACCESS_TOKEN</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'access_token'</span></em><a class="headerlink" href="#api.saml.controller.SAMLController.ACCESS_TOKEN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.saml.controller.SAMLController.ERROR">
<span class="sig-name descname"><span class="pre">ERROR</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'error'</span></em><a class="headerlink" href="#api.saml.controller.SAMLController.ERROR" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.saml.controller.SAMLController.IDP_ENTITY_ID">
<span class="sig-name descname"><span class="pre">IDP_ENTITY_ID</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'idp_entity_id'</span></em><a class="headerlink" href="#api.saml.controller.SAMLController.IDP_ENTITY_ID" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.saml.controller.SAMLController.LIBRARY_SHORT_NAME">
<span class="sig-name descname"><span class="pre">LIBRARY_SHORT_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'library_short_name'</span></em><a class="headerlink" href="#api.saml.controller.SAMLController.LIBRARY_SHORT_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.saml.controller.SAMLController.PATRON_INFO">
<span class="sig-name descname"><span class="pre">PATRON_INFO</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'patron_info'</span></em><a class="headerlink" href="#api.saml.controller.SAMLController.PATRON_INFO" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.saml.controller.SAMLController.PROVIDER_NAME">
<span class="sig-name descname"><span class="pre">PROVIDER_NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'provider'</span></em><a class="headerlink" href="#api.saml.controller.SAMLController.PROVIDER_NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.saml.controller.SAMLController.REDIRECT_URI">
<span class="sig-name descname"><span class="pre">REDIRECT_URI</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'redirect_uri'</span></em><a class="headerlink" href="#api.saml.controller.SAMLController.REDIRECT_URI" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.saml.controller.SAMLController.RELAY_STATE">
<span class="sig-name descname"><span class="pre">RELAY_STATE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'RelayState'</span></em><a class="headerlink" href="#api.saml.controller.SAMLController.RELAY_STATE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.saml.controller.SAMLController.saml_authentication_callback">
<span class="sig-name descname"><span class="pre">saml_authentication_callback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/saml/controller.html#SAMLController.saml_authentication_callback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.saml.controller.SAMLController.saml_authentication_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a Patron object and a bearer token for a patron who has just
authenticated with one of our SAML IdPs</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>request</strong> (<em>Request</em>) – Flask request</p></li>
<li><p><strong>db</strong> (<em>sqlalchemy.orm.session.Session</em>) – Database session</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Redirection response or a ProblemDetail if the response is not correct</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Union[<a class="reference internal" href="core.util.html#core.util.flask_util.Response" title="core.util.flask_util.Response">Response</a>, <a class="reference internal" href="core.util.html#core.util.problem_detail.ProblemDetail" title="core.util.problem_detail.ProblemDetail">ProblemDetail</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.saml.controller.SAMLController.saml_authentication_redirect">
<span class="sig-name descname"><span class="pre">saml_authentication_redirect</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">params</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/saml/controller.html#SAMLController.saml_authentication_redirect"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.saml.controller.SAMLController.saml_authentication_redirect" title="Permalink to this definition">¶</a></dt>
<dd><p>Redirects an unauthenticated patron to the authentication URL of the
appropriate SAML IdP.
Over on that other site, the patron will authenticate and be
redirected back to the circulation manager, ending up in
saml_authentication_callback.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>params</strong> (<em>Dict</em>) – Query parameters</p></li>
<li><p><strong>db</strong> (<em>sqlalchemy.orm.session.Session</em>) – Database session</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Redirection response</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="core.util.html#core.util.flask_util.Response" title="core.util.flask_util.Response">Response</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-api.saml.provider">
<span id="api-saml-provider-module"></span><h2>api.saml.provider module<a class="headerlink" href="#module-api.saml.provider" title="Permalink to this heading">¶</a></h2>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.saml.provider.AuthenticationProvider">
<span class="sig-prename descclassname"><span class="pre">api.saml.provider.</span></span><span class="sig-name descname"><span class="pre">AuthenticationProvider</span></span><a class="headerlink" href="#api.saml.provider.AuthenticationProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>alias of <a class="reference internal" href="#api.saml.provider.SAMLWebSSOAuthenticationProvider" title="api.saml.provider.SAMLWebSSOAuthenticationProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">SAMLWebSSOAuthenticationProvider</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.saml.provider.SAMLWebSSOAuthenticationProvider">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.saml.provider.</span></span><span class="sig-name descname"><span class="pre">SAMLWebSSOAuthenticationProvider</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">library</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">integration</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">analytics</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/saml/provider.html#SAMLWebSSOAuthenticationProvider"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.saml.provider.SAMLWebSSOAuthenticationProvider" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="api.html#api.authenticator.BaseSAMLAuthenticationProvider" title="api.authenticator.BaseSAMLAuthenticationProvider"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseSAMLAuthenticationProvider</span></code></a>, <a class="reference internal" href="core.model.html#core.model.configuration.HasExternalIntegration" title="core.model.configuration.HasExternalIntegration"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasExternalIntegration</span></code></a></p>
<p>SAML authentication provider implementing Web Browser SSO profile using the following bindings:
- HTTP-Redirect Binding for requests
- HTTP-POST Binding for responses</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.saml.provider.SAMLWebSSOAuthenticationProvider.DESCRIPTION">
<span class="sig-name descname"><span class="pre">DESCRIPTION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'SAML</span> <span class="pre">2.0</span> <span class="pre">authentication</span> <span class="pre">provider</span> <span class="pre">implementing</span> <span class="pre">the</span> <span class="pre">Web</span> <span class="pre">SSO</span> <span class="pre">profile</span> <span class="pre">using</span> <span class="pre">the</span> <span class="pre">following</span> <span class="pre">bindings:</span>&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160;&#160; <span class="pre">HTTP-Redirect</span> <span class="pre">for</span> <span class="pre">requests</span> <span class="pre">and</span> <span class="pre">HTTP-POST</span> <span class="pre">for</span> <span class="pre">responses.'</span></em><a class="headerlink" href="#api.saml.provider.SAMLWebSSOAuthenticationProvider.DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.saml.provider.SAMLWebSSOAuthenticationProvider.NAME">
<span class="sig-name descname"><span class="pre">NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'SAML</span> <span class="pre">2.0</span> <span class="pre">Web</span> <span class="pre">SSO'</span></em><a class="headerlink" href="#api.saml.provider.SAMLWebSSOAuthenticationProvider.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.saml.provider.SAMLWebSSOAuthenticationProvider.authenticate">
<span class="sig-name descname"><span class="pre">authenticate</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">header</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/saml/provider.html#SAMLWebSSOAuthenticationProvider.authenticate"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.saml.provider.SAMLWebSSOAuthenticationProvider.authenticate" title="Permalink to this definition">¶</a></dt>
<dd><p>Authenticate a patron based on a WWW-Authenticate header
(or equivalent).</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A Patron if one can be authenticated; a ProblemDetail if an
error occurs; None if the credentials are missing or wrong.</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.saml.provider.SAMLWebSSOAuthenticationProvider.authenticated_patron">
<span class="sig-name descname"><span class="pre">authenticated_patron</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">token</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/saml/provider.html#SAMLWebSSOAuthenticationProvider.authenticated_patron"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.saml.provider.SAMLWebSSOAuthenticationProvider.authenticated_patron" title="Permalink to this definition">¶</a></dt>
<dd><p>Go from a token to an authenticated Patron.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> (<em>sqlalchemy.orm.session.Session</em>) – Database session</p></li>
<li><p><strong>token</strong> (<em>Dict</em>) – The provider token extracted from the Authorization
header. This is _not_ the bearer token found in
the Authorization header; it’s the provider-specific token
embedded in that token.</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A Patron, if one can be authenticated. None, if the
credentials do not authenticate any particular patron. A
ProblemDetail if an error occurs.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Union[<a class="reference internal" href="core.model.html#core.model.patron.Patron" title="core.model.patron.Patron">Patron</a>, <a class="reference internal" href="core.util.html#core.util.problem_detail.ProblemDetail" title="core.util.problem_detail.ProblemDetail">ProblemDetail</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.saml.provider.SAMLWebSSOAuthenticationProvider.get_authentication_manager">
<span class="sig-name descname"><span class="pre">get_authentication_manager</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">configuration</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/saml/provider.html#SAMLWebSSOAuthenticationProvider.get_authentication_manager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.saml.provider.SAMLWebSSOAuthenticationProvider.get_authentication_manager" title="Permalink to this definition">¶</a></dt>
<dd><p>Returns SAML authentication manager used by this provider</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>configuration</strong> (<a class="reference internal" href="api.saml.configuration.html#api.saml.configuration.model.SAMLConfiguration" title="api.saml.configuration.model.SAMLConfiguration"><em>api.saml.configuration.model.SAMLConfiguration</em></a>) – SAMLConfiguration object</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>SAML authentication manager used by this provider</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#api.saml.auth.SAMLAuthenticationManager" title="api.saml.auth.SAMLAuthenticationManager">SAMLAuthenticationManager</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.saml.provider.SAMLWebSSOAuthenticationProvider.get_configuration">
<span class="sig-name descname"><span class="pre">get_configuration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/saml/provider.html#SAMLWebSSOAuthenticationProvider.get_configuration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.saml.provider.SAMLWebSSOAuthenticationProvider.get_configuration" title="Permalink to this definition">¶</a></dt>
<dd><p>Return a SAMLConfiguration object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>db</strong> (<em>sqlalchemy.orm.session.Session</em>) – Database session</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>SAMLConfiguration object</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="api.saml.configuration.html#api.saml.configuration.model.SAMLConfiguration" title="api.saml.configuration.model.SAMLConfiguration">api.saml.configuration.model.SAMLConfiguration</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.saml.provider.SAMLWebSSOAuthenticationProvider.remote_patron_lookup">
<span class="sig-name descname"><span class="pre">remote_patron_lookup</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">subject</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/saml/provider.html#SAMLWebSSOAuthenticationProvider.remote_patron_lookup"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.saml.provider.SAMLWebSSOAuthenticationProvider.remote_patron_lookup" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a PatronData object based on Subject object containing SAML Subject and AttributeStatement</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>subject</strong> (<em>api.saml.metadata.Subject</em>) – Subject object containing SAML Subject and AttributeStatement</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>PatronData object containing information about the authenticated SAML subject or
ProblemDetail object in the case of any errors</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Union[<a class="reference internal" href="api.html#api.authenticator.PatronData" title="api.authenticator.PatronData">PatronData</a>, <a class="reference internal" href="core.util.html#core.util.problem_detail.ProblemDetail" title="core.util.problem_detail.ProblemDetail">ProblemDetail</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.saml.provider.SAMLWebSSOAuthenticationProvider.saml_callback">
<span class="sig-name descname"><span class="pre">saml_callback</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">subject</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/saml/provider.html#SAMLWebSSOAuthenticationProvider.saml_callback"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.saml.provider.SAMLWebSSOAuthenticationProvider.saml_callback" title="Permalink to this definition">¶</a></dt>
<dd><p>Verifies the SAML subject, generates a Bearer token in the case of successful authentication and returns it</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> (<em>sqlalchemy.orm.session.Session</em>) – Database session</p></li>
<li><p><strong>subject</strong> (<em>api.saml.metadata.Subject</em>) – Subject object containing SAML Subject and AttributeStatement</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A ProblemDetail if there’s a problem. Otherwise, a
3-tuple (Credential, Patron, PatronData). The Credential
contains the access token provided by the SAML provider. The
Patron object represents the authenticated Patron, and the
PatronData object includes information about the patron
obtained from the OAuth provider which cannot be stored in the
circulation manager’s database, but which should be passed on
to the client.</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Union[Tuple[<a class="reference internal" href="core.model.html#core.model.credential.Credential" title="core.model.credential.Credential">Credential</a>, <a class="reference internal" href="core.model.html#core.model.patron.Patron" title="core.model.patron.Patron">Patron</a>, <a class="reference internal" href="api.html#api.authenticator.PatronData" title="api.authenticator.PatronData">PatronData</a>], <a class="reference internal" href="core.util.html#core.util.problem_detail.ProblemDetail" title="core.util.problem_detail.ProblemDetail">ProblemDetail</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="api.saml.provider.validator_factory">
<span class="sig-prename descclassname"><span class="pre">api.saml.provider.</span></span><span class="sig-name descname"><span class="pre">validator_factory</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/saml/provider.html#validator_factory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.saml.provider.validator_factory" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</section>
<section id="module-api.saml">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-api.saml" title="Permalink to this heading">¶</a></h2>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Library Simplified Circulation Manager</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">circulation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="api.html">api package</a></li>
<li class="toctree-l2"><a class="reference internal" href="app.html">app module</a></li>
<li class="toctree-l2"><a class="reference internal" href="core.html">core package</a></li>
<li class="toctree-l2"><a class="reference internal" href="scripts.html">scripts module</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="modules.html">circulation</a><ul>
  <li><a href="api.html">api package</a><ul>
      <li>Previous: <a href="api.proquest.html" title="previous chapter">api.proquest package</a></li>
      <li>Next: <a href="api.saml.configuration.html" title="next chapter">api.saml.configuration package</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, The New York Public Library, Astor, Lenox, and Tilden Foundations.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 5.0.0b1</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="_sources/api.saml.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>