
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>core.util.languages &#8212; Library Simplified Circulation Manager  documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css" />
    <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
    <script src="../../../_static/jquery.js"></script>
    <script src="../../../_static/underscore.js"></script>
    <script src="../../../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../../../_static/doctools.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <h1>Source code for core.util.languages</h1><div class="highlight"><pre>
<span></span><span class="c1"># encoding: utf-8</span>
<span class="sd">&quot;&quot;&quot;Data and functions for dealing with language names and codes.&quot;&quot;&quot;</span>


<span class="kn">from</span> <span class="nn">collections</span> <span class="kn">import</span> <span class="n">defaultdict</span>
<span class="kn">import</span> <span class="nn">re</span>

<div class="viewcode-block" id="LookupTable"><a class="viewcode-back" href="../../../core.util.html#core.util.languages.LookupTable">[docs]</a><span class="k">class</span> <span class="nc">LookupTable</span><span class="p">(</span><span class="nb">dict</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Return None on x[key] when &#39;key&#39; isn&#39;t in the dictionary,</span>
<span class="sd">    rather than raising a ValueError.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">def</span> <span class="fm">__getitem__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">k</span><span class="p">):</span>
        <span class="k">if</span> <span class="n">k</span> <span class="ow">in</span> <span class="bp">self</span><span class="p">:</span>
            <span class="k">return</span> <span class="nb">super</span><span class="p">(</span><span class="n">LookupTable</span><span class="p">,</span> <span class="bp">self</span><span class="p">)</span><span class="o">.</span><span class="fm">__getitem__</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span></div>


<div class="viewcode-block" id="LanguageCodes"><a class="viewcode-back" href="../../../core.util.html#core.util.languages.LanguageCodes">[docs]</a><span class="k">class</span> <span class="nc">LanguageCodes</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Convert between ISO-639-2 and ISO-693-1 language codes.</span>

<span class="sd">    The data file comes from</span>
<span class="sd">    http://www.loc.gov/standards/iso639-2/ISO-639-2_utf-8.txt</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">two_to_three</span> <span class="o">=</span> <span class="n">LookupTable</span><span class="p">()</span>
    <span class="n">three_to_two</span> <span class="o">=</span> <span class="n">LookupTable</span><span class="p">()</span>
    <span class="n">english_names</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
    <span class="n">english_names_to_three</span> <span class="o">=</span> <span class="n">LookupTable</span><span class="p">()</span>
    <span class="n">native_names</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>

    <span class="n">RAW_DATA</span> <span class="o">=</span> <span class="s2">&quot;&quot;&quot;aar||aa|Afar|afar</span>
<span class="s2">abk||ab|Abkhazian|abkhaze</span>
<span class="s2">ace|||Achinese|aceh</span>
<span class="s2">ach|||Acoli|acoli</span>
<span class="s2">ada|||Adangme|adangme</span>
<span class="s2">ady|||Adyghe; Adygei|adyghé</span>
<span class="s2">afa|||Afro-Asiatic languages|afro-asiatiques, langues</span>
<span class="s2">afh|||Afrihili|afrihili</span>
<span class="s2">afr||af|Afrikaans|afrikaans</span>
<span class="s2">ain|||Ainu|aïnou</span>
<span class="s2">aka||ak|Akan|akan</span>
<span class="s2">akk|||Akkadian|akkadien</span>
<span class="s2">alb|sqi|sq|Albanian|albanais</span>
<span class="s2">ale|||Aleut|aléoute</span>
<span class="s2">alg|||Algonquian languages|algonquines, langues</span>
<span class="s2">alt|||Southern Altai|altai du Sud</span>
<span class="s2">amh||am|Amharic|amharique</span>
<span class="s2">ang|||English, Old (ca.450-1100)|anglo-saxon (ca.450-1100)</span>
<span class="s2">anp|||Angika|angika</span>
<span class="s2">apa|||Apache languages|apaches, langues</span>
<span class="s2">ara||ar|Arabic|arabe</span>
<span class="s2">arc|||Official Aramaic (700-300 BCE); Imperial Aramaic (700-300 BCE)|araméen d&#39;empire (700-300 BCE)</span>
<span class="s2">arg||an|Aragonese|aragonais</span>
<span class="s2">arm|hye|hy|Armenian|arménien</span>
<span class="s2">arn|||Mapudungun; Mapuche|mapudungun; mapuche; mapuce</span>
<span class="s2">arp|||Arapaho|arapaho</span>
<span class="s2">art|||Artificial languages|artificielles, langues</span>
<span class="s2">arw|||Arawak|arawak</span>
<span class="s2">asm||as|Assamese|assamais</span>
<span class="s2">ast|||Asturian; Bable; Leonese; Asturleonese|asturien; bable; léonais; asturoléonais</span>
<span class="s2">ath|||Athapascan languages|athapascanes, langues</span>
<span class="s2">aus|||Australian languages|australiennes, langues</span>
<span class="s2">ava||av|Avaric|avar</span>
<span class="s2">ave||ae|Avestan|avestique</span>
<span class="s2">awa|||Awadhi|awadhi</span>
<span class="s2">aym||ay|Aymara|aymara</span>
<span class="s2">aze||az|Azerbaijani|azéri</span>
<span class="s2">bad|||Banda languages|banda, langues</span>
<span class="s2">bai|||Bamileke languages|bamiléké, langues</span>
<span class="s2">bak||ba|Bashkir|bachkir</span>
<span class="s2">bal|||Baluchi|baloutchi</span>
<span class="s2">bam||bm|Bambara|bambara</span>
<span class="s2">ban|||Balinese|balinais</span>
<span class="s2">baq|eus|eu|Basque|basque</span>
<span class="s2">bas|||Basa|basa</span>
<span class="s2">bat|||Baltic languages|baltes, langues</span>
<span class="s2">bej|||Beja; Bedawiyet|bedja</span>
<span class="s2">bel||be|Belarusian|biélorusse</span>
<span class="s2">bem|||Bemba|bemba</span>
<span class="s2">ben||bn|Bengali|bengali</span>
<span class="s2">ber|||Berber languages|berbères, langues</span>
<span class="s2">bho|||Bhojpuri|bhojpuri</span>
<span class="s2">bih||bh|Bihari languages|langues biharis</span>
<span class="s2">bik|||Bikol|bikol</span>
<span class="s2">bin|||Bini; Edo|bini; edo</span>
<span class="s2">bis||bi|Bislama|bichlamar</span>
<span class="s2">bla|||Siksika|blackfoot</span>
<span class="s2">bnt|||Bantu (Other)|bantoues, autres langues</span>
<span class="s2">bos||bs|Bosnian|bosniaque</span>
<span class="s2">bra|||Braj|braj</span>
<span class="s2">bre||br|Breton|breton</span>
<span class="s2">btk|||Batak languages|batak, langues</span>
<span class="s2">bua|||Buriat|bouriate</span>
<span class="s2">bug|||Buginese|bugi</span>
<span class="s2">bul||bg|Bulgarian|bulgare</span>
<span class="s2">bur|mya|my|Burmese|birman</span>
<span class="s2">byn|||Blin; Bilin|blin; bilen</span>
<span class="s2">cad|||Caddo|caddo</span>
<span class="s2">cai|||Central American Indian languages|amérindiennes de L&#39;Amérique centrale, langues</span>
<span class="s2">car|||Galibi Carib|karib; galibi; carib</span>
<span class="s2">cat||ca|Catalan; Valencian|catalan; valencien</span>
<span class="s2">cau|||Caucasian languages|caucasiennes, langues</span>
<span class="s2">ceb|||Cebuano|cebuano</span>
<span class="s2">cel|||Celtic languages|celtiques, langues; celtes, langues</span>
<span class="s2">cha||ch|Chamorro|chamorro</span>
<span class="s2">chb|||Chibcha|chibcha</span>
<span class="s2">che||ce|Chechen|tchétchène</span>
<span class="s2">chg|||Chagatai|djaghataï</span>
<span class="s2">chi|zho|zh|Chinese|chinois</span>
<span class="s2">chk|||Chuukese|chuuk</span>
<span class="s2">chm|||Mari|mari</span>
<span class="s2">chn|||Chinook jargon|chinook, jargon</span>
<span class="s2">cho|||Choctaw|choctaw</span>
<span class="s2">chp|||Chipewyan; Dene Suline|chipewyan</span>
<span class="s2">chr|||Cherokee|cherokee</span>
<span class="s2">chu||cu|Church Slavic; Old Slavonic; Church Slavonic; Old Bulgarian; Old Church Slavonic|slavon d&#39;église; vieux slave; slavon liturgique; vieux bulgare</span>
<span class="s2">chv||cv|Chuvash|tchouvache</span>
<span class="s2">chy|||Cheyenne|cheyenne</span>
<span class="s2">cmc|||Chamic languages|chames, langues</span>
<span class="s2">cop|||Coptic|copte</span>
<span class="s2">cor||kw|Cornish|cornique</span>
<span class="s2">cos||co|Corsican|corse</span>
<span class="s2">cpe|||Creoles and pidgins, English based|créoles et pidgins basés sur l&#39;anglais</span>
<span class="s2">cpf|||Creoles and pidgins, French-based |créoles et pidgins basés sur le français</span>
<span class="s2">cpp|||Creoles and pidgins, Portuguese-based |créoles et pidgins basés sur le portugais</span>
<span class="s2">cre||cr|Cree|cree</span>
<span class="s2">crh|||Crimean Tatar; Crimean Turkish|tatar de Crimé</span>
<span class="s2">crp|||Creoles and pidgins |créoles et pidgins</span>
<span class="s2">csb|||Kashubian|kachoube</span>
<span class="s2">cus|||Cushitic languages|couchitiques, langues</span>
<span class="s2">cze|ces|cs|Czech|tchèque</span>
<span class="s2">dak|||Dakota|dakota</span>
<span class="s2">dan||da|Danish|danois</span>
<span class="s2">dar|||Dargwa|dargwa</span>
<span class="s2">day|||Land Dayak languages|dayak, langues</span>
<span class="s2">del|||Delaware|delaware</span>
<span class="s2">den|||Slave (Athapascan)|esclave (athapascan)</span>
<span class="s2">dgr|||Dogrib|dogrib</span>
<span class="s2">din|||Dinka|dinka</span>
<span class="s2">div||dv|Divehi; Dhivehi; Maldivian|maldivien</span>
<span class="s2">doi|||Dogri|dogri</span>
<span class="s2">dra|||Dravidian languages|dravidiennes, langues</span>
<span class="s2">dsb|||Lower Sorbian|bas-sorabe</span>
<span class="s2">dua|||Duala|douala</span>
<span class="s2">dum|||Dutch, Middle (ca.1050-1350)|néerlandais moyen (ca. 1050-1350)</span>
<span class="s2">dut|nld|nl|Dutch; Flemish|néerlandais; flamand</span>
<span class="s2">dyu|||Dyula|dioula</span>
<span class="s2">dzo||dz|Dzongkha|dzongkha</span>
<span class="s2">efi|||Efik|efik</span>
<span class="s2">egy|||Egyptian (Ancient)|égyptien</span>
<span class="s2">eka|||Ekajuk|ekajuk</span>
<span class="s2">elx|||Elamite|élamite</span>
<span class="s2">eng||en|English|anglais</span>
<span class="s2">enm|||English, Middle (1100-1500)|anglais moyen (1100-1500)</span>
<span class="s2">epo||eo|Esperanto|espéranto</span>
<span class="s2">est||et|Estonian|estonien</span>
<span class="s2">ewe||ee|Ewe|éwé</span>
<span class="s2">ewo|||Ewondo|éwondo</span>
<span class="s2">fan|||Fang|fang</span>
<span class="s2">fao||fo|Faroese|féroïen</span>
<span class="s2">fat|||Fanti|fanti</span>
<span class="s2">fij||fj|Fijian|fidjien</span>
<span class="s2">fil|||Filipino; Pilipino|filipino; pilipino</span>
<span class="s2">fin||fi|Finnish|finnois</span>
<span class="s2">fiu|||Finno-Ugrian languages|finno-ougriennes, langues</span>
<span class="s2">fon|||Fon|fon</span>
<span class="s2">fre|fra|fr|French|français</span>
<span class="s2">frm|||French, Middle (ca.1400-1600)|français moyen (1400-1600)</span>
<span class="s2">fro|||French, Old (842-ca.1400)|français ancien (842-ca.1400)</span>
<span class="s2">frr|||Northern Frisian|frison septentrional</span>
<span class="s2">frs|||Eastern Frisian|frison oriental</span>
<span class="s2">fry||fy|Western Frisian|frison occidental</span>
<span class="s2">ful||ff|Fulah|peul</span>
<span class="s2">fur|||Friulian|frioulan</span>
<span class="s2">gaa|||Ga|ga</span>
<span class="s2">gay|||Gayo|gayo</span>
<span class="s2">gba|||Gbaya|gbaya</span>
<span class="s2">gem|||Germanic languages|germaniques, langues</span>
<span class="s2">geo|kat|ka|Georgian|géorgien</span>
<span class="s2">ger|deu|de|German|allemand</span>
<span class="s2">gez|||Geez|guèze</span>
<span class="s2">gil|||Gilbertese|kiribati</span>
<span class="s2">gla||gd|Gaelic; Scottish Gaelic|gaélique; gaélique écossais</span>
<span class="s2">gle||ga|Irish|irlandais</span>
<span class="s2">glg||gl|Galician|galicien</span>
<span class="s2">glv||gv|Manx|manx; mannois</span>
<span class="s2">gmh|||German, Middle High (ca.1050-1500)|allemand, moyen haut (ca. 1050-1500)</span>
<span class="s2">goh|||German, Old High (ca.750-1050)|allemand, vieux haut (ca. 750-1050)</span>
<span class="s2">gon|||Gondi|gond</span>
<span class="s2">gor|||Gorontalo|gorontalo</span>
<span class="s2">got|||Gothic|gothique</span>
<span class="s2">grb|||Grebo|grebo</span>
<span class="s2">grc|||Greek, Ancient (to 1453)|grec ancien (jusqu&#39;à 1453)</span>
<span class="s2">gre|ell|el|Greek, Modern (1453-)|grec moderne (après 1453)</span>
<span class="s2">grn||gn|Guarani|guarani</span>
<span class="s2">gsw|||Swiss German; Alemannic; Alsatian|suisse alémanique; alémanique; alsacien</span>
<span class="s2">guj||gu|Gujarati|goudjrati</span>
<span class="s2">gwi|||Gwich&#39;in|gwich&#39;in</span>
<span class="s2">hai|||Haida|haida</span>
<span class="s2">hat||ht|Haitian; Haitian Creole|haïtien; créole haïtien</span>
<span class="s2">hau||ha|Hausa|haoussa</span>
<span class="s2">haw|||Hawaiian|hawaïen</span>
<span class="s2">heb||he|Hebrew|hébreu</span>
<span class="s2">her||hz|Herero|herero</span>
<span class="s2">hil|||Hiligaynon|hiligaynon</span>
<span class="s2">him|||Himachali languages; Western Pahari languages|langues himachalis; langues paharis occidentales</span>
<span class="s2">hin||hi|Hindi|hindi</span>
<span class="s2">hit|||Hittite|hittite</span>
<span class="s2">hmn|||Hmong; Mong|hmong</span>
<span class="s2">hmo||ho|Hiri Motu|hiri motu</span>
<span class="s2">hrv||hr|Croatian|croate</span>
<span class="s2">hsb|||Upper Sorbian|haut-sorabe</span>
<span class="s2">hun||hu|Hungarian|hongrois</span>
<span class="s2">hup|||Hupa|hupa</span>
<span class="s2">iba|||Iban|iban</span>
<span class="s2">ibo||ig|Igbo|igbo</span>
<span class="s2">ice|isl|is|Icelandic|islandais</span>
<span class="s2">ido||io|Ido|ido</span>
<span class="s2">iii||ii|Sichuan Yi; Nuosu|yi de Sichuan</span>
<span class="s2">ijo|||Ijo languages|ijo, langues</span>
<span class="s2">iku||iu|Inuktitut|inuktitut</span>
<span class="s2">ile||ie|Interlingue; Occidental|interlingue</span>
<span class="s2">ilo|||Iloko|ilocano</span>
<span class="s2">ina||ia|Interlingua (International Auxiliary Language Association)|interlingua (langue auxiliaire internationale)</span>
<span class="s2">inc|||Indic languages|indo-aryennes, langues</span>
<span class="s2">ind||id|Indonesian|indonésien</span>
<span class="s2">ine|||Indo-European languages|indo-européennes, langues</span>
<span class="s2">inh|||Ingush|ingouche</span>
<span class="s2">ipk||ik|Inupiaq|inupiaq</span>
<span class="s2">ira|||Iranian languages|iraniennes, langues</span>
<span class="s2">iro|||Iroquoian languages|iroquoises, langues</span>
<span class="s2">ita||it|Italian|italien</span>
<span class="s2">jav||jv|Javanese|javanais</span>
<span class="s2">jbo|||Lojban|lojban</span>
<span class="s2">jpn||ja|Japanese|japonais</span>
<span class="s2">jpr|||Judeo-Persian|judéo-persan</span>
<span class="s2">jrb|||Judeo-Arabic|judéo-arabe</span>
<span class="s2">kaa|||Kara-Kalpak|karakalpak</span>
<span class="s2">kab|||Kabyle|kabyle</span>
<span class="s2">kac|||Kachin; Jingpho|kachin; jingpho</span>
<span class="s2">kal||kl|Kalaallisut; Greenlandic|groenlandais</span>
<span class="s2">kam|||Kamba|kamba</span>
<span class="s2">kan||kn|Kannada|kannada</span>
<span class="s2">kar|||Karen languages|karen, langues</span>
<span class="s2">kas||ks|Kashmiri|kashmiri</span>
<span class="s2">kau||kr|Kanuri|kanouri</span>
<span class="s2">kaw|||Kawi|kawi</span>
<span class="s2">kaz||kk|Kazakh|kazakh</span>
<span class="s2">kbd|||Kabardian|kabardien</span>
<span class="s2">kha|||Khasi|khasi</span>
<span class="s2">khi|||Khoisan languages|khoïsan, langues</span>
<span class="s2">khm||km|Central Khmer|khmer central</span>
<span class="s2">kho|||Khotanese; Sakan|khotanais; sakan</span>
<span class="s2">kik||ki|Kikuyu; Gikuyu|kikuyu</span>
<span class="s2">kin||rw|Kinyarwanda|rwanda</span>
<span class="s2">kir||ky|Kirghiz; Kyrgyz|kirghiz</span>
<span class="s2">kmb|||Kimbundu|kimbundu</span>
<span class="s2">kok|||Konkani|konkani</span>
<span class="s2">kom||kv|Komi|kom</span>
<span class="s2">kon||kg|Kongo|kongo</span>
<span class="s2">kor||ko|Korean|coréen</span>
<span class="s2">kos|||Kosraean|kosrae</span>
<span class="s2">kpe|||Kpelle|kpellé</span>
<span class="s2">krc|||Karachay-Balkar|karatchai balkar</span>
<span class="s2">krl|||Karelian|carélien</span>
<span class="s2">kro|||Kru languages|krou, langues</span>
<span class="s2">kru|||Kurukh|kurukh</span>
<span class="s2">kua||kj|Kuanyama; Kwanyama|kuanyama; kwanyama</span>
<span class="s2">kum|||Kumyk|koumyk</span>
<span class="s2">kur||ku|Kurdish|kurde</span>
<span class="s2">kut|||Kutenai|kutenai</span>
<span class="s2">lad|||Ladino|judéo-espagnol</span>
<span class="s2">lah|||Lahnda|lahnda</span>
<span class="s2">lam|||Lamba|lamba</span>
<span class="s2">lao||lo|Lao|lao</span>
<span class="s2">lat||la|Latin|latin</span>
<span class="s2">lav||lv|Latvian|letton</span>
<span class="s2">lez|||Lezghian|lezghien</span>
<span class="s2">lim||li|Limburgan; Limburger; Limburgish|limbourgeois</span>
<span class="s2">lin||ln|Lingala|lingala</span>
<span class="s2">lit||lt|Lithuanian|lituanien</span>
<span class="s2">lol|||Mongo|mongo</span>
<span class="s2">loz|||Lozi|lozi</span>
<span class="s2">ltz||lb|Luxembourgish; Letzeburgesch|luxembourgeois</span>
<span class="s2">lua|||Luba-Lulua|luba-lulua</span>
<span class="s2">lub||lu|Luba-Katanga|luba-katanga</span>
<span class="s2">lug||lg|Ganda|ganda</span>
<span class="s2">lui|||Luiseno|luiseno</span>
<span class="s2">lun|||Lunda|lunda</span>
<span class="s2">luo|||Luo (Kenya and Tanzania)|luo (Kenya et Tanzanie)</span>
<span class="s2">lus|||Lushai|lushai</span>
<span class="s2">mac|mkd|mk|Macedonian|macédonien</span>
<span class="s2">mad|||Madurese|madourais</span>
<span class="s2">mag|||Magahi|magahi</span>
<span class="s2">mah||mh|Marshallese|marshall</span>
<span class="s2">mai|||Maithili|maithili</span>
<span class="s2">mak|||Makasar|makassar</span>
<span class="s2">mal||ml|Malayalam|malayalam</span>
<span class="s2">man|||Mandingo|mandingue</span>
<span class="s2">mao|mri|mi|Maori|maori</span>
<span class="s2">map|||Austronesian languages|austronésiennes, langues</span>
<span class="s2">mar||mr|Marathi|marathe</span>
<span class="s2">mas|||Masai|massaï</span>
<span class="s2">may|msa|ms|Malay|malais</span>
<span class="s2">mdf|||Moksha|moksa</span>
<span class="s2">mdr|||Mandar|mandar</span>
<span class="s2">men|||Mende|mendé</span>
<span class="s2">mga|||Irish, Middle (900-1200)|irlandais moyen (900-1200)</span>
<span class="s2">mic|||Mi&#39;kmaq; Micmac|mi&#39;kmaq; micmac</span>
<span class="s2">min|||Minangkabau|minangkabau</span>
<span class="s2">mis|||Uncoded languages|langues non codées</span>
<span class="s2">mkh|||Mon-Khmer languages|môn-khmer, langues</span>
<span class="s2">mlg||mg|Malagasy|malgache</span>
<span class="s2">mlt||mt|Maltese|maltais</span>
<span class="s2">mnc|||Manchu|mandchou</span>
<span class="s2">mni|||Manipuri|manipuri</span>
<span class="s2">mno|||Manobo languages|manobo, langues</span>
<span class="s2">moh|||Mohawk|mohawk</span>
<span class="s2">mon||mn|Mongolian|mongol</span>
<span class="s2">mos|||Mossi|moré</span>
<span class="s2">mul|||Multiple languages|multilingue</span>
<span class="s2">mun|||Munda languages|mounda, langues</span>
<span class="s2">mus|||Creek|muskogee</span>
<span class="s2">mwl|||Mirandese|mirandais</span>
<span class="s2">mwr|||Marwari|marvari</span>
<span class="s2">myn|||Mayan languages|maya, langues</span>
<span class="s2">myv|||Erzya|erza</span>
<span class="s2">nah|||Nahuatl languages|nahuatl, langues</span>
<span class="s2">nai|||North American Indian languages|nord-amérindiennes, langues</span>
<span class="s2">nap|||Neapolitan|napolitain</span>
<span class="s2">nau||na|Nauru|nauruan</span>
<span class="s2">nav||nv|Navajo; Navaho|navaho</span>
<span class="s2">nbl||nr|Ndebele, South; South Ndebele|ndébélé du Sud</span>
<span class="s2">nde||nd|Ndebele, North; North Ndebele|ndébélé du Nord</span>
<span class="s2">ndo||ng|Ndonga|ndonga</span>
<span class="s2">nds|||Low German; Low Saxon; German, Low; Saxon, Low|bas allemand; bas saxon; allemand, bas; saxon, bas</span>
<span class="s2">nep||ne|Nepali|népalais</span>
<span class="s2">new|||Nepal Bhasa; Newari|nepal bhasa; newari</span>
<span class="s2">nia|||Nias|nias</span>
<span class="s2">nic|||Niger-Kordofanian languages|nigéro-kordofaniennes, langues</span>
<span class="s2">niu|||Niuean|niué</span>
<span class="s2">nno||nn|Norwegian Nynorsk; Nynorsk, Norwegian|norvégien nynorsk; nynorsk, norvégien</span>
<span class="s2">nob||nb|Bokmål, Norwegian; Norwegian Bokmål|norvégien bokmål</span>
<span class="s2">nog|||Nogai|nogaï; nogay</span>
<span class="s2">non|||Norse, Old|norrois, vieux</span>
<span class="s2">nor||no|Norwegian|norvégien</span>
<span class="s2">nqo|||N&#39;Ko|n&#39;ko</span>
<span class="s2">nso|||Pedi; Sepedi; Northern Sotho|pedi; sepedi; sotho du Nord</span>
<span class="s2">nub|||Nubian languages|nubiennes, langues</span>
<span class="s2">nwc|||Classical Newari; Old Newari; Classical Nepal Bhasa|newari classique</span>
<span class="s2">nya||ny|Chichewa; Chewa; Nyanja|chichewa; chewa; nyanja</span>
<span class="s2">nym|||Nyamwezi|nyamwezi</span>
<span class="s2">nyn|||Nyankole|nyankolé</span>
<span class="s2">nyo|||Nyoro|nyoro</span>
<span class="s2">nzi|||Nzima|nzema</span>
<span class="s2">oci||oc|Occitan (post 1500); Provençal|occitan (après 1500); provençal</span>
<span class="s2">oji||oj|Ojibwa|ojibwa</span>
<span class="s2">ori||or|Oriya|oriya</span>
<span class="s2">orm||om|Oromo|galla</span>
<span class="s2">osa|||Osage|osage</span>
<span class="s2">oss||os|Ossetian; Ossetic|ossète</span>
<span class="s2">ota|||Turkish, Ottoman (1500-1928)|turc ottoman (1500-1928)</span>
<span class="s2">oto|||Otomian languages|otomi, langues</span>
<span class="s2">paa|||Papuan languages|papoues, langues</span>
<span class="s2">pag|||Pangasinan|pangasinan</span>
<span class="s2">pal|||Pahlavi|pahlavi</span>
<span class="s2">pam|||Pampanga; Kapampangan|pampangan</span>
<span class="s2">pan||pa|Panjabi; Punjabi|pendjabi</span>
<span class="s2">pap|||Papiamento|papiamento</span>
<span class="s2">pau|||Palauan|palau</span>
<span class="s2">peo|||Persian, Old (ca.600-400 B.C.)|perse, vieux (ca. 600-400 av. J.-C.)</span>
<span class="s2">per|fas|fa|Persian|persan</span>
<span class="s2">phi|||Philippine languages|philippines, langues</span>
<span class="s2">phn|||Phoenician|phénicien</span>
<span class="s2">pli||pi|Pali|pali</span>
<span class="s2">pol||pl|Polish|polonais</span>
<span class="s2">pon|||Pohnpeian|pohnpei</span>
<span class="s2">por||pt|Portuguese|portugais</span>
<span class="s2">pra|||Prakrit languages|prâkrit, langues</span>
<span class="s2">pro|||Provençal, Old (to 1500)|provençal ancien (jusqu&#39;à 1500)</span>
<span class="s2">pus||ps|Pushto; Pashto|pachto</span>
<span class="s2">qaa-qtz|||Reserved for local use|réservée à l&#39;usage local</span>
<span class="s2">que||qu|Quechua|quechua</span>
<span class="s2">raj|||Rajasthani|rajasthani</span>
<span class="s2">rap|||Rapanui|rapanui</span>
<span class="s2">rar|||Rarotongan; Cook Islands Maori|rarotonga; maori des îles Cook</span>
<span class="s2">roa|||Romance languages|romanes, langues</span>
<span class="s2">roh||rm|Romansh|romanche</span>
<span class="s2">rom|||Romany|tsigane</span>
<span class="s2">rum|ron|ro|Romanian; Moldavian; Moldovan|roumain; moldave</span>
<span class="s2">run||rn|Rundi|rundi</span>
<span class="s2">rup|||Aromanian; Arumanian; Macedo-Romanian|aroumain; macédo-roumain</span>
<span class="s2">rus||ru|Russian|russe</span>
<span class="s2">sad|||Sandawe|sandawe</span>
<span class="s2">sag||sg|Sango|sango</span>
<span class="s2">sah|||Yakut|iakoute</span>
<span class="s2">sai|||South American Indian (Other)|indiennes d&#39;Amérique du Sud, autres langues</span>
<span class="s2">sal|||Salishan languages|salishennes, langues</span>
<span class="s2">sam|||Samaritan Aramaic|samaritain</span>
<span class="s2">san||sa|Sanskrit|sanskrit</span>
<span class="s2">sas|||Sasak|sasak</span>
<span class="s2">sat|||Santali|santal</span>
<span class="s2">scn|||Sicilian|sicilien</span>
<span class="s2">sco|||Scots|écossais</span>
<span class="s2">sel|||Selkup|selkoupe</span>
<span class="s2">sem|||Semitic languages|sémitiques, langues</span>
<span class="s2">sga|||Irish, Old (to 900)|irlandais ancien (jusqu&#39;à 900)</span>
<span class="s2">sgn|||Sign Languages|langues des signes</span>
<span class="s2">shn|||Shan|chan</span>
<span class="s2">sid|||Sidamo|sidamo</span>
<span class="s2">sin||si|Sinhala; Sinhalese|singhalais</span>
<span class="s2">sio|||Siouan languages|sioux, langues</span>
<span class="s2">sit|||Sino-Tibetan languages|sino-tibétaines, langues</span>
<span class="s2">sla|||Slavic languages|slaves, langues</span>
<span class="s2">slo|slk|sk|Slovak|slovaque</span>
<span class="s2">slv||sl|Slovenian|slovène</span>
<span class="s2">sma|||Southern Sami|sami du Sud</span>
<span class="s2">sme||se|Northern Sami|sami du Nord</span>
<span class="s2">smi|||Sami languages|sames, langues</span>
<span class="s2">smj|||Lule Sami|sami de Lule</span>
<span class="s2">smn|||Inari Sami|sami d&#39;Inari</span>
<span class="s2">smo||sm|Samoan|samoan</span>
<span class="s2">sms|||Skolt Sami|sami skolt</span>
<span class="s2">sna||sn|Shona|shona</span>
<span class="s2">snd||sd|Sindhi|sindhi</span>
<span class="s2">snk|||Soninke|soninké</span>
<span class="s2">sog|||Sogdian|sogdien</span>
<span class="s2">som||so|Somali|somali</span>
<span class="s2">son|||Songhai languages|songhai, langues</span>
<span class="s2">sot||st|Sotho, Southern|sotho du Sud</span>
<span class="s2">spa||es|Spanish; Castilian|espagnol; castillan</span>
<span class="s2">srd||sc|Sardinian|sarde</span>
<span class="s2">srn|||Sranan Tongo|sranan tongo</span>
<span class="s2">srp||sr|Serbian|serbe</span>
<span class="s2">srr|||Serer|sérère</span>
<span class="s2">ssa|||Nilo-Saharan languages|nilo-sahariennes, langues</span>
<span class="s2">ssw||ss|Swati|swati</span>
<span class="s2">suk|||Sukuma|sukuma</span>
<span class="s2">sun||su|Sundanese|soundanais</span>
<span class="s2">sus|||Susu|soussou</span>
<span class="s2">sux|||Sumerian|sumérien</span>
<span class="s2">swa||sw|Swahili|swahili</span>
<span class="s2">swe||sv|Swedish|suédois</span>
<span class="s2">syc|||Classical Syriac|syriaque classique</span>
<span class="s2">syr|||Syriac|syriaque</span>
<span class="s2">tah||ty|Tahitian|tahitien</span>
<span class="s2">tai|||Tai languages|tai, langues</span>
<span class="s2">tam||ta|Tamil|tamoul</span>
<span class="s2">tat||tt|Tatar|tatar</span>
<span class="s2">tel||te|Telugu|télougou</span>
<span class="s2">tem|||Timne|temne</span>
<span class="s2">ter|||Tereno|tereno</span>
<span class="s2">tet|||Tetum|tetum</span>
<span class="s2">tgk||tg|Tajik|tadjik</span>
<span class="s2">tgl||tl|Tagalog|tagalog</span>
<span class="s2">tha||th|Thai|thaï</span>
<span class="s2">tib|bod|bo|Tibetan|tibétain</span>
<span class="s2">tig|||Tigre|tigré</span>
<span class="s2">tir||ti|Tigrinya|tigrigna</span>
<span class="s2">tiv|||Tiv|tiv</span>
<span class="s2">tkl|||Tokelau|tokelau</span>
<span class="s2">tlh|||Klingon; tlhIngan-Hol|klingon</span>
<span class="s2">tli|||Tlingit|tlingit</span>
<span class="s2">tmh|||Tamashek|tamacheq</span>
<span class="s2">tog|||Tonga (Nyasa)|tonga (Nyasa)</span>
<span class="s2">ton||to|Tonga (Tonga Islands)|tongan (Îles Tonga)</span>
<span class="s2">tpi|||Tok Pisin|tok pisin</span>
<span class="s2">tsi|||Tsimshian|tsimshian</span>
<span class="s2">tsn||tn|Tswana|tswana</span>
<span class="s2">tso||ts|Tsonga|tsonga</span>
<span class="s2">tuk||tk|Turkmen|turkmène</span>
<span class="s2">tum|||Tumbuka|tumbuka</span>
<span class="s2">tup|||Tupi languages|tupi, langues</span>
<span class="s2">tur||tr|Turkish|turc</span>
<span class="s2">tut|||Altaic languages|altaïques, langues</span>
<span class="s2">tvl|||Tuvalu|tuvalu</span>
<span class="s2">twi||tw|Twi|twi</span>
<span class="s2">tyv|||Tuvinian|touva</span>
<span class="s2">udm|||Udmurt|oudmourte</span>
<span class="s2">uga|||Ugaritic|ougaritique</span>
<span class="s2">uig||ug|Uighur; Uyghur|ouïgour</span>
<span class="s2">ukr||uk|Ukrainian|ukrainien</span>
<span class="s2">umb|||Umbundu|umbundu</span>
<span class="s2">und|||Undetermined|indéterminée</span>
<span class="s2">urd||ur|Urdu|ourdou</span>
<span class="s2">uzb||uz|Uzbek|ouszbek</span>
<span class="s2">vai|||Vai|vaï</span>
<span class="s2">ven||ve|Venda|venda</span>
<span class="s2">vie||vi|Vietnamese|vietnamien</span>
<span class="s2">vol||vo|Volapük|volapük</span>
<span class="s2">vot|||Votic|vote</span>
<span class="s2">wak|||Wakashan languages|wakashanes, langues</span>
<span class="s2">wal|||Walamo|walamo</span>
<span class="s2">war|||Waray|waray</span>
<span class="s2">was|||Washo|washo</span>
<span class="s2">wel|cym|cy|Welsh|gallois</span>
<span class="s2">wen|||Sorbian languages|sorabes, langues</span>
<span class="s2">wln||wa|Walloon|wallon</span>
<span class="s2">wol||wo|Wolof|wolof</span>
<span class="s2">xal|||Kalmyk; Oirat|kalmouk; oïrat</span>
<span class="s2">xho||xh|Xhosa|xhosa</span>
<span class="s2">yao|||Yao|yao</span>
<span class="s2">yap|||Yapese|yapois</span>
<span class="s2">yid||yi|Yiddish|yiddish</span>
<span class="s2">yor||yo|Yoruba|yoruba</span>
<span class="s2">ypk|||Yupik languages|yupik, langues</span>
<span class="s2">zap|||Zapotec|zapotèque</span>
<span class="s2">zbl|||Blissymbols; Blissymbolics; Bliss|symboles Bliss; Bliss</span>
<span class="s2">zen|||Zenaga|zenaga</span>
<span class="s2">zgh|||Standard Moroccan Tamazight|amazighe standard marocain</span>
<span class="s2">zha||za|Zhuang; Chuang|zhuang; chuang</span>
<span class="s2">znd|||Zande languages|zandé, langues</span>
<span class="s2">zul||zu|Zulu|zoulou</span>
<span class="s2">zun|||Zuni|zuni</span>
<span class="s2">zxx|||No linguistic content; Not applicable|pas de contenu linguistique; non applicable</span>
<span class="s2">zza|||Zaza; Dimili; Dimli; Kirdki; Kirmanjki; Zazaki|zaza; dimili; dimli; kirdki; kirmanjki; zazaki&quot;&quot;&quot;</span>

    <span class="n">NATIVE_NAMES_RAW_DATA</span> <span class="o">=</span>  <span class="p">[</span>
        <span class="p">{</span><span class="s2">&quot;code&quot;</span><span class="p">:</span><span class="s2">&quot;en&quot;</span><span class="p">,</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;English&quot;</span><span class="p">,</span><span class="s2">&quot;nativeName&quot;</span><span class="p">:</span><span class="s2">&quot;English&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;code&quot;</span><span class="p">:</span><span class="s2">&quot;fr&quot;</span><span class="p">,</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;French&quot;</span><span class="p">,</span><span class="s2">&quot;nativeName&quot;</span><span class="p">:</span><span class="s2">&quot;français&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;code&quot;</span><span class="p">:</span><span class="s2">&quot;de&quot;</span><span class="p">,</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;German&quot;</span><span class="p">,</span><span class="s2">&quot;nativeName&quot;</span><span class="p">:</span><span class="s2">&quot;Deutsch&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;code&quot;</span><span class="p">:</span><span class="s2">&quot;el&quot;</span><span class="p">,</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Greek, Modern&quot;</span><span class="p">,</span><span class="s2">&quot;nativeName&quot;</span><span class="p">:</span><span class="s2">&quot;Ελληνικά&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;code&quot;</span><span class="p">:</span><span class="s2">&quot;hu&quot;</span><span class="p">,</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Hungarian&quot;</span><span class="p">,</span><span class="s2">&quot;nativeName&quot;</span><span class="p">:</span><span class="s2">&quot;Magyar&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;code&quot;</span><span class="p">:</span><span class="s2">&quot;it&quot;</span><span class="p">,</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Italian&quot;</span><span class="p">,</span><span class="s2">&quot;nativeName&quot;</span><span class="p">:</span><span class="s2">&quot;Italiano&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;code&quot;</span><span class="p">:</span><span class="s2">&quot;no&quot;</span><span class="p">,</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Norwegian&quot;</span><span class="p">,</span><span class="s2">&quot;nativeName&quot;</span><span class="p">:</span><span class="s2">&quot;Norsk&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;code&quot;</span><span class="p">:</span><span class="s2">&quot;pl&quot;</span><span class="p">,</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Polish&quot;</span><span class="p">,</span><span class="s2">&quot;nativeName&quot;</span><span class="p">:</span><span class="s2">&quot;polski&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;code&quot;</span><span class="p">:</span><span class="s2">&quot;pt&quot;</span><span class="p">,</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Portuguese&quot;</span><span class="p">,</span><span class="s2">&quot;nativeName&quot;</span><span class="p">:</span><span class="s2">&quot;Português&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;code&quot;</span><span class="p">:</span><span class="s2">&quot;ru&quot;</span><span class="p">,</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Russian&quot;</span><span class="p">,</span><span class="s2">&quot;nativeName&quot;</span><span class="p">:</span><span class="s2">&quot;русский&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;code&quot;</span><span class="p">:</span><span class="s2">&quot;es&quot;</span><span class="p">,</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Spanish, Castilian&quot;</span><span class="p">,</span><span class="s2">&quot;nativeName&quot;</span><span class="p">:</span><span class="s2">&quot;español, castellano&quot;</span><span class="p">},</span>
        <span class="p">{</span><span class="s2">&quot;code&quot;</span><span class="p">:</span><span class="s2">&quot;sv&quot;</span><span class="p">,</span><span class="s2">&quot;name&quot;</span><span class="p">:</span><span class="s2">&quot;Swedish&quot;</span><span class="p">,</span><span class="s2">&quot;nativeName&quot;</span><span class="p">:</span><span class="s2">&quot;svenska&quot;</span><span class="p">},</span>
    <span class="p">]</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">RAW_DATA</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">):</span>
        <span class="p">(</span><span class="n">alpha_3</span><span class="p">,</span> <span class="n">terminologic_code</span><span class="p">,</span> <span class="n">alpha_2</span><span class="p">,</span> <span class="n">names</span><span class="p">,</span>
         <span class="n">french_names</span><span class="p">)</span> <span class="o">=</span> <span class="n">i</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;|&quot;</span><span class="p">)</span>
        <span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">names</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">)]</span>
        <span class="k">if</span> <span class="n">alpha_2</span><span class="p">:</span>
            <span class="n">three_to_two</span><span class="p">[</span><span class="n">alpha_3</span><span class="p">]</span> <span class="o">=</span> <span class="n">alpha_2</span>
            <span class="n">english_names</span><span class="p">[</span><span class="n">alpha_2</span><span class="p">]</span> <span class="o">=</span> <span class="n">names</span>
            <span class="n">two_to_three</span><span class="p">[</span><span class="n">alpha_2</span><span class="p">]</span> <span class="o">=</span> <span class="n">alpha_3</span>
        <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">names</span><span class="p">:</span>
            <span class="n">english_names_to_three</span><span class="p">[</span><span class="n">name</span><span class="o">.</span><span class="n">lower</span><span class="p">()]</span> <span class="o">=</span> <span class="n">alpha_3</span>
        <span class="n">english_names</span><span class="p">[</span><span class="n">alpha_3</span><span class="p">]</span> <span class="o">=</span> <span class="n">names</span>

    <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">NATIVE_NAMES_RAW_DATA</span><span class="p">:</span>
        <span class="n">alpha_2</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="s1">&#39;code&#39;</span><span class="p">]</span>
        <span class="n">alpha_3</span> <span class="o">=</span> <span class="n">two_to_three</span><span class="p">[</span><span class="n">alpha_2</span><span class="p">]</span>
        <span class="n">names</span> <span class="o">=</span> <span class="n">i</span><span class="p">[</span><span class="s1">&#39;nativeName&#39;</span><span class="p">]</span>
        <span class="n">names</span> <span class="o">=</span> <span class="p">[</span><span class="n">x</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">names</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)]</span>
        <span class="n">native_names</span><span class="p">[</span><span class="n">alpha_2</span><span class="p">]</span> <span class="o">=</span> <span class="n">names</span>
        <span class="n">native_names</span><span class="p">[</span><span class="n">alpha_3</span><span class="p">]</span> <span class="o">=</span> <span class="n">names</span>

<div class="viewcode-block" id="LanguageCodes.iso_639_2_for_locale"><a class="viewcode-back" href="../../../core.util.html#core.util.languages.LanguageCodes.iso_639_2_for_locale">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">iso_639_2_for_locale</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">locale</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Turn a locale code into an ISO-639-2 alpha-3 language code.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="s1">&#39;-&#39;</span> <span class="ow">in</span> <span class="n">locale</span><span class="p">:</span>
            <span class="n">language</span><span class="p">,</span> <span class="n">place</span> <span class="o">=</span> <span class="n">locale</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">,</span><span class="mi">1</span><span class="p">)</span>
        <span class="k">else</span><span class="p">:</span>
            <span class="n">language</span> <span class="o">=</span> <span class="n">locale</span>
        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">two_to_three</span><span class="p">[</span><span class="n">language</span><span class="p">]:</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">two_to_three</span><span class="p">[</span><span class="n">language</span><span class="p">]</span>
        <span class="k">elif</span> <span class="bp">cls</span><span class="o">.</span><span class="n">three_to_two</span><span class="p">[</span><span class="n">language</span><span class="p">]:</span>
            <span class="c1"># It&#39;s already ISO-639-2.</span>
            <span class="k">return</span> <span class="n">language</span>
        <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="LanguageCodes.string_to_alpha_3"><a class="viewcode-back" href="../../../core.util.html#core.util.languages.LanguageCodes.string_to_alpha_3">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">string_to_alpha_3</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">s</span><span class="p">):</span>
        <span class="sd">&quot;&quot;&quot;Try really hard to convert a string to an ISO-639-2 alpha-3 language code.&quot;&quot;&quot;</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">s</span><span class="p">:</span>
            <span class="k">return</span> <span class="kc">None</span>
        <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
        <span class="k">if</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">english_names_to_three</span><span class="p">:</span>
            <span class="c1"># It&#39;s the English name of a language.</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">english_names_to_three</span><span class="p">[</span><span class="n">s</span><span class="p">]</span>

        <span class="k">if</span> <span class="s2">&quot;-&quot;</span> <span class="ow">in</span> <span class="n">s</span><span class="p">:</span>
            <span class="n">s</span> <span class="o">=</span> <span class="n">s</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;-&quot;</span><span class="p">)[</span><span class="mi">0</span><span class="p">]</span>

        <span class="k">if</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">three_to_two</span><span class="p">:</span>
            <span class="c1"># It&#39;s already an alpha-3.</span>
            <span class="k">return</span> <span class="n">s</span>
        <span class="k">elif</span> <span class="n">s</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">two_to_three</span><span class="p">:</span>
            <span class="c1"># It&#39;s an alpha-2.</span>
            <span class="k">return</span> <span class="bp">cls</span><span class="o">.</span><span class="n">two_to_three</span><span class="p">[</span><span class="n">s</span><span class="p">]</span>

        <span class="k">return</span> <span class="kc">None</span></div>

<div class="viewcode-block" id="LanguageCodes.name_for_languageset"><a class="viewcode-back" href="../../../core.util.html#core.util.languages.LanguageCodes.name_for_languageset">[docs]</a>    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">name_for_languageset</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">languages</span><span class="p">):</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">languages</span><span class="p">,</span> <span class="nb">str</span><span class="p">):</span>
            <span class="n">languages</span> <span class="o">=</span> <span class="n">languages</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;,&quot;</span><span class="p">)</span>
        <span class="n">all_names</span> <span class="o">=</span> <span class="p">[]</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">languages</span><span class="p">:</span>
            <span class="k">return</span> <span class="s2">&quot;&quot;</span>
        <span class="k">for</span> <span class="n">l</span> <span class="ow">in</span> <span class="n">languages</span><span class="p">:</span>
            <span class="n">normalized</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">string_to_alpha_3</span><span class="p">(</span><span class="n">l</span><span class="p">)</span>
            <span class="n">native_names</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">native_names</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">normalized</span><span class="p">,</span> <span class="p">[])</span>
            <span class="k">if</span> <span class="n">native_names</span><span class="p">:</span>
                <span class="n">all_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">native_names</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
            <span class="k">else</span><span class="p">:</span>
                <span class="n">names</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">english_names</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">normalized</span><span class="p">,</span> <span class="p">[])</span>
                <span class="k">if</span> <span class="ow">not</span> <span class="n">names</span><span class="p">:</span>
                    <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;No native or English name for </span><span class="si">%s</span><span class="s2">&quot;</span> <span class="o">%</span> <span class="n">l</span><span class="p">)</span>
                <span class="n">all_names</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">names</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">all_names</span><span class="p">)</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
            <span class="k">return</span> <span class="n">all_names</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
        <span class="k">return</span> <span class="s2">&quot;/&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">all_names</span><span class="p">)</span></div></div>


<div class="viewcode-block" id="LanguageNames"><a class="viewcode-back" href="../../../core.util.html#core.util.languages.LanguageNames">[docs]</a><span class="k">class</span> <span class="nc">LanguageNames</span><span class="p">(</span><span class="nb">object</span><span class="p">):</span>
    <span class="sd">&quot;&quot;&quot;Utilities for converting between human-readable language names and codes.</span>

<span class="sd">    LanguageNames.name_re is a regular expression that matches the</span>
<span class="sd">    English or native-language name of nearly any language known to</span>
<span class="sd">    LanguageCodes.</span>

<span class="sd">    LanguageNames.name_to_codes is a dictionary mapping lowercase</span>
<span class="sd">    human-readable names to ISO-639-2 language codes.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">irrelevant_suffixes</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot; languages&quot;</span><span class="p">]</span>

    <span class="n">ignore</span> <span class="o">=</span> <span class="nb">set</span><span class="p">([</span><span class="s1">&#39;No linguistic content&#39;</span><span class="p">,</span> <span class="s1">&#39;Not applicable&#39;</span><span class="p">,</span> <span class="s1">&#39;Uncoded&#39;</span><span class="p">])</span>

    <span class="n">number</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;[0-9]&quot;</span><span class="p">)</span>
    <span class="n">parentheses</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span><span class="s2">&quot;\([^)]+\)&quot;</span><span class="p">)</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_process</span><span class="p">(</span><span class="bp">cls</span><span class="p">,</span> <span class="n">human_readable_name</span><span class="p">,</span> <span class="n">alpha</span><span class="p">):</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">alpha</span> <span class="ow">or</span> <span class="n">human_readable_name</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">ignore</span><span class="p">:</span>
            <span class="c1"># Some names should be ignored altogether.</span>
            <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="bp">cls</span><span class="o">.</span><span class="n">number</span><span class="o">.</span><span class="n">search</span><span class="p">(</span><span class="n">human_readable_name</span><span class="p">):</span>
            <span class="c1"># This language is associated with a historical period.</span>
            <span class="c1"># For now, just ignore it -- books generally aren&#39;t</span>
            <span class="c1"># classified under these languages and people generally</span>
            <span class="c1"># won&#39;t type in those specific dates.</span>
            <span class="k">return</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>

        <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">alpha</span><span class="p">)</span> <span class="o">==</span> <span class="mi">2</span><span class="p">:</span>
            <span class="n">alpha</span> <span class="o">=</span> <span class="n">LanguageCodes</span><span class="o">.</span><span class="n">two_to_three</span><span class="p">[</span><span class="n">alpha</span><span class="p">]</span>

        <span class="c1"># Remove parentheses, e.g. turning &quot;Bantu (Other)&quot; into &quot;Bantu&quot;</span>
        <span class="n">human_readable_name</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">parentheses</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s2">&quot;&quot;</span><span class="p">,</span> <span class="n">human_readable_name</span><span class="p">)</span>

        <span class="k">for</span> <span class="n">suffix</span> <span class="ow">in</span> <span class="bp">cls</span><span class="o">.</span><span class="n">irrelevant_suffixes</span><span class="p">:</span>
            <span class="c1"># Some suffixes are not relevant for our purposes.</span>
            <span class="c1"># For instance, &quot;Himachali languages&quot; is best handled</span>
            <span class="c1"># as &quot;Himachali&quot;.</span>
            <span class="k">if</span> <span class="n">human_readable_name</span><span class="o">.</span><span class="n">endswith</span><span class="p">(</span><span class="n">suffix</span><span class="p">):</span>
                <span class="n">human_readable_name</span> <span class="o">=</span> <span class="n">human_readable_name</span><span class="p">[:</span><span class="o">-</span><span class="nb">len</span><span class="p">(</span><span class="n">suffix</span><span class="p">)]</span>
        <span class="k">return</span> <span class="n">human_readable_name</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">lower</span><span class="p">(),</span> <span class="n">alpha</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_build_name_to_codes</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="n">name_to_codes</span> <span class="o">=</span> <span class="n">defaultdict</span><span class="p">(</span><span class="nb">set</span><span class="p">)</span>

        <span class="k">def</span> <span class="nf">add</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">alpha</span><span class="p">):</span>
            <span class="sd">&quot;&quot;&quot;Helper to add a language to name_to_codes.&quot;&quot;&quot;</span>
            <span class="n">name</span><span class="p">,</span> <span class="n">alpha</span> <span class="o">=</span> <span class="bp">cls</span><span class="o">.</span><span class="n">_process</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">alpha</span><span class="p">)</span>
            <span class="k">if</span> <span class="n">name</span><span class="p">:</span>
                <span class="n">name_to_codes</span><span class="p">[</span><span class="n">name</span><span class="p">]</span><span class="o">.</span><span class="n">add</span><span class="p">(</span><span class="n">alpha</span><span class="p">)</span>

        <span class="c1"># Process the English-language names found in the ISO spec.</span>
        <span class="k">for</span> <span class="n">alpha</span><span class="p">,</span> <span class="n">name_list</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">(</span><span class="n">LanguageCodes</span><span class="o">.</span><span class="n">english_names</span><span class="o">.</span><span class="n">items</span><span class="p">()):</span>
            <span class="k">for</span> <span class="n">names</span> <span class="ow">in</span> <span class="n">name_list</span><span class="p">:</span>
                <span class="k">for</span> <span class="n">name</span> <span class="ow">in</span> <span class="n">names</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;;&quot;</span><span class="p">):</span>
                    <span class="n">add</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">alpha</span><span class="p">)</span>

        <span class="c1"># Add a couple of languages that were incorrectly excluded by the</span>
        <span class="c1"># &quot;no dates&quot; rule.</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">alpha</span> <span class="ow">in</span> <span class="p">(</span>
            <span class="p">(</span><span class="s1">&#39;greek&#39;</span><span class="p">,</span> <span class="s1">&#39;el&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;occitan&#39;</span><span class="p">,</span> <span class="s1">&#39;oc&#39;</span><span class="p">)</span>
        <span class="p">):</span>
            <span class="n">add</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">alpha</span><span class="p">)</span>

        <span class="c1"># Process the native-language names found in NATIVE_NAMES_RAW_DATA.</span>
        <span class="k">for</span> <span class="n">item</span> <span class="ow">in</span> <span class="n">LanguageCodes</span><span class="o">.</span><span class="n">NATIVE_NAMES_RAW_DATA</span><span class="p">:</span>
            <span class="n">add</span><span class="p">(</span><span class="n">item</span><span class="p">[</span><span class="s1">&#39;nativeName&#39;</span><span class="p">],</span> <span class="n">item</span><span class="p">[</span><span class="s1">&#39;code&#39;</span><span class="p">])</span>

        <span class="c1"># Add native-language names without diacritics, for people who</span>
        <span class="c1"># are typing on an English-language keyboard.</span>
        <span class="k">for</span> <span class="n">name</span><span class="p">,</span> <span class="n">alpha</span> <span class="ow">in</span> <span class="p">(</span>
            <span class="p">(</span><span class="s1">&#39;francais&#39;</span><span class="p">,</span> <span class="s1">&#39;fr&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;espanol&#39;</span><span class="p">,</span> <span class="s1">&#39;es&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;portugues&#39;</span><span class="p">,</span> <span class="s1">&#39;pt&#39;</span><span class="p">),</span>
            <span class="p">(</span><span class="s1">&#39;castellano&#39;</span><span class="p">,</span> <span class="s1">&#39;es&#39;</span><span class="p">),</span>
        <span class="p">):</span>
            <span class="n">add</span><span class="p">(</span><span class="n">name</span><span class="p">,</span> <span class="n">alpha</span><span class="p">)</span>
        <span class="k">return</span> <span class="n">name_to_codes</span>

    <span class="nd">@classmethod</span>
    <span class="k">def</span> <span class="nf">_build_name_re</span><span class="p">(</span><span class="bp">cls</span><span class="p">):</span>
        <span class="k">return</span> <span class="n">re</span><span class="o">.</span><span class="n">compile</span><span class="p">(</span>
            <span class="sa">r</span><span class="s2">&quot;(\b</span><span class="si">%s</span><span class="s2">\b)&quot;</span> <span class="o">%</span>
            <span class="sa">r</span><span class="s2">&quot;\b|\b&quot;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="bp">cls</span><span class="o">.</span><span class="n">name_to_codes</span><span class="o">.</span><span class="n">keys</span><span class="p">())),</span>
            <span class="n">re</span><span class="o">.</span><span class="n">I</span>
        <span class="p">)</span></div>

<span class="c1"># Instantiate the class variables.</span>
<span class="n">LanguageNames</span><span class="o">.</span><span class="n">name_to_codes</span> <span class="o">=</span> <span class="n">LanguageNames</span><span class="o">.</span><span class="n">_build_name_to_codes</span><span class="p">()</span>
<span class="n">LanguageNames</span><span class="o">.</span><span class="n">name_re</span> <span class="o">=</span> <span class="n">LanguageNames</span><span class="o">.</span><span class="n">_build_name_re</span><span class="p">()</span>
</pre></div>

          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">Library Simplified Circulation Manager</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../modules.html">circulation</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  <li><a href="../../index.html">Module code</a><ul>
  <li><a href="../util.html">core.util</a><ul>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, The New York Public Library, Astor, Lenox, and Tilden Foundations.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.0.0b1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>