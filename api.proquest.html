
<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>api.proquest package &#8212; Library Simplified Circulation Manager  documentation</title>
    <link rel="stylesheet" type="text/css" href="_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="_static/alabaster.css" />
    <script data-url_root="./" id="documentation_options" src="_static/documentation_options.js"></script>
    <script src="_static/jquery.js"></script>
    <script src="_static/underscore.js"></script>
    <script src="_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="_static/doctools.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="api.saml package" href="api.saml.html" />
    <link rel="prev" title="api.lcp package" href="api.lcp.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="api-proquest-package">
<h1>api.proquest package<a class="headerlink" href="#api-proquest-package" title="Permalink to this heading">¶</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading">¶</a></h2>
</section>
<section id="module-api.proquest.client">
<span id="api-proquest-client-module"></span><h2>api.proquest.client module<a class="headerlink" href="#module-api.proquest.client" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.proquest.client.ProQuestAPIClient">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.proquest.client.</span></span><span class="sig-name descname"><span class="pre">ProQuestAPIClient</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">configuration_storage</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">configuration_factory</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/client.html#ProQuestAPIClient"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.client.ProQuestAPIClient" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>ProQuest API client.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.proquest.client.ProQuestAPIClient.DOWNLOAD_LINK_FIELD">
<span class="sig-name descname"><span class="pre">DOWNLOAD_LINK_FIELD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'downloadLink'</span></em><a class="headerlink" href="#api.proquest.client.ProQuestAPIClient.DOWNLOAD_LINK_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.proquest.client.ProQuestAPIClient.DRM_FREE_DOWNLOAD_LINK_KEYWORD">
<span class="sig-name descname"><span class="pre">DRM_FREE_DOWNLOAD_LINK_KEYWORD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'getDrmFreeFile'</span></em><a class="headerlink" href="#api.proquest.client.ProQuestAPIClient.DRM_FREE_DOWNLOAD_LINK_KEYWORD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.proquest.client.ProQuestAPIClient.MAX_PAGE_INDEX">
<span class="sig-name descname"><span class="pre">MAX_PAGE_INDEX</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">32766</span></em><a class="headerlink" href="#api.proquest.client.ProQuestAPIClient.MAX_PAGE_INDEX" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.proquest.client.ProQuestAPIClient.MAX_PAGE_SIZE">
<span class="sig-name descname"><span class="pre">MAX_PAGE_SIZE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">32766</span></em><a class="headerlink" href="#api.proquest.client.ProQuestAPIClient.MAX_PAGE_SIZE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.proquest.client.ProQuestAPIClient.RESPONSE_OPDS_FEED_FIELD">
<span class="sig-name descname"><span class="pre">RESPONSE_OPDS_FEED_FIELD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'opdsFeed'</span></em><a class="headerlink" href="#api.proquest.client.ProQuestAPIClient.RESPONSE_OPDS_FEED_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.proquest.client.ProQuestAPIClient.RESPONSE_STATUS_CODE_FIELD">
<span class="sig-name descname"><span class="pre">RESPONSE_STATUS_CODE_FIELD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'statusCode'</span></em><a class="headerlink" href="#api.proquest.client.ProQuestAPIClient.RESPONSE_STATUS_CODE_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.proquest.client.ProQuestAPIClient.SUCCESS_STATUS_CODE">
<span class="sig-name descname"><span class="pre">SUCCESS_STATUS_CODE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">200</span></em><a class="headerlink" href="#api.proquest.client.ProQuestAPIClient.SUCCESS_STATUS_CODE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.proquest.client.ProQuestAPIClient.TOKEN_FIELD">
<span class="sig-name descname"><span class="pre">TOKEN_FIELD</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'token'</span></em><a class="headerlink" href="#api.proquest.client.ProQuestAPIClient.TOKEN_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.proquest.client.ProQuestAPIClient.create_token">
<span class="sig-name descname"><span class="pre">create_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affiliation_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/client.html#ProQuestAPIClient.create_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.client.ProQuestAPIClient.create_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new JWT bearer token.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> (<em>sqlalchemy.orm.session.Session</em>) – Database session</p></li>
<li><p><strong>affiliation_id</strong> (<em>str</em>) – SAML affiliation ID used as a patron’s unique identifier by ProQuest</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>New JWT bearer token</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>str</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.proquest.client.ProQuestAPIClient.download_all_feed_pages">
<span class="sig-name descname"><span class="pre">download_all_feed_pages</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/client.html#ProQuestAPIClient.download_all_feed_pages"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.client.ProQuestAPIClient.download_all_feed_pages" title="Permalink to this definition">¶</a></dt>
<dd><p>Download all available feed pages.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>db</strong> (<em>sqlalchemy.orm.session.Session</em>) – Database session</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Iterable list of feed pages in a form of Python dictionaries</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Iterable[dict]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.proquest.client.ProQuestAPIClient.download_feed_page">
<span class="sig-name descname"><span class="pre">download_feed_page</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">page</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">hits_per_page</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/client.html#ProQuestAPIClient.download_feed_page"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.client.ProQuestAPIClient.download_feed_page" title="Permalink to this definition">¶</a></dt>
<dd><p>Download a single page of a paginated OPDS 2.0 feed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> (<em>sqlalchemy.orm.session.Session</em>) – Database session</p></li>
<li><p><strong>page</strong> (<em>int</em>) – Page index (max = 32,766)</p></li>
<li><p><strong>hits_per_page</strong> (<em>int</em>) – Number of publications on a single page (max = 32,766)</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Python dictionary object containing the feed’s page</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>dict</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.proquest.client.ProQuestAPIClient.get_book">
<span class="sig-name descname"><span class="pre">get_book</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">token</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">document_id</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/client.html#ProQuestAPIClient.get_book"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.client.ProQuestAPIClient.get_book" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a book by it’s ProQuest Doc ID.</p>
<p>NOTE: There are two different cases to consider:
- Open-access books: in this case ProQuest API returns the book content.
- Adobe DRM copy protected books: in this case ProQuest API returns an ACSM file containing
information about downloading a digital publication.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> (<em>sqlalchemy.orm.session.Session</em>) – Database session</p></li>
<li><p><strong>token</strong> (<em>str</em>) – JWT bearer token created using <cite>ProQuestAPIClient.create_token</cite> method</p></li>
<li><p><strong>document_id</strong> (<em>str</em>) – ProQuest Doc ID</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Book instance containing either an ACS link to the book or the book content</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#api.proquest.client.ProQuestBook" title="api.proquest.client.ProQuestBook">ProQuestBook</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.proquest.client.ProQuestAPIClientConfiguration">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.proquest.client.</span></span><span class="sig-name descname"><span class="pre">ProQuestAPIClientConfiguration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">configuration_storage</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/client.html#ProQuestAPIClientConfiguration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.client.ProQuestAPIClientConfiguration" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.model.html#core.model.configuration.ConfigurationGrouping" title="core.model.configuration.ConfigurationGrouping"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConfigurationGrouping</span></code></a></p>
<p>Contains configuration settings of ProQuest API client.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.proquest.client.ProQuestAPIClientConfiguration.DEFAULT_PAGE_SIZE">
<span class="sig-name descname"><span class="pre">DEFAULT_PAGE_SIZE</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">5000</span></em><a class="headerlink" href="#api.proquest.client.ProQuestAPIClientConfiguration.DEFAULT_PAGE_SIZE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.proquest.client.ProQuestAPIClientConfiguration.books_catalog_service_url">
<span class="sig-name descname"><span class="pre">books_catalog_service_url</span></span><a class="headerlink" href="#api.proquest.client.ProQuestAPIClientConfiguration.books_catalog_service_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains configuration metadata</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.proquest.client.ProQuestAPIClientConfiguration.download_link_service_url">
<span class="sig-name descname"><span class="pre">download_link_service_url</span></span><a class="headerlink" href="#api.proquest.client.ProQuestAPIClientConfiguration.download_link_service_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains configuration metadata</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.proquest.client.ProQuestAPIClientConfiguration.http_proxy_url">
<span class="sig-name descname"><span class="pre">http_proxy_url</span></span><a class="headerlink" href="#api.proquest.client.ProQuestAPIClientConfiguration.http_proxy_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains configuration metadata</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.proquest.client.ProQuestAPIClientConfiguration.https_proxy_url">
<span class="sig-name descname"><span class="pre">https_proxy_url</span></span><a class="headerlink" href="#api.proquest.client.ProQuestAPIClientConfiguration.https_proxy_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains configuration metadata</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.proquest.client.ProQuestAPIClientConfiguration.page_size">
<span class="sig-name descname"><span class="pre">page_size</span></span><a class="headerlink" href="#api.proquest.client.ProQuestAPIClientConfiguration.page_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains configuration metadata</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.proquest.client.ProQuestAPIClientConfiguration.partner_auth_token_service_url">
<span class="sig-name descname"><span class="pre">partner_auth_token_service_url</span></span><a class="headerlink" href="#api.proquest.client.ProQuestAPIClientConfiguration.partner_auth_token_service_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains configuration metadata</p>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.proquest.client.ProQuestAPIClientFactory">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.proquest.client.</span></span><span class="sig-name descname"><span class="pre">ProQuestAPIClientFactory</span></span><a class="reference internal" href="_modules/api/proquest/client.html#ProQuestAPIClientFactory"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.client.ProQuestAPIClientFactory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Factory used for creating ProQuestAPIClient instances.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.proquest.client.ProQuestAPIClientFactory.create">
<span class="sig-name descname"><span class="pre">create</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">integration_association</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/client.html#ProQuestAPIClientFactory.create"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.client.ProQuestAPIClientFactory.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new instance of ProQuestAPIClientFactory.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>integration_association</strong> (<a class="reference internal" href="core.model.html#core.model.configuration.HasExternalIntegration" title="core.model.configuration.HasExternalIntegration"><em>core.model.configuration.HasExternalIntegration</em></a>) – Association with an external integration</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>New instance of ProQuestAPIClient</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="#api.proquest.client.ProQuestAPIClient" title="api.proquest.client.ProQuestAPIClient">ProQuestAPIClient</a></p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.proquest.client.ProQuestAPIInvalidJSONResponseError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.proquest.client.</span></span><span class="sig-name descname"><span class="pre">ProQuestAPIInvalidJSONResponseError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/client.html#ProQuestAPIInvalidJSONResponseError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.client.ProQuestAPIInvalidJSONResponseError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.exceptions.BaseError" title="core.exceptions.BaseError"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseError</span></code></a></p>
<p>Raised when the client receives from ProQuest API a response with incorrect JSON document.</p>
<dl class="py property">
<dt class="sig sig-object py" id="api.proquest.client.ProQuestAPIInvalidJSONResponseError.response">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">response</span></span><a class="headerlink" href="#api.proquest.client.ProQuestAPIInvalidJSONResponseError.response" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the response associated with this error.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Response associated with this error</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>requests.models.Response</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py exception">
<dt class="sig sig-object py" id="api.proquest.client.ProQuestAPIMissingJSONPropertyError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.proquest.client.</span></span><span class="sig-name descname"><span class="pre">ProQuestAPIMissingJSONPropertyError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">response</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">missing_property</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/client.html#ProQuestAPIMissingJSONPropertyError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.client.ProQuestAPIMissingJSONPropertyError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.proquest.client.ProQuestAPIInvalidJSONResponseError" title="api.proquest.client.ProQuestAPIInvalidJSONResponseError"><code class="xref py py-class docutils literal notranslate"><span class="pre">ProQuestAPIInvalidJSONResponseError</span></code></a></p>
<p>Raised when the client receives from ProQuest API a response with incorrect JSON document.</p>
<dl class="py property">
<dt class="sig sig-object py" id="api.proquest.client.ProQuestAPIMissingJSONPropertyError.missing_property">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">missing_property</span></span><a class="headerlink" href="#api.proquest.client.ProQuestAPIMissingJSONPropertyError.missing_property" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the name of the missing property.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Name of the missing property</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>str</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.proquest.client.ProQuestBook">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.proquest.client.</span></span><span class="sig-name descname"><span class="pre">ProQuestBook</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">link</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content_type</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/client.html#ProQuestBook"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.client.ProQuestBook" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>POCO class containing information about a ProQuest book.</p>
<dl class="py property">
<dt class="sig sig-object py" id="api.proquest.client.ProQuestBook.content">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">content</span></span><a class="headerlink" href="#api.proquest.client.ProQuestBook.content" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the book’s content.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Book’s content</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Optional[Union[str, bytes]]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.proquest.client.ProQuestBook.content_type">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">content_type</span></span><a class="headerlink" href="#api.proquest.client.ProQuestBook.content_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the content type.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Content type</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Optional[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py property">
<dt class="sig sig-object py" id="api.proquest.client.ProQuestBook.link">
<em class="property"><span class="pre">property</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">link</span></span><a class="headerlink" href="#api.proquest.client.ProQuestBook.link" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the book’s link.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>Book’s link</p>
</dd>
<dt class="field-even">Return type<span class="colon">:</span></dt>
<dd class="field-even"><p>Optional[str]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-api.proquest.credential">
<span id="api-proquest-credential-module"></span><h2>api.proquest.credential module<a class="headerlink" href="#module-api.proquest.credential" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.proquest.credential.ProQuestCredentialManager">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.proquest.credential.</span></span><span class="sig-name descname"><span class="pre">ProQuestCredentialManager</span></span><a class="reference internal" href="_modules/api/proquest/credential.html#ProQuestCredentialManager"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.credential.ProQuestCredentialManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Manages ProQuest credentials.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.proquest.credential.ProQuestCredentialManager.lookup_patron_affiliation_id">
<span class="sig-name descname"><span class="pre">lookup_patron_affiliation_id</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">affiliation_attributes</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">('eduPersonPrincipalName',</span> <span class="pre">'eduPersonScopedAffiliation')</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/credential.html#ProQuestCredentialManager.lookup_patron_affiliation_id"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.credential.ProQuestCredentialManager.lookup_patron_affiliation_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up for patron’s SAML affiliation ID.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> (<em>sqlalchemy.orm.session.Session</em>) – Database session</p></li>
<li><p><strong>patron</strong> (<a class="reference internal" href="core.model.html#core.model.patron.Patron" title="core.model.patron.Patron"><em>core.model.patron.Patron</em></a>) – Patron object</p></li>
<li><p><strong>affiliation_attributes</strong> (<em>Tuple</em>) – SAML attributes containing an affiliation ID</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Patron’s SAML affiliation ID (if any)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.proquest.credential.ProQuestCredentialManager.lookup_proquest_token">
<span class="sig-name descname"><span class="pre">lookup_proquest_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patron</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/credential.html#ProQuestCredentialManager.lookup_proquest_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.credential.ProQuestCredentialManager.lookup_proquest_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up for a JWT bearer token used required to use ProQuest API.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> (<em>sqlalchemy.orm.session.Session</em>) – Database session</p></li>
<li><p><strong>patron</strong> (<a class="reference internal" href="core.model.html#core.model.patron.Patron" title="core.model.patron.Patron"><em>core.model.patron.Patron</em></a>) – Patron object</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Credential object containing the existing ProQuest JWT bearer token (if any)</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[<a class="reference internal" href="core.model.html#core.model.credential.Credential" title="core.model.credential.Credential">core.model.credential.Credential</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.proquest.credential.ProQuestCredentialManager.save_proquest_token">
<span class="sig-name descname"><span class="pre">save_proquest_token</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">duration</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">token</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/credential.html#ProQuestCredentialManager.save_proquest_token"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.credential.ProQuestCredentialManager.save_proquest_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a ProQuest JWT bearer token for later use.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> (<em>sqlalchemy.orm.session.Session</em>) – Database session</p></li>
<li><p><strong>patron</strong> (<a class="reference internal" href="core.model.html#core.model.patron.Patron" title="core.model.patron.Patron"><em>core.model.patron.Patron</em></a>) – Patron object</p></li>
<li><p><strong>duration</strong> (<em>datetime.timedelta</em>) – How long this token can be valid</p></li>
<li><p><strong>token</strong> (<em>str</em>) – ProQuest JWT bearer token</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Credential object containing a new ProQuest JWT bearer token</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[<a class="reference internal" href="core.model.html#core.model.credential.Credential" title="core.model.credential.Credential">core.model.credential.Credential</a>]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.proquest.credential.ProQuestCredentialType">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.proquest.credential.</span></span><span class="sig-name descname"><span class="pre">ProQuestCredentialType</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">value</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/credential.html#ProQuestCredentialType"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.credential.ProQuestCredentialType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">Enum</span></code></p>
<p>Contains an enumeration of different ProQuest credential types</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.proquest.credential.ProQuestCredentialType.PROQUEST_JWT_TOKEN">
<span class="sig-name descname"><span class="pre">PROQUEST_JWT_TOKEN</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'ProQuest</span> <span class="pre">JWT</span> <span class="pre">Token'</span></em><a class="headerlink" href="#api.proquest.credential.ProQuestCredentialType.PROQUEST_JWT_TOKEN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-api.proquest.identifier">
<span id="api-proquest-identifier-module"></span><h2>api.proquest.identifier module<a class="headerlink" href="#module-api.proquest.identifier" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.proquest.identifier.ProQuestIdentifierParser">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.proquest.identifier.</span></span><span class="sig-name descname"><span class="pre">ProQuestIdentifierParser</span></span><a class="reference internal" href="_modules/api/proquest/identifier.html#ProQuestIdentifierParser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.identifier.ProQuestIdentifierParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.model.html#core.model.identifier.IdentifierParser" title="core.model.identifier.IdentifierParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">IdentifierParser</span></code></a></p>
<p>Parser for ProQuest Doc IDs.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.proquest.identifier.ProQuestIdentifierParser.PROQUEST_ID_REGEX">
<span class="sig-name descname"><span class="pre">PROQUEST_ID_REGEX</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">re.compile('urn:proquest.com/document-id/(\\d+)')</span></em><a class="headerlink" href="#api.proquest.identifier.ProQuestIdentifierParser.PROQUEST_ID_REGEX" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.proquest.identifier.ProQuestIdentifierParser.parse">
<span class="sig-name descname"><span class="pre">parse</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">identifier_string</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/identifier.html#ProQuestIdentifierParser.parse"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.identifier.ProQuestIdentifierParser.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse a string containing an identifier, extract it and determine its type.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>identifier_string</strong> (<em>str</em>) – String containing an identifier</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>2-tuple containing the identifier’s type and identifier itself or None
if the string contains an incorrect identifier</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>Optional[Tuple[str, str]]</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-api.proquest.importer">
<span id="api-proquest-importer-module"></span><h2>api.proquest.importer module<a class="headerlink" href="#module-api.proquest.importer" title="Permalink to this heading">¶</a></h2>
<dl class="py exception">
<dt class="sig sig-object py" id="api.proquest.importer.CannotCreateProQuestTokenError">
<em class="property"><span class="pre">exception</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.proquest.importer.</span></span><span class="sig-name descname"><span class="pre">CannotCreateProQuestTokenError</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">inner_exception</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/importer.html#CannotCreateProQuestTokenError"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.importer.CannotCreateProQuestTokenError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.exceptions.BaseError" title="core.exceptions.BaseError"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseError</span></code></a></p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.proquest.importer.ProQuestOPDS2ImportMonitor">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.proquest.importer.</span></span><span class="sig-name descname"><span class="pre">ProQuestOPDS2ImportMonitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">client_factory</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">import_class</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force_reimport</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">process_removals</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">False</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">import_class_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/importer.html#ProQuestOPDS2ImportMonitor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2ImportMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.opds2_import.OPDS2ImportMonitor" title="core.opds2_import.OPDS2ImportMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">OPDS2ImportMonitor</span></code></a>, <a class="reference internal" href="core.model.html#core.model.configuration.HasExternalIntegration" title="core.model.configuration.HasExternalIntegration"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasExternalIntegration</span></code></a></p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.proquest.importer.ProQuestOPDS2ImportMonitor.PROTOCOL">
<span class="sig-name descname"><span class="pre">PROTOCOL</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'ProQuest'</span></em><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2ImportMonitor.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.proquest.importer.ProQuestOPDS2ImportMonitor.run_once">
<span class="sig-name descname"><span class="pre">run_once</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">progress_ignore</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/importer.html#ProQuestOPDS2ImportMonitor.run_once"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2ImportMonitor.run_once" title="Permalink to this definition">¶</a></dt>
<dd><p>Do the actual work of the Monitor.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>progress</strong> – A TimestampData representing the
work done by the Monitor up to this point.</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>A TimestampData representing how you want the
Monitor’s entry in the <cite>timestamps</cite> table to look like
from this point on.  NOTE: Modifying the incoming
<cite>progress</cite> and returning it is generally a bad idea,
because the incoming <cite>progress</cite> is full of old
data. Instead, return a new TimestampData containing data
for only the fields you want to set.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.proquest.importer.ProQuestOPDS2Importer">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.proquest.importer.</span></span><span class="sig-name descname"><span class="pre">ProQuestOPDS2Importer</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">data_source_name</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier_mapping</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">http_get</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">metadata_client</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">content_modifier</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">map_from_collection</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">mirrors</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/importer.html#ProQuestOPDS2Importer"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2Importer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.opds2_import.OPDS2Importer" title="core.opds2_import.OPDS2Importer"><code class="xref py py-class docutils literal notranslate"><span class="pre">OPDS2Importer</span></code></a>, <a class="reference internal" href="api.html#api.circulation.BaseCirculationAPI" title="api.circulation.BaseCirculationAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">BaseCirculationAPI</span></code></a>, <a class="reference internal" href="core.model.html#core.model.configuration.HasExternalIntegration" title="core.model.configuration.HasExternalIntegration"><code class="xref py py-class docutils literal notranslate"><span class="pre">HasExternalIntegration</span></code></a></p>
<p>Allows to import ProQuest OPDS 2.0 feeds into Circulation Manager.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.proquest.importer.ProQuestOPDS2Importer.DESCRIPTION">
<span class="sig-name descname"><span class="pre">DESCRIPTION</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">l'Import</span> <span class="pre">books</span> <span class="pre">from</span> <span class="pre">a</span> <span class="pre">ProQuest</span> <span class="pre">OPDS</span> <span class="pre">2.0</span> <span class="pre">feed.'</span></em><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2Importer.DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.proquest.importer.ProQuestOPDS2Importer.LIBRARY_SETTINGS">
<span class="sig-name descname"><span class="pre">LIBRARY_SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'ebook_loan_duration',</span> <span class="pre">'label':</span> <span class="pre">l'Default</span> <span class="pre">Loan</span> <span class="pre">Period</span> <span class="pre">(in</span> <span class="pre">Days)',</span> <span class="pre">'default':</span> <span class="pre">21,</span> <span class="pre">'type':</span> <span class="pre">'number',</span> <span class="pre">'description':</span> <span class="pre">l'Until</span> <span class="pre">it</span> <span class="pre">hears</span> <span class="pre">otherwise</span> <span class="pre">from</span> <span class="pre">the</span> <span class="pre">distributor,</span> <span class="pre">this</span> <span class="pre">server</span> <span class="pre">will</span> <span class="pre">assume</span> <span class="pre">that</span> <span class="pre">any</span> <span class="pre">given</span> <span class="pre">loan</span> <span class="pre">for</span> <span class="pre">this</span> <span class="pre">library</span> <span class="pre">from</span> <span class="pre">this</span> <span class="pre">collection</span> <span class="pre">will</span> <span class="pre">last</span> <span class="pre">this</span> <span class="pre">number</span> <span class="pre">of</span> <span class="pre">days.</span> <span class="pre">This</span> <span class="pre">number</span> <span class="pre">is</span> <span class="pre">usually</span> <span class="pre">a</span> <span class="pre">negotiated</span> <span class="pre">value</span> <span class="pre">between</span> <span class="pre">the</span> <span class="pre">library</span> <span class="pre">and</span> <span class="pre">the</span> <span class="pre">distributor.</span> <span class="pre">This</span> <span class="pre">only</span> <span class="pre">affects</span> <span class="pre">estimates&amp;mdash;it</span> <span class="pre">cannot</span> <span class="pre">affect</span> <span class="pre">the</span> <span class="pre">actual</span> <span class="pre">length</span> <span class="pre">of</span> <span class="pre">loans.'}]</span></em><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2Importer.LIBRARY_SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.proquest.importer.ProQuestOPDS2Importer.NAME">
<span class="sig-name descname"><span class="pre">NAME</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">'ProQuest'</span></em><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2Importer.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.proquest.importer.ProQuestOPDS2Importer.SETTINGS">
<span class="sig-name descname"><span class="pre">SETTINGS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">[{'key':</span> <span class="pre">'data_source',</span> <span class="pre">'label':</span> <span class="pre">l'Data</span> <span class="pre">source</span> <span class="pre">name',</span> <span class="pre">'description':</span> <span class="pre">l'Name</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">data</span> <span class="pre">source</span> <span class="pre">associated</span> <span class="pre">with</span> <span class="pre">this</span> <span class="pre">collection.',</span> <span class="pre">'type':</span> <span class="pre">None,</span> <span class="pre">'required':</span> <span class="pre">True,</span> <span class="pre">'default':</span> <span class="pre">'ProQuest',</span> <span class="pre">'options':</span> <span class="pre">None,</span> <span class="pre">'category':</span> <span class="pre">None},</span> <span class="pre">{'key':</span> <span class="pre">'token_expiration_timeout',</span> <span class="pre">'label':</span> <span class="pre">l'ProQuest</span> <span class="pre">JWT</span> <span class="pre">token's</span> <span class="pre">expiration</span> <span class="pre">timeout',</span> <span class="pre">'description':</span> <span class="pre">l'Determines</span> <span class="pre">how</span> <span class="pre">long</span> <span class="pre">in</span> <span class="pre">seconds</span> <span class="pre">can</span> <span class="pre">a</span> <span class="pre">ProQuest</span> <span class="pre">JWT</span> <span class="pre">token</span> <span class="pre">be</span> <span class="pre">valid.',</span> <span class="pre">'type':</span> <span class="pre">'number',</span> <span class="pre">'required':</span> <span class="pre">False,</span> <span class="pre">'default':</span> <span class="pre">3600,</span> <span class="pre">'options':</span> <span class="pre">None,</span> <span class="pre">'category':</span> <span class="pre">None},</span> <span class="pre">{'key':</span> <span class="pre">'affiliation_attributes',</span> <span class="pre">'label':</span> <span class="pre">l'List</span> <span class="pre">of</span> <span class="pre">SAML</span> <span class="pre">attributes</span> <span class="pre">containing</span> <span class="pre">an</span> <span class="pre">affiliation</span> <span class="pre">ID',</span> <span class="pre">'description':</span> <span class="pre">l'ProQuest</span> <span class="pre">integration</span> <span class="pre">assumes</span> <span class="pre">that</span> <span class="pre">the</span> <span class="pre">SAML</span> <span class="pre">provider</span> <span class="pre">is</span> <span class="pre">used</span> <span class="pre">for</span> <span class="pre">authentication.</span> <span class="pre">ProQuest</span> <span class="pre">JWT</span> <span class="pre">bearer</span> <span class="pre">tokens</span> <span class="pre">required</span> <span class="pre">by</span> <span class="pre">the</span> <span class="pre">most</span> <span class="pre">ProQuest</span> <span class="pre">API</span> <span class="pre">services</span> <span class="pre">are</span> <span class="pre">created</span> <span class="pre">based</span> <span class="pre">on</span> <span class="pre">the</span> <span class="pre">affiliation</span> <span class="pre">ID</span> <span class="pre">-</span> <span class="pre">SAML</span> <span class="pre">attribute</span> <span class="pre">uniquely</span> <span class="pre">identifying</span> <span class="pre">the</span> <span class="pre">patron.This</span> <span class="pre">setting</span> <span class="pre">determines</span> <span class="pre">what</span> <span class="pre">attributes</span> <span class="pre">the</span> <span class="pre">ProQuest</span> <span class="pre">integration</span> <span class="pre">will</span> <span class="pre">use</span> <span class="pre">to</span> <span class="pre">look</span> <span class="pre">for</span> <span class="pre">affiliation</span> <span class="pre">IDs.</span> <span class="pre">The</span> <span class="pre">ProQuest</span> <span class="pre">integration</span> <span class="pre">will</span> <span class="pre">investigate</span> <span class="pre">the</span> <span class="pre">specified</span> <span class="pre">attributes</span> <span class="pre">sequentially</span> <span class="pre">and</span> <span class="pre">will</span> <span class="pre">take</span> <span class="pre">the</span> <span class="pre">first</span> <span class="pre">non-empty</span> <span class="pre">value.',</span> <span class="pre">'type':</span> <span class="pre">'menu',</span> <span class="pre">'required':</span> <span class="pre">False,</span> <span class="pre">'default':</span> <span class="pre">['eduPersonPrincipalName',</span> <span class="pre">'eduPersonScopedAffiliation'],</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'uid',</span> <span class="pre">'label':</span> <span class="pre">'uid'},</span> <span class="pre">{'key':</span> <span class="pre">'givenName',</span> <span class="pre">'label':</span> <span class="pre">'givenName'},</span> <span class="pre">{'key':</span> <span class="pre">'surname',</span> <span class="pre">'label':</span> <span class="pre">'surname'},</span> <span class="pre">{'key':</span> <span class="pre">'mail',</span> <span class="pre">'label':</span> <span class="pre">'mail'},</span> <span class="pre">{'key':</span> <span class="pre">'displayName',</span> <span class="pre">'label':</span> <span class="pre">'displayName'},</span> <span class="pre">{'key':</span> <span class="pre">'eduPerson',</span> <span class="pre">'label':</span> <span class="pre">'eduPerson'},</span> <span class="pre">{'key':</span> <span class="pre">'eduPersonAffiliation',</span> <span class="pre">'label':</span> <span class="pre">'eduPersonAffiliation'},</span> <span class="pre">{'key':</span> <span class="pre">'eduPersonNickname',</span> <span class="pre">'label':</span> <span class="pre">'eduPersonNickname'},</span> <span class="pre">{'key':</span> <span class="pre">'eduPersonOrgDN',</span> <span class="pre">'label':</span> <span class="pre">'eduPersonOrgDN'},</span> <span class="pre">{'key':</span> <span class="pre">'eduPersonOrgUnitDN',</span> <span class="pre">'label':</span> <span class="pre">'eduPersonOrgUnitDN'},</span> <span class="pre">{'key':</span> <span class="pre">'eduPersonPrimaryAffiliation',</span> <span class="pre">'label':</span> <span class="pre">'eduPersonPrimaryAffiliation'},</span> <span class="pre">{'key':</span> <span class="pre">'eduPersonPrincipalName',</span> <span class="pre">'label':</span> <span class="pre">'eduPersonPrincipalName'},</span> <span class="pre">{'key':</span> <span class="pre">'eduPersonEntitlement',</span> <span class="pre">'label':</span> <span class="pre">'eduPersonEntitlement'},</span> <span class="pre">{'key':</span> <span class="pre">'eduPersonPrimaryOrgUnitDN',</span> <span class="pre">'label':</span> <span class="pre">'eduPersonPrimaryOrgUnitDN'},</span> <span class="pre">{'key':</span> <span class="pre">'eduPersonScopedAffiliation',</span> <span class="pre">'label':</span> <span class="pre">'eduPersonScopedAffiliation'},</span> <span class="pre">{'key':</span> <span class="pre">'eduPersonTargetedID',</span> <span class="pre">'label':</span> <span class="pre">'eduPersonTargetedID'},</span> <span class="pre">{'key':</span> <span class="pre">'eduPersonAssurance',</span> <span class="pre">'label':</span> <span class="pre">'eduPersonAssurance'},</span> <span class="pre">{'key':</span> <span class="pre">'eduPersonOrcid',</span> <span class="pre">'label':</span> <span class="pre">'eduPersonOrcid'},</span> <span class="pre">{'key':</span> <span class="pre">'eduPersonUniqueId',</span> <span class="pre">'label':</span> <span class="pre">'eduPersonUniqueId'},</span> <span class="pre">{'key':</span> <span class="pre">'eduPersonPrincipalNamePrior',</span> <span class="pre">'label':</span> <span class="pre">'eduPersonPrincipalNamePrior'},</span> <span class="pre">{'key':</span> <span class="pre">'eduOrg',</span> <span class="pre">'label':</span> <span class="pre">'eduOrg'},</span> <span class="pre">{'key':</span> <span class="pre">'eduOrgHomePageURI',</span> <span class="pre">'label':</span> <span class="pre">'eduOrgHomePageURI'},</span> <span class="pre">{'key':</span> <span class="pre">'eduOrgIdentityAuthNPolicyURI',</span> <span class="pre">'label':</span> <span class="pre">'eduOrgIdentityAuthNPolicyURI'},</span> <span class="pre">{'key':</span> <span class="pre">'eduOrgLegalName',</span> <span class="pre">'label':</span> <span class="pre">'eduOrgLegalName'},</span> <span class="pre">{'key':</span> <span class="pre">'eduOrgSuperiorURI',</span> <span class="pre">'label':</span> <span class="pre">'eduOrgSuperiorURI'},</span> <span class="pre">{'key':</span> <span class="pre">'eduOrgWhitePagesURI',</span> <span class="pre">'label':</span> <span class="pre">'eduOrgWhitePagesURI'}],</span> <span class="pre">'category':</span> <span class="pre">None},</span> <span class="pre">{'key':</span> <span class="pre">'test_affiliation_id',</span> <span class="pre">'label':</span> <span class="pre">l'Test</span> <span class="pre">SAML</span> <span class="pre">affiliation</span> <span class="pre">ID',</span> <span class="pre">'description':</span> <span class="pre">l'Test</span> <span class="pre">SAML</span> <span class="pre">affiliation</span> <span class="pre">ID</span> <span class="pre">used</span> <span class="pre">for</span> <span class="pre">testing</span> <span class="pre">ProQuest</span> <span class="pre">API.</span> <span class="pre">Please</span> <span class="pre">contact</span> <span class="pre">ProQuest</span> <span class="pre">before</span> <span class="pre">using</span> <span class="pre">it.',</span> <span class="pre">'type':</span> <span class="pre">None,</span> <span class="pre">'required':</span> <span class="pre">False,</span> <span class="pre">'default':</span> <span class="pre">None,</span> <span class="pre">'options':</span> <span class="pre">None,</span> <span class="pre">'category':</span> <span class="pre">None},</span> <span class="pre">{'key':</span> <span class="pre">'default_audience',</span> <span class="pre">'label':</span> <span class="pre">l'Default</span> <span class="pre">audience',</span> <span class="pre">'description':</span> <span class="pre">l'If</span> <span class="pre">ProQuest</span> <span class="pre">does</span> <span class="pre">not</span> <span class="pre">specify</span> <span class="pre">the</span> <span class="pre">target</span> <span class="pre">audience</span> <span class="pre">for</span> <span class="pre">their</span> <span class="pre">books,</span> <span class="pre">assume</span> <span class="pre">the</span> <span class="pre">books</span> <span class="pre">have</span> <span class="pre">this</span> <span class="pre">target</span> <span class="pre">audience.',</span> <span class="pre">'type':</span> <span class="pre">'select',</span> <span class="pre">'required':</span> <span class="pre">False,</span> <span class="pre">'default':</span> <span class="pre">'',</span> <span class="pre">'options':</span> <span class="pre">[{'key':</span> <span class="pre">'',</span> <span class="pre">'label':</span> <span class="pre">l'No</span> <span class="pre">default</span> <span class="pre">audience'},</span> <span class="pre">{'key':</span> <span class="pre">'Adult',</span> <span class="pre">'label':</span> <span class="pre">'Adult'},</span> <span class="pre">{'key':</span> <span class="pre">'Adults</span> <span class="pre">Only',</span> <span class="pre">'label':</span> <span class="pre">'Adults</span> <span class="pre">Only'},</span> <span class="pre">{'key':</span> <span class="pre">'All</span> <span class="pre">Ages',</span> <span class="pre">'label':</span> <span class="pre">'All</span> <span class="pre">Ages'},</span> <span class="pre">{'key':</span> <span class="pre">'Children',</span> <span class="pre">'label':</span> <span class="pre">'Children'},</span> <span class="pre">{'key':</span> <span class="pre">'Research',</span> <span class="pre">'label':</span> <span class="pre">'Research'},</span> <span class="pre">{'key':</span> <span class="pre">'Young</span> <span class="pre">Adult',</span> <span class="pre">'label':</span> <span class="pre">'Young</span> <span class="pre">Adult'}],</span> <span class="pre">'category':</span> <span class="pre">None},</span> <span class="pre">{'key':</span> <span class="pre">'books_catalog_service_url',</span> <span class="pre">'label':</span> <span class="pre">l'BooksCatalog</span> <span class="pre">service's</span> <span class="pre">URL',</span> <span class="pre">'description':</span> <span class="pre">l'URL</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">BooksCatalog</span> <span class="pre">service</span> <span class="pre">endpoint',</span> <span class="pre">'type':</span> <span class="pre">None,</span> <span class="pre">'required':</span> <span class="pre">True,</span> <span class="pre">'default':</span> <span class="pre">None,</span> <span class="pre">'options':</span> <span class="pre">None,</span> <span class="pre">'category':</span> <span class="pre">None},</span> <span class="pre">{'key':</span> <span class="pre">'page_size',</span> <span class="pre">'label':</span> <span class="pre">l'Feed</span> <span class="pre">page's</span> <span class="pre">size',</span> <span class="pre">'description':</span> <span class="pre">l'This</span> <span class="pre">value</span> <span class="pre">determines</span> <span class="pre">how</span> <span class="pre">many</span> <span class="pre">publications</span> <span class="pre">will</span> <span class="pre">be</span> <span class="pre">on</span> <span class="pre">a</span> <span class="pre">single</span> <span class="pre">page</span> <span class="pre">fetched</span> <span class="pre">from</span> <span class="pre">the</span> <span class="pre">BooksCatalog</span> <span class="pre">service.',</span> <span class="pre">'type':</span> <span class="pre">'number',</span> <span class="pre">'required':</span> <span class="pre">False,</span> <span class="pre">'default':</span> <span class="pre">5000,</span> <span class="pre">'options':</span> <span class="pre">None,</span> <span class="pre">'category':</span> <span class="pre">None},</span> <span class="pre">{'key':</span> <span class="pre">'partner_auth_token_service_url',</span> <span class="pre">'label':</span> <span class="pre">l'PartnerAuthToken</span> <span class="pre">service's</span> <span class="pre">URL',</span> <span class="pre">'description':</span> <span class="pre">l'URL</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">PartnerAuthToken</span> <span class="pre">service</span> <span class="pre">endpoint.',</span> <span class="pre">'type':</span> <span class="pre">None,</span> <span class="pre">'required':</span> <span class="pre">True,</span> <span class="pre">'default':</span> <span class="pre">None,</span> <span class="pre">'options':</span> <span class="pre">None,</span> <span class="pre">'category':</span> <span class="pre">None},</span> <span class="pre">{'key':</span> <span class="pre">'download_link_service_url',</span> <span class="pre">'label':</span> <span class="pre">l'DownloadLink</span> <span class="pre">service's</span> <span class="pre">URL',</span> <span class="pre">'description':</span> <span class="pre">l'URL</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">DownloadLink</span> <span class="pre">service</span> <span class="pre">endpoint.',</span> <span class="pre">'type':</span> <span class="pre">None,</span> <span class="pre">'required':</span> <span class="pre">True,</span> <span class="pre">'default':</span> <span class="pre">None,</span> <span class="pre">'options':</span> <span class="pre">None,</span> <span class="pre">'category':</span> <span class="pre">None},</span> <span class="pre">{'key':</span> <span class="pre">'http_proxy_url',</span> <span class="pre">'label':</span> <span class="pre">l'HTTP</span> <span class="pre">proxy's</span> <span class="pre">URL',</span> <span class="pre">'description':</span> <span class="pre">l'URL</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">proxy</span> <span class="pre">handling</span> <span class="pre">HTTP</span> <span class="pre">traffic.',</span> <span class="pre">'type':</span> <span class="pre">None,</span> <span class="pre">'required':</span> <span class="pre">False,</span> <span class="pre">'default':</span> <span class="pre">None,</span> <span class="pre">'options':</span> <span class="pre">None,</span> <span class="pre">'category':</span> <span class="pre">None},</span> <span class="pre">{'key':</span> <span class="pre">'https_proxy_url',</span> <span class="pre">'label':</span> <span class="pre">l'HTTPS</span> <span class="pre">proxy's</span> <span class="pre">URL',</span> <span class="pre">'description':</span> <span class="pre">l'URL</span> <span class="pre">of</span> <span class="pre">the</span> <span class="pre">proxy</span> <span class="pre">handling</span> <span class="pre">HTTPS</span> <span class="pre">traffic.',</span> <span class="pre">'type':</span> <span class="pre">None,</span> <span class="pre">'required':</span> <span class="pre">False,</span> <span class="pre">'default':</span> <span class="pre">None,</span> <span class="pre">'options':</span> <span class="pre">None,</span> <span class="pre">'category':</span> <span class="pre">None}]</span></em><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2Importer.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.proquest.importer.ProQuestOPDS2Importer.checkout">
<span class="sig-name descname"><span class="pre">checkout</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal_format</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/importer.html#ProQuestOPDS2Importer.checkout"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2Importer.checkout" title="Permalink to this definition">¶</a></dt>
<dd><p>Checkout the book.</p>
<p>NOTE: This method requires the patron to have either:
- an active ProQuest JWT bearer token
- or a SAML affiliation ID which will be used to create a new ProQuest JWT bearer token.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.proquest.importer.ProQuestOPDS2Importer.external_integration">
<span class="sig-name descname"><span class="pre">external_integration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/importer.html#ProQuestOPDS2Importer.external_integration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2Importer.external_integration" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an external integration associated with this object.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>db</strong> (<em>sqlalchemy.orm.session.Session</em>) – Database session</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>External integration associated with this object</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="core.model.html#core.model.configuration.ExternalIntegration" title="core.model.configuration.ExternalIntegration">core.model.configuration.ExternalIntegration</a></p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.proquest.importer.ProQuestOPDS2Importer.extract_next_links">
<span class="sig-name descname"><span class="pre">extract_next_links</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">feed</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/importer.html#ProQuestOPDS2Importer.extract_next_links"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2Importer.extract_next_links" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract “next” links from the feed.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>feed</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>opds2_ast.OPDS2Feed</em><em>]</em>) – OPDS 2.0 feed</p>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of “next” links</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[str]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.proquest.importer.ProQuestOPDS2Importer.fulfill">
<span class="sig-name descname"><span class="pre">fulfill</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">internal_format</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">part</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">fulfill_part_url</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/importer.html#ProQuestOPDS2Importer.fulfill"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2Importer.fulfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Fulfill the loan.</p>
<p>NOTE: This method requires the patron to have either:
- an active ProQuest JWT bearer token
- or a SAML affiliation ID which will be used to create a new ProQuest JWT bearer token.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.proquest.importer.ProQuestOPDS2Importer.internal_format">
<span class="sig-name descname"><span class="pre">internal_format</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">delivery_mechanism</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/importer.html#ProQuestOPDS2Importer.internal_format"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2Importer.internal_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up the internal format for this delivery mechanism or raise an exception.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><p><strong>delivery_mechanism</strong> (<a class="reference internal" href="core.model.html#core.model.licensing.LicensePoolDeliveryMechanism" title="core.model.licensing.LicensePoolDeliveryMechanism"><em>LicensePoolDeliveryMechanism</em></a>) – A LicensePoolDeliveryMechanism</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.proquest.importer.ProQuestOPDS2Importer.patron_activity">
<span class="sig-name descname"><span class="pre">patron_activity</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/importer.html#ProQuestOPDS2Importer.patron_activity"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2Importer.patron_activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return patron’s loans.</p>
<p>TODO This and code from ODLAPI should be refactored into a generic set of rules
for any situation where the CM, not the remote API, is responsible for managing loans and holds.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>patron</strong> (<a class="reference internal" href="core.model.html#core.model.patron.Patron" title="core.model.patron.Patron"><em>Patron</em></a>) – A Patron object for the patron who wants to check out the book</p></li>
<li><p><strong>pin</strong> (<em>string</em>) – The patron’s alleged password</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>List of patron’s loans</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p>List[<a class="reference internal" href="api.html#api.circulation.LoanInfo" title="api.circulation.LoanInfo">LoanInfo</a>]</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.proquest.importer.ProQuestOPDS2Importer.place_hold">
<span class="sig-name descname"><span class="pre">place_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">notification_email_address</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/importer.html#ProQuestOPDS2Importer.place_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2Importer.place_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Place a book on hold.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>A HoldInfo object</p>
</dd>
</dl>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.proquest.importer.ProQuestOPDS2Importer.release_hold">
<span class="sig-name descname"><span class="pre">release_hold</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">patron</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">pin</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">licensepool</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/importer.html#ProQuestOPDS2Importer.release_hold"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2Importer.release_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Release a patron’s hold on a book.</p>
<dl class="field-list simple">
<dt class="field-odd">Raises<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="api.html#api.circulation_exceptions.CannotReleaseHold" title="api.circulation_exceptions.CannotReleaseHold"><strong>CannotReleaseHold</strong></a> – If there is an error communicating
with the provider, or the provider refuses to release the hold for
any reason.</p>
</dd>
</dl>
</dd></dl>

</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="api.proquest.importer.ProQuestOPDS2ImporterConfiguration">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.proquest.importer.</span></span><span class="sig-name descname"><span class="pre">ProQuestOPDS2ImporterConfiguration</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">configuration_storage</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">db</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/importer.html#ProQuestOPDS2ImporterConfiguration"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2ImporterConfiguration" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.model.html#core.model.configuration.ConfigurationGrouping" title="core.model.configuration.ConfigurationGrouping"><code class="xref py py-class docutils literal notranslate"><span class="pre">ConfigurationGrouping</span></code></a></p>
<p>Contains configuration settings of ProQuestOPDS2Importer.</p>
<dl class="py attribute">
<dt class="sig sig-object py" id="api.proquest.importer.ProQuestOPDS2ImporterConfiguration.DEFAULT_AFFILIATION_ATTRIBUTES">
<span class="sig-name descname"><span class="pre">DEFAULT_AFFILIATION_ATTRIBUTES</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">('eduPersonPrincipalName',</span> <span class="pre">'eduPersonScopedAffiliation')</span></em><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2ImporterConfiguration.DEFAULT_AFFILIATION_ATTRIBUTES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.proquest.importer.ProQuestOPDS2ImporterConfiguration.DEFAULT_TOKEN_EXPIRATION_TIMEOUT_SECONDS">
<span class="sig-name descname"><span class="pre">DEFAULT_TOKEN_EXPIRATION_TIMEOUT_SECONDS</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">3600</span></em><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2ImporterConfiguration.DEFAULT_TOKEN_EXPIRATION_TIMEOUT_SECONDS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.proquest.importer.ProQuestOPDS2ImporterConfiguration.TEST_AFFILIATION_ID">
<span class="sig-name descname"><span class="pre">TEST_AFFILIATION_ID</span></span><em class="property"><span class="w"> </span><span class="p"><span class="pre">=</span></span><span class="w"> </span><span class="pre">1</span></em><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2ImporterConfiguration.TEST_AFFILIATION_ID" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.proquest.importer.ProQuestOPDS2ImporterConfiguration.affiliation_attributes">
<span class="sig-name descname"><span class="pre">affiliation_attributes</span></span><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2ImporterConfiguration.affiliation_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains configuration metadata</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.proquest.importer.ProQuestOPDS2ImporterConfiguration.data_source_name">
<span class="sig-name descname"><span class="pre">data_source_name</span></span><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2ImporterConfiguration.data_source_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains configuration metadata</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.proquest.importer.ProQuestOPDS2ImporterConfiguration.default_audience">
<span class="sig-name descname"><span class="pre">default_audience</span></span><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2ImporterConfiguration.default_audience" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains configuration metadata</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.proquest.importer.ProQuestOPDS2ImporterConfiguration.test_affiliation_id">
<span class="sig-name descname"><span class="pre">test_affiliation_id</span></span><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2ImporterConfiguration.test_affiliation_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains configuration metadata</p>
</dd></dl>

<dl class="py attribute">
<dt class="sig sig-object py" id="api.proquest.importer.ProQuestOPDS2ImporterConfiguration.token_expiration_timeout">
<span class="sig-name descname"><span class="pre">token_expiration_timeout</span></span><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2ImporterConfiguration.token_expiration_timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains configuration metadata</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="api.proquest.importer.parse_identifier">
<span class="sig-prename descclassname"><span class="pre">api.proquest.importer.</span></span><span class="sig-name descname"><span class="pre">parse_identifier</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">db</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">identifier</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/importer.html#parse_identifier"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.importer.parse_identifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the identifier and return an Identifier object representing it.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>db</strong> (<em>sqlalchemy.orm.session.Session</em>) – Database session</p></li>
<li><p><strong>identifier</strong> (<em>str</em>) – String containing the identifier</p></li>
</ul>
</dd>
<dt class="field-even">Returns<span class="colon">:</span></dt>
<dd class="field-even"><p>Identifier object</p>
</dd>
<dt class="field-odd">Return type<span class="colon">:</span></dt>
<dd class="field-odd"><p><a class="reference internal" href="core.model.html#core.model.identifier.Identifier" title="core.model.identifier.Identifier">core.model.identifier.Identifier</a></p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-api.proquest.scripts">
<span id="api-proquest-scripts-module"></span><h2>api.proquest.scripts module<a class="headerlink" href="#module-api.proquest.scripts" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="api.proquest.scripts.ProQuestOPDS2ImportScript">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">api.proquest.scripts.</span></span><span class="sig-name descname"><span class="pre">ProQuestOPDS2ImportScript</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">args</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">**</span></span><span class="n"><span class="pre">kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/scripts.html#ProQuestOPDS2ImportScript"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.scripts.ProQuestOPDS2ImportScript" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.scripts.OPDSImportScript" title="core.scripts.OPDSImportScript"><code class="xref py py-class docutils literal notranslate"><span class="pre">OPDSImportScript</span></code></a></p>
<p>Runs a ProQuestOPDS2ImportMonitor.</p>
<dl class="py method">
<dt class="sig sig-object py" id="api.proquest.scripts.ProQuestOPDS2ImportScript.arg_parser">
<em class="property"><span class="pre">classmethod</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">arg_parser</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/scripts.html#ProQuestOPDS2ImportScript.arg_parser"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.scripts.ProQuestOPDS2ImportScript.arg_parser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="api.proquest.scripts.ProQuestOPDS2ImportScript.run_monitor">
<span class="sig-name descname"><span class="pre">run_monitor</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">collection</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">force</span></span><span class="o"><span class="pre">=</span></span><span class="default_value"><span class="pre">None</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/scripts.html#ProQuestOPDS2ImportScript.run_monitor"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#api.proquest.scripts.ProQuestOPDS2ImportScript.run_monitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the monitor for the specified collection.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters<span class="colon">:</span></dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>collection</strong> (<a class="reference internal" href="core.model.html#core.model.collection.Collection" title="core.model.collection.Collection"><em>core.model.collection.Collection</em></a>) – Collection object</p></li>
<li><p><strong>force</strong> (<em>bool</em>) – Boolean value indicating whether the import process should be run from scratch</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</dd></dl>

</section>
<section id="module-api.proquest">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-api.proquest" title="Permalink to this heading">¶</a></h2>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Library Simplified Circulation Manager</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">circulation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="api.html">api package</a></li>
<li class="toctree-l2"><a class="reference internal" href="app.html">app module</a></li>
<li class="toctree-l2"><a class="reference internal" href="core.html">core package</a></li>
<li class="toctree-l2"><a class="reference internal" href="scripts.html">scripts module</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="modules.html">circulation</a><ul>
  <li><a href="api.html">api package</a><ul>
      <li>Previous: <a href="api.lcp.html" title="previous chapter">api.lcp package</a></li>
      <li>Next: <a href="api.saml.html" title="next chapter">api.saml package</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2023, The New York Public Library, Astor, Lenox, and Tilden Foundations.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 5.0.0b1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.13</a>
      
      |
      <a href="_sources/api.proquest.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>