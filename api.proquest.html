
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>api.proquest package &#8212; Library Simplified Circulation Manager  documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/language_data.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="api.saml package" href="api.saml.html" />
    <link rel="prev" title="api.lcp package" href="api.lcp.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="api-proquest-package">
<h1>api.proquest package<a class="headerlink" href="#api-proquest-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-api.proquest.client">
<span id="api-proquest-client-module"></span><h2>api.proquest.client module<a class="headerlink" href="#module-api.proquest.client" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="api.proquest.client.ProQuestAPIClient">
<em class="property">class </em><code class="descclassname">api.proquest.client.</code><code class="descname">ProQuestAPIClient</code><span class="sig-paren">(</span><em>configuration_storage</em>, <em>configuration_factory</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/client.html#ProQuestAPIClient"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.client.ProQuestAPIClient" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>ProQuest API client.</p>
<dl class="attribute">
<dt id="api.proquest.client.ProQuestAPIClient.DOWNLOAD_LINK_FIELD">
<code class="descname">DOWNLOAD_LINK_FIELD</code><em class="property"> = 'downloadLink'</em><a class="headerlink" href="#api.proquest.client.ProQuestAPIClient.DOWNLOAD_LINK_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.proquest.client.ProQuestAPIClient.DRM_FREE_DOWNLOAD_LINK_KEYWORD">
<code class="descname">DRM_FREE_DOWNLOAD_LINK_KEYWORD</code><em class="property"> = 'getDrmFreeFile'</em><a class="headerlink" href="#api.proquest.client.ProQuestAPIClient.DRM_FREE_DOWNLOAD_LINK_KEYWORD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.proquest.client.ProQuestAPIClient.MAX_PAGE_INDEX">
<code class="descname">MAX_PAGE_INDEX</code><em class="property"> = 32766</em><a class="headerlink" href="#api.proquest.client.ProQuestAPIClient.MAX_PAGE_INDEX" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.proquest.client.ProQuestAPIClient.MAX_PAGE_SIZE">
<code class="descname">MAX_PAGE_SIZE</code><em class="property"> = 32766</em><a class="headerlink" href="#api.proquest.client.ProQuestAPIClient.MAX_PAGE_SIZE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.proquest.client.ProQuestAPIClient.RESPONSE_OPDS_FEED_FIELD">
<code class="descname">RESPONSE_OPDS_FEED_FIELD</code><em class="property"> = 'opdsFeed'</em><a class="headerlink" href="#api.proquest.client.ProQuestAPIClient.RESPONSE_OPDS_FEED_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.proquest.client.ProQuestAPIClient.RESPONSE_STATUS_CODE_FIELD">
<code class="descname">RESPONSE_STATUS_CODE_FIELD</code><em class="property"> = 'statusCode'</em><a class="headerlink" href="#api.proquest.client.ProQuestAPIClient.RESPONSE_STATUS_CODE_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.proquest.client.ProQuestAPIClient.SUCCESS_STATUS_CODE">
<code class="descname">SUCCESS_STATUS_CODE</code><em class="property"> = 200</em><a class="headerlink" href="#api.proquest.client.ProQuestAPIClient.SUCCESS_STATUS_CODE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.proquest.client.ProQuestAPIClient.TOKEN_FIELD">
<code class="descname">TOKEN_FIELD</code><em class="property"> = 'token'</em><a class="headerlink" href="#api.proquest.client.ProQuestAPIClient.TOKEN_FIELD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.proquest.client.ProQuestAPIClient.create_token">
<code class="descname">create_token</code><span class="sig-paren">(</span><em>db</em>, <em>affiliation_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/client.html#ProQuestAPIClient.create_token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.client.ProQuestAPIClient.create_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new JWT bearer token.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>db</strong> (<em>sqlalchemy.orm.session.Session</em>) – Database session</li>
<li><strong>affiliation_id</strong> (<em>str</em>) – SAML affiliation ID used as a patron’s unique identifier by ProQuest</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">New JWT bearer token</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">str</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.proquest.client.ProQuestAPIClient.download_all_feed_pages">
<code class="descname">download_all_feed_pages</code><span class="sig-paren">(</span><em>db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/client.html#ProQuestAPIClient.download_all_feed_pages"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.client.ProQuestAPIClient.download_all_feed_pages" title="Permalink to this definition">¶</a></dt>
<dd><p>Download all available feed pages.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>db</strong> (<em>sqlalchemy.orm.session.Session</em>) – Database session</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">Iterable list of feed pages in a form of Python dictionaries</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Iterable[dict]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.proquest.client.ProQuestAPIClient.download_feed_page">
<code class="descname">download_feed_page</code><span class="sig-paren">(</span><em>db</em>, <em>page</em>, <em>hits_per_page</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/client.html#ProQuestAPIClient.download_feed_page"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.client.ProQuestAPIClient.download_feed_page" title="Permalink to this definition">¶</a></dt>
<dd><p>Download a single page of a paginated OPDS 2.0 feed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>db</strong> (<em>sqlalchemy.orm.session.Session</em>) – Database session</li>
<li><strong>page</strong> (<em>int</em>) – Page index (max = 32,766)</li>
<li><strong>hits_per_page</strong> (<em>int</em>) – Number of publications on a single page (max = 32,766)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Python dictionary object containing the feed’s page</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.proquest.client.ProQuestAPIClient.get_book">
<code class="descname">get_book</code><span class="sig-paren">(</span><em>db</em>, <em>token</em>, <em>document_id</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/client.html#ProQuestAPIClient.get_book"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.client.ProQuestAPIClient.get_book" title="Permalink to this definition">¶</a></dt>
<dd><p>Get a book by it’s ProQuest Doc ID.</p>
<p>NOTE: There are two different cases to consider:
- Open-access books: in this case ProQuest API returns the book content.
- Adobe DRM copy protected books: in this case ProQuest API returns an ACSM file containing
information about downloading a digital publication.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>db</strong> (<em>sqlalchemy.orm.session.Session</em>) – Database session</li>
<li><strong>token</strong> (<em>str</em>) – JWT bearer token created using <cite>ProQuestAPIClient.create_token</cite> method</li>
<li><strong>document_id</strong> (<em>str</em>) – ProQuest Doc ID</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Book instance containing either an ACS link to the book or the book content</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#api.proquest.client.ProQuestBook" title="api.proquest.client.ProQuestBook">ProQuestBook</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.proquest.client.ProQuestAPIClientConfiguration">
<em class="property">class </em><code class="descclassname">api.proquest.client.</code><code class="descname">ProQuestAPIClientConfiguration</code><span class="sig-paren">(</span><em>configuration_storage</em>, <em>db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/client.html#ProQuestAPIClientConfiguration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.client.ProQuestAPIClientConfiguration" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.model.html#core.model.configuration.ConfigurationGrouping" title="core.model.configuration.ConfigurationGrouping"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.model.configuration.ConfigurationGrouping</span></code></a></p>
<p>Contains configuration settings of ProQuest API client.</p>
<dl class="attribute">
<dt id="api.proquest.client.ProQuestAPIClientConfiguration.DEFAULT_PAGE_SIZE">
<code class="descname">DEFAULT_PAGE_SIZE</code><em class="property"> = 5000</em><a class="headerlink" href="#api.proquest.client.ProQuestAPIClientConfiguration.DEFAULT_PAGE_SIZE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.proquest.client.ProQuestAPIClientConfiguration.books_catalog_service_url">
<code class="descname">books_catalog_service_url</code><a class="headerlink" href="#api.proquest.client.ProQuestAPIClientConfiguration.books_catalog_service_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains configuration metadata</p>
</dd></dl>

<dl class="attribute">
<dt id="api.proquest.client.ProQuestAPIClientConfiguration.download_link_service_url">
<code class="descname">download_link_service_url</code><a class="headerlink" href="#api.proquest.client.ProQuestAPIClientConfiguration.download_link_service_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains configuration metadata</p>
</dd></dl>

<dl class="attribute">
<dt id="api.proquest.client.ProQuestAPIClientConfiguration.http_proxy_url">
<code class="descname">http_proxy_url</code><a class="headerlink" href="#api.proquest.client.ProQuestAPIClientConfiguration.http_proxy_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains configuration metadata</p>
</dd></dl>

<dl class="attribute">
<dt id="api.proquest.client.ProQuestAPIClientConfiguration.https_proxy_url">
<code class="descname">https_proxy_url</code><a class="headerlink" href="#api.proquest.client.ProQuestAPIClientConfiguration.https_proxy_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains configuration metadata</p>
</dd></dl>

<dl class="attribute">
<dt id="api.proquest.client.ProQuestAPIClientConfiguration.page_size">
<code class="descname">page_size</code><a class="headerlink" href="#api.proquest.client.ProQuestAPIClientConfiguration.page_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains configuration metadata</p>
</dd></dl>

<dl class="attribute">
<dt id="api.proquest.client.ProQuestAPIClientConfiguration.partner_auth_token_service_url">
<code class="descname">partner_auth_token_service_url</code><a class="headerlink" href="#api.proquest.client.ProQuestAPIClientConfiguration.partner_auth_token_service_url" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains configuration metadata</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.proquest.client.ProQuestAPIClientFactory">
<em class="property">class </em><code class="descclassname">api.proquest.client.</code><code class="descname">ProQuestAPIClientFactory</code><a class="reference internal" href="_modules/api/proquest/client.html#ProQuestAPIClientFactory"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.client.ProQuestAPIClientFactory" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Factory used for creating ProQuestAPIClient instances.</p>
<dl class="method">
<dt id="api.proquest.client.ProQuestAPIClientFactory.create">
<code class="descname">create</code><span class="sig-paren">(</span><em>integration_association</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/client.html#ProQuestAPIClientFactory.create"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.client.ProQuestAPIClientFactory.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Create a new instance of ProQuestAPIClientFactory.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>integration_association</strong> (<a class="reference internal" href="core.model.html#core.model.configuration.HasExternalIntegration" title="core.model.configuration.HasExternalIntegration"><em>core.model.configuration.HasExternalIntegration</em></a>) – Association with an external integration</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">New instance of ProQuestAPIClient</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="#api.proquest.client.ProQuestAPIClient" title="api.proquest.client.ProQuestAPIClient">ProQuestAPIClient</a></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.proquest.client.ProQuestAPIInvalidJSONResponseError">
<em class="property">exception </em><code class="descclassname">api.proquest.client.</code><code class="descname">ProQuestAPIInvalidJSONResponseError</code><span class="sig-paren">(</span><em>response</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/client.html#ProQuestAPIInvalidJSONResponseError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.client.ProQuestAPIInvalidJSONResponseError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.exceptions.BaseError" title="core.exceptions.BaseError"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.exceptions.BaseError</span></code></a></p>
<p>Raised when the client receives from ProQuest API a response with incorrect JSON document.</p>
<dl class="attribute">
<dt id="api.proquest.client.ProQuestAPIInvalidJSONResponseError.response">
<code class="descname">response</code><a class="headerlink" href="#api.proquest.client.ProQuestAPIInvalidJSONResponseError.response" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the response associated with this error.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Response associated with this error</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">requests.models.Response</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="exception">
<dt id="api.proquest.client.ProQuestAPIMissingJSONPropertyError">
<em class="property">exception </em><code class="descclassname">api.proquest.client.</code><code class="descname">ProQuestAPIMissingJSONPropertyError</code><span class="sig-paren">(</span><em>response</em>, <em>missing_property</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/client.html#ProQuestAPIMissingJSONPropertyError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.client.ProQuestAPIMissingJSONPropertyError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="#api.proquest.client.ProQuestAPIInvalidJSONResponseError" title="api.proquest.client.ProQuestAPIInvalidJSONResponseError"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.proquest.client.ProQuestAPIInvalidJSONResponseError</span></code></a></p>
<p>Raised when the client receives from ProQuest API a response with incorrect JSON document.</p>
<dl class="attribute">
<dt id="api.proquest.client.ProQuestAPIMissingJSONPropertyError.missing_property">
<code class="descname">missing_property</code><a class="headerlink" href="#api.proquest.client.ProQuestAPIMissingJSONPropertyError.missing_property" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the name of the missing property.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Name of the missing property</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">str</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.proquest.client.ProQuestBook">
<em class="property">class </em><code class="descclassname">api.proquest.client.</code><code class="descname">ProQuestBook</code><span class="sig-paren">(</span><em>link=None</em>, <em>content=None</em>, <em>content_type=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/client.html#ProQuestBook"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.client.ProQuestBook" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>POCO class containing information about a ProQuest book.</p>
<dl class="attribute">
<dt id="api.proquest.client.ProQuestBook.content">
<code class="descname">content</code><a class="headerlink" href="#api.proquest.client.ProQuestBook.content" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the book’s content.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Book’s content</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Optional[Union[str, bytes]]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="api.proquest.client.ProQuestBook.content_type">
<code class="descname">content_type</code><a class="headerlink" href="#api.proquest.client.ProQuestBook.content_type" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the content type.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Content type</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Optional[str]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="api.proquest.client.ProQuestBook.link">
<code class="descname">link</code><a class="headerlink" href="#api.proquest.client.ProQuestBook.link" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the book’s link.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">Book’s link</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">Optional[str]</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api.proquest.credential">
<span id="api-proquest-credential-module"></span><h2>api.proquest.credential module<a class="headerlink" href="#module-api.proquest.credential" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="api.proquest.credential.ProQuestCredentialManager">
<em class="property">class </em><code class="descclassname">api.proquest.credential.</code><code class="descname">ProQuestCredentialManager</code><a class="reference internal" href="_modules/api/proquest/credential.html#ProQuestCredentialManager"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.credential.ProQuestCredentialManager" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Manages ProQuest credentials.</p>
<dl class="method">
<dt id="api.proquest.credential.ProQuestCredentialManager.lookup_patron_affiliation_id">
<code class="descname">lookup_patron_affiliation_id</code><span class="sig-paren">(</span><em>db</em>, <em>patron</em>, <em>affiliation_attributes=('eduPersonPrincipalName'</em>, <em>'eduPersonScopedAffiliation')</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/credential.html#ProQuestCredentialManager.lookup_patron_affiliation_id"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.credential.ProQuestCredentialManager.lookup_patron_affiliation_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up for patron’s SAML affiliation ID.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>db</strong> (<em>sqlalchemy.orm.session.Session</em>) – Database session</li>
<li><strong>patron</strong> (<a class="reference internal" href="core.model.html#core.model.patron.Patron" title="core.model.patron.Patron"><em>core.model.patron.Patron</em></a>) – Patron object</li>
<li><strong>affiliation_attributes</strong> (<em>Tuple</em>) – SAML attributes containing an affiliation ID</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Patron’s SAML affiliation ID (if any)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Optional[str]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.proquest.credential.ProQuestCredentialManager.lookup_proquest_token">
<code class="descname">lookup_proquest_token</code><span class="sig-paren">(</span><em>db</em>, <em>patron</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/credential.html#ProQuestCredentialManager.lookup_proquest_token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.credential.ProQuestCredentialManager.lookup_proquest_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up for a JWT bearer token used required to use ProQuest API.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>db</strong> (<em>sqlalchemy.orm.session.Session</em>) – Database session</li>
<li><strong>patron</strong> (<a class="reference internal" href="core.model.html#core.model.patron.Patron" title="core.model.patron.Patron"><em>core.model.patron.Patron</em></a>) – Patron object</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Credential object containing the existing ProQuest JWT bearer token (if any)</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Optional[<a class="reference internal" href="core.model.html#core.model.credential.Credential" title="core.model.credential.Credential">core.model.credential.Credential</a>]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.proquest.credential.ProQuestCredentialManager.save_proquest_token">
<code class="descname">save_proquest_token</code><span class="sig-paren">(</span><em>db</em>, <em>patron</em>, <em>duration</em>, <em>token</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/credential.html#ProQuestCredentialManager.save_proquest_token"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.credential.ProQuestCredentialManager.save_proquest_token" title="Permalink to this definition">¶</a></dt>
<dd><p>Save a ProQuest JWT bearer token for later use.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>db</strong> (<em>sqlalchemy.orm.session.Session</em>) – Database session</li>
<li><strong>patron</strong> (<a class="reference internal" href="core.model.html#core.model.patron.Patron" title="core.model.patron.Patron"><em>core.model.patron.Patron</em></a>) – Patron object</li>
<li><strong>duration</strong> (<em>datetime.timedelta</em>) – How long this token can be valid</li>
<li><strong>token</strong> (<em>str</em>) – ProQuest JWT bearer token</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Credential object containing a new ProQuest JWT bearer token</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">Optional[<a class="reference internal" href="core.model.html#core.model.credential.Credential" title="core.model.credential.Credential">core.model.credential.Credential</a>]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.proquest.credential.ProQuestCredentialType">
<em class="property">class </em><code class="descclassname">api.proquest.credential.</code><code class="descname">ProQuestCredentialType</code><a class="reference internal" href="_modules/api/proquest/credential.html#ProQuestCredentialType"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.credential.ProQuestCredentialType" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">enum.Enum</span></code></p>
<p>Contains an enumeration of different ProQuest credential types</p>
<dl class="attribute">
<dt id="api.proquest.credential.ProQuestCredentialType.PROQUEST_JWT_TOKEN">
<code class="descname">PROQUEST_JWT_TOKEN</code><em class="property"> = 'ProQuest JWT Token'</em><a class="headerlink" href="#api.proquest.credential.ProQuestCredentialType.PROQUEST_JWT_TOKEN" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api.proquest.identifier">
<span id="api-proquest-identifier-module"></span><h2>api.proquest.identifier module<a class="headerlink" href="#module-api.proquest.identifier" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="api.proquest.identifier.ProQuestIdentifierParser">
<em class="property">class </em><code class="descclassname">api.proquest.identifier.</code><code class="descname">ProQuestIdentifierParser</code><a class="reference internal" href="_modules/api/proquest/identifier.html#ProQuestIdentifierParser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.identifier.ProQuestIdentifierParser" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.model.html#core.model.identifier.IdentifierParser" title="core.model.identifier.IdentifierParser"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.model.identifier.IdentifierParser</span></code></a></p>
<p>Parser for ProQuest Doc IDs.</p>
<dl class="attribute">
<dt id="api.proquest.identifier.ProQuestIdentifierParser.PROQUEST_ID_REGEX">
<code class="descname">PROQUEST_ID_REGEX</code><em class="property"> = re.compile('urn:proquest.com/document-id/(\\d+)')</em><a class="headerlink" href="#api.proquest.identifier.ProQuestIdentifierParser.PROQUEST_ID_REGEX" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.proquest.identifier.ProQuestIdentifierParser.parse">
<code class="descname">parse</code><span class="sig-paren">(</span><em>identifier_string</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/identifier.html#ProQuestIdentifierParser.parse"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.identifier.ProQuestIdentifierParser.parse" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse a string containing an identifier, extract it and determine its type.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>identifier_string</strong> (<em>str</em>) – String containing an identifier</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">2-tuple containing the identifier’s type and identifier itself or None
if the string contains an incorrect identifier</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">Optional[Tuple[str, str]]</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api.proquest.importer">
<span id="api-proquest-importer-module"></span><h2>api.proquest.importer module<a class="headerlink" href="#module-api.proquest.importer" title="Permalink to this headline">¶</a></h2>
<dl class="exception">
<dt id="api.proquest.importer.CannotCreateProQuestTokenError">
<em class="property">exception </em><code class="descclassname">api.proquest.importer.</code><code class="descname">CannotCreateProQuestTokenError</code><span class="sig-paren">(</span><em>inner_exception</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/importer.html#CannotCreateProQuestTokenError"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.importer.CannotCreateProQuestTokenError" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.exceptions.BaseError" title="core.exceptions.BaseError"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.exceptions.BaseError</span></code></a></p>
</dd></dl>

<dl class="class">
<dt id="api.proquest.importer.ProQuestOPDS2ImportMonitor">
<em class="property">class </em><code class="descclassname">api.proquest.importer.</code><code class="descname">ProQuestOPDS2ImportMonitor</code><span class="sig-paren">(</span><em>client_factory</em>, <em>db</em>, <em>collection</em>, <em>import_class</em>, <em>force_reimport=False</em>, <em>process_removals=False</em>, <em>**import_class_kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/importer.html#ProQuestOPDS2ImportMonitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2ImportMonitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.opds2_import.OPDS2ImportMonitor" title="core.opds2_import.OPDS2ImportMonitor"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.opds2_import.OPDS2ImportMonitor</span></code></a>, <a class="reference internal" href="core.model.html#core.model.configuration.HasExternalIntegration" title="core.model.configuration.HasExternalIntegration"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.model.configuration.HasExternalIntegration</span></code></a></p>
<dl class="attribute">
<dt id="api.proquest.importer.ProQuestOPDS2ImportMonitor.PROTOCOL">
<code class="descname">PROTOCOL</code><em class="property"> = 'ProQuest'</em><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2ImportMonitor.PROTOCOL" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.proquest.importer.ProQuestOPDS2ImportMonitor.run_once">
<code class="descname">run_once</code><span class="sig-paren">(</span><em>progress_ignore</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/importer.html#ProQuestOPDS2ImportMonitor.run_once"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2ImportMonitor.run_once" title="Permalink to this definition">¶</a></dt>
<dd><p>Do the actual work of the Monitor.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>progress</strong> – A TimestampData representing the
work done by the Monitor up to this point.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A TimestampData representing how you want the
Monitor’s entry in the <cite>timestamps</cite> table to look like
from this point on.  NOTE: Modifying the incoming
<cite>progress</cite> and returning it is generally a bad idea,
because the incoming <cite>progress</cite> is full of old
data. Instead, return a new TimestampData containing data
for only the fields you want to set.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.proquest.importer.ProQuestOPDS2Importer">
<em class="property">class </em><code class="descclassname">api.proquest.importer.</code><code class="descname">ProQuestOPDS2Importer</code><span class="sig-paren">(</span><em>db</em>, <em>collection</em>, <em>data_source_name=None</em>, <em>identifier_mapping=None</em>, <em>http_get=None</em>, <em>metadata_client=None</em>, <em>content_modifier=None</em>, <em>map_from_collection=None</em>, <em>mirrors=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/importer.html#ProQuestOPDS2Importer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2Importer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.opds2_import.OPDS2Importer" title="core.opds2_import.OPDS2Importer"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.opds2_import.OPDS2Importer</span></code></a>, <a class="reference internal" href="api.html#api.circulation.BaseCirculationAPI" title="api.circulation.BaseCirculationAPI"><code class="xref py py-class docutils literal notranslate"><span class="pre">api.circulation.BaseCirculationAPI</span></code></a>, <a class="reference internal" href="core.model.html#core.model.configuration.HasExternalIntegration" title="core.model.configuration.HasExternalIntegration"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.model.configuration.HasExternalIntegration</span></code></a></p>
<p>Allows to import ProQuest OPDS 2.0 feeds into Circulation Manager.</p>
<dl class="attribute">
<dt id="api.proquest.importer.ProQuestOPDS2Importer.DESCRIPTION">
<code class="descname">DESCRIPTION</code><em class="property"> = l'Import books from a ProQuest OPDS 2.0 feed.'</em><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2Importer.DESCRIPTION" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.proquest.importer.ProQuestOPDS2Importer.LIBRARY_SETTINGS">
<code class="descname">LIBRARY_SETTINGS</code><em class="property"> = [{'key': 'ebook_loan_duration', 'label': l'Default Loan Period (in Days)', 'default': 21, 'type': 'number', 'description': l'Until it hears otherwise from the distributor, this server will assume that any given loan for this library from this collection will last this number of days. This number is usually a negotiated value between the library and the distributor. This only affects estimates&amp;mdash;it cannot affect the actual length of loans.'}]</em><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2Importer.LIBRARY_SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.proquest.importer.ProQuestOPDS2Importer.NAME">
<code class="descname">NAME</code><em class="property"> = 'ProQuest'</em><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2Importer.NAME" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.proquest.importer.ProQuestOPDS2Importer.SETTINGS">
<code class="descname">SETTINGS</code><em class="property"> = [{'key': 'data_source', 'label': l'Data source name', 'description': l'Name of the data source associated with this collection.', 'type': None, 'required': True, 'default': 'ProQuest', 'options': None, 'category': None}, {'key': 'token_expiration_timeout', 'label': l'ProQuest JWT token's expiration timeout', 'description': l'Determines how long in seconds can a ProQuest JWT token be valid.', 'type': 'number', 'required': False, 'default': 3600, 'options': None, 'category': None}, {'key': 'affiliation_attributes', 'label': l'List of SAML attributes containing an affiliation ID', 'description': l'ProQuest integration assumes that the SAML provider is used for authentication. ProQuest JWT bearer tokens required by the most ProQuest API services are created based on the affiliation ID - SAML attribute uniquely identifying the patron.This setting determines what attributes the ProQuest integration will use to look for affiliation IDs. The ProQuest integration will investigate the specified attributes sequentially and will take the first non-empty value.', 'type': 'menu', 'required': False, 'default': ['eduPersonPrincipalName', 'eduPersonScopedAffiliation'], 'options': [{'key': 'uid', 'label': 'uid'}, {'key': 'givenName', 'label': 'givenName'}, {'key': 'surname', 'label': 'surname'}, {'key': 'mail', 'label': 'mail'}, {'key': 'displayName', 'label': 'displayName'}, {'key': 'eduPerson', 'label': 'eduPerson'}, {'key': 'eduPersonAffiliation', 'label': 'eduPersonAffiliation'}, {'key': 'eduPersonNickname', 'label': 'eduPersonNickname'}, {'key': 'eduPersonOrgDN', 'label': 'eduPersonOrgDN'}, {'key': 'eduPersonOrgUnitDN', 'label': 'eduPersonOrgUnitDN'}, {'key': 'eduPersonPrimaryAffiliation', 'label': 'eduPersonPrimaryAffiliation'}, {'key': 'eduPersonPrincipalName', 'label': 'eduPersonPrincipalName'}, {'key': 'eduPersonEntitlement', 'label': 'eduPersonEntitlement'}, {'key': 'eduPersonPrimaryOrgUnitDN', 'label': 'eduPersonPrimaryOrgUnitDN'}, {'key': 'eduPersonScopedAffiliation', 'label': 'eduPersonScopedAffiliation'}, {'key': 'eduPersonTargetedID', 'label': 'eduPersonTargetedID'}, {'key': 'eduPersonAssurance', 'label': 'eduPersonAssurance'}, {'key': 'eduPersonOrcid', 'label': 'eduPersonOrcid'}, {'key': 'eduPersonUniqueId', 'label': 'eduPersonUniqueId'}, {'key': 'eduPersonPrincipalNamePrior', 'label': 'eduPersonPrincipalNamePrior'}, {'key': 'eduOrg', 'label': 'eduOrg'}, {'key': 'eduOrgHomePageURI', 'label': 'eduOrgHomePageURI'}, {'key': 'eduOrgIdentityAuthNPolicyURI', 'label': 'eduOrgIdentityAuthNPolicyURI'}, {'key': 'eduOrgLegalName', 'label': 'eduOrgLegalName'}, {'key': 'eduOrgSuperiorURI', 'label': 'eduOrgSuperiorURI'}, {'key': 'eduOrgWhitePagesURI', 'label': 'eduOrgWhitePagesURI'}], 'category': None}, {'key': 'test_affiliation_id', 'label': l'Test SAML affiliation ID', 'description': l'Test SAML affiliation ID used for testing ProQuest API. Please contact ProQuest before using it.', 'type': None, 'required': False, 'default': None, 'options': None, 'category': None}, {'key': 'default_audience', 'label': l'Default audience', 'description': l'If ProQuest does not specify the target audience for their books, assume the books have this target audience.', 'type': 'select', 'required': False, 'default': '', 'options': [{'key': '', 'label': l'No default audience'}, {'key': 'Adult', 'label': 'Adult'}, {'key': 'Adults Only', 'label': 'Adults Only'}, {'key': 'All Ages', 'label': 'All Ages'}, {'key': 'Children', 'label': 'Children'}, {'key': 'Research', 'label': 'Research'}, {'key': 'Young Adult', 'label': 'Young Adult'}], 'category': None}, {'key': 'books_catalog_service_url', 'label': l'BooksCatalog service's URL', 'description': l'URL of the BooksCatalog service endpoint', 'type': None, 'required': True, 'default': None, 'options': None, 'category': None}, {'key': 'page_size', 'label': l'Feed page's size', 'description': l'This value determines how many publications will be on a single page fetched from the BooksCatalog service.', 'type': 'number', 'required': False, 'default': 5000, 'options': None, 'category': None}, {'key': 'partner_auth_token_service_url', 'label': l'PartnerAuthToken service's URL', 'description': l'URL of the PartnerAuthToken service endpoint.', 'type': None, 'required': True, 'default': None, 'options': None, 'category': None}, {'key': 'download_link_service_url', 'label': l'DownloadLink service's URL', 'description': l'URL of the DownloadLink service endpoint.', 'type': None, 'required': True, 'default': None, 'options': None, 'category': None}, {'key': 'http_proxy_url', 'label': l'HTTP proxy's URL', 'description': l'URL of the proxy handling HTTP traffic.', 'type': None, 'required': False, 'default': None, 'options': None, 'category': None}, {'key': 'https_proxy_url', 'label': l'HTTPS proxy's URL', 'description': l'URL of the proxy handling HTTPS traffic.', 'type': None, 'required': False, 'default': None, 'options': None, 'category': None}]</em><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2Importer.SETTINGS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.proquest.importer.ProQuestOPDS2Importer.checkout">
<code class="descname">checkout</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>internal_format</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/importer.html#ProQuestOPDS2Importer.checkout"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2Importer.checkout" title="Permalink to this definition">¶</a></dt>
<dd><p>Checkout the book.</p>
<p>NOTE: This method requires the patron to have either:
- an active ProQuest JWT bearer token
- or a SAML affiliation ID which will be used to create a new ProQuest JWT bearer token.</p>
</dd></dl>

<dl class="method">
<dt id="api.proquest.importer.ProQuestOPDS2Importer.external_integration">
<code class="descname">external_integration</code><span class="sig-paren">(</span><em>db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/importer.html#ProQuestOPDS2Importer.external_integration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2Importer.external_integration" title="Permalink to this definition">¶</a></dt>
<dd><p>Return an external integration associated with this object.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>db</strong> (<em>sqlalchemy.orm.session.Session</em>) – Database session</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">External integration associated with this object</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><a class="reference internal" href="core.model.html#core.model.configuration.ExternalIntegration" title="core.model.configuration.ExternalIntegration">core.model.configuration.ExternalIntegration</a></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.proquest.importer.ProQuestOPDS2Importer.extract_next_links">
<code class="descname">extract_next_links</code><span class="sig-paren">(</span><em>feed</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/importer.html#ProQuestOPDS2Importer.extract_next_links"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2Importer.extract_next_links" title="Permalink to this definition">¶</a></dt>
<dd><p>Extract “next” links from the feed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>feed</strong> (<em>Union</em><em>[</em><em>str</em><em>, </em><em>opds2_ast.OPDS2Feed</em><em>]</em>) – OPDS 2.0 feed</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">List of “next” links</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">List[str]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.proquest.importer.ProQuestOPDS2Importer.fulfill">
<code class="descname">fulfill</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>internal_format=None</em>, <em>part=None</em>, <em>fulfill_part_url=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/importer.html#ProQuestOPDS2Importer.fulfill"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2Importer.fulfill" title="Permalink to this definition">¶</a></dt>
<dd><p>Fulfill the loan.</p>
<p>NOTE: This method requires the patron to have either:
- an active ProQuest JWT bearer token
- or a SAML affiliation ID which will be used to create a new ProQuest JWT bearer token.</p>
</dd></dl>

<dl class="method">
<dt id="api.proquest.importer.ProQuestOPDS2Importer.internal_format">
<code class="descname">internal_format</code><span class="sig-paren">(</span><em>delivery_mechanism</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/importer.html#ProQuestOPDS2Importer.internal_format"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2Importer.internal_format" title="Permalink to this definition">¶</a></dt>
<dd><p>Look up the internal format for this delivery mechanism or raise an exception.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>delivery_mechanism</strong> (<a class="reference internal" href="core.model.html#core.model.licensing.LicensePoolDeliveryMechanism" title="core.model.licensing.LicensePoolDeliveryMechanism"><em>LicensePoolDeliveryMechanism</em></a>) – A LicensePoolDeliveryMechanism</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.proquest.importer.ProQuestOPDS2Importer.patron_activity">
<code class="descname">patron_activity</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/importer.html#ProQuestOPDS2Importer.patron_activity"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2Importer.patron_activity" title="Permalink to this definition">¶</a></dt>
<dd><p>Return patron’s loans.</p>
<p>TODO This and code from ODLAPI should be refactored into a generic set of rules
for any situation where the CM, not the remote API, is responsible for managing loans and holds.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>patron</strong> (<a class="reference internal" href="core.model.html#core.model.patron.Patron" title="core.model.patron.Patron"><em>Patron</em></a>) – A Patron object for the patron who wants to check out the book</li>
<li><strong>pin</strong> (<em>string</em>) – The patron’s alleged password</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">List of patron’s loans</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">List[<a class="reference internal" href="api.html#api.circulation.LoanInfo" title="api.circulation.LoanInfo">LoanInfo</a>]</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.proquest.importer.ProQuestOPDS2Importer.place_hold">
<code class="descname">place_hold</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em>, <em>notification_email_address</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/importer.html#ProQuestOPDS2Importer.place_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2Importer.place_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Place a book on hold.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">A HoldInfo object</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="api.proquest.importer.ProQuestOPDS2Importer.release_hold">
<code class="descname">release_hold</code><span class="sig-paren">(</span><em>patron</em>, <em>pin</em>, <em>licensepool</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/importer.html#ProQuestOPDS2Importer.release_hold"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2Importer.release_hold" title="Permalink to this definition">¶</a></dt>
<dd><p>Release a patron’s hold on a book.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Raises:</th><td class="field-body"><a class="reference internal" href="api.html#api.circulation_exceptions.CannotReleaseHold" title="api.circulation_exceptions.CannotReleaseHold"><strong>CannotReleaseHold</strong></a> – If there is an error communicating
with the provider, or the provider refuses to release the hold for
any reason.</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="api.proquest.importer.ProQuestOPDS2ImporterConfiguration">
<em class="property">class </em><code class="descclassname">api.proquest.importer.</code><code class="descname">ProQuestOPDS2ImporterConfiguration</code><span class="sig-paren">(</span><em>configuration_storage</em>, <em>db</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/importer.html#ProQuestOPDS2ImporterConfiguration"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2ImporterConfiguration" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.model.html#core.model.configuration.ConfigurationGrouping" title="core.model.configuration.ConfigurationGrouping"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.model.configuration.ConfigurationGrouping</span></code></a></p>
<p>Contains configuration settings of ProQuestOPDS2Importer.</p>
<dl class="attribute">
<dt id="api.proquest.importer.ProQuestOPDS2ImporterConfiguration.DEFAULT_AFFILIATION_ATTRIBUTES">
<code class="descname">DEFAULT_AFFILIATION_ATTRIBUTES</code><em class="property"> = ('eduPersonPrincipalName', 'eduPersonScopedAffiliation')</em><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2ImporterConfiguration.DEFAULT_AFFILIATION_ATTRIBUTES" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.proquest.importer.ProQuestOPDS2ImporterConfiguration.DEFAULT_TOKEN_EXPIRATION_TIMEOUT_SECONDS">
<code class="descname">DEFAULT_TOKEN_EXPIRATION_TIMEOUT_SECONDS</code><em class="property"> = 3600</em><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2ImporterConfiguration.DEFAULT_TOKEN_EXPIRATION_TIMEOUT_SECONDS" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.proquest.importer.ProQuestOPDS2ImporterConfiguration.TEST_AFFILIATION_ID">
<code class="descname">TEST_AFFILIATION_ID</code><em class="property"> = 1</em><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2ImporterConfiguration.TEST_AFFILIATION_ID" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="attribute">
<dt id="api.proquest.importer.ProQuestOPDS2ImporterConfiguration.affiliation_attributes">
<code class="descname">affiliation_attributes</code><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2ImporterConfiguration.affiliation_attributes" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains configuration metadata</p>
</dd></dl>

<dl class="attribute">
<dt id="api.proquest.importer.ProQuestOPDS2ImporterConfiguration.data_source_name">
<code class="descname">data_source_name</code><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2ImporterConfiguration.data_source_name" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains configuration metadata</p>
</dd></dl>

<dl class="attribute">
<dt id="api.proquest.importer.ProQuestOPDS2ImporterConfiguration.default_audience">
<code class="descname">default_audience</code><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2ImporterConfiguration.default_audience" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains configuration metadata</p>
</dd></dl>

<dl class="attribute">
<dt id="api.proquest.importer.ProQuestOPDS2ImporterConfiguration.test_affiliation_id">
<code class="descname">test_affiliation_id</code><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2ImporterConfiguration.test_affiliation_id" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains configuration metadata</p>
</dd></dl>

<dl class="attribute">
<dt id="api.proquest.importer.ProQuestOPDS2ImporterConfiguration.token_expiration_timeout">
<code class="descname">token_expiration_timeout</code><a class="headerlink" href="#api.proquest.importer.ProQuestOPDS2ImporterConfiguration.token_expiration_timeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Contains configuration metadata</p>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="api.proquest.importer.parse_identifier">
<code class="descclassname">api.proquest.importer.</code><code class="descname">parse_identifier</code><span class="sig-paren">(</span><em>db</em>, <em>identifier</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/importer.html#parse_identifier"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.importer.parse_identifier" title="Permalink to this definition">¶</a></dt>
<dd><p>Parse the identifier and return an Identifier object representing it.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>db</strong> (<em>sqlalchemy.orm.session.Session</em>) – Database session</li>
<li><strong>identifier</strong> (<em>str</em>) – String containing the identifier</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">Identifier object</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="core.model.html#core.model.identifier.Identifier" title="core.model.identifier.Identifier">core.model.identifier.Identifier</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-api.proquest.scripts">
<span id="api-proquest-scripts-module"></span><h2>api.proquest.scripts module<a class="headerlink" href="#module-api.proquest.scripts" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="api.proquest.scripts.ProQuestOPDS2ImportScript">
<em class="property">class </em><code class="descclassname">api.proquest.scripts.</code><code class="descname">ProQuestOPDS2ImportScript</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/scripts.html#ProQuestOPDS2ImportScript"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.scripts.ProQuestOPDS2ImportScript" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="core.html#core.scripts.OPDSImportScript" title="core.scripts.OPDSImportScript"><code class="xref py py-class docutils literal notranslate"><span class="pre">core.scripts.OPDSImportScript</span></code></a></p>
<p>Runs a ProQuestOPDS2ImportMonitor.</p>
<dl class="classmethod">
<dt id="api.proquest.scripts.ProQuestOPDS2ImportScript.arg_parser">
<em class="property">classmethod </em><code class="descname">arg_parser</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/scripts.html#ProQuestOPDS2ImportScript.arg_parser"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.scripts.ProQuestOPDS2ImportScript.arg_parser" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="api.proquest.scripts.ProQuestOPDS2ImportScript.run_monitor">
<code class="descname">run_monitor</code><span class="sig-paren">(</span><em>collection</em>, <em>force=None</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/api/proquest/scripts.html#ProQuestOPDS2ImportScript.run_monitor"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#api.proquest.scripts.ProQuestOPDS2ImportScript.run_monitor" title="Permalink to this definition">¶</a></dt>
<dd><p>Run the monitor for the specified collection.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>collection</strong> (<a class="reference internal" href="core.model.html#core.model.collection.Collection" title="core.model.collection.Collection"><em>core.model.collection.Collection</em></a>) – Collection object</li>
<li><strong>force</strong> (<em>bool</em>) – Boolean value indicating whether the import process should be run from scratch</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-api.proquest">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-api.proquest" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="index.html">Library Simplified Circulation Manager</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">circulation</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="api.html">api package</a></li>
<li class="toctree-l2"><a class="reference internal" href="app.html">app module</a></li>
<li class="toctree-l2"><a class="reference internal" href="core.html">core package</a></li>
<li class="toctree-l2"><a class="reference internal" href="scripts.html">scripts module</a></li>
</ul>
</li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
  <li><a href="modules.html">circulation</a><ul>
  <li><a href="api.html">api package</a><ul>
      <li>Previous: <a href="api.lcp.html" title="previous chapter">api.lcp package</a></li>
      <li>Next: <a href="api.saml.html" title="next chapter">api.saml package</a></li>
  </ul></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2022, The New York Public Library, Astor, Lenox, and Tilden Foundations.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.5</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="_sources/api.proquest.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>